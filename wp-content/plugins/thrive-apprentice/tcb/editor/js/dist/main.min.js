/*! Thrive Architect - 2020-02-11
* http://www.thrivethemes.com/
* Copyright (c) 2020 Thrive Themes */

"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=t[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,a=t}finally{try{n||null==r.return||r.return()}finally{if(s)throw a}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(i,!0).forEach(function(t){_defineProperty(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(l){var u,p,s,_,f,a={".js":[],".json":[],".css":[],".html":[]},c="function"==typeof require?require:null;return _=function(t){var e=new Error("Could not find module '"+t+"'");return e.code="MODULE_NOT_FOUND",e},f=function(t,e,i){var n,s;if("function"==typeof t[e+i])return e+i;for(n=0;s=a[i][n];++n)if("function"==typeof t[e+s])return e+s;return null},u=function(t,e,i,n,s,a){var o,r,l,c,d,h;for("."!==(o=(i=i.split("/")).pop())&&".."!==o||(i.push(o),o="");null!=(r=i.shift());)if(r&&"."!==r&&(".."===r?(t=e.pop(),a=a.slice(0,a.lastIndexOf("/"))):(e.push(t),t=t[r],a+="/"+r),!t))throw _(n);if(o&&"function"!=typeof t[o]&&((h=(h=(h=(h=f(t,o,".js"))||f(t,o,".json"))||f(t,o,".css"))||f(t,o,".html"))?o=h:2!==s&&"object"===_typeof(t[o])&&(e.push(t),t=t[o],a+="/"+o,o="")),!o)return 1!==s&&t[":mainpath:"]?u(t,e,t[":mainpath:"],n,1,a):u(t,e,"index",n,2,a);if(!(d=t[o]))throw _(n);return d.hasOwnProperty("module")?d.module.exports:(l={},d.module=c={exports:l,id:a+"/"+o},d.call(l,l,c,p(t,e,a)),c.exports)},s=function(t,e,i,n){var s,a=i,o=i.charAt(0),r=0;if("/"===o){if(a=a.slice(1),!(t=l["/"])){if(c)return c(i);throw _(i)}n="/",e=[]}else if("."!==o){if(s=a.split("/",1)[0],!(t=l[s])){if(c)return c(i);throw _(i)}n=s,e=[],(a=a.slice(s.length+1))||(r=(a=t[":mainpath:"])?1:(a="index",2))}return u(t,e,a,i,r,n)},(p=function(e,i,n){return function(t){return s(e,[].concat(i),t,n)}})(l,[],"")}({workspace:{admin:{assets:{js:{src:{models:{"symbol-category.js":function(t,e,i){e.exports=Backbone.Model.extend({idAttribute:"term_id",sync:function(t,e,i){var n,s=this.get("rest_nonce")?this.get("rest_nonce"):TVE_Admin.nonce;return(i=i||{}).cache=!1,!e.has("term_id")||"delete"!==t&&"update"!==t||(i.url=this.url()+"/"+e.get("term_id")),_.isUndefined(s)||_.isNull(s)||(n=i.beforeSend,i.beforeSend=function(t){if(t.setRequestHeader("X-WP-Nonce",s),n)return n.apply(this,arguments)}),Backbone.sync(t,e,i)},url:function(){var t=this.get("rest_symbol_terms");return t||TVE_Admin.rest_routes.symbols_terms},parse:function(t){return 0===t.parent&&delete t.parent,t}})}}}}}},editor:{js:{editor:{src:{util:{"content.js":function(t,e,i){var T,_=i("../../../main/libs/functions"),y=i("../../../main/libs/shortcode-manager");T=jQuery,e.exports={TCB_CLS_PAT:["thrv_","tve-","tve_","tcb_","tcb-","thrv-","img_style_","mce-","fr-","ttfm"],cleanup_froala:function(t){t.find(".tve-froala").each(function(){var t=T(this);if(!t.find(".tve-froala").length){var e=t.find(".fr-element").last();if(e.length||(e=t.next(".fr-wrapper").find(".fr-element")),e.length&&(t.html(e.html()).removeClass(function(t,e){return(e.match(/(^|\s)(fr-|tve-froal)\S+/g)||[]).join(" ")}),t.is("p")&&(e.remove(),t.siblings(".fr-wrapper:empty, p:empty").remove())),t.is("p.wp-caption-text")){var i=t.children("div");i.length||(i=t.next("div")),i.length&&(i.attr("style")&&t.attr("style",i.attr("style")),t.html(i.html()),i.remove())}}}),t.find(".fr-wrapper").each(function(){var t=T(this),e=t.children(".fr-element");T(this).replaceWith(e.length?e.html():t.html())})},get_stripped_content:function(t){return t?(t.find(".thrv_countdown_timer, .thrv-credit, .thrv-google-map-embedded-code, .thrv_disqus_comments, .tcb-post-list,.thrv_widget_menu, .thrv-fill-counter, .thrv_tw_qs, .thrv_social, .thrv_post_grid, .thrv-progress-bar, .thrv-rating, .thrv_contents_table, .thrv_responsive_video, .thrive_leads_shortcode, .thrive-quiz-builder-shortcode, .thrv_responsive_video, .thrv-button, .tve_more_tag, .thrv_lead_generation").remove(),t.html()):""},get_clean_content:function(t,e){void 0===t&&(t={}),e=e||TVE.Editor_Page.editor;var i=T("#pre-save-filter");i.length||(i=T('<div style="display:none" id="pre-save-filter"></div>').appendTo("body")),i.empty();var n=e.children(".tve_content_save").length?e.children(".tve_content_save"):e,s=0<n.length?n.html().replace(/<script type="text\/javascript">/g,'<script type="tcb/temp">'):"";i.html(s),TVE.do_action("tcb.clean_content.before",i,e),t.keep_wp_shortcodes||i.find(".tve_shortcode_rendered").remove(),i.find(".tcb-remove-on-save, .ui-resizable-handle, .ui-resize-left, .ui-resize-right, .thrive-symbol-shortcode, .thrive-shortcode-html:not(.tve-custom-menu-type), grammarly-btn,.tve_custom_html_placeholder,.tve_dropzone,.rangySelectionBoundary, .tve_shortcode_overlay,.tve_shortcode_rendered script, .tcb-remove-on-save, .tve_post_grid_wrapper,.tve_widget_container,.gr-textarea-btn_status,.gr-textarea-btn, .tve-remove-auxiliary-content, .thrv_symbol.tcb-elem-placeholder").remove().end().find(".canvas-mode, .thrv_symbol, .edit_mode, .tve_merge_cells, .tve_merge_selected, .tve_active_hyperlink, .active_highlight, .active_delete, .active_duplicate, .tcb_bring_front").removeClass("edit_mode tve_merge_cells tve_merge_selected, tve_active_hyperlink active_highlight active_delete active_duplicate canvas-mode tve-element-overlay tcb_bring_front symbol-edit-mode").end().find(".tve_toggle_open").removeClass("tve_toggle_open").end().find(".tve_toggle_open_text").removeClass("tve_toggle_open_text").end().find(".thrv_toggle_shortcode .tve_faqC").hide().end().find(".thrv_toggle_title").removeClass("tve-state-expanded").end().find(".thrv_toggle .tve_faqC").removeAttr("style").end().find(".thrv_toggle .tcb-add-item-below").remove().end().find(".thrv_heading").removeClass("thrv_heading").addClass("thrv_text_element").end().find(".tve_oFaq").removeClass("tve_oFaq").end().find(".ui-resizable,.init_done,.ui-sortable,.ui-sortable-handle,.tve-draggable,.tve-droppable").removeClass("ui-resizable init_done ui-sortable ui-sortable-handle tve-draggable tve_grabbed tve-droppable").end().find("[contenteditable]").removeAttr("contenteditable").end().find("[draggable]").removeAttr("draggable").end().find("[data-gramm]").removeAttr("data-gramm data-gramm_id data-gramm_editor").filter(":empty").remove().end().end().find(".tve-state-hover,.tve-state-active").removeClass("tve-state-hover tve-state-active").end().find(".tve-m-expanded").removeClass("tve-m-expanded").end().find(".on_hover").removeClass("on_hover").end().find(".tve-triggered-icon").removeClass("tve-triggered-icon").end().find(".thrv_widget_menu").removeClass("tve-custom-menu-switch-icon-tablet tve-custom-menu-switch-icon-mobile").end().find(".expand-children").removeClass("expand-children").end().find('[data-css=""]').removeAttr("data-css").end().find(".tcb-mp").css("z-index","").removeClass("tcb-mp").end().find("[srcset]").removeAttr("srcset").removeAttr("sizes").end().find("p").each(function(){void 0!==this.className&&0===this.className.toString().length&&this.removeAttribute("class")}),this.cleanup_froala(i),i.find(".tve_more_tag").replaceWith('\x3c!--tvemorestart--\x3e<p class="tve_more_tag" id="more-'+TVE.CONST.post.ID+'"><span class="tve_no_edit">More...</span></p>\x3c!--tvemoreend--\x3e'),i.find("iframe.tcb-yt-bg").each(function(){T(this).replaceWith(T('<div id="'+this.id+'" class="tcb-yt-bg" data-url="'+this.getAttribute("data-url")+'" data-yt-id="'+this.getAttribute("data-yt-id")+'"></div>'))}),this.cleanupExtensionsJunk(i),i.find(".tcb-replaceable-placeholder").each(function(){var t=T(this);t.parent().hasClass("tcb-parent-placeholder-empty")||t.remove()}),i.find("video > source").each(function(t,e){e.getAttribute("type")&&-1!==e.getAttribute("type").indexOf("quicktime")&&e.removeAttribute("type")}),i.find(".thrive-shortcode-config").each(function(t,e){if(!e.parentElement.classList.contains("thrv_thrive_optin")){var i=e.innerHTML.match(new RegExp("__CONFIG_(.*?)__"));if(i&&1<i.length)try{y(TVE.inner_$(e),i[1]).remove("tve_shortcode_rendered")}catch(t){}}}),(i=TVE.apply_filters("tcb_filter_html_before_save",i,e,t)).find("a[data-tcb-href]").each(function(){this.setAttribute("href",this.getAttribute("data-tcb-href"))}),this.stripped_content=this.get_stripped_content(i.clone());var a=i.html().replace(/<script type="tcb\/temp">/g,'<script type="text/javascript">');return i.empty(),a},get_stylesheet_rules:function(){var n,t=TVE.stylesheet.cssRules?TVE.stylesheet.cssRules:TVE.stylesheet.rules,e="",s=[],i="",a=[],o=/ (p|h1|h2|h3)$/,r=TVE.apply_filters("tcb.css.save.blacklist",[]);function l(t,e){e=e||"";var i="";if(-1!==s.indexOf(e+t.selectorText))return"";if((n=_.getRealSelector(t)).includes(".tve-state-hover"))return"";if(function(t,e){for(var i,n=0;i=r[n++];)if(-1!==t.indexOf(i))return!1;return!!TVE.apply_filters("tcb.css.save.whitelist_rule",!1,t,e)||-1===t.indexOf("data-css")&&-1===t.indexOf("data-tve-custom-colour")||!(!t.match(o)||-1===e.indexOf("margin"))&&jQuery(t.replace(o,"")).length}(n,t.cssText)||jQuery(n).length){if(!jQuery.trim(t.cssText.replace(t.selectorText,"").replace(/\{(\s*)\}/g,"")))return"";i+=t.cssText,s.push(e+t.selectorText)}return i}for(var c=(t=TVE.apply_filters("tcb_css_rules_before",t)).length-1;0<=c;c--){var d=t[c];if(d.type!==CSSRule.IMPORT_RULE)if(d.type!==CSSRule.MEDIA_RULE)e=l(d)+e;else{i="";for(var h,u=0;h=d.cssRules[u++];)i+=l(h,d.media.item(0));i&&(e="@media "+d.media.item(0)+"{"+i+"}"+e)}else{var p=TVE.FontManager.read_font_name(d.cssText);TVE.FontManager.is_font_used(p,e)&&void 0===a[p]&&(a[p]=1,e=d.cssText+e)}}return e},get_global_rules:function(t){var e=TVE.globalsheet.cssRules?TVE.globalsheet.cssRules:TVE.globalsheet.rules,i={},n=[],s=[],a=TVE.CSS_Rule_Cache.getImports();function o(t,e){e=e||"";var i="";return _.getRealSelector(t),-1!==s.indexOf(e+t.selectorText)?"":jQuery.trim(t.cssText.replace(t.selectorText,"").replace(/\{(\s*)\}/g,""))?(i+=t.cssText,s.push(e+t.selectorText),i):""}for(var r=0;r<e.length;r++){var l=e[r];if(l.type===CSSRule.MEDIA_RULE)for(var c,d=0;c=l.cssRules[d++];){var h=o(c,l.media.item(0));if(!(0<t.length&&-1<h.indexOf("tve-state-hover"))){if(-1<h.indexOf(TVE.CONST.global_cls_prefix)){if(!h.match(t))continue;i[l.media.item(0)]||(i[l.media.item(0)]=[]),i[l.media.item(0)].push(h)}if(c.style.getPropertyValue("font-family").length){var u=c.style.getPropertyValue("font-family").replace(/['"]+/g,"").trim();if(!1===TVE.FontManager.is_web_safe_font(u))for(var p=0;p<a.length;p++)-1<a[p].indexOf(u.replace(/ /g,"+"))&&-1===n.indexOf(a[p])&&n.push(a[p])}}}}return TVE.apply_filters("tcb.get_global_rules",{css:i,fonts:n})},refresh_global_style_node:function(){var n="",t=this.get_global_rules("");T.each(t.fonts,function(t,e){n+=e}),T.each(t.css,function(t,e){n+="@media "+t+"{";for(var i=0;i<e.length;i++)n+=e[i].replace(TVE.escapedRegEx(TVE.CONST.global_css_prefix,"g"),"");n+="}"}),TVE.inner_$(".tve_global_style").html(n)},parse_element_classes:function(t){var e=new RegExp(this.TCB_CLS_PAT.join("([^ ]*)|")+"([^ ]*)|"+TVE.thrv_custom_classes.join("|"),"g");return t?T.trim(t.replace(e,"").replace("/S+/g"," ")):""},is_wp_content_tinymce_available:function(){return"undefined"!=typeof tinymce&&tinymce&&tinymce.activeEditor&&"tve_tinymce_shortcode"===tinymce.activeEditor.id&&!tinymce.activeEditor.isHidden()},get_shotcode_tinymce_content:function(){if(this.is_wp_content_tinymce_available())return tinymce.activeEditor.getContent();var t=jQuery("#tve_tinymce_shortcode").val();return wp&&wp.editor&&wp.editor.autop&&(t=wp.editor.autop(t)),t},set_shotcode_tinymce_content:function(t){this.is_wp_content_tinymce_available()?tinymce.activeEditor.setContent(t):jQuery("#tve_tinymce_shortcode").val(t)},convert_script_tags:function(t){t=t.replace("<\\/script","<\\\\/script");var e=jQuery('<div class="tve_escaped_js">'+t+"</div>");return 0===e.find("script").length&&0===e.find("noscript")||(e.find("script").each(function(){var t=jQuery(this),e="[tcb-script",i=jQuery('<code class="tve_js_placeholder"></code>');jQuery.each(this.attributes,function(){e+=" "+this.name+'="'+this.value+'"'}),e+="]"+t.text()+"[/tcb-script]",i.text(e),t.replaceWith(i)}),e.find("noscript").each(function(){var t=jQuery(this),e="[tcb-noscript",i=jQuery('<code class="tve_js_placeholder tve_noscript"></code>');jQuery.each(this.attributes,function(){e+=" "+this.name+'="'+this.value+'"'}),e+="]"+t.text()+"[/tcb-noscript]",i.html(e),t.replaceWith(i)})),e.html()},revert_script_tags:function(t){if(!jQuery.trim(t))return"";var e=jQuery('<div class="tve_escaped_js">'+t+"</div>");return e.find(".tve_custom_html_placeholder,.tve_click").remove(),e.find(".tve_shortcode_overlay").remove(),0===e.find("code.tve_js_placeholder").length||e.find("code.tve_js_placeholder").each(function(){var t,e=jQuery(this),i=new RegExp("^\\[tcb-script([^\\]]*?)\\]([\\s\\S]*?)\\[/tcb-script\\]$","g");t=e.find("script").length?e.html():e[e.hasClass("tve_noscript")?"html":"text"]().replace(i,"<script$1>$2<\/script>");var n=new RegExp("^\\[tcb-noscript([^\\]]*?)\\]([\\s\\S]*?)\\[/tcb-noscript\\]$","g");t=t.replace(n,"<noscript$1>$2</noscript>"),e.hasClass("tve_noscript")&&(t=jQuery("<textarea>").html(t).text());var s=jQuery(t);s.removeAttr("class className"),e.replaceWith(s)}),jQuery.trim(e.html())},prepare_save_data:function(t,e){var i=this.get_clean_content({},this.editor),n=this.get_stylesheet_rules(),s={tve_content:i,tve_stripped_content:this.stripped_content,post_id:TVE.CONST.post_id,update:t,inline_rules:n,tve_custom_css:TVE.Editor_Page.get_custom_css(),tve_landing_page:TVE.CONST.landing_page?TVE.CONST.landing_page:"",custom_font_classes:[],tve_globals:{},tve_global_scripts:TVE.CONST.tve_global_scripts?TVE.CONST.tve_global_scripts:{},has_icons:0,page_events:TVE.CONST.page_events};s=TVE.apply_filters("tcb_save_post_data_before",s),TVE.CONST.custom_post_data&&T.each(TVE.CONST.custom_post_data,function(t,e){s[t]=e}),TVE.CONST.tve_globals.js_sdk=[],TVE.Editor_Page.editor.find(".thrv_social").each(function(){TVE.CONST.tve_globals.js_sdk=TVE.CONST.tve_globals.js_sdk.concat(T(this).tve_social().getRequiredSDKs())}),TVE.CONST.social_fb_app_id&&(s.social_fb_app_id=TVE.CONST.social_fb_app_id),0<TVE.Editor_Page.editor.find(".tve-fb-comments").length&&-1===TVE.CONST.tve_globals.js_sdk.indexOf("fb")&&TVE.CONST.tve_globals.js_sdk.push("fb"),T.each(TVE.CONST.tve_globals,function(t,e){t&&(s.tve_globals[t]=e)}),custom_font_classes&&T.each(custom_font_classes.split(" "),function(t,e){(TVE.Editor_Page.editor.find("."+e).length||TVE.landing_fonts&&TVE.landing_fonts.fontUsed(e))&&s.custom_font_classes.push(e)}),s.tve_globals.extra_fonts&&T.each(s.tve_globals.extra_fonts,function(t,e){TVE.Editor_Page.editor.find("."+e.font_class).length||TVE.landing_fonts&&TVE.landing_fonts.fontUsed(e.font_class)?e.ignore=0:e.ignore=1}),void 0!==e&&T.each(e,function(t,e){s[t]=e});var a=jQuery(".tve_sc_icon:not(.tve_sc_text)"),o=jQuery();if(s.tve_globals.used_icon_packs=[],a.length){var r=[];if(TVE.CONST.tve_globals.extra_icons)for(var l,c=0;l=TVE.CONST.tve_globals.extra_icons[c++];)if(l.icons&&l.icons.length){var d=a.filter("."+l.icons.join(",."));d.length&&s.tve_globals.used_icon_packs.push(l["font-family"]),o=o.add(d),d.each(function(){r.push(this.dataset.tveIcon)}),TVE.CONST.tve_globals.extra_icons[c-1].icons=r}s.has_icons=a.length!=o.length?1:0}var h=T(".tve-fb-comments:visible");if(0<h.length){var u=h.attr("data-fb-moderator-ids");void 0!==u&&""!=u&&(s.tve_globals.fb_comment_admins=JSON.stringify(u.split(";")))}return T(".tve_post_grid_masonry,.tcb-masonry").length&&(s.tve_has_masonry=1),T(".tve_typefocus").length&&(s.tve_has_typefocus=1),(T(".tve_wistia_popover:visible").length||T(".tve_ea_thrive_wistia").length)&&(s.tve_has_wistia_popover=1),s=TVE.apply_filters("tcb_save_post_data_after",s)},process_saved_template:function(t,e,i,n,c,s){var a=5<arguments.length&&void 0!==s?s:"";if(e.find(".edit_mode").removeClass("edit_mode"),e.find(".tve_sc_icon").length&&!jQuery("#thrive_icon_pack").length&&TVE.CONST.icon_pack_css&&jQuery('<link id="thrive_icon_pack" rel="stylesheet" type="text/css" href="'+TVE.CONST.icon_pack_css+'">').appendTo("head"),!jQuery.trim(t)&&!i)return e;var o,r,l=e.wrapAll("<div></div>").parent();if(t=jQuery.trim(t))for(var d=t.match(/[^{}]+(?=\})/g),h=t.match(/\[(.*?)\]([^\{]*)/g),u={},p=h?h.length:0,_=0;_<p;_++){var f=h[_].match(/\[data-tve-custom-colour=([^0-9]{1,1})(\d+)('|")\]/);if(f&&!(f.length<3)){var m=void 0!==u["code"+f[2]]?u["code"+f[2]]:(o=l.find('[data-tve-custom-colour="'+f[2]+'"]'),r=Math.floor(1e8*Math.random()+1),o.attr("data-tve-custom-colour",r),r),g=h[_].replace(f[2],m);TVE.compat.insert_css_rule(g,d[_],TVE.stylesheet.cssRules.length),u["code"+f[2]]=m}}if(n&&jQuery.each(n,function(t,e){TVE.stylesheet.insertRule(e)}),i){var v=function(t,e,i,n){if(t===TVE.main.responsive.desktop.media&&-1!==e.indexOf(":hover")){var s=e.split(",").map(function(t){var e=t.replace(/^([^:]+):hover/g,"$1.tve-state-hover");return e===t&&(e=t.replace(/(\s+)([^:]+):hover/g,"$1.tve-state-hover$2")),e===t&&(e=t.replace(/:hover/g,".tve-state-hover")),e}).join(",");i.insertRule(s+n+"}",i.cssRules.length)}},b={};jQuery.each(i,function(s,t){var a=(t=t.replace(/data-css='(.+?)'/g,'data-css="$1"')).match(/[^{}]+(?=\})/g),e=t.match(/([^\r\n{}]+)(,(?=[^}]*{)|\s*){/g);if(!a||!e||a.length!==e.length)return!0;var o,r=TVE.CSS_Rule_Cache.media_rule(s);e=e.map(jQuery.trim),a=a.map(jQuery.trim);for(var l,i=function(i,n){if(!a[n])return l=i,"break";i.includes("data-css=")||(i=TVE.apply_filters("tcb.content_selector_prefix",i),r.style_by_selector(i.replace("{","").trim(),!1)||(r.insertRule(i+a[n]+"}",r.cssRules.length),v(s,i,r,a[n])));var t=i.match(/tve-u-(.[^ "]*)/g);T.each(t,function(t,e){b[o=e]=b[o]||TVE.CSS_Rule_Cache.generate_id(),i=i.replace(new RegExp("("+o+")","g"),b[o]),i=jQuery.trim(i),i=TVE.apply_filters("tcb.content_selector_prefix",i),c&&TVE.hasHeadCss(i.replace("{","").trim(),!0,s)?l=i:(r.insertRule(i+a[n]+"}",r.cssRules.length),v(s,i,r,a[n]))}),l=i},n=0;(l=e[n])&&"break"!==i(l,n);n++);}),T.each(b,function(t,e){l.find('[data-css="'+t+'"]').attr("data-css",e),a=a.replace(new RegExp("("+t+")","g"),e)})}if(0<a.length){var E=a.split("}");T.each(E,function(t,e){0<e.length&&TVE.stylesheet.insertRule(e+"}",TVE.stylesheet.cssRules.length)})}return l.find(".thrv_widget_menu").each(function(){var t=T(this),e=y(t.find(".thrive-shortcode-config"),"widget_menu"),i=e.get();void 0!==u&&T.each(["ul_attr","top_link_attr","link_attr","trigger_attr"],function(t,e){i[e]&&u["code"+i[e]]&&(i[e]=u["code"+i[e]])}),"undefined"!=typeof id_map&&i.head_css&&id_map[i.head_css]&&(i.head_css=id_map[i.head_css]),e.save(i)}),TVE.compat.texts(l),l.html()},insert_head_css:function(t,u){var p=T('<style type="text/css"></style>').text(t).appendTo("head"),_=TVE.ActiveElement?TVE.ActiveElement.closest(".thrv_symbol"):T(),f=T.Deferred();return p[0].onload=function(){for(var t=TVE.apply_filters("css_rules_before_insert",p[0].sheet.cssRules,_),e=0;e<t.length;e++)switch(t[e].type){case CSSRule.IMPORT_RULE:TVE.stylesheet.insertRule(t[e].cssText,0);break;case CSSRule.MEDIA_RULE:for(var i=TVE.compat.conditionText(t[e]),n=TVE.CSS_Rule_Cache.media_rule(i),s=null,a=i===TVE.main.responsive.desktop.media,o=0;o<t[e].cssRules.length;o++){var r=t[e].cssRules[o],l=null;null!==(s=n.rule_index_by_selector(r.selectorText))&&n.deleteRule(s);for(var c,d=r.style.cssText,h=o+1;c=t[e].cssRules[h++];)c.selectorText===r.selectorText&&(d+=c.style.cssText,t[e].deleteRule(--h));n.insertRule("".concat(r.selectorText," { ").concat(d," }"),n.cssRules.length),a&&null!==(l=TVE.CSS_Rule_Cache.generate_hover_state_css(r))&&n.insertRule(l,n.cssRules.length)}break;case CSSRule.STYLE_RULE:default:TVE.stylesheet.insertRule(t[e].cssText,TVE.stylesheet.cssRules.length)}"function"==typeof u&&u(p[0]),f.resolve(p[0]),p.remove()},f.promise()},prepare_content_for_editor:function(t){(t=t||TVE.inner_$("body")).find(".thrv_custom_html_shortcode").each(function(){var t=TVE.inner_$(this);t.height()<=10&&0===t.find("img").length?t.append('<div class="tve_shortcode_overlay"><span>No preview available.</span></div>'):t.find("iframe").length&&!t.find(".tve_iframe_cover").length&&t.append('<div class="tve_iframe_cover"></div>')})},cleanupExtensionsJunk:function(t){t.find('input[type="password"],input[type="email"],input[type="text"]').css({"background-image":"","background-repeat":"","background-attachment":"","background-size":"","background-position":""}).removeAttr("data-kwimpalastatus data-kwimpalaid").siblings("span").remove()}}},"font-manager.js":function(t,e,i){e.exports={_api:"https://www.googleapis.com/webfonts/v1/webfonts",_key:"AIzaSyDJhU1bXm2YTz_c4VpWZrAyspOS37Nn-kI",recommended:["Quicksand","Rubik","Montserrat","Roboto","Fauna One","Playfair Display","Abril Fatface","Dancing Script","Amatic SC","Source Sans Pro","Fjalla One","Unica One","Open Sans","Gentium Book Basic","Nixie One","Libre Baskerville","Nunito","Neuton","Roboto Slab","Lato"],import_font:function(n){var s=0,t=TVE.CSS_Rule_Cache.getImports();return"string"==typeof n&&(n=this.parse_link(n)),_.each(t,function(t,e){var i=this.parse_link(t);i.family===n.family&&(n.remove_italic&&(i.variants=i.variants.filter(function(t){return-1===t.indexOf("italic")&&-1===t.indexOf("i")})),n.variants=n.variants.concat(i.variants),TVE.CSS_Rule_Cache.removeRule(e-s++))},this),n.variants=n.variants.filter(function(t,e,i){return i.indexOf(t)===e}),TVE.CSS_Rule_Cache.insertImport(this.generate_link(n))},get_imported_fonts:function(){if(TVE.CONST.imported_fonts)return TVE.CONST.imported_fonts;var t=TVE.CSS_Rule_Cache.getImports(),i={},n=this;return t.forEach(function(t){var e=n.parse_link(t);i[e.family]=e}),TVE.CONST.imported_fonts=i,TVE.CONST.imported_fonts},generate_link:function(t){var e=[];return e.push("//fonts.googleapis.com/css?family="),e.push(t.family.replace(/ /g,"+")),e.push(":"),e.push(t.variants.join(",")),e.push("&subset="),e.push(t.subsets),e.join("")},parse_link:function(t){var e=/family=([a-zA-Z\+\d]*):([A-Za-z0-9,]*)&subset=(\w*)/g.exec(t),i={};return e&&3<e.length&&(i.family=e[1].replace(/\+/g," "),i.variants=e[2].split(","),i.subsets=e[3]),i},read_font_name:function(t){var e=t.match(/family=((\w|\+)*)/),i=t;return 1<e.length&&(i=e[1].replace(/\+/g," ")),i},is_font_used:function(t,e){if(!t)return!1;void 0===e&&(e=TVE.CSS_Rule_Cache.toText(CSSRule.MEDIA_RULE)),-1!==t.indexOf("fonts.googleapis.com")&&(t=this.read_font_name(t));var i=new RegExp('font-family: ["]?'+t+'(\\s|"|;|!)',"g"),n=new RegExp('font-family: var\\(--tve-font-family, "'+t+'"\\)',"g"),s=i.test(e);return(s=s||n.test(e))||TVE.Editor_Page.editor.find(TVE.TEXT_ALL).find("span[style]").each(function(){if(this.style.fontFamily&&this.style.fontFamily.replace(/"/g,"")===t)return!(s=!0)}),s},is_web_safe_font:function(t){return-1<TVE.CONST.fonts.safe.fonts.map(function(t){return t.family}).indexOf(t)},get_google_fonts:function(){var e=TVE.StorageManager.get("tcb_google_fonts"),t=TVE.StorageManager.get("tcb_google_fonts_v"),i=!t||t&&t<TVE.CONST.tve_version;return e&&e.length&&!i||(jQuery.ajax({method:"GET",url:this._api,dataType:"json",async:!1,cache:!0,data:{key:this._key}}).done(function(t){e=t.items||[]}).fail(function(){e=[]}),TVE.StorageManager.set("tcb_google_fonts",e),TVE.StorageManager.set("tcb_google_fonts_v",TVE.CONST.tve_version)),e},get_recommended_fonts:function(){var t=TVE.StorageManager.get("tcb_google_fonts"),i=[],n=this;return t.forEach(function(t,e){-1!==n.recommended.indexOf(t.family)&&i.push({key:e,value:t.family,label:t.family})}),i}}},"generate-preview.js":function(t,e,i){var f;f=jQuery,e.exports=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],s=f('<style type="text/css"></style>'),a=f('<style type="text/css"></style>'),o=_objectSpread({},{style:{outline:"none",margin:0},cacheBust:!1,imageTypeCallback:"toBlob",fixWindowWidth:!0},{},i),r=t.find(TVE.identifier("post_list")),l=t.find(".edit_mode").removeClass("edit_mode"),c=t.find(".tve_grabbed").removeClass("tve_grabbed"),d=!1;if(r.length){var h=[];r.find("style").each(function(t,e){var i=f(e);h.push(i.text()),i.remove()}),a.text(h.join("")),TVE.inner_$("head").append(a),d=!0}if(t.find("iframe.tcb-yt-bg").each(function(t,e){var i=TVE.inner_$(e).data("tcb-yt-player");i&&i.destroy()}),t.find(".tve_responsive_video_container").css({"background-image":'url("'.concat(TVE.CONST.editor_dir,'/images/resp-video-preview/video-preview-placeholder.jpg")'),"background-size":"contain","background-repeat":"no-repeat","background-position":"50% 50%"}),t.find(".tve_responsive_video_container > video").css("display","none"),t.find("hr.tve_sep").css("background-image","none"),t.hasClass("thrv-columns")&&(t=t.children().first()),!["header","footer"].includes(TVE._type(t))&&o.fixWindowWidth)if(t.hasClass("tcb-window-width"))o.style.left=0,o.width=parseFloat(t.css("width"));else{var u=t.find(".tcb-window-width");u&&u.length&&(o.style.left=u[0].style.left.replace("-",""),o.width=parseFloat(u[0].style.width))}function p(){TVE.inner.window.domtoimage[o.imageTypeCallback](t[0],o).then(function(t){"function"==typeof e&&e(t),_()}).catch(function(t){console.warn("Could not generate preview image: ",t),e(),_()})}function _(){t.find(".tve_responsive_video_container").css("background",""),t.find(".tve_responsive_video_container > video").css("display",""),t.find("hr.tve_sep").css("background-image",""),l.addClass("edit_mode"),c.addClass("tve_grabbed"),n&&s.remove(),TVE.inner.window.TCB_Front.playBackgroundYoutube(t.find(".tcb-yt-bg")),d&&(a.remove(),TVE.PostList.dynamicImage.regeneratePostListStyleNodes(r))}"absolute"===t.css("position")&&(o.style=_objectSpread({},o.style,{},{top:0,left:0,bottom:0,right:0})),n?TVE.fetchGoogleFonts().then(function(t){t&&(s.text(t),TVE.inner_$("head").append(s)),p()}):p()}},"selectors.js":function(t,e,i){e.exports={editable:".thrv_wrapper:not(.thrv_text_element, .thrv_heading), .tve_ts_o span, span.tve_ts_copy-aut, .tve_ts_copy-aut span .tve_btnLink span, .tve_ct_title, .thrv_tw_qs_button span span, .tve_editable, .thrv-inline-text, .thrv-advanced-inline-text, .thrv-styled-list-item, .sub-menu, .tcb-editor-jump-mode .thrv_toggle_title, .toggle-edit-mode .thrv_toggle_title, .canvas-mode .tve_lg_input_container, .tcb-col, .tve-cf-item, .tve-form-item, .tve-cf-submit, .tve-form-submit, .tve-cf-item label, .tve-form-item label, .tve-cf-item .tve-cf-input, .tve-form-item .tve-form-input, .thrv_header, .thrv_footer, .thrv_text_element a, .tcb-styled-list a, .tcb-numbered-list a, .thrv-sf-submit, .thrv-sf-input, .canvas-mode .tve_lg_radio_wrapper",not_editable:".tcb-not-editable, .tcb-not-editable *, .thrive_leads_shortcode *, .thrive-shortcode-html:not(.thrive-shortcode-html-editable), .thrive-shortcode-html:not(.thrive-shortcode-html-editable) *, .tve_custom_html_placeholder, .tve_custom_html_placeholder *, .thrv_custom_html_shortcode *, .thrv_post_grid *, .tve_no_edit, .tve_more_tag, .table_placeholder,  .table_placeholder *, .image_placeholder, .image_placeholder *, .borderless_placeholder, .borderless_placeholder *, .ui-datepicker-header *, .tve_wp_shortcode *, #tve_mce_holder *, .code_placeholder, .thrv_widget *, .tve_ts_o img,.thrv_lead_generation .thrv-columns,.thrv_lead_generation .tcb-col,.thrv-contact-form .thrv-columns,.tve-m-trigger .thrv_icon,.tcb-post-list:not(.tcb-compact-edit-mode) *,body.tve_lp, .tve-prevent-content-edit *",mouseover:".thrv_wrapper:not(.canvas-mode .thrv-columns):not(.tve-m-trigger .thrv_icon), .tve_clearfix li,.sub-menu,.thrv_feature_grid .tve_gri > .tve_image,.tve_element_hover, p.tve_more_tag, .tcb-col, .tve_editable, .canvas-mode .tve_lg_input_container, .thrv-styled-list-item, .tve-cf-item, .tve-form-item, .tve-cf-submit, .tve-form-submit, .tve-cf-item label, .tve-form-item label, .tve-cf-input, .tve-form-input, .thrv_wrapper.thrv_text_element a, .tcb-styled-list a, .tcb-numbered-list a, .toggle-edit-mode .thrv_toggle_title, .tcb-editor-jump-mode .thrv_toggle_title, .thrv-sf-submit, .thrv-sf-input, .canvas-mode .tve_lg_radio_wrapper",no_highlight:".thrive-shortcode-html, .thrive_leads_shortcode *, .tcb-no-highlight,.thrv_lead_generation .thrv-columns,.thrv_lead_generation:not(.canvas-mode) .tcb-col,.thrv-contact-form .thrv-columns, .tve-prevent-content-edit *",no_icons:".tve_table_cell, .thrv_tw_quote p, .tve_p_lb_control, .tve_editor_main_content,.tve_lp_content, .tve_no_icons, .thrv_widget_menu .tve_menu_title, .tve_lg_input_container .thrv_icon,.thrive-shortcode-html, .thrive-shortcode-html *, .thrv-inline-text, .tve_editable,.tve_lead_generated_inputs_container .thrv-columns, .thrv_lead_generation .thrv_icon,.canvas-mode, .tve-post-options-element, .post-wrapper, .tcb-pagination-button, .tcb-pagination-number,.tcb-pagination-label, .tcb-pagination-navigation-container, .tcb-pagination-load-more-button, .thrv_text_element a, .tcb-styled-list a, .tcb-numbered-list a, .thrv_toggle_content, .tve_tab_content, .thrv-sf-input, .thrv-sf-submit",no_clone:".tve_gri .image_placeholder, .table_placeholder, .tcb-no-clone, .tve_no_duplicate, .tve_more_tag, .tcb-col, .thrv-inline-text, .thrv-advanced-inline-text, .thrv_header, .thrv_footer,.tve-cf-item, .tve-cf-submit, .tve-form-submit, .tve_lg_input_container, .tcb-pagination, .tve_lg_radio_wrapper",no_delete:".tcb-no-delete, .thrv-inline-text, .thrv-advanced-inline-text,.tve-cf-item, .tve-cf-submit, .tve-form-submit, .tve_lg_input_container",no_save:".tcb-no-save, .thrv_symbol, .thrv-inline-text, .tcb-col, .tve_lg_input_container, .thrv_custom_html_shortcode, .tve_wp_shortcode, .tve_more_tag,.thrive_leads_shortcode ,.thrive-quiz-builder-shortcode, .thrv_tvo_capture_testimonials, .thrv_tvo_display_testimonials, .thrive_ultimatum_shortcode,.thrv-comments, .thrv-styled-list-item, .tcb-numbered-list-number, .tve_scT, .tve_scT > ul *, .thrv_ct_symbol, .thrv_toggle_title, .tve-cf-item, .tve-cf-submit, .thrv-content-block *,.tcb-pagination, .tve_image_caption, .tve_tab_title_item, .thrv_toggle_item, .tcb-featured-list, .tve_lg_radio_wrapper",no_lock:".thrv_wrapper, .thrv-styled-list-item, .thrv-inline-text, .tcb-col, .tve_more_tag, .tve_scT, .tve_scT *,.tve_lg_input_container",no_unlock:".thrv_wrapper, .thrv-styled-list-item, .thrv-inline-text, .tcb-col, .tve_more_tag, .tve_scT, .tve_scT *,.tve_lg_input_container",no_expand:":not(.thrv_toggle_item), :has(.thrv_toggle_title.tve-state-expanded ), .tve_tab_title_item ",no_collapse:":not(.thrv_toggle_item), :has(.thrv_toggle_title:not(.tve-state-expanded)), .tve_tab_title_item ",elements:".thrv_wrapper,.tcb-col,.tve_lg_input_container,.tve-cf-item,.tve-cf-submit",no_title:".tcb-no-title,.thrv_widget_menu li,.tcb-mega-std a,.thrv_text_element a,li a",no_custom_action:":not(.tve_image_caption,.tve_tab_title_item:not(.tve_tS))",get:function(t){var e=null,i=TVE.apply_filters("wrapper_selector","");return void 0!==this[t]&&(e=TVE.apply_filters("selectors_"+t,this[t])),i&&-1===e.indexOf(i)&&(e=i+" "+e.split(",").join(","+i+" ").replace(/\s\s+/g," ")),e+=",.tcb-selector-"+t+",.tcb-child-selector-"+t+" *"}}}}}},main:{"_utils.js":function(t,e,d){function i(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function n(t,e,i){return a.apply(this,arguments)}var v,s,a;v=jQuery,(s=window).Package?Materialize={}:s.Materialize={},Materialize.guid=function(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()},Materialize.elementOrParentIsFixed=function(t){var e=v(t),i=e.add(e.parents()),n=!1;return i.each(function(){if("fixed"===v(this).css("position"))return!(n=!0)}),n},jQuery?jQuery.Velocity:Velocity,e.exports={_type:function(i){if(!i)return null;if(1<i.length){var t=i.filter(".edit_mode");i=t.length?t:i}if(i.data("tcb-elem-type"))return i.data("tcb-elem-type");var n=null;return v.each(TVE.Elements,function(t,e){if(i.is(e.identifier))return n=t,!1}),n||!i.hasClass("thrv-plain-text")&&!i.hasClass("thrv_heading")||(n="text"),n=TVE.apply_filters("tcb.elem.type",n,i),i.data("tcb-elem-type",n),n},get_element_identifier:function(t){var e=this._type(t);return e&&TVE.Elements[e]&&TVE.Elements[e].identifier},remove_extra_spaces:function(t){return t.replace(/([ ]{2,})/g," ").trim()},get_element_name:function(t){var e=this._type(t);return t.attr("data-element-name")||TVE.Elements[e]&&TVE.Elements[e].name||e||TVE.t.Element},thrv_custom_classes:["edit_mode","alignleft","aligncenter","alignright","tvealign","init_done","active_delete","active_duplicate","on_hover","canvas-mode","active_highlight","dynamic-group"],tpl:function(t,e){0!==t.indexOf("tve-")&&(t="tve-"+t);var i=v("script#"+t.replace(/\//g,"-")).html()||"";return e?_.template(i)(e):_.template(i)},is_tpl:function(t){return 0!==t.indexOf("tve-")&&(t="tve-"+t),0<v("script#"+t.replace(/\//g,"-")).length},rem_size:function(){return this.__rem||(this.__rem=parseInt(v("html").css("font-size")||16)),this.__rem},convertUM:function(t,e,i,n){if(!t||!n)return!1;var s=TVE.getComputedStyle(t,n);if(!s)return 0;var a={"min-width":"width","max-width":"width"},o=isNaN(s)?s.replace(/[0-9,.]/g,""):void 0;switch("%"===o?s=parseFloat(s)*TVE.getComputedStyle(i,a[n]||n)/100:"em"===o&&(s=parseFloat(s)*TVE.getComputedStyle(t,"font-size")),e){case"rem":s=parseFloat(s/this.rem_size()).toFixed(3);break;case"em":var r=t;"fontSize"===n&&(r=t.parentNode),s=parseFloat(s/TVE.getComputedStyle(r,"fontSize")).toFixed(3);break;case"%":s=parseFloat(100*s/TVE.getComputedStyle(i,a[n]||n)).toFixed(1);break;case"vw":s=parseFloat(100*s/TVE.inner.window.innerWidth).toFixed(3);break;case"vh":s=parseFloat(100*s/TVE.inner.window.innerHeight).toFixed(2);break;case"px":s=parseInt(s);break;default:s=parseFloat(s)}return isNaN(s)&&(s=0),s},generateOffsetColor:function(t,e,i){var n,s,a,o,r,l=d("./libs/tinycolor");i=new l(i),t=t||new l("hsv(0, 1, 1)"),s=e.toHsv().h-t.toHsv().h,a=e.toHsv().s-t.toHsv().s,o=e.toHsv().v-t.toHsv().v,r=e.toHsv().a-t.toHsv().a;var c=i.toHsv();return c.h=this.handleMinMax(c.h+s,359,0),c.s=this.handleMinMax(c.s+a,1,0),c.v=this.handleMinMax(c.v+o,1,0),c.a=this.handleMinMax(c.a+r,1,0),(n=new l("hsv("+c.h+", "+c.s+", "+c.v+")")).setAlpha(c.a),n},handleMinMax:function(t,e,i){return e<t?e:t<i?i:Math.round(1e4*t)/1e4},getComputedStyle:(a=function(t,e,i){if(void 0===t||void 0===e)return 0;(t instanceof jQuery||t.jquery)&&(t=t[0]);var n=getComputedStyle(t||document.documentElement),s=e.includes("--")?n.getPropertyValue(e):n[e];if(i)return s;var a={lineHeight:"1.12em",letterSpacing:0};return"normal"===s?s=a[e]?a[e]:0:0===s.indexOf("none")?s=0:0===s.indexOf("rgb")||-1!==s.indexOf("%")||(s=parseFloat(s)),0===s&&"max-width"===e&&(s=t.clientWidth),s},n.toString=function(){return a.toString()},n),getGlobalVariable:function(t){return TVE.apply_filters("tcb.global_variable_color",t)},getCssVariableValue:function(t,e){var i=1<arguments.length&&void 0!==e?e:TVE.ActiveElement,n=TVE.inner.document.body,s=TVE.getRawCssVariableName(t);return-1<s.indexOf("tcb-local")&&(n=i.closest(".tcb-local-vars-root")[0]),window.getComputedStyle(n).getPropertyValue(s)||TVE.getCssVariableDefaultValue(t)},getRawCssVariableName:function(t){return-1<(t=t.replace(/var\(|\)/gi,"").trim()).indexOf(",")&&(t=t.split(",")[0].trim()),t},getCssVariableDefaultValue:function(t){var e="";return-1<(t=(t=t.replace(/var\(|/gi,"").trim()).slice(0,-1).trim()).indexOf(",")&&(e=t.split(",").slice(1).join(",").trim()),e},isCssVariable:function(t){return _.isString(t)&&"var"===t.substring(0,3)},isGlobalVariablePromoted:function(t){return-1<t.indexOf("--tcb-tpl-")},isGlobalColorActive:function(e){if(-1===(e=TVE.getRawCssVariableName(e)).indexOf(TVE.CONST.colors.global_prefix))return!0;e=parseInt(e.replace(TVE.CONST.colors.global_prefix,"").trim());var t=_.findIndex(TVE.CONST.colors.globals,function(t){return t.id==e});return-1<t&&TVE.CONST.colors.globals[t].active},isGlobalGradientActive:function(e){if(-1===(e=TVE.getRawCssVariableName(e)).indexOf(TVE.CONST.gradients.global_prefix))return!0;e=parseInt(e.replace(TVE.CONST.gradients.global_prefix,"").trim());var t=_.findIndex(TVE.CONST.gradients.globals,function(t){return t.id==e});return-1<t&&TVE.CONST.gradients.globals[t].active},changeCssVariableValue:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:TVE.ActiveElement;if(-1<t.indexOf("tcb-local")){var s=n.attr("data-css");if(s){var a={};a[t]=e,TVE.write_css('[data-css="'.concat(s,'"]'),a,null)}}else TVE.inner.document.documentElement.style.setProperty(t,e),document.documentElement.style.setProperty(t,e)},buildCssVariable:function(t){return"var"===t.substring(0,3)?t:"var("+t+")"},extractNumbersFromString:function(t){return t.match(/\d+/g).map(Number)},getClassThatContains:function(t,i){return(t instanceof jQuery||t.jquery)&&(t=t[0]),v.grep(t.classList,function(t,e){return 0===t.indexOf(i)})[0]||""},getActiveStylesheet:function(){var t={key:"custom",sheet:TVE.stylesheet};return TVE.USE_GLOBALSHEET&&(t.key="global",t.sheet=TVE.globalsheet),t},camelCase:function(t,e){var i=t.split("_"),n="",s=" ";return 1===i.length&&(i=t.split("-")),e&&(s=""),v.each(i,function(t,e){n+=e.toLowerCase().charAt(0).toUpperCase()+e.slice(1)+s}),n},ucFirst:function(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""},set_event_callback:function(t,e,i){t=t||"outer",void 0!==i?TVE[t].$document.off(e+".tve").on(e+".tve",i):TVE[t].$document.off(e+".tve")},ajax_data:function(t,e,i,n){var s=2<arguments.length&&void 0!==i?i:{},a=3<arguments.length?n:void 0;return{xhrFields:{withCredentials:!0},url:TVE.CONST.ajax_url,dataType:void 0===a?s&&"html"===s.expect?"html":"json":a,type:e||"get",data:_.extend({action:TVE.CONST.ajax.action,custom:t,nonce:TVE.CONST.nonce},s||{}),error:function(t,e,i){if("function"!=typeof t.tcb_error||!1!==t.tcb_error.apply(t,arguments)){var n=TVE.getDetailedErrorMessage(t,e,i,!1);return n.show_default_template_message?void TVE.page_message(n.error_message,!0):void TVE.page_message(n,"error_save")}}}},ajax:function(t,e,i,n){return v.ajax(this.ajax_data(t,e,i,n))},get_ajax_error:function(t,e,i){var n="";if(t.responseJSON)n=t.responseJSON.message;else if(t.responseText)try{n="parsererror"===e?"Could not parse response: "+t.responseText:JSON.parse(t.responseText).message}catch(t){}return n=n||(t.statusText||e)+(t.status?" ("+t.status+")":"")+(t.responseText?". "+t.responseText:"")},findClass:function(t,e){for(var i,n=0;n<t.length;n++)if(t[n].substr(0,e.length)==e&&t[n].length>e.length){i=t[n];break}return i},truncate:function(t,e){return e=e||10,t.length<e+3?t:t.substring(0,e)+"..."},isValidUrl:function(t){return 0===t.indexOf("#")||0===t.indexOf("mailto")||0===t.indexOf("tel")||!(null===t.match(/(http(s)?:\/\/.)(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,15}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g))},removeDuplicateMediaRules:function(){for(var t=0;t<TVE.stylesheet.cssRules.length;t++){var e=TVE.stylesheet.cssRules[t];if(e.type!==CSSRule.IMPORT_RULE){for(var i=0;i<e.cssRules.length;i++)for(var n=e.cssRules[i].selectorText,s=i+1;s<e.cssRules.length;s++)n===e.cssRules[s].selectorText&&(e.cssRules[s].mustDelete=!0);var a=void 0;do{a=!1;for(var o=0;o<e.cssRules.length;o++)if(e.cssRules[o].mustDelete){e.deleteRule(o),a=!0;break}}while(a)}}},buildLandingPageSelector:function(t,e){return v.map(t.split(","),function(t){return TVE.apply_filters("landing_page_selector","#tcb_landing_page "+v.trim(t.replace(/___c___/g,","))+e)}).join(", ")},writeLandingPageCSS:function(t,e,i,n){var s=void 0!==n&&n?TVE.CSS_RULE_LAST:TVE.CSS_RULE_FIRST,a=TVE.main.media_query_tpl();i=i||"",a="_ALL"===a?TVE.main.all_media():[a];var o=this.buildLandingPageSelector(t,i);TVE.write_css(o,e,a,!1,s),-1!==o.indexOf(":hover")&&TVE.write_css(o.replace(/:hover/g,".tve_state_hover"),e,a,!1,s)},decodeCssRule:function(t){return{selector:t.split("{")[0].trim(),props:TVE.CSS_Rule_Cache.cssToObject(t)}},readLandingPageCSS:function(s,t,a){var e,o=this;function i(t){var e=TVE.head_css_get(o.buildLandingPageSelector(s,a),t);if(_.isEmpty(e)){var i=s.split(",");_.isArray(i)&&!_.isEmpty(i[0])&&(e=TVE.head_css_get(o.buildLandingPageSelector(i[0].trim(),a),t))}if(_.isEmpty(e)){s=s.replace(":hover","")+a;var n=TVE.ActiveElement.find(s);n.length||(n=TVE.ActiveElement.filter(s)),e=n.first().css(t)||e}return e}return a=a||"",_.isArray(t)?(e={},t.forEach(function(t){return e[t]=i(t)})):e=i(t),e},addHttp:function(t){return!(t=v.trim(t))||0===t.indexOf("#")||/^mailto/.test(t)||/^tel/.test(t)||/^(?:f|ht)tps?\:\/\//.test(t)||(t="http://"+t),t},get_all_props:function(t,i){var n=[];return!t||"object"!==_typeof(t)&&!_.isArray(t)?n:(_.each(t,function(t,e){if(e===i)return n.push(t),!0;n=n.concat(TVE.get_all_props(t,i))}),n.filter(function(t){return t}))},removeDataAttributes:function(t){var e,i=t.get(0).attributes,n=i.length;for(e=0;e<n;e++)i[e]&&i[e].name&&"data-"===i[e].name.substring(0,5)&&i[e].name&&t.removeAttr(i[e].name)},getNodeAttributes:function(t,i){(t instanceof jQuery||t.jquery)&&(t=t[0]),i=i||"";var n={};return v.each(t.attributes,function(t,e){-1<e.name.indexOf(i)&&(n[e.name]=e.value)}),n},getUrlParam:function(t,e){var i=new RegExp("[?&]"+e+"=([^&#]*)").exec(t);return decodeURIComponent(i[1])||0},setOrReplaceUrlParam:function(t,e,i){var n=new RegExp("([?&])"+e+"=.*?(&|$)","i"),s=-1!==t.indexOf("?")?"&":"?";return t.match(n)?t.replace(n,"$1"+e+"="+i+"$2"):t+s+e+"="+i},icon:function(t,e,i,n){if(!t)return"";n=void 0===n?"":" "+n,void 0!==i&&i||(i="sidebar");var s='<span class="tcb-icon-inline '+t+'"></span>';return void 0!==e&&"svg"!==e||(t=("sidebar"===i?"icon-":"tcb-icon-")+t,s=TVE.tpl("util/icon")({icon:t,extra_class:n})),s},svg_icon:function(t){var e={path:"",viewBox:"0 0 28 28",name:tcb_main_const.i18n.none},i=_.extend(e,t);return TVE.tpl("util/svg_icon")(i)},add_filter:function(t,e,i){return void 0===i&&(i=10),this.filter_callbacks||(this.filter_callbacks={}),this.filter_callbacks[t]||(this.filter_callbacks[t]=[]),this.filter_callbacks[t].push({fn:e,priority:parseInt(i)}),this},remove_filter:function(t,e,i){if(!this.filter_callbacks)return this;if(void 0===e)return delete this.filter_callbacks[t],this;if(void 0===i&&(i=10),!this.has_filter(t))return this;for(var n,s=0;n=this.filter_callbacks[t][s++];)n.priority===i&&n.fn===e&&(s--,this.filter_callbacks[t].splice(s,1));return this},has_filter:function(t){return this.filter_callbacks&&this.filter_callbacks[t]&&this.filter_callbacks[t].length},apply_filters:function(t,i){if(arguments.length<1)return void 0!==i?i:null;if(this.has_filter(t)){var n=[];2<arguments.length&&(n=Array.prototype.slice.call(arguments,2));var e=this.filter_callbacks[t].sort(function(t,e){return t.priority-e.priority});v.each(e,function(t,e){e.fn&&(i="__return_false"!==e.fn&&e.fn.apply(null,[i].concat(n)))})}return i},add_action:function(t,e,i){return void 0===i&&(i=10),this.action_callbacks||(this.action_callbacks={}),this.action_callbacks[t]||(this.action_callbacks[t]=[]),this.action_callbacks[t].push({fn:e,priority:parseInt(i)}),this},remove_action:function(t,e,i){if(!this.action_callbacks)return this;if(void 0===e)return delete this.action_callbacks[t],this;if(void 0===i&&(i=10),!this.has_action(t))return this;for(var n,s=0;n=this.action_callbacks[t][s++];)n.priority===i&&n.fn===e&&(s--,this.action_callbacks[t].splice(s,1));return this},has_action:function(t){return this.action_callbacks&&this.action_callbacks[t]&&this.action_callbacks[t].length},do_action:function(t){if(this.has_action(t)){var i=1<arguments.length?Array.prototype.slice.call(arguments,1):[],e=this.action_callbacks[t].sort(function(t,e){return t.priority-e.priority});v.each(e,function(t,e){e.fn&&e.fn.apply(null,i)})}},bind_global_events:function(){TVE.$document.add(TVE.inner.$document).off("keydown.tcbglobal").on("keydown.tcbtcbglobal",function(t){if("enabled"!==TVE.Editor_Page.STATE)return!0;if((t.ctrlKey||t.metaKey)&&!t.altKey)switch(t.which){case 83:return TVE.main.EditMode.in_edit()?TVE.main.EditMode.exit():TVE.main.editor_settings.save(),!1;case 90:return TVE.UndoManager.undo(),!1;case 89:return TVE.UndoManager.redo(),!1}}),TVE.ElementIcons=new TVE.IconsView,TVE.ElementEditIcons=new TVE.IconsView({edit_icons:!0})},iframe_refresh:function(){TVE.main.$frame.attr("src",function(t,e){return e}),TVE.main.$frame.one("load",function(){TVE.main.overlay("close")}),setTimeout(function(){TVE.main.overlay("close")},3e3)},relogin:function(){TVE.main.overlay("close"),TVE.$document.trigger("heartbeat-tick.wp-auth-check",{"wp-auth-check":!1})},set_login_callback:function(t,e){this.login_callback={fn:t,scope:e}},get_inputs_value:function(t,e,i){e=e||"input",i=i||"*";var n={};return t.find(e).filter(i).each(function(){var t=jQuery(this),e=this.name;t.is("input:radio, input:checkbox")?t.is(":radio")&&t.is(":checked")?n[e]=this.value:t.is(":checkbox")&&t.is(":checked")&&(void 0===n[e]&&(n[e]=[]),n[e].push(this.value)):t.data("select2")?n[e]=Array.isArray(t.val())?t.val().join(","):"":n[e]=this.value}),n},url:function(t){return TVE.CONST.plugin_url+(t||"")},unserialize:function(t){function o(t){for(var e=t.length,i=t.length-1;0<=i;i--){var n=t.charCodeAt(i);127<n&&n<=2047?e++:2047<n&&n<=65535&&(e+=2),56320<=n&&n<=57343&&i--}return e-1}var s="undefined"!=typeof window?window:global,V=function(t,e,i,n){throw new s[t](e,i,n)},C=function(t,e,i){for(var n=2,s=[],a=t.slice(e,e+1);a!==i;)n+e>t.length&&V("Error","Invalid"),s.push(a),a=t.slice(e+(n-1),e+n),n+=1;return[s.length,s.join("")]},x=function(t,e,i){var n,s,a=[];for(n=0;n<i;n++)s=t.slice(e+(n-1),e+n),a.push(s),i-=o(s);return[a.length,a.join("")]};return function t(e,i){var n,s,a,o,r,l,c,d,h,u,p,_,f,m,g,v,b,E,T=0,y=function(t){return t};switch(s=(i=i||0)+2,n=e.slice(i,i+1).toLowerCase()){case"i":y=function(t){return parseInt(t,10)},T=(h=C(e,s,";"))[0],d=h[1],s+=T+1;break;case"b":y=function(t){return 0!==parseInt(t,10)},T=(h=C(e,s,";"))[0],d=h[1],s+=T+1;break;case"d":y=function(t){return parseFloat(t)},T=(h=C(e,s,";"))[0],d=h[1],s+=T+1;break;case"n":d=null;break;case"s":T=(u=C(e,s,":"))[0],p=u[1],T=(h=x(e,(s+=T+2)+1,parseInt(p,10)))[0],d=h[1],s+=T+2,T!==parseInt(p,10)&&T!==d.length&&V("SyntaxError","String length mismatch");break;case"a":for(d={},T=(a=C(e,s,":"))[0],o=a[1],s+=T+2,l=parseInt(o,10),r=!0,_=0;_<l;_++)g=(m=t(e,s))[1],f=m[2],b=(v=t(e,s+=g))[1],E=v[2],s+=b,f!==_&&(r=!1),d[f]=E;if(r){for(c=new Array(l),_=0;_<l;_++)c[_]=d[_];d=c}s+=1;break;default:V("SyntaxError","Unknown / Unhandled data type(s): "+n)}return[n,s-i,y(d)]}(t+"",0)[2]},serialize:function(t){function e(t){var e,i,n,s,a=_typeof(t);if("object"===a&&!t)return"null";if("object"===a){if(!t.constructor)return"object";for(i in(e=(n=t.constructor.toString()).match(/(\w+)\(/))&&(n=e[1].toLowerCase()),s=["boolean","number","string","array"])if(n===s[i]){a=s[i];break}}return a}var i,n,s,a="",o=0,r=e(t);switch(r){case"function":i="";break;case"boolean":i="b:"+(t?"1":"0");break;case"number":i=(Math.round(t)===t?"i":"d")+":"+t;break;case"string":i="s:"+function(t){var e,i=0,n=t.length,s="";for(e=0;e<n;e++)i+=(s=t.charCodeAt(e))<128?1:s<2048?2:3;return i}(t)+':"'+t+'"';break;case"array":case"object":for(n in i="a",t)if(t.hasOwnProperty(n)){if("function"===e(t[n]))continue;s=n.match(/^[0-9]+$/)?parseInt(n,10):n,a+=TVE.serialize(s)+TVE.serialize(t[n]),o++}i+=":"+o+":{"+a+"}";break;case"undefined":default:i="N"}return"object"!==r&&"array"!==r&&(i+=";"),i},Base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,i,n,s,a,o,r,l="",c=0;for(t=this._utf8_encode(t);c<t.length;)s=(e=t.charCodeAt(c++))>>2,a=(3&e)<<4|(i=t.charCodeAt(c++))>>4,o=(15&i)<<2|(n=t.charCodeAt(c++))>>6,r=63&n,isNaN(i)?o=r=64:isNaN(n)&&(r=64),l=l+this._keyStr.charAt(s)+this._keyStr.charAt(a)+this._keyStr.charAt(o)+this._keyStr.charAt(r);return l},decode:function(t){var e,i,n,s,a,o,r="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)e=this._keyStr.indexOf(t.charAt(l++))<<2|(s=this._keyStr.indexOf(t.charAt(l++)))>>4,i=(15&s)<<4|(a=this._keyStr.indexOf(t.charAt(l++)))>>2,n=(3&a)<<6|(o=this._keyStr.indexOf(t.charAt(l++))),r+=String.fromCharCode(e),64!=a&&(r+=String.fromCharCode(i)),64!=o&&(r+=String.fromCharCode(n));return r=this._utf8_decode(r)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):(127<n&&n<2048?e+=String.fromCharCode(n>>6|192):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128)),e+=String.fromCharCode(63&n|128))}return e},_utf8_decode:function(t){for(var e="",i=0,n=0,s=0,a=0;i<t.length;)(n=t.charCodeAt(i))<128?(e+=String.fromCharCode(n),i++):191<n&&n<224?(s=t.charCodeAt(i+1),e+=String.fromCharCode((31&n)<<6|63&s),i+=2):(s=t.charCodeAt(i+1),a=t.charCodeAt(i+2),e+=String.fromCharCode((15&n)<<12|(63&s)<<6|63&a),i+=3);return e}},codemirror_editor_settings:function(t,e,i){var n=!1;if(wp.codeEditor&&wp.CodeMirror){var s,a=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{};a.codemirror=_.extend({},a.codemirror,{lineNumbers:!0,mode:e,indentUnit:2,tabSize:2,lineWrapping:!0,scrollbarStyle:null}),a.htmlhint=_.extend({},a.htmlhint,{"attr-lowercase":!1}),i&&(a.codemirror.theme=i),(s=wp.codeEditor.initialize(v(t),a)).codemirror.setSize("100%","100%"),n=s.codemirror}return n},page_message:function(t,e,i){"string"==typeof t&&void 0!==TVE.t[t]&&(t=TVE.t[t]),i=i||4e3;var n=v("#tve_notification_box"),s=TVE.tpl("notification-box/success");return n.length||(TVE.$notification=n=v('<div id="tve_notification_box"></div>').appendTo("body")),-1===e?s=TVE.tpl("notification-box/warning"):-2===e?s=TVE.tpl("notification-box/info"):"error_save"===e?s=TVE.tpl("notification-box/error-save"):e&&(s=TVE.tpl("notification-box/error")),n.html(s({message:t})).animate({top:30},200),"error_save"!==e&&setTimeout(function(){n.animate({top:-1200},700)},i),this},getDetailedErrorMessage:function(t,e,i,n){var s={};switch(t.status){case 200:t.responseText&&(t.responseText.includes("Warning")||t.responseText.includes("Fatal error"))&&(s={error_message:TVE.t.ajax_error[500],error_code:500,fixLink:"https://thrivethemes.com/tkb_item/how-to-fix-the-500-internal-server-error/",error_content:t.responseText});break;case 400:if(t.responseText)try{"nonce_expired"===JSON.parse(t.responseText).code&&(s={error_message:TVE.t.ajax_error.session_expired},TVE.relogin())}catch(t){}"0"===String(t.responseText)&&(s={error_message:TVE.t.ajax_error.session_expired},TVE.relogin());break;case 403:TVE.wordfenceResponse(t.responseText,function(t){var e=TVE.t.ajax_error.wordfence,i='<a class="click" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-fn="f:wordfenceWhitelist" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-url="'.concat(t.attr("action"),'" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-form="').concat(t.serialize(),'">Whitelist</a>');e=e.replace("$1",i).replace("WordFence Firewall",'<a href="'+location.origin+'/wp-admin/admin.php?page=WordfenceWAF&subpage=waf_options" target="_blank">WordFence Firewall</a>'),s={error_message:e,fixLink:"https://thrivethemes.com/tkb_item/why-you-should-set-wordfences-firewall-on-learning-mode/"}})||(s={error_message:TVE.t.ajax_error[403],error_code:403,fixLink:"https://thrivethemes.com/tkb_item/how-to-fix-the-403-forbidden-error/"});break;case 404:s={error_message:TVE.t.ajax_error[404],error_code:404,fixLink:"https://thrivethemes.com/tkb_item/how-to-fix-the-404-not-found-error/"};break;case 422:if(t.responseText)try{var a=JSON.parse(t.responseText);a.tcb_default_error&&(s={error_message:a.message,show_default_template_message:!0})}catch(t){}break;case 500:s={error_message:TVE.t.ajax_error[500],error_code:500,fixLink:"https://thrivethemes.com/tkb_item/how-to-fix-the-500-internal-server-error/",error_content:t.responseText?t.responseText:""};break;default:s={error_message:this.get_ajax_error(t,e,i)}}return s.error_message||(s={error_message:this.get_ajax_error(t,e,i)}),n?s.error_code?s.error_code+": "+s.error_message:s.error_message:s},browser:function(){var t,e,i={},n=(e=-1,"Microsoft Internet Explorer"===navigator.appName?(t=navigator.userAgent,null!==new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))):"Netscape"===navigator.appName&&(t=navigator.userAgent,null!==new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))),e);if(0<n)i.msie=!0;else{var s=navigator.userAgent.toLowerCase(),a=/(edge)[ \/]([\w.]+)/.exec(s)||/(chrome)[ \/]([\w.]+)/.exec(s)||/(webkit)[ \/]([\w.]+)/.exec(s)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(s)||/(msie) ([\w.]+)/.exec(s)||s.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(s)||[],o=a[1]||"";a[2],a[1]&&(i[o]=!0),i.chrome?i.webkit=!0:i.webkit&&(i.safari=!0)}i.macosx=/mac/i.test(navigator.platform),i.msie&&(i.version=n),this.BROWSER=i},preserve_changed_link:function(t){var e=(t=t.jquery?t[0]:t).getAttribute("href");-1!==e.indexOf("amazon.com")?t.setAttribute("data-tcb-href",e):t.removeAttribute("data-tcb-href")},getCaretCharacterOffsetWithin:function(t){var e,i=0,n=t.ownerDocument||t.document,s=n.defaultView||n.parentWindow;if(void 0!==s.getSelection){if(0<(e=s.getSelection()).rangeCount){var a=s.getSelection().getRangeAt(0),o=a.cloneRange();o.selectNodeContents(t),o.setEnd(a.endContainer,a.endOffset),i=o.toString().length}}else if((e=n.selection)&&"Control"!=e.type){var r=e.createRange(),l=n.body.createTextRange();l.moveToElementText(t),l.setEndPoint("EndToEnd",r),i=l.text.length}return i},css_prefix_replace:function(t,e){return void 0===e?e=[]:"string"==typeof e&&(e=[e]),-1===e.indexOf(TVE.CONST.global_css_prefix)&&e.push(TVE.CONST.global_css_prefix),e=TVE.apply_filters("tcb.symbols.prefix_replace",e),t.replace(TVE.escapedRegEx(e.join("|"),"gi"),"")},reinitialize_element:function(t){var e="."+t[0].classList.value.replace(new RegExp("\\s{2}|\\s{1}","g"),".");return TVE.inner_$(e)},escapedRegEx:function(t,e,i,n){var s=3<arguments.length&&void 0!==n?n:"";return new RegExp((2<arguments.length&&void 0!==i?i:"")+this.escapeString(t)+s,e)},escapeString:function(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},addHooks:function(t,n){_.each(t.actions,function(t,e){var i=n[e]?n[e]:10;TVE.add_action(e,t,i)}),_.each(t.filters,function(t,e){var i=n[e]?n[e]:10;TVE.add_filter(e,t,i)})},removeHooks:function(t,n){_.each(t.filters,function(t,e){var i=n[e]?n[e]:10;TVE.remove_filter(e,t,i)}),_.each(t.actions,function(t,e){var i=n[e]?n[e]:10;TVE.remove_action(e,t,i)})},wordfenceResponse:function(t,e){var i=1<arguments.length&&void 0!==e?e:null;if("object"===_typeof(t)&&t.responseText&&(t=t.responseText),"function"!=typeof i&&(i=function(t){var e='<button class="button-link blue click" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-fn="f:wordfenceWhitelist" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-url="'.concat(t.attr("action"),'" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-form="').concat(t.serialize(),'">Click here</button>');TVE.page_message("The request was blocked by <b>Wordfence</b>!<br><br>".concat(e," to whitelist this action and allow the request."),-1,1e4)}),t.includes("has been blocked by Wordfence")){var n=TVE.inner_$("<div>".concat(t,"</div>")).find("#whitelist-form");return n.find("#verified-false-positive-checkbox").prop("checked",!0),i(n),!0}return!1},wordfenceWhitelist:function(t){var e=t.currentTarget.dataset.form,i=t.currentTarget.dataset.url;v.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:i,data:e}).success(function(t){TVE.page_message(t,!1,4e3),TVE.do_action("tcb.wordfence.whitelist",i,e)}).error(function(t){TVE.page_message(t,!0,4e3)})},setDefaultAjaxParams:function(t){t.ajaxSetup({data:{tar_editor_page:1}})},clearUpdateTimeout:function(){TVE.TIMEOUT_UPDATE&&TVE.TIMEOUT_UPDATE.length&&TVE.TIMEOUT_UPDATE.forEach(function(t){return clearTimeout(t)})}},v.fn.extend({tve_draggable:function(g){return this.each(function(){var n=v(this);function e(t,e){c=a*(h[_[s]]-u[_[s]])/g.stepSize;var i=g.incrementSize*h[_[s]]*a/g.stepSize;i=i||g.incrementSize,p[t].call(n,i,o,s,c,e.ctrlKey,e)}(g=g||{}).stepSize=g.stepSize||1,g.incrementSize=g.incrementSize||1,n.data("tve_draggable.options",g);var i,s,a,o,r,l,c,d=!1,h={x:0,y:0},u={x:0,y:0},p=v.extend({start:function(t,e,i,n){},move:function(t,e,i,n,s,a){},stop:function(t,e,i,n,s,a){}},g),_={top:"y",right:"x",bottom:"y",left:"x"},t=_[this.dataset.dir||g.dir],f=function(t){t.buttons?(h.x=t.screenX-r,h.y=t.screenY-l,function(){var t=Math.sqrt(Math.pow(h.y-u.y,2)+Math.pow(h.x-u.x,2));return g.stepSize<=1||t>=g.stepSize}()&&(e("move",t),u.x=h.x,u.y=h.y)):TVE.$body.removeClass("cursor-resize-x cursor-resize-y")},m=function(t){TVE.$body.removeClass("cursor-resize-x cursor-resize-y"),TVE.set_event_callback("inner","mousemove"),TVE.set_event_callback("inner","mouseup"),TVE.set_event_callback("outer","mousemove"),TVE.set_event_callback("outer","mouseup"),d=!1,h.x=t.screenX-r,h.y=t.screenY-l,e("stop",t)};n.on("mousedown",function(t){r=t.screenX,l=t.screenY,i=t.currentTarget,s=i.getAttribute("data-dir")||g.dir,o=i.getAttribute("data-style")||g.style,a=-1===i.className.indexOf("reverse")?1:-1,u.x=u.y=0,p.start(o,s,t,g),d=!0,TVE.set_event_callback("inner","mousemove",f),TVE.set_event_callback("inner","mouseup",m),TVE.set_event_callback("outer","mousemove",f),TVE.set_event_callback("outer","mouseup",m),TVE.$body.addClass("cursor-resize-"+_[s])}),TVE.outer.$document.on("selectstart",function(t){return d&&t.preventDefault(),!d}),this.classList.add("cursor-resize-"+t)})},visible:function(){return this.css("visibility","visible")},invisible:function(){return this.css("visibility","hidden")}})},collections:{"base.js":function(t,e,i){var n=i("../models/base");e.exports=Backbone.Collection.extend({model:n})},"gradient.js":function(t,e,i){var n=i("../models/base"),s=i("../libs/gradient-builder");e.exports=Backbone.Collection.extend({model:n,labels:{url:TVE.t.image,solid:TVE.t.solid_color,pattern:TVE.t.pattern,"linear-gradient":TVE.t.lin_grad,"repeating-linear-gradient":TVE.t.rep_lin_grad,"radial-gradient":TVE.t.rad_grad,"repeating-radial-gradient":TVE.t.rep_rad_grad},prepare_item:function(t){if("repeating-linear-gradient"!==t.type&&"repeating-radial-gradient"!==t.type||(t.real_type=t.type,t.type="pattern"),t.label=this.labels[t.type],"url"===t.type)t.icon='<span class="sp-transparent"><span class="tcb-icon-14w">'+TVE.icon("bk-img")+"</span></span>",t.label=t.value?t.value.substring(t.value.lastIndexOf("/")+1):"";else{var e="";(t.colorStops[0].css_variable&&TVE.isGlobalColorActive(t.colorStops[0].css_variable)||t.gradient_css_variable&&TVE.isGlobalGradientActive(t.gradient_css_variable))&&(e=" tcb-css-variable-identifier tcb-relative-icon-inline",TVE.isGlobalVariablePromoted(t.colorStops[0].css_variable||t.gradient_css_variable)&&(e+=" tcb-tpl-var")),t.gradient_css_variable&&!TVE.isGlobalGradientActive(t.gradient_css_variable)&&(t.gradient_css_variable=null),t.colorStops[0].css_variable&&!TVE.isGlobalColorActive(t.colorStops[0].css_variable)&&(t.colorStops[0].css_variable=null),t.icon='<span class="sp-transparent" style="background-size:4px"><span class="tcb-icon-inline'+e+'" style="background-size:'+t.size+";background-image:"+s(t)+'"></span></span>'}return t},add:function(t,e){return e=e||{at:0},Backbone.Collection.prototype.add.call(this,t,e)},reset:function(t){return t=_.map(t,this.prepare_item,this),Backbone.Collection.prototype.reset.call(this,t)}})}},elements:{"_base.js":function(t,e,i){var n;n=jQuery,e.exports=Backbone.Model.extend({initialize:function(t){this.key=t.key,this.setup_defaults()},setup_defaults:function(){this.config={}},render_default:function(){this.setup_defaults();var t=n('<div class="thrv_wrapper thrv-'+this.key+'"></div>');return this.render_to(t),t},set_element:function(t){return this.$element=t,this},render_to:function(t,e){if(e){var i=this.__undo_snaphot?this.__undo_snaphot:this.read_element_props(t);this.clear_undo_snapshot()}if(this._render_to.apply(this,arguments),e){var n=this.read_element_props(t);TVE.UndoManager.add({undo:function(){t.html(i.html).attr(i.data).attr("class",i.cls)},redo:function(){t.html(n.html).attr(n.data).attr("class",n.cls)}})}return this},_render_to:function(t,e){},set_data:function(t){return _.extend(this.data,t),this},set_config:function(t,e){return void 0===e||e?n.extend(!0,this.config,t):this.config=_.extend(this.config,t),this},read_element_props:function(i){var n={html:i.html(),cls:i.attr("class"),style:i.attr("style"),data:{}};return this.data||(this.data=i.data()),_.each(this.data,function(t,e){n.data["data-"+e]=i.attr("data-"+e)}),n},take_undo_snapshot:function(t){this.__undo_snaphot=this.read_element_props(t)},clear_undo_snapshot:function(){delete this.__undo_snaphot}})},"_renderers.js":function(t,e,i){var n=i("./rating"),s=i("./columns"),a=i("./social"),o=i("./credit"),r=i("./styled-list"),l=i("./numbered-list"),c=i("./_base");e.exports={base:new c({key:"base"}),columns:new s({key:"columns"}),social:new a({key:"social"}),rating:new n({key:"rating"}),credit:new o({key:"credit"}),styledlist:new r({key:"styled_list"}),numberedlist:new l({key:"numbered_list"}),CONSTRUCTORS:{social:a}}},"columns.js":function(t,e,i){e.exports=i("./_base").extend({setup_defaults:function(){this.data={},this.default_format=[],this.default_format[2]=[]},render_default:function(){return this.setup_defaults(),jQuery('<div class="thrv_wrapper tcb-row-empty tcb-elem-placeholder thrv-'+this.key+'"></div>').html('<span class="tcb-inline-placeholder-action with-icon">'+TVE.icon("column","svg","editor")+TVE.t.column_layout+"</span>")},_render_to:function(t,e,i,n,s){i=parseInt(i),s=void 0!==s&&s;var a="";return void 0===n?_.each(this.format[i],function(t,e){a+=this.get_html(i,e,s)},this):a=this.get_html(i,parseInt(n),s),t.html(a),TVE.do_action("tcb.columns.render",t),this},get_html:function(t,e){for(var i=0,n="",s=this.format[t][e];i<t;)n+='<div class="tcb-flex-col'+(s.cls&&s.cls[i]?" "+s.cls[i]:"")+'"><div class="tcb-col"></div></div>',i++;return'<div class="tcb-flex-row tcb--cols--'+t+'">'+n+"</div>"},format:["","",[{text:"1/2"},{text:["1/3","2/3"],cls:["c-33","c-66"]},{text:["2/3","1/3"],cls:["c-66","c-33"]}],[{text:"1/3"},{text:["1/4","2/4","1/4"],cls:["c-25","c-50","c-25"]},{text:["1/4","1/4","2/4"],cls:["c-25","c-25","c-50"]},{text:["2/4","1/4","1/4"],cls:["c-50","c-25","c-25"]}],[{text:"1/4"}]]})},"credit.js":function(t,e,i){e.exports=i("./_base").extend({cards:{visa:"Visa",masterCard:"MasterCard",americanExpress:"American Express",payPal:"PayPal",discover:"Discover",googlePay:"Google Pay",applePay:"Apple Pay",bitcoin:"Bitcoin"},setup_defaults:function(){var t=JSON.parse(JSON.stringify(this.cards));delete t.discover,this.data={cards:t,style:"style1"}},get_html:function(t,i){i=void 0===i?this.data.style:i,t=void 0===t?this.data.cards:t;var n="";return _.each(t,function(t,e){n+='<svg viewBox="0 0 72 52" class="tcb-'+e+'-card">'+this.templates[i][e]+"</svg>"},this),n},_render_to:function(t,e){return t.attr({"data-style":this.data.style,"data-cards":Object.keys(this.data.cards)}).html(this.get_html()),this},get_styles:function(){var i={},n=this.cards;return _.each(this.templates,function(t,e){i[e]={label:TVE.ucFirst(e),html:this.get_html(n,e)}},this),i},get_cards:function(){var i=[];return _.each(this.cards,function(t,e){i.push({identifier:e,label:t})},this),i},get_card_template:function(t,e){e=void 0!==e&&e;var i=this.templates[this.data.style][t];return e&&(i='<svg viewBox="0 0 72 52">'+i+"</svg>"),i},sort_element_cards:function(t){this.data.cards={},_.each(t,function(t,e){this.data.cards[t]=this.cards[t]},this)},templates:{style1:{visa:'<g><path class="visa-style-1-st0" d="M7.6,0.9h56.7c3.7,0,6.6,3,6.6,6.6v36.7c0,3.7-3,6.6-6.6,6.6H7.6c-3.7,0-6.6-3-6.6-6.6V7.5C1,3.9,4,0.9,7.6,0.9z"/><path class="visa-style-1-st1" d="M24.8,33.8h-4.1l-3.1-11.6c-0.1-0.5-0.5-1-0.9-1.2c-1.1-0.6-2.4-1-3.7-1.2v-0.4h6.6c0.9,0,1.6,0.7,1.7,1.5l1.6,8.4l4.1-9.8h4L24.8,33.8z M33.1,33.8h-3.8l3.2-14.5h3.8L33.1,33.8z M41.2,23.3c0.1-0.8,0.8-1.2,1.6-1.2c1.2-0.1,2.6,0.1,3.7,0.7l0.7-3.1c-1.1-0.4-2.4-0.7-3.5-0.7c-3.7,0-6.4,2-6.4,4.8c0,2.1,1.9,3.2,3.3,3.9c1.5,0.7,2,1.1,1.9,1.8c0,1-1.1,1.5-2.3,1.5c-1.4,0-2.7-0.3-4-0.9l-0.7,3.1c1.4,0.6,2.8,0.8,4.2,0.8C44,34,46.6,32,46.6,29C46.6,25.2,41.2,25,41.2,23.3L41.2,23.3z M60,33.8l-3.1-14.5h-3.3c-0.7,0-1.4,0.4-1.6,1.1l-5.6,13.4h4l0.8-2.1H56l0.5,2.1H60z M54.2,23.2l1.1,5.5h-3.2L54.2,23.2z"/></g>',masterCard:'<g transform="translate(337.000000, 0.000000)"><path class="masterCard-style-1-st0" d="M-329.4,0.9h56.7c3.7,0,6.6,3,6.6,6.6v36.7c0,3.7-3,6.6-6.6,6.6h-56.7c-3.7,0-6.6-3-6.6-6.6V7.5C-336,3.9-333,0.9-329.4,0.9z"/><g transform="translate(12.526316, 11.194030)"><path class="masterCard-style-1-st1" d="M-313.2,4.5c-2.4-2.1-5.5-3.3-8.8-3.3c-7.5,0-13.6,6.2-13.6,13.8s6.1,13.8,13.6,13.8c3.4,0,6.5-1.2,8.8-3.3c2.4,2.1,5.5,3.3,8.8,3.3c7.5,0,13.6-6.2,13.6-13.8s-6.1-13.8-13.6-13.8C-307.7,1.2-310.8,2.4-313.2,4.5z"/><path class="masterCard-style-1-st2" d="M-313.2,4.5c-2.4-2.1-5.5-3.3-8.8-3.3c-7.5,0-13.6,6.2-13.6,13.8s6.1,13.8,13.6,13.8c3.4,0,6.5-1.2,8.8-3.3c-2.9-2.5-4.8-6.3-4.8-10.5S-316.1,7-313.2,4.5z"/><path class="masterCard-style-1-st3" d="M-313.2,25.5c2.4,2.1,5.5,3.3,8.8,3.3c7.5,0,13.6-6.2,13.6-13.8s-6.1-13.8-13.6-13.8c-3.4,0-6.5,1.2-8.8,3.3c2.9,2.5,4.8,6.3,4.8,10.5S-310.2,23-313.2,25.5z"/></g></g>',americanExpress:'<g><g><g transform="translate(169.000000, 0.000000)"><path class="americanExpress-style-1-st0" d="M-161.4,0.9h56.7c3.7,0,6.6,3,6.6,6.6v36.7c0,3.7-3,6.6-6.6,6.6h-56.7c-3.7,0-6.6-3-6.6-6.6V7.5C-168,3.9-165,0.9-161.4,0.9z"/></g></g><path class="americanExpress-style-1-st1" d="M31,28.2l-3.8-8.4h-4.6v11.9l-5.4-11.9h-3.8L8,32.3h3.2l1.1-2.7h6l1.1,2.7h6.2v-9.2l4.1,9.2h2.7l4.1-8.9v8.9h3V20.1h-4.6L31,28.5L31,28.2z M15.4,26.9h-1.9l1.9-4.3l0,0l2,4.3L15.4,26.9z"/><path class="americanExpress-style-1-st1" d="M58.4,26l2.2-2.4l3.2-3.5H60l-3.5,3.8L53,20.1H41.3v12.2H53l3.5-4.1l3.5,4.1h3.8l-3.2-3.8L58.4,26z M51.1,29.8h-6.8v-2.4h6.8V25h-6.8v-2.2h6.8l3.5,3.2L51.1,29.8z"/></g>',payPal:'<g><g transform="translate(85.000000, 0.000000)"><path class="payPal-style-1-st0" d="M-77.4,0.9h56.7c3.7,0,6.6,3,6.6,6.6v36.7c0,3.7-3,6.6-6.6,6.6h-56.7c-3.7,0-6.6-3-6.6-6.6V7.5C-84,3.9-81,0.9-77.4,0.9z"/></g><path class="payPal-style-1-st1" d="M34.7,18.3h8.1c4.3,0,6,2.2,5.7,5.4c-0.4,5.3-3.6,8.3-7.9,8.3h-2.2c-0.6,0-1,0.4-1.1,1.4l-0.9,6.1c-0.1,0.4-0.3,0.6-0.6,0.7h-5.1c-0.5,0-0.6-0.4-0.5-1.2l3.1-19.6C33.4,18.7,33.8,18.3,34.7,18.3z"/><path class="payPal-style-1-st2" d="M29.6,11.6h8.1c2.3,0,5,0.1,6.8,1.7c1.2,1.1,1.8,2.8,1.7,4.6c-0.5,6.2-4.2,9.6-9.1,9.6h-4c-0.7,0-1.1,0.4-1.3,1.7l-1.1,7.1C30.6,36.7,30.4,37,30,37h-5c-0.6,0-0.7-0.4-0.6-1.3L28,12.9C28.2,12,28.7,11.6,29.6,11.6z"/></g>',discover:'<g transform="translate(253.000000, 0.000000)"><path class="discover-style-1-st0" d="M-245.3,0.9h56.6c3.7,0,6.7,3,6.7,6.7v36.6c0,3.7-3,6.7-6.7,6.7h-56.6c-3.7,0-6.7-3-6.7-6.7V7.6C-252,3.9-249,0.9-245.3,0.9z"/><path class="discover-style-1-st1" d="M-190.8,25.7h-0.5v-2.9h0.5c1.2,0,1.7,0.5,1.7,1.4C-189.1,25.2-189.6,25.7-190.8,25.7L-190.8,25.7z M-187.1,24.1c0-1.8-1.2-2.8-3.4-2.8h-2.7v9.6h1.8V27h0.2l2.5,3.9h2.3l-2.9-4C-188,26.7-187,25.5-187.1,24.1L-187.1,24.1z M-199.6,30.9h5.2v-1.6h-3.4v-2.6h3.3V25h-3.3v-2.1h3.4v-1.6h-5.2V30.9L-199.6,30.9z M-205.1,27.7l-2.5-6.4h-2l4,9.8h1l4-9.8h-2L-205.1,27.7L-205.1,27.7z M-227.1,26.1c0,2.7,2.2,4.9,4.9,4.9c0.9,0,1.6-0.2,2.4-0.5v-2.1c-0.5,0.6-1.3,1.1-2.2,1.1c-1.7,0-3.2-1.3-3.2-3v-0.2c-0.1-1.7,1.3-3.2,3-3.3c0.9,0,1.7,0.4,2.3,1.1v-2.1c-0.7-0.4-1.5-0.5-2.3-0.5C-224.9,21.1-227.1,23.3-227.1,26.1L-227.1,26.1z M-230.5,24.9c-1.1-0.4-1.4-0.6-1.4-1.2c0.1-0.6,0.7-1.2,1.3-1.1c0.5,0,1.1,0.3,1.5,0.8l1-1.3c-0.8-0.6-1.7-1.1-2.7-1.1c-1.5-0.1-2.8,1.1-2.9,2.6v0.1c0,1.3,0.5,2,2.3,2.6c0.4,0.1,0.9,0.3,1.3,0.5c0.3,0.2,0.5,0.5,0.5,1c0,0.8-0.7,1.4-1.3,1.4h-0.1c-0.9,0-1.6-0.5-2-1.3l-1.2,1.2c0.7,1.2,2,1.8,3.3,1.8c1.7,0.1,3.2-1.2,3.3-2.9v-0.3C-227.8,26.4-228.3,25.8-230.5,24.9L-230.5,24.9z M-236.8,30.9h1.8v-9.6h-1.8V30.9L-236.8,30.9z M-240.5,28.5c-0.7,0.5-1.6,0.9-2.5,0.8h-0.5v-6.3h0.5c0.9-0.1,1.8,0.2,2.5,0.8c0.7,0.6,1,1.5,1,2.4C-239.5,27-239.8,27.8-240.5,28.5L-240.5,28.5z M-242.7,21.3h-2.7v9.6h2.7c1.2,0.1,2.4-0.3,3.4-1.1c1.1-1,1.7-2.3,1.7-3.7c0.1-2.6-2-4.7-4.6-4.8H-242.7L-242.7,21.3z M-214.3,21.1c-2.7,0-5,2.1-5,4.9c0,2.7,2.2,4.9,5,5.1c2.8,0.1,5-2.1,5.1-4.9C-209.3,23.3-211.5,21.1-214.3,21.1L-214.3,21.1z"/></g>',bitcoin:'<g><path class="bitcoin-style-1-st0" d="M63.4,0H6.6C3,0,0,3,0,6.6v36.7C0,47,3,50,6.6,50h56.7c3.7,0,6.6-3,6.6-6.6V6.6C70,3,67,0,63.4,0z"/></g><g><path class="bitcoin-style-1-st1" d="M42,26c-0.5-0.7-1.3-1.2-2.2-1.4c0.7-0.3,1.2-0.8,1.6-1.4c0.4-0.6,0.6-1.3,0.6-2s-0.1-1.3-0.5-1.9c-0.3-0.5-0.7-1-1.2-1.4c-0.5-0.3-1-0.5-1.7-0.7c-0.5-0.1-1.1-0.1-1.8-0.1v-2.4h-2.6v2.4h-1.5h-0.2v-2.4h-2.6v2.4h-0.4H27v2.6h2.4v10.7H27V33h2.4h0.4v2.2h2.6V33h0.2h1.5v2.2h2.6V33c1,0,1.6-0.1,2-0.1c0.9-0.1,1.6-0.3,2.2-0.7s1-1,1.4-1.6c0.3-0.7,0.5-1.4,0.5-2.1C42.8,27.5,42.5,26.7,42,26z M34.4,19.8c1.5,0,2.4,0,2.8,0.1c0.5,0.1,1,0.3,1.2,0.5c0.3,0.3,0.4,0.7,0.4,1.2s-0.1,1-0.5,1.2C38,23,37.6,23.3,37,23.3c-0.3,0.1-1.1,0.1-2.4,0.1h-2.1v-3.7C32.6,19.8,34.4,19.8,34.4,19.8z M39,29.7c-0.3,0.3-0.7,0.5-1.2,0.6c-0.3,0.1-1,0.1-2.2,0.1h-3v-4.3h2.6c1.5,0,2.4,0.1,2.9,0.2c0.4,0.1,0.7,0.4,1,0.7c0.2,0.3,0.3,0.7,0.3,1.2C39.4,28.8,39.2,29.3,39,29.7z"/></g><g><path class="bitcoin-style-1-st0" d="M63.4,0H6.6C3,0,0,3,0,6.6v36.7C0,47,3,50,6.6,50h56.7c3.7,0,6.6-3,6.6-6.6V6.6C70,3,67,0,63.4,0z"/></g><g><path class="bitcoin-style-1-st1" d="M42,26c-0.5-0.7-1.3-1.2-2.2-1.4c0.7-0.3,1.2-0.8,1.6-1.4c0.4-0.6,0.6-1.3,0.6-2s-0.1-1.3-0.5-1.9c-0.3-0.5-0.7-1-1.2-1.4c-0.5-0.3-1-0.5-1.7-0.7c-0.5-0.1-1.1-0.1-1.8-0.1v-2.4h-2.6v2.4h-1.5h-0.2v-2.4h-2.6v2.4h-0.4H27v2.6h2.4v10.7H27V33h2.4h0.4v2.2h2.6V33h0.2h1.5v2.2h2.6V33c1,0,1.6-0.1,2-0.1c0.9-0.1,1.6-0.3,2.2-0.7s1-1,1.4-1.6c0.3-0.7,0.5-1.4,0.5-2.1C42.8,27.5,42.5,26.7,42,26z M34.4,19.8c1.5,0,2.4,0,2.8,0.1c0.5,0.1,1,0.3,1.2,0.5c0.3,0.3,0.4,0.7,0.4,1.2s-0.1,1-0.5,1.2C38,23,37.6,23.3,37,23.3c-0.3,0.1-1.1,0.1-2.4,0.1h-2.1v-3.7C32.6,19.8,34.4,19.8,34.4,19.8z M39,29.7c-0.3,0.3-0.7,0.5-1.2,0.6c-0.3,0.1-1,0.1-2.2,0.1h-3v-4.3h2.6c1.5,0,2.4,0.1,2.9,0.2c0.4,0.1,0.7,0.4,1,0.7c0.2,0.3,0.3,0.7,0.3,1.2C39.4,28.8,39.2,29.3,39,29.7z"/></g><g><path class="bitcoin-style-1-st1" d="M35,43.5c-10.2,0-18.6-8.3-18.6-18.5S24.7,6.5,35,6.5S53.5,14.8,53.5,25S45.2,43.5,35,43.5z M35,8c-9.4,0-17.1,7.6-17.1,17S25.5,42,35,42s17-7.6,17-17S44.4,8,35,8z"/></g>',googlePay:'<g><g><g transform="translate(169.000000, 0.000000)"><path class="googlePay-style-1-st0" d="M-161.3,0.9h56.7c3.7,0,6.6,3,6.6,6.6v36.7c0,3.7-3,6.6-6.6,6.6h-56.7c-3.7,0-6.6-3-6.6-6.6V7.5C-167.9,3.9-164.9,0.9-161.3,0.9z"/></g><rect x="18.4" y="0.9" transform="matrix(-1 -1.224647e-16 1.224647e-16 -1 54.3 51.8)" class="googlePay-style-1-st1" width="17.5" height="50"/><rect x="35.9" y="0.9" transform="matrix(-1 -1.224647e-16 1.224647e-16 -1 89.3 51.8)" class="googlePay-style-1-st2" width="17.5" height="50"/><path class="googlePay-style-1-st3" d="M64.9,0.9H53.4v50h11.5c3.3,0,6-2.7,6-6v-38C70.9,3.6,68.2,0.9,64.9,0.9z"/></g><g><path class="googlePay-style-1-st4" d="M42.8,17.7c-0.9-0.9-2.2-1.4-3.5-1.4H34V32h2v-6.3v0h3.3c1.4,0,2.5-0.4,3.5-1.3c0.9-0.8,1.5-2.1,1.4-3.3C44.3,19.7,43.7,18.5,42.8,17.7z M41.4,22.9c-0.5,0.5-1.2,0.8-2,0.8H36v-5.5v0h3.4c0.8,0,1.5,0.3,2,0.8c0,0,0,0,0.1,0.1C42.5,20.2,42.5,21.9,41.4,22.9z"/><path class="googlePay-style-1-st4" d="M48.9,20.9c-1.9,0-3.4,0.7-4.3,2.1l1.8,1.1c0.7-0.9,1.5-1.4,2.7-1.4c0.7,0,1.4,0.3,1.9,0.7c0.5,0.4,0.8,1.1,0.8,1.8v0.5C51,25.3,50,25,48.8,25c-1.4,0-2.5,0.3-3.4,1c-0.8,0.7-1.3,1.5-1.3,2.6c0,1,0.4,2,1.2,2.6c0.8,0.7,1.8,1.1,3,1.1c1.4,0,2.5-0.6,3.3-1.8h0.1V32h1.9v-6.6c0-1.4-0.4-2.5-1.3-3.3C51.6,21.3,50.4,20.9,48.9,20.9z M50.8,29.6c-0.6,0.6-1.4,0.9-2.3,0.9c-0.6,0-1.1-0.2-1.6-0.5c-0.4-0.3-0.7-0.8-0.7-1.3c0-0.6,0.3-1.1,0.8-1.5c0.5-0.4,1.2-0.6,2-0.6c1.1,0,2,0.3,2.6,0.8C51.8,28.2,51.5,29,50.8,29.6z"/><polygon class="googlePay-style-1-st4" points="62.6,21.3 59.5,29 59.4,29 56.2,21.3 54,21.3 58.5,31.3 56,36.7 58,36.7 64.8,21.3 "/><path class="googlePay-style-1-st4" d="M19.2,22.5v3.5h4.9c-0.2,1.1-0.9,2.1-1.8,2.7v0c-0.8,0.5-1.8,0.9-3.1,0.9c-2.3,0-4.3-1.6-5.1-3.7c-0.4-1.1-0.4-2.3,0-3.4c0.7-2.1,2.7-3.7,5.1-3.7c1.3,0,2.5,0.5,3.5,1.4l2.6-2.6c-1.6-1.5-3.8-2.4-6-2.3c-3.4,0-6.5,1.9-8,5c-1.3,2.5-1.3,5.5,0,8.1c1.5,3,4.6,5,8,5c2.4,0,4.5-0.8,6-2.2l0,0h0c1.7-1.6,2.7-3.9,2.7-6.6c0-0.6-0.1-1.2-0.2-1.8H19.2z"/></g></g>',applePay:'<g><path class="applePay-style-1-st0" d="M64.4,1H7.6C4,1,1,4,1,7.6v36.7C1,48,4,51,7.6,51h56.7c3.7,0,6.6-3,6.6-6.6V7.6C71,4,68,1,64.4,1z"/></g><g><g><path class="applePay-style-1-st1" d="M18.6,17.6c0.7-0.8,1-1.9,0.9-2.9c-1,0.1-2,0.6-2.7,1.4s-1,1.8-1,2.8C16.9,18.9,17.9,18.5,18.6,17.6"/><path class="applePay-style-1-st1" d="M19.5,19.1C18,19,16.7,19.9,16,19.9c-0.7,0-1.8-0.8-3-0.8c-1.6,0-3,0.9-3.8,2.3c-1.6,2.8-0.4,6.9,1.1,9.1c0.8,1.1,1.7,2.3,2.9,2.3s1.6-0.7,3-0.7s1.8,0.7,3,0.7s2-1.1,2.8-2.2c0.5-0.8,1-1.7,1.3-2.6c-1.5-0.6-2.4-2.1-2.4-3.7c0-1.4,0.8-2.7,2-3.5C22.1,19.8,20.8,19.2,19.5,19.1"/></g><g><path class="applePay-style-1-st1" d="M34.4,16c3.3,0,5.5,2.2,5.5,5.5S37.6,27,34.3,27h-3.6v5.7h-2.6V16H34.4z M30.7,24.8h3c2.3,0,3.6-1.2,3.6-3.3s-1.3-3.3-3.5-3.3h-3L30.7,24.8L30.7,24.8z"/><path class="applePay-style-1-st1" d="M40.6,29.3c0-2.1,1.6-3.4,4.7-3.6l3.2-0.2v-0.9c0-1.3-0.9-2.1-2.5-2.1c-1.3,0-2.3,0.7-2.5,1.7h-2.3c0.1-2.2,2.1-3.8,4.9-3.8c3,0,4.9,1.6,4.9,4v8.3h-2.4v-2h-0.1c-0.8,1.4-2.3,2.2-3.8,2.1C42.2,32.9,40.6,31.4,40.6,29.3z M48.5,28.2v-0.9l-2.9,0.2c-1.6,0.1-2.5,0.7-2.5,1.8S44,31,45.4,31C47.1,30.9,48.5,29.8,48.5,28.2z"/><path class="applePay-style-1-st1" d="M53.2,37.2v-2c0.3,0,0.5,0,0.8,0c1.1,0,1.8-0.5,2.2-1.7l0.2-0.7L52,20.6h2.7l3.1,9.9h0.1l3.1-9.9h2.6L59,33.4c-1,2.9-2.2,3.9-4.8,3.9C53.8,37.3,53.5,37.3,53.2,37.2z"/></g></g>'},style2:{visa:'<g><path class="visa-style-2-st0" d="M7.6,1h56.7C68,1,71,4,71,7.6v36.7c0,3.7-3,6.6-6.6,6.6H7.6C4,51,1,48,1,44.4V7.6C1,4,4,1,7.6,1z"/><path class="visa-style-2-st1" d="M7.6,1h56.7C68,1,71,4,71,7.6v3.7H1V7.6C1,4,4,1,7.6,1z"/><path class="visa-style-2-st2" d="M71,40.6v3.7c0,3.7-3,6.6-6.6,6.6H7.6C4,51,1,48,1,44.4v-3.7H71z"/><path class="visa-style-2-st1" d="M56.5,33.3l-0.4-2.2h-4.9l-0.8,2.2h-4l5.7-13.5c0,0,0.3-1.1,1.8-1.1H57l3.1,14.5H56.5z M52.3,28.1h3.2l-1.1-5.4L52.3,28.1z"/><path class="visa-style-2-st1" d="M46.7,22.2l0.5-3.1c0,0-1.7-0.6-3.5-0.6c-1.9,0-6.4,0.8-6.4,4.8c0,3.8,5.3,3.8,5.3,5.8c0,2-4.8,1.6-6.3,0.4l-0.6,3.3c0,0,1.7,0.8,4.3,0.8c2.6,0,6.6-1.3,6.6-5c0-3.8-5.4-4.1-5.4-5.8C41.3,21.1,45.1,21.3,46.7,22.2"/><polyline class="visa-style-2-st1" points="33.4,33.3 29.6,33.3 32,18.7 35.8,18.7 33.4,33.3 \t"/><path class="visa-style-2-st1" d="M16.1,18.7h-3L13,19c0,0,1.9,0.4,4,1.7l3.3,12.6h4l6.1-14.5h-4.1l-3.7,10l-0.4-2.2v0L20.9,20c0,0-0.2-1.3-1.8-1.3H16.1h-3L13,19c0,0,2.9,0.6,5.7,2.8c2.7,2.1,3.5,4.8,3.5,4.8L20.9,20c0,0-0.2-1.3-1.8-1.3H16.1z"/><path class="visa-style-2-st2" d="M22.2,26.6L20.9,20c0,0-0.2-1.3-1.8-1.3h-6.1L13,19c0,0,2.9,0.6,5.7,2.8C21.4,23.9,22.2,26.6,22.2,26.6"/></g>',masterCard:'<g><path class="masterCard-style-2-st0" d="M7.6,1h56.7C68,1,71,4,71,7.6v36.7c0,3.7-3,6.6-6.6,6.6H7.6C4,51,1,48,1,44.4V7.6C1,4,4,1,7.6,1z"/><path class="masterCard-style-2-st1" d="M41.4,26c0,7.7-6.2,13.9-14,13.9c-7.7,0-14-6.2-14-13.9c0-7.7,6.2-13.9,14-13.9C35.1,12.1,41.4,18.3,41.4,26"/><path class="masterCard-style-2-st2" d="M46.1,12.1c-3.6,0-6.9,1.4-9.4,3.6c-0.5,0.5-1,1-1.4,1.5h2.8c0.4,0.5,0.7,1,1.1,1.5h-4.9c-0.3,0.5-0.6,1-0.8,1.5H40c0.2,0.5,0.4,1,0.6,1.5h-7.7c-0.2,0.5-0.3,1-0.4,1.5H41c0.2,1,0.3,1.9,0.3,3c0,1.5-0.3,3-0.7,4.4h-7.7c0.2,0.5,0.4,1,0.6,1.5H40c-0.2,0.5-0.5,1-0.8,1.5h-4.9c0.3,0.5,0.7,1,1.1,1.5h2.8c-0.4,0.5-0.9,1-1.4,1.5c2.5,2.2,5.8,3.6,9.4,3.6c7.7,0,14-6.2,14-13.9C60.1,18.3,53.8,12.1,46.1,12.1"/><path class="masterCard-style-2-st3" d="M57.7,29.7h-1.4l0.1-0.5c-0.4,0.4-0.8,0.6-1.4,0.6c-1.1,0-1.8-0.9-1.8-2.4c0-1.9,1.1-3.5,2.5-3.5c0.6,0,1,0.2,1.4,0.8l0.3-2h1.5L57.7,29.7L57.7,29.7z M55.5,28.4c0.7,0,1.2-0.8,1.2-1.9c0-0.7-0.3-1.1-0.8-1.1c-0.7,0-1.2,0.8-1.2,1.9C54.7,28,55,28.4,55.5,28.4L55.5,28.4z"/><path class="masterCard-style-2-st3" d="M50.9,23.8c-0.2,1.8-0.5,3.6-0.8,5.4L50,29.5h1.5c0.5-3.5,0.7-4.2,1.5-4.1c0.1-0.7,0.4-1.4,0.6-1.7c-0.6-0.1-1,0.2-1.5,0.9c0-0.3,0.1-0.6,0.1-0.9H50.9"/><path class="masterCard-style-2-st3" d="M48.5,27.1c-0.2,0-0.2,0-0.3,0c-0.9,0-1.3,0.3-1.3,0.9c0,0.4,0.2,0.6,0.5,0.6C48,28.5,48.5,27.9,48.5,27.1L48.5,27.1z M49.6,29.6h-1.3l0-0.6c-0.4,0.5-0.9,0.7-1.6,0.7c-0.8,0-1.4-0.6-1.4-1.6c0-1.4,1-2.2,2.7-2.2c0.2,0,0.4,0,0.6,0c0-0.2,0.1-0.3,0.1-0.4c0-0.4-0.3-0.5-1-0.5c-0.7,0-1.4,0.2-1.6,0.3c0-0.1,0.2-1.3,0.2-1.3c0.8-0.2,1.3-0.3,1.8-0.3c1.3,0,2,0.6,2,1.7c0,0.3,0,0.7-0.1,1.1C49.9,27.4,49.7,29.2,49.6,29.6L49.6,29.6z"/><path class="masterCard-style-2-st3" d="M46.1,22.8l-0.2,1.5c-0.5-0.3-0.9-0.4-1.4-0.4c-1.1,0-1.9,1.1-1.9,2.6c0,1.1,0.5,1.7,1.4,1.7c0.4,0,0.8-0.1,1.3-0.4L45,29.6c-0.6,0.2-0.9,0.2-1.3,0.2c-1.6,0-2.6-1.2-2.6-3.1c0-2.5,1.4-4.3,3.4-4.3C45.1,22.4,45.9,22.7,46.1,22.8"/><path class="masterCard-style-2-st3" d="M38.6,23.8c-0.2,1.8-0.5,3.6-0.8,5.4l-0.1,0.4h1.5c0.5-3.5,0.7-4.2,1.5-4.1c0.1-0.7,0.4-1.4,0.6-1.7c-0.6-0.1-1,0.2-1.5,0.9c0-0.3,0.1-0.6,0.1-0.9H38.6"/><path class="masterCard-style-2-st3" d="M37.2,29.5c-0.5,0.2-1,0.2-1.5,0.2c-1.7,0-2.6-0.9-2.6-2.6c0-2,1.1-3.4,2.6-3.4c1.2,0,2,0.8,2,2.1c0,0.4-0.1,0.8-0.2,1.4h-3c-0.1,0.8,0.4,1.2,1.3,1.2c0.5,0,1-0.1,1.6-0.4L37.2,29.5L37.2,29.5z M36.3,26.1c0-0.1,0.2-1-0.7-1c-0.5,0-0.8,0.4-1,1H36.3L36.3,26.1z"/><path class="masterCard-style-2-st3" d="M32.5,29.6c-0.4,0.1-0.7,0.2-1.1,0.2c-0.8,0-1.2-0.4-1.2-1.3c0-0.3,0.1-0.9,0.2-1.5c0.1-0.5,0.7-3.9,0.7-3.9h1.5l-0.2,0.9h0.8L33,25.3h-0.8c-0.2,1.1-0.4,2.5-0.4,2.6c0,0.3,0.2,0.4,0.5,0.4c0.2,0,0.3,0,0.4-0.1L32.5,29.6"/><path class="masterCard-style-2-st3" d="M26.6,25.7c0,0.7,0.4,1.2,1.2,1.6c0.6,0.3,0.7,0.4,0.7,0.6c0,0.4-0.3,0.5-0.9,0.5c-0.5,0-0.9-0.1-1.4-0.2c0,0-0.2,1.3-0.2,1.3c0.3,0.1,0.7,0.1,1.6,0.2c1.6,0,2.3-0.6,2.3-1.9c0-0.8-0.3-1.3-1.1-1.6c-0.6-0.3-0.7-0.4-0.7-0.6c0-0.3,0.3-0.5,0.7-0.5c0.3,0,0.7,0,1.1,0.1l0.2-1.3c-0.4-0.1-1-0.1-1.3-0.1C27.2,23.7,26.6,24.6,26.6,25.7"/><path class="masterCard-style-2-st3" d="M24.7,27.1c-0.2,0-0.2,0-0.3,0c-0.9,0-1.3,0.3-1.3,0.9c0,0.4,0.2,0.6,0.5,0.6C24.2,28.5,24.7,27.9,24.7,27.1L24.7,27.1z M25.8,29.6h-1.3l0-0.6c-0.4,0.5-0.9,0.7-1.6,0.7c-0.8,0-1.4-0.6-1.4-1.6c0-1.4,1-2.2,2.7-2.2c0.2,0,0.4,0,0.6,0c0-0.2,0.1-0.3,0.1-0.4c0-0.4-0.3-0.5-1-0.5c-0.7,0-1.4,0.2-1.6,0.3c0-0.1,0.2-1.3,0.2-1.3c0.8-0.2,1.3-0.3,1.8-0.3c1.3,0,2,0.6,2,1.7c0,0.3,0,0.7-0.1,1.1C26.1,27.4,25.8,29.2,25.8,29.6L25.8,29.6z"/><polyline class="masterCard-style-2-st3" points="20.8,29.7 19.3,29.7 20.2,24.3 18.3,29.7 17.2,29.7 17.1,24.3 16.2,29.7 14.8,29.7 16,22.6 18.1,22.6 18.2,27 19.7,22.6 22,22.6 20.8,29.7"/></g>',americanExpress:'<g><path class="americanExpress-style-2-st0" d="M7.6,1h56.7C68,1,71,4,71,7.6v36.7c0,3.7-3,6.6-6.6,6.6H7.6C4,51,1,48,1,44.4V7.6C1,4,4,1,7.6,1z"/><g><path class="americanExpress-style-2-st0" d="M44.1,35.5v-1.8c0-0.1-0.1-0.5-0.7-0.5h-1.2v2.3h-2.7v-3.3c-0.5,0.8-1.5,1.2-3.1,1.2h-1.2v2.2h-3.9l-1.6-1.8l-1.6,1.8H21v-7.7h7l1.8,1.9l1.8-1.9h1l0.5,0h4.2c0,0,0.1,0,0.2,0c0.3,0,0.9,0,1.5,0.4c0.2,0.1,0.4,0.3,0.6,0.6v-1h4.7c0,0,0.1,0,0.2,0c0.9,0,1.8,0.3,2.2,1.2v-1.2H53v1.1c0.5-0.8,1.4-1.1,2.2-1.1l3.9,0v1.1c0.5-0.8,1.4-1.1,2.2-1.1l3.9,0v2.6h-2c1.2,0.2,2.3,0.8,2.3,2.3c0,2.1-1.4,2.9-2.8,2.9c-0.2,0-0.3,0-0.3,0l-3.5,0v-1.1c-0.5,0.8-1.4,1.1-2.3,1.1c-0.2,0-0.3,0-0.3,0l-3.3,0v0h-6.2v0H44.1z M52.8,33v-0.1H56c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0,0.2,0c-0.2,0-0.4-0.1-0.8-0.1c0,0-0.1,0-0.2,0c-0.3,0-1,0-1.6-0.4c-0.3-0.2-0.6-0.4-0.9-0.8v1.3h-3.6V33H52.8z M26.7,33l0.1-0.1h-3V33H26.7z M62.1,32.9c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0,0.2,0c-0.2,0-0.4-0.1-0.8-0.1c0,0-0.1,0-0.2,0c-0.3,0-1,0-1.6-0.4c-0.2-0.1-0.4-0.2-0.6-0.4c0,0.2,0.1,0.4,0.1,0.6c0,0.1,0,0.2,0,0.3H62.1z M32.6,32.7v-2.1l-1,1L32.6,32.7z M46.3,31.8c0.1,0.2,0.3,0.4,0.4,0.6v-1.1C46.5,31.6,46.4,31.7,46.3,31.8z M27.3,32.4l0.6-0.7L27.3,31V32.4z M57.1,30.3c0.6,0.1,1.3,0.3,1.7,0.8c-0.1-0.2-0.1-0.5-0.1-0.8L57.1,30.3z M43.6,30.6c0.3,0,0.4-0.1,0.4-0.2c0,0-0.2-0.1-0.4-0.1h-1.3v0.3H43.6z M36.6,30.6c0.3,0,0.4-0.1,0.4-0.2c0,0-0.2-0.1-0.4-0.1h-1.3v0.3H36.6z M26.7,30.4L26.7,30.4l-2.9,0v0H26.7z M52.6,30.4C52.6,30.4,52.6,30.3,52.6,30.4l-3.2,0v0H52.6z M40,26.3L40,26.3l-2.5,0v-1.8c0-0.1-0.1-0.5-0.7-0.5h-1.2v2.3H23.9v-2.9l-1.3,2.9h-2.1l-1.4-2.9v2.9h-4.2l-0.6-1.4h-2.5l-0.6,1.4h-3l3.3-7.7h3.1l1.8,4.2v-4.2H20l1.6,3.5l1.6-3.5h14.5c0,0,0.1,0,0.2,0c0.9,0,1.8,0.3,2.2,1.2v-1.2h2.7v1.8c0.7-1.6,2.2-1.8,2.7-1.9l2.7,0.1v0.7l0.3-0.8h3.1l1.8,4.1v-4.1h3.2l1.9,3.1v-3.1h2.7v7.7h-3.2l-2-3.2v3.2h-4.2l-0.6-1.4h-2.5l-0.6,1.4h-3c-0.7-0.1-1.8-0.6-2.4-1.8v1.8H40z M32.9,23.8v-0.1h-3.5v0.1H32.9z M45.9,21.1c-0.1,0-0.7,0.1-0.8,1c0,0.1,0,0.3,0,0.4c0,1.2,0.6,1.2,0.8,1.2c0.1,0,0.3,0,0.4,0l1.1-2.6L45.9,21.1z M39.6,22.6c0.1,0.2,0.3,0.4,0.4,0.6v-1.1C39.9,22.3,39.8,22.5,39.6,22.6z M50.1,22.2L50,21.9l-0.1,0.2H50.1z M13.2,22.2l-0.1-0.2L13,22.2H13.2z M36.9,21.4c0.3,0,0.4-0.1,0.4-0.2c0,0-0.2-0.1-0.4-0.1h-1.3v0.3H36.9z M32.9,21.2L32.9,21.2l-3.5,0v0H32.9z"/><path class="americanExpress-style-2-st1" d="M45.5,19l2.1,0.1v1.5l-1.7,0c0,0-1.1,0-1.3,1.5c0,0.2,0,0.3,0,0.5c0,1.4,0.7,1.7,1.3,1.7c0.4,0,0.7-0.1,0.7-0.1l2.1-5h2.4l2.6,6.1v-6.1h2.4l2.7,4.4v-4.4h1.7v6.7h-2.4l-2.7-4.5v4.5h-1.5h-0.3h-1.6l-0.6-1.4h-3.2l-0.6,1.4h-1.6H46h-0.8c0,0-2.3-0.3-2.3-3.2C42.8,18.9,45.5,19,45.5,19 M49.2,22.7h1.7l-0.8-2L49.2,22.7 M37.8,19c0.5,0,2,0.2,2,2c0,1.2-1,1.6-1,1.6s0.8,0.4,0.8,1.5v1.7H38v-1.3c0,0-0.1-1-1.2-1h-1.7v2.3h-1.7v-6.7h4.2C37.6,19.1,37.7,19,37.8,19 M35.1,21.9h1.8c0.5,0,0.9-0.3,0.9-0.6c0-0.4-0.4-0.6-0.9-0.6h-1.8V21.9 M26.2,19.1v6.7h-1.7v-4.6l-2.2,4.6h-1.4l-2.2-4.6v4.6h-1.5h-0.2h-1.7l-0.6-1.4h-3.2l-0.6,1.4H9l2.9-6.7h2.4l2.6,6.2v-6.2h2.7l1.9,4.2l1.9-4.2H26.2 M12.2,22.7h1.7l-0.8-2L12.2,22.7 M32.5,19.1v1.6h-3.6v1h3.6v1.5h-3.6v1.1h3.6v1.5h-5.4v-6.7H32.5 M42.2,19.1v6.7h-1.7v-6.7H42.2 M37.5,28.2c0.5,0,2,0.2,2,2c0,2-0.7,2.6-3,2.6h-1.7V35h-1.7h-1.5l-1.8-2l-1.8,2h-1h-5.4v-6.7h5.4h0.9l2,2.1l2-2.1h1.3v0h4.2C37.3,28.3,37.4,28.2,37.5,28.2 M33.1,34v-4.7L31,31.7L33.1,34 M34.8,31.1h1.8c0.5,0,0.9-0.3,0.9-0.6c0-0.4-0.4-0.6-0.9-0.6h-1.8V31.1 M23.3,30.9h3.5v1.5h-3.5v1.1h3.6l1.7-1.9l-1.7-1.8h-3.6V30.9 M61.3,28.3C61.4,28.3,61.4,28.3,61.3,28.3l3.4,0v1.6H62c0,0-0.1,0-0.3,0c-0.3,0-0.7,0.1-0.7,0.5c0,0.4,0.8,0.5,1.1,0.5c0.1,0,0.2,0,0.2,0s0.1,0,0.2,0c0.6,0,2.5,0.1,2.5,1.8c0,2.2-1.7,2.4-2.3,2.4c-0.1,0-0.2,0-0.2,0h-3.1v-1.5h2.7c0,0,0.1,0,0.2,0c0.3,0,0.8-0.1,0.8-0.5c0-0.5-1.1-0.6-1.4-0.6c0,0-0.1,0-0.1,0s-0.1,0-0.2,0c-0.5,0-2.2-0.1-2.2-2C59.2,28.4,61,28.3,61.3,28.3 M55.2,28.3C55.3,28.3,55.3,28.3,55.2,28.3l3.4,0v1.6h-2.7c0,0-0.1,0-0.3,0c-0.3,0-0.7,0.1-0.7,0.5c0,0.4,0.8,0.5,1.1,0.5c0.1,0,0.2,0,0.2,0s0.1,0,0.2,0c0.6,0,2.5,0.1,2.5,1.8c0,2.2-1.7,2.4-2.3,2.4c-0.1,0-0.2,0-0.2,0h-3.1v-1.5H56c0,0,0.1,0,0.2,0c0.3,0,0.8-0.1,0.8-0.5c0-0.5-1.1-0.6-1.4-0.6c0,0-0.1,0-0.1,0s-0.1,0-0.2,0c-0.5,0-2.2-0.1-2.2-2C53.1,28.4,54.9,28.3,55.2,28.3 M44.5,28.3c0.5,0,2,0.2,2,2c0,1.2-1,1.6-1,1.6s0.8,0.4,0.8,1.5V35h-1.7v-1.3c0,0-0.1-1-1.2-1h-1.7V35h-1.7v-6.7h4.2C44.3,28.3,44.3,28.3,44.5,28.3 M41.8,31.1h1.8c0.5,0,0.9-0.3,0.9-0.6s-0.4-0.6-0.9-0.6h-1.8V31.1 M52.5,28.3v1.6h-3.6v1h3.6v1.5h-3.6v1.1h3.6V35h-5.4v-6.7H52.5 M45.4,18L45.4,18c-0.8,0.1-1.6,0.3-2.2,0.9v-0.8h-1h-1.7h-1v0.4C39,18.2,38.4,18,37.8,18h0c-0.1,0-0.2,0-0.3,0h-4.1h-1v0h-5.2v0h-1h-2.7h-0.6l-0.3,0.6l-1,2.2l-1-2.2l-0.3-0.6h-0.6h-2.7h-1v1v1.3l-0.7-1.7L15,18.1h-0.7h-2.4h-0.7l-0.3,0.6l-2.9,6.7l-0.6,1.4H9h1.9h0.7l0.3-0.6l0.3-0.8H14l0.3,0.8l0.3,0.6h0.7h1.7h0.2h1.5h1v-1v-0.1l0.3,0.6l0.3,0.6h0.6h1.4h0.6l0.3-0.6l0.3-0.6v0.1v1h1h1.7h1v0h5.2v0h1h1.7h1v-1v-1.3h0.7c0.1,0,0.1,0,0.1,0c0,0,0,0.1,0,0.1v1.2v1h1h1.5v0h1h1.7h1v-0.9c0.6,0.5,1.3,0.8,1.8,0.8l0.1,0h0.1H46h0.3h1.6h0.7l0.3-0.6l0.3-0.8h1.8l0.3,0.8l0.3,0.6h0.7h1.6h0.3h1.5h1v-1v-0.9l0.9,1.5l0.3,0.5h0.6h2.4h1v-1v-6.7v-1h-1H59h-1v1v0.9l-0.9-1.4l-0.3-0.5h-0.6h-2.4h-1v1v1.2l-0.7-1.6l-0.3-0.6h-0.7h-2.4h-0.7l0,0l-0.5,0L45.6,18L45.4,18L45.4,18z M46,23.2c-0.2,0-0.3,0-0.3-0.7c0-0.1,0-0.2,0-0.4c0.1-0.5,0.3-0.6,0.3-0.6l0.7,0L46,23.2C46,23.2,46,23.2,46,23.2L46,23.2z M37.5,27.2c-0.1,0-0.2,0-0.2,0h-4.1h-1v0h-0.3h-0.4L31,27.6l-1.3,1.3l-1.3-1.3l-0.3-0.3h-0.4h-0.9h-5.4h-1v1V35v1h1h5.4h1h0.4l0.3-0.3l1.1-1.2l1.1,1.2l0.3,0.3h0.4h1.5h1.7h1v-1v-1.2h0.7c1.1,0,1.9-0.2,2.6-0.5V35v1h1h1.7h1v-1v-1.3h0.7c0.1,0,0.1,0,0.1,0c0,0,0,0.1,0,0.1V35v1h1h1.7h1v0h5.2h1v0h2.8c0.1,0,0.1,0,0.3,0c0.6,0,1.2-0.1,1.8-0.5V36h1h3c0.1,0,0.1,0,0.3,0c1.5,0,3.3-0.9,3.3-3.4c0-0.7-0.2-1.3-0.6-1.8h0.3v-1v-1.6v-1h-1h-3.3c0,0,0,0-0.1,0c-0.6,0-1.2,0.1-1.7,0.4v-0.4h-1h-3.3c0,0,0,0-0.1,0c-0.6,0-1.2,0.1-1.7,0.4v-0.4h-1h-5.4h-1v0.4c-0.5-0.3-1.1-0.4-1.7-0.4c-0.1,0-0.2,0-0.3,0h-4.1h-1v0.4C38.6,27.4,38,27.2,37.5,27.2L37.5,27.2z"/></g></g>',payPal:'<g><path class="payPal-style-2-st0" d="M7.6,1h56.7C68,1,71,4,71,7.6v36.7c0,3.7-3,6.6-6.6,6.6H7.6C4,51,1,48,1,44.4V7.6C1,4,4,1,7.6,1z"/><path class="payPal-style-2-st1" d="M61.9,18.9l-1.8,11.2c0,0.2,0.1,0.4,0.4,0.4h1.8c0.3,0,0.5-0.2,0.6-0.5l1.7-11c0-0.2-0.1-0.4-0.4-0.4h-2C62.1,18.6,61.9,18.8,61.9,18.9"/><path class="payPal-style-2-st1" d="M56.6,26.6c-0.2,1.2-1.1,2-2.3,2c-0.6,0-1.1-0.2-1.4-0.6c-0.3-0.4-0.4-0.9-0.3-1.4c0.2-1.2,1.1-2,2.3-2c0.6,0,1.1,0.2,1.4,0.6C56.5,25.5,56.7,26.1,56.6,26.6 M59.4,22.6h-2.1c-0.2,0-0.3,0.1-0.4,0.3l-0.1,0.6l-0.1-0.2c-0.4-0.6-1.4-0.9-2.4-0.9c-2.3,0-4.2,1.7-4.6,4.1c-0.2,1.2,0.1,2.4,0.8,3.2c0.6,0.7,1.5,1,2.6,1c1.8,0,2.9-1.2,2.9-1.2l-0.1,0.6c0,0.2,0.1,0.4,0.4,0.4h1.9c0.3,0,0.5-0.2,0.6-0.5l1.1-7.1C59.8,22.8,59.7,22.6,59.4,22.6"/><path class="payPal-style-2-st1" d="M47,22.7c-0.2,1.5-1.4,1.5-2.6,1.5h-0.7l0.5-2.9c0-0.2,0.2-0.3,0.4-0.3h0.3c0.8,0,1.5,0,1.9,0.4C47.1,21.7,47.1,22.1,47,22.7 M46.5,18.6h-4.3c-0.3,0-0.5,0.2-0.6,0.5l-1.7,11c0,0.2,0.1,0.4,0.4,0.4h2.2c0.2,0,0.4-0.1,0.4-0.4l0.5-3.1c0-0.3,0.3-0.5,0.6-0.5h1.4c2.8,0,4.5-1.4,4.9-4.1c0.2-1.2,0-2.1-0.6-2.8C49.1,19,48,18.6,46.5,18.6"/><path class="payPal-style-2-st2" d="M39.7,22.6h-2.1c-0.2,0-0.4,0.1-0.5,0.3l-2.9,4.2L33,23c-0.1-0.3-0.3-0.4-0.6-0.4h-2c-0.2,0-0.4,0.2-0.3,0.5l2.3,6.7l-2.2,3c-0.2,0.2,0,0.6,0.3,0.6h2.1c0.2,0,0.4-0.1,0.5-0.3l6.9-9.9C40.1,22.9,39.9,22.6,39.7,22.6"/><path class="payPal-style-2-st2" d="M25.8,26.6c-0.2,1.2-1.1,2-2.3,2c-0.6,0-1.1-0.2-1.4-0.6c-0.3-0.4-0.4-0.9-0.3-1.4c0.2-1.2,1.1-2,2.3-2c0.6,0,1.1,0.2,1.4,0.6C25.7,25.5,25.8,26.1,25.8,26.6 M28.6,22.6h-2.1c-0.2,0-0.3,0.1-0.4,0.3l-0.1,0.6L26,23.3c-0.4-0.6-1.4-0.9-2.4-0.9c-2.3,0-4.2,1.7-4.6,4.1c-0.2,1.2,0.1,2.4,0.8,3.2c0.6,0.7,1.5,1,2.6,1c1.8,0,2.9-1.2,2.9-1.2l-0.1,0.6c0,0.2,0.1,0.4,0.4,0.4h1.9c0.3,0,0.5-0.2,0.6-0.5L29,23C29,22.8,28.9,22.6,28.6,22.6"/><path class="payPal-style-2-st2" d="M16.2,22.7c-0.2,1.5-1.4,1.5-2.6,1.5H13l0.5-2.9c0-0.2,0.2-0.3,0.4-0.3h0.3c0.8,0,1.5,0,1.9,0.4C16.2,21.7,16.3,22.1,16.2,22.7 M15.7,18.6h-4.3c-0.3,0-0.5,0.2-0.6,0.5l-1.7,11c0,0.2,0.1,0.4,0.4,0.4h2.1c0.3,0,0.5-0.2,0.6-0.5l0.5-3c0-0.3,0.3-0.5,0.6-0.5h1.4c2.8,0,4.5-1.4,4.9-4.1c0.2-1.2,0-2.1-0.6-2.8C18.3,19,17.2,18.6,15.7,18.6"/></g>',discover:'<g><path class="discover-style-2-st0" d="M7.7,1h56.6C68,1,71,4,71,7.7v36.6c0,3.7-3,6.7-6.7,6.7H7.7C4,51,1,48,1,44.3V7.7C1,4,4,1,7.7,1z"/><path class="discover-style-2-st1" d="M71,33.7v10.6c0,3.7-3,6.7-6.7,6.7H19.7C19.7,51,53,47.3,71,33.7z"/><path class="discover-style-2-st2" d="M66,23.9c0-1.9-1.2-3-3.3-3h-2.7v10h1.8v-4H62l2.5,4h2.3l-3-4.2C65.2,26.5,66,25.5,66,23.9L66,23.9zM62.3,25.6h-0.5v-3h0.6c1.1,0,1.8,0.5,1.8,1.5C64.1,25,63.4,25.6,62.3,25.6L62.3,25.6z"/><polyline class="discover-style-2-st2" points="53.4,31 58.7,31 58.7,29.3 55.3,29.3 55.3,26.6 58.5,26.6 58.5,24.9 55.3,24.9 55.3,22.7 58.7,22.7 58.7,21 53.4,21 53.4,31"/><polyline class="discover-style-2-st2" points="48.1,27.7 45.5,21 43.5,21 47.5,31.2 48.5,31.2 52.6,21 50.6,21 48.1,27.7"/><g><path class="discover-style-2-st3" d="M33.8,25.9c0,3,2.2,5.3,5,5.3c2.8,0,5-2.3,5-5.2c0-2.9-2.2-5.2-5-5.2C36.1,20.8,33.8,23.1,33.8,25.9z"/></g><g><path class="discover-style-2-st1" d="M33.8,25.9c0,3,2.2,5.3,5,5.3c2.8,0,5-2.3,5-5.2c0-2.9-2.2-5.2-5-5.2C36.1,20.8,33.8,23.1,33.8,25.9z"/></g><path class="discover-style-2-st2" d="M25.8,26c0,2.9,2.2,5.2,5,5.2c0.8,0,1.5-0.2,2.3-0.6v-2.3c-0.7,0.8-1.4,1.1-2.2,1.1c-1.9,0-3.2-1.4-3.2-3.5c0-1.9,1.4-3.4,3.1-3.4c0.9,0,1.5,0.3,2.3,1.1v-2.3c-0.8-0.4-1.5-0.6-2.3-0.6C28.1,20.8,25.8,23.1,25.8,26"/><path class="discover-style-2-st2" d="M22.5,24.8c-1.1-0.4-1.4-0.7-1.4-1.3c0-0.6,0.6-1.1,1.4-1.1c0.6,0,1,0.2,1.5,0.8l1-1.3c-0.8-0.7-1.7-1.1-2.8-1.1c-1.7,0-2.9,1.2-2.9,2.9c0,1.4,0.6,2.1,2.3,2.7c0.7,0.3,1.1,0.4,1.3,0.6c0.4,0.3,0.6,0.6,0.6,1c0,0.8-0.6,1.4-1.4,1.4c-0.9,0-1.6-0.5-2-1.3l-1.2,1.2c0.8,1.3,1.9,1.9,3.3,1.9c1.9,0,3.3-1.4,3.3-3.3C25.3,26.4,24.6,25.6,22.5,24.8"/><polygon class="discover-style-2-st2" points="16.2,21 18,21 18,31 16.2,31"/><path class="discover-style-2-st2" d="M10.3,21H7.6v10h2.7c1.4,0,2.5-0.4,3.4-1.2c1.1-0.9,1.7-2.4,1.7-3.8C15.4,23,13.3,21,10.3,21L10.3,21zM12.4,28.5c-0.6,0.6-1.3,0.8-2.5,0.8H9.4v-6.6h0.5c1.2,0,1.9,0.2,2.5,0.8c0.6,0.6,1,1.5,1,2.5C13.5,26.9,13.1,27.9,12.4,28.5L12.4,28.5z"/></g>',applePay:'<g><path class="applePay-style-2-st0" d="M64.4,1H7.6C4,1,1,4,1,7.6v36.7C1,48,4,51,7.6,51h56.7c3.7,0,6.6-3,6.6-6.6V7.6C71,4,68,1,64.4,1z"/></g><g><g><path class="applePay-style-2-st1" d="M18.6,17.6c0.7-0.8,1-1.9,0.9-2.9c-1,0.1-2,0.6-2.7,1.4s-1,1.8-1,2.8C16.9,18.9,17.9,18.5,18.6,17.6"/><path class="applePay-style-2-st1" d="M19.5,19.1C18,19,16.7,19.9,16,19.9c-0.7,0-1.8-0.8-3-0.8c-1.6,0-3,0.9-3.8,2.3c-1.6,2.8-0.4,6.9,1.1,9.1c0.8,1.1,1.7,2.3,2.9,2.3s1.6-0.7,3-0.7s1.8,0.7,3,0.7s2-1.1,2.8-2.2c0.5-0.8,1-1.7,1.3-2.6c-1.5-0.6-2.4-2.1-2.4-3.7c0-1.4,0.8-2.7,2-3.5C22.1,19.8,20.8,19.2,19.5,19.1"/></g><g><path class="applePay-style-2-st1" d="M34.4,16c3.3,0,5.5,2.2,5.5,5.5S37.6,27,34.3,27h-3.6v5.7h-2.6V16H34.4z M30.7,24.8h3c2.3,0,3.6-1.2,3.6-3.3s-1.3-3.3-3.5-3.3h-3L30.7,24.8L30.7,24.8z"/><path class="applePay-style-2-st1" d="M40.6,29.3c0-2.1,1.6-3.4,4.7-3.6l3.2-0.2v-0.9c0-1.3-0.9-2.1-2.5-2.1c-1.3,0-2.3,0.7-2.5,1.7h-2.3c0.1-2.2,2.1-3.8,4.9-3.8c3,0,4.9,1.6,4.9,4v8.3h-2.4v-2h-0.1c-0.8,1.4-2.3,2.2-3.8,2.1C42.2,32.9,40.6,31.4,40.6,29.3z M48.5,28.2v-0.9l-2.9,0.2c-1.6,0.1-2.5,0.7-2.5,1.8S44,31,45.4,31C47.1,30.9,48.5,29.8,48.5,28.2z"/><path class="applePay-style-2-st1" d="M53.2,37.2v-2c0.3,0,0.5,0,0.8,0c1.1,0,1.8-0.5,2.2-1.7l0.2-0.7L52,20.6h2.7l3.1,9.9h0.1l3.1-9.9h2.6L59,33.4c-1,2.9-2.2,3.9-4.8,3.9C53.8,37.3,53.5,37.3,53.2,37.2z"/></g></g>',googlePay:'<g><path class="googlePay-style-2-st0" d="M63.4,0H6.6C3,0,0,3,0,6.6v36.7C0,47,3,50,6.6,50h56.7c3.7,0,6.6-3,6.6-6.6V6.6C70,3,67,0,63.4,0z"/></g><g><path class="googlePay-style-2-st1" d="M34.2,25.3v6.3h-2V15.9h5.3c1.3,0,2.5,0.5,3.5,1.4c0.9,0.8,1.5,2,1.4,3.3c0,1.3-0.5,2.5-1.4,3.3c-0.9,0.9-2.1,1.3-3.5,1.3L34.2,25.3L34.2,25.3z M34.2,17.9v5.5h3.4c0.7,0,1.5-0.3,2-0.8c1.1-1,1.1-2.7,0.1-3.8c0,0,0,0-0.1-0.1c-0.5-0.5-1.2-0.9-2-0.8L34.2,17.9L34.2,17.9z M47.1,20.6c1.5,0,2.7,0.4,3.5,1.2s1.3,1.9,1.3,3.3v6.6H50v-1.5h-0.1C49.1,31.4,48,32,46.6,32c-1.2,0-2.2-0.4-3-1.1s-1.2-1.6-1.2-2.6c0-1.1,0.4-2,1.3-2.6s2-1,3.4-1c1.2,0,2.2,0.2,3,0.7v-0.5c0-0.7-0.3-1.3-0.8-1.8s-1.2-0.7-1.9-0.7c-1.1,0-2,0.5-2.7,1.4l-1.8-1.1C43.8,21.3,45.2,20.6,47.1,20.6z M44.5,28.4c0,0.5,0.2,1,0.7,1.3c0.4,0.4,1,0.5,1.6,0.5c0.8,0,1.7-0.3,2.3-0.9c0.7-0.6,1-1.4,1-2.2c-0.6-0.5-1.5-0.8-2.6-0.8c-0.8,0-1.5,0.2-2,0.6C44.8,27.3,44.5,27.8,44.5,28.4L44.5,28.4z M63,20.9l-6.7,15.4h-2.1l2.5-5.4l-4.4-10h2.2l3.2,7.7l0,0l3.1-7.7H63z"/><path class="googlePay-style-2-st2" d="M26.1,23.9c0-0.6-0.1-1.2-0.2-1.8h-8.5v3.5h4.9c-0.2,1.1-0.9,2.1-1.8,2.7v2.3h2.9C25.1,29,26.1,26.7,26.1,23.9z"/><path class="googlePay-style-2-st3" d="M17.5,32.7c2.4,0,4.5-0.8,6-2.2l-2.9-2.3c-0.8,0.5-1.8,0.9-3.1,0.9c-2.3,0-4.3-1.6-5.1-3.7h-3v2.3C11,30.8,14.1,32.7,17.5,32.7z"/><path class="googlePay-style-2-st4" d="M12.4,25.4c-0.4-1.1-0.4-2.3,0-3.4v-2.3h-3c-1.3,2.5-1.3,5.5,0,8.1L12.4,25.4z"/><path class="googlePay-style-2-st5" d="M17.5,18.3c1.3,0,2.5,0.5,3.5,1.4l2.6-2.6c-1.6-1.5-3.8-2.4-6-2.3c-3.4,0-6.5,1.9-8,5l3,2.3C13.1,19.9,15.1,18.3,17.5,18.3z"/></g>',bitcoin:'<g><path class="bitcoin-style-2-st0" d="M46.1,26.6c-0.8-1.1-2-1.8-3.5-2.3c1.1-0.5,1.9-1.2,2.6-2.2c0.6-1,0.9-2,0.9-3.2c0-1.1-0.3-2.1-0.8-2.9c-0.5-0.9-1.1-1.6-1.9-2.1c-0.8-0.5-1.6-0.9-2.6-1c-0.7-0.1-1.7-0.2-2.9-0.2V9h-4.2v3.7h-2.3h-0.3V9H27v3.7h-0.6h-3.8v4.2h3.8v16.6h-3.8v4.2h3.8H27V41h4.2v-3.4h0.3h2.3V41h4.2v-3.4c1.5,0,2.5-0.1,3-0.1c1.3-0.1,2.5-0.5,3.4-1.2c0.9-0.6,1.6-1.5,2.2-2.6c0.5-1.1,0.8-2.2,0.8-3.3C47.3,28.9,46.9,27.7,46.1,26.6z M34.3,16.8c2.4,0,3.8,0,4.3,0.1c0.8,0.1,1.5,0.4,1.9,0.9c0.4,0.5,0.6,1.1,0.6,1.9c0,0.8-0.2,1.5-0.7,2c-0.5,0.5-1.2,0.8-2,0.9c-0.5,0.1-1.7,0.1-3.7,0.1h-3.3v-5.8H34.3z M41.4,32.3c-0.5,0.5-1.1,0.9-1.8,1c-0.5,0.1-1.6,0.2-3.5,0.2h-4.7v-6.7h4.1c2.3,0,3.8,0.1,4.5,0.4c0.7,0.2,1.2,0.6,1.6,1.1c0.4,0.5,0.5,1.2,0.5,1.9C42.1,31,41.9,31.7,41.4,32.3z"/></g><g><path class="bitcoin-style-2-st1" d="M62.5,50.1h-55c-4.1,0-7.4-3.3-7.4-7.5V7.3c0-4,3.4-7.4,7.4-7.4h55.1c1.9,0,3.8,0.8,5.2,2.2c1.4,1.4,2.1,3.2,2,5.2v35.4C69.8,46.8,66.5,50.1,62.5,50.1z M7.4,1.9c-2.9,0-5.4,2.5-5.4,5.4v35.4c0,3,2.4,5.5,5.4,5.5h55 c3,0,5.4-2.4,5.4-5.4V7.3c0-1.4-0.5-2.7-1.5-3.7c-1-1-2.4-1.6-3.8-1.6H7.4z"/></g>'},style3:{visa:'<g><path class="visa-style-3-st0" d="M5,1h62c2.2,0,4,1.8,4,4v42c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5C1,2.8,2.8,1,5,1z"/><path class="visa-style-3-st1" d="M15,22h42c2.2,0,4,1.8,4,4v0c0,2.2-1.8,4-4,4H15c-2.2,0-4-1.8-4-4v0C11,23.8,12.8,22,15,22z"/><path class="visa-style-3-st1" d="M5,1h62c2.2,0,4,1.8,4,4v5H1V5C1,2.8,2.8,1,5,1z"/><path class="visa-style-3-st2" d="M71,42v5c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4v-5H71z"/></g>',masterCard:'<g><path class="masterCard-style-3-st0" d="M5,1h62c2.2,0,4,1.8,4,4v42c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5C1,2.8,2.8,1,5,1z"/><g transform="translate(12.526316, 11.194030)"><path class="masterCard-style-3-st1" d="M23.8,4.6c-2.4-2.1-5.5-3.3-8.8-3.3C7.5,1.3,1.4,7.4,1.4,15.1S7.5,28.9,15,28.9c3.4,0,6.5-1.2,8.8-3.3c2.4,2.1,5.5,3.3,8.8,3.3c7.5,0,13.6-6.2,13.6-13.8S40.2,1.3,32.7,1.3C29.3,1.3,26.2,2.5,23.8,4.6z"/><path class="masterCard-style-3-st2" d="M23.8,4.6c-2.4-2.1-5.5-3.3-8.8-3.3C7.5,1.3,1.4,7.4,1.4,15.1S7.5,28.9,15,28.9c3.4,0,6.5-1.2,8.8-3.3c-2.9-2.5-4.8-6.3-4.8-10.5S20.9,7.1,23.8,4.6z"/><path class="masterCard-style-3-st3" d="M23.8,25.6c2.4,2.1,5.5,3.3,8.8,3.3c7.5,0,13.6-6.2,13.6-13.8S40.2,1.3,32.7,1.3c-3.4,0-6.5,1.2-8.8,3.3c2.9,2.5,4.8,6.3,4.8,10.5S26.8,23,23.8,25.6z"/></g><path class="masterCard-style-3-st4" d="M24.2,22h25c2.2,0,4,1.8,4,4v0c0,2.2-1.8,4-4,4h-25c-2.2,0-4-1.8-4-4v0C20.2,23.8,22,22,24.2,22z"/></g>',americanExpress:'<g><path class="americanExpress-style-3-st0" d="M5,1h62c2.2,0,4,1.8,4,4v42c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5C1,2.8,2.8,1,5,1z"/><path class="americanExpress-style-3-st1" d="M15.2,21h42c2.2,0,4,1.8,4,4v0c0,2.2-1.8,4-4,4h-42c-2.2,0-4-1.8-4-4v0C11.2,22.8,13,21,15.2,21z"/></g>',payPal:'<g><path class="payPal-style-3-st0" d="M5,1h62c2.2,0,4,1.8,4,4v42c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5C1,2.8,2.8,1,5,1z"/><path class="payPal-style-3-st1" d="M26.4,31.2l3-18.8c0.3-2.2,2.4-3.7,4.6-3.3l0,0c2.2,0.3,3.7,2.4,3.3,4.6l-3,18.8c-0.3,2.2-2.4,3.7-4.6,3.3h0C27.6,35.5,26.1,33.4,26.4,31.2z"/><path class="payPal-style-3-st2" d="M36.7,38.3l3-18.8c0.3-2.2,2.4-3.7,4.6-3.3h0c2.2,0.3,3.7,2.4,3.3,4.6l-3,18.8c-0.3,2.2-2.4,3.7-4.6,3.3h0C37.8,42.5,36.3,40.5,36.7,38.3z"/></g>',discover:'<g><path class="discover-style-3-st0" d="M7.7,1h56.6C68,1,71,4,71,7.7v36.6c0,3.7-3,6.7-6.7,6.7H7.7C4,51,1,48,1,44.3V7.7C1,4,4,1,7.7,1z"/><path class="discover-style-3-st1" d="M71,33.7v10.6c0,3.7-3,6.7-6.7,6.7H19.7C19.7,51,53,47.3,71,33.7z"/>\t<path class="discover-style-3-st1" d="M33.8,25.9c0,3,2.2,5.3,5,5.3c2.8,0,5-2.3,5-5.2c0-2.9-2.2-5.2-5-5.2C36.1,20.8,33.8,23.1,33.8,25.9z"/><path class="discover-style-3-st2" d="M11.7,21.9h15c2.2,0,4,1.8,4,4v0c0,2.2-1.8,4-4,4h-15c-2.2,0-4-1.8-4-4v0C7.7,23.7,9.5,21.9,11.7,21.9z"/><path class="discover-style-3-st2" d="M51.7,21.9h9c2.2,0,4,1.8,4,4v0c0,2.2-1.8,4-4,4h-9c-2.2,0-4-1.8-4-4v0C47.7,23.7,49.5,21.9,51.7,21.9z"/></g>',applePay:'<g><path class="applePay-style-3-st0" d="M67,52H5c-2.8,0-5-2.2-5-5V5c0-2.8,2.2-5,5-5h62c2.8,0,5,2.2,5,5v42C72,49.8,69.8,52,67,52z M5,2\t\tC3.3,2,2,3.3,2,5v42c0,1.7,1.3,3,3,3h62c1.7,0,3-1.3,3-3V5c0-1.7-1.3-3-3-3H5z"/></g><g>\t<path class="applePay-style-3-st0" d="M15.2,21h42c2.2,0,4,1.8,4,4l0,0c0,2.2-1.8,4-4,4h-42c-2.2,0-4-1.8-4-4l0,0C11.2,22.8,13,21,15.2,21z"/></g>',googlePay:'<g><path  class="googlePay-style-3-st0" d="M5.3,1h62c2.2,0,4,1.8,4,4v42c0,2.2-1.8,4-4,4h-62c-2.2,0-4-1.8-4-4V5C1.3,2.8,3.1,1,5.3,1z"/><g><path class="googlePay-style-3-st1" d="M42.5,39.5L42.5,39.5c-2.2,0-4-1.8-4-4v-19c0-2.2,1.8-4,4-4h0c2.2,0,4,1.8,4,4v19\t\t\tC46.5,37.7,44.7,39.5,42.5,39.5z"/><g><path class="googlePay-style-3-st2" d="M30.1,39.5L30.1,39.5c-2.2,0-4-1.8-4-4v-19c0-2.2,1.8-4,4-4h0c2.2,0,4,1.8,4,4v19\t\t\t\tC34.1,37.7,32.3,39.5,30.1,39.5z"/><path class="googlePay-style-3-st3" d="M30.1,39.5L30.1,39.5c-2.2,0-4-1.8-4-4v-4h8v4C34.1,37.7,32.3,39.5,30.1,39.5z"/>\t\t\t<polygon class="googlePay-style-3-st4" points="34.1,27.3 26.1,26.3 26.1,19.5 34.1,20.5 \t\t\t"/><polygon class="googlePay-style-3-st5" points="34.1,33.3 26.1,32.3 26.1,25.5 34.1,26.5 \t\t\t"/></g></g></g>',bitcoin:'<g><path class="bitcoin-style-3-st0" d="M63.4,0H6.6C3,0,0,3,0,6.6v36.7C0,47,3,50,6.6,50h56.7c3.7,0,6.6-3,6.6-6.6V6.6C70,3,67,0,63.4,0z"/></g><g><g><path class="bitcoin-style-3-st1" d="M33,15v20c0,2.2-1.8,4-4,4l0,0c-2.2,0-4-1.8-4-4V15c0-2.2,1.8-4,4-4l0,0C31.2,11,33,12.8,33,15z"/></g><g><path class="bitcoin-style-3-st2" d="M45,15v20c0,2.2-1.8,4-4,4l0,0c-2.2,0-4-1.8-4-4V15c0-2.2,1.8-4,4-4l0,0C43.2,11,45,12.8,45,15z"/></g></g>'},style4:{visa:'<g><polygon class="visa-style-4-st0" points="52.3,28.1 55.5,28.1 54.3,22.7"/><path class="visa-style-4-st0" d="M64.4,1H7.6C4,1,1,4,1,7.6v36.7C1,48,4,51,7.6,51h56.7c3.7,0,6.6-3,6.6-6.6V7.6C71,4,68,1,64.4,1z M20.4,33.3L17,20.6c0,0-0.1,0-0.1,0c-0.2-0.1-0.5-0.3-0.7-0.4c0,0,0,0-0.1,0c-0.2-0.1-0.5-0.2-0.7-0.3c0,0-0.1,0-0.1,0c-0.4-0.2-0.8-0.4-1.2-0.5c0,0,0,0-0.1,0c-0.2-0.1-0.3-0.1-0.5-0.2c0,0,0,0,0,0c-0.1,0-0.3-0.1-0.3-0.1c0,0,0,0,0,0c-0.1,0-0.2,0-0.2-0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0l0.1-0.2h3h3c1.7,0,1.8,1.3,1.8,1.3l1.3,6.5v0l0.4,2.2l3.7-10h4.1l-6.1,14.5H20.4z M29.6,33.3L32,18.7h3.8l-2.4,14.5H29.6z M40.1,33.5c-2.6,0-4.3-0.8-4.3-0.8l0.6-3.3c1.6,1.2,6.3,1.6,6.3-0.4c0-2-5.3-2-5.3-5.8c0-4,4.5-4.8,6.4-4.8c1.8,0,3.5,0.6,3.5,0.6l-0.5,3.1c-1.6-0.9-5.4-1.1-5.4,0.5c0,1.6,5.4,2,5.4,5.8C46.7,32.2,42.7,33.5,40.1,33.5z M56.5,33.3l-0.4-2.2h-4.9l-0.8,2.2h-4l5.7-13.5c0,0,0.3-1.1,1.8-1.1H57l3.1,14.5H56.5z"/></g>',masterCard:'<g><g><path class="masterCard-style-4-st0" d="M39.2,18.6C39.2,18.6,39.2,18.6,39.2,18.6C39.2,18.6,39.2,18.6,39.2,18.6L39.2,18.6z"/><path class="masterCard-style-4-st0" d="M40,31.9C40,31.9,40,31.9,40,31.9L40,31.9C40,31.9,40,31.9,40,31.9z"/><path class="masterCard-style-4-st0" d="M39.2,33.4C39.2,33.4,39.2,33.4,39.2,33.4C39.2,33.4,39.2,33.4,39.2,33.4L39.2,33.4z"/><path class="masterCard-style-4-st0" d="M64.4,1H7.6C4,1,1,4,1,7.6v36.7C1,48,4,51,7.6,51h56.7c3.7,0,6.6-3,6.6-6.6V7.6C71,4,68,1,64.4,1z M46.1,39.9c-3.6,0-6.9-1.4-9.4-3.6c0,0,0,0,0.1-0.1c-2.5,2.3-5.8,3.7-9.4,3.7c-7.7,0-14-6.2-14-13.9c0-7.7,6.2-13.9,14-13.9c3.6,0,6.9,1.4,9.3,3.6c0,0,0,0,0,0c2.5-2.2,5.8-3.6,9.4-3.6c7.7,0,14,6.2,14,13.9C60.1,33.7,53.8,39.9,46.1,39.9z"/><path class="masterCard-style-4-st0" d="M40,20.1C40,20.1,40,20.1,40,20.1C40,20.1,40,20.1,40,20.1L40,20.1z"/></g><path class="masterCard-style-4-st0" d="M57.7,29.7h-1.4l0.1-0.5c-0.4,0.4-0.8,0.6-1.4,0.6c-1.1,0-1.8-0.9-1.8-2.4c0-1.9,1.1-3.5,2.5-3.5c0.6,0,1,0.2,1.4,0.8l0.3-2h1.5L57.7,29.7L57.7,29.7z M55.5,28.4c0.7,0,1.2-0.8,1.2-1.9c0-0.7-0.3-1.1-0.8-1.1c-0.7,0-1.2,0.8-1.2,1.9C54.7,28,55,28.4,55.5,28.4L55.5,28.4z"/><path class="masterCard-style-4-st0" d="M50.9,23.8c-0.2,1.8-0.5,3.6-0.8,5.4L50,29.5h1.5c0.5-3.5,0.7-4.2,1.5-4.1c0.1-0.7,0.4-1.4,0.6-1.7c-0.6-0.1-1,0.2-1.5,0.9c0-0.3,0.1-0.6,0.1-0.9H50.9"/><path class="masterCard-style-4-st0" d="M48.5,27.1c-0.2,0-0.2,0-0.3,0c-0.9,0-1.3,0.3-1.3,0.9c0,0.4,0.2,0.6,0.5,0.6C48,28.5,48.5,27.9,48.5,27.1L48.5,27.1z M49.6,29.6h-1.3l0-0.6c-0.4,0.5-0.9,0.7-1.6,0.7c-0.8,0-1.4-0.6-1.4-1.6c0-1.4,1-2.2,2.7-2.2c0.2,0,0.4,0,0.6,0c0-0.2,0.1-0.3,0.1-0.4c0-0.4-0.3-0.5-1-0.5c-0.7,0-1.4,0.2-1.6,0.3c0-0.1,0.2-1.3,0.2-1.3c0.8-0.2,1.3-0.3,1.8-0.3c1.3,0,2,0.6,2,1.7c0,0.3,0,0.7-0.1,1.1C49.9,27.4,49.7,29.2,49.6,29.6L49.6,29.6z"/><path class="masterCard-style-4-st0" d="M46.1,22.8l-0.2,1.5c-0.5-0.3-0.9-0.4-1.4-0.4c-1.1,0-1.9,1.1-1.9,2.6c0,1.1,0.5,1.7,1.4,1.7c0.4,0,0.8-0.1,1.3-0.4L45,29.6c-0.6,0.2-0.9,0.2-1.3,0.2c-1.6,0-2.6-1.2-2.6-3.1c0-2.5,1.4-4.3,3.4-4.3C45.1,22.4,45.9,22.7,46.1,22.8"/><path class="masterCard-style-4-st0" d="M38.6,23.8c-0.2,1.8-0.5,3.6-0.8,5.4l-0.1,0.4h1.5c0.5-3.5,0.7-4.2,1.5-4.1c0.1-0.7,0.4-1.4,0.6-1.7c-0.6-0.1-1,0.2-1.5,0.9c0-0.3,0.1-0.6,0.1-0.9H38.6"/><path class="masterCard-style-4-st0" d="M37.2,29.5c-0.5,0.2-1,0.2-1.5,0.2c-1.7,0-2.6-0.9-2.6-2.6c0-2,1.1-3.4,2.6-3.4c1.2,0,2,0.8,2,2.1c0,0.4-0.1,0.8-0.2,1.4h-3c-0.1,0.8,0.4,1.2,1.3,1.2c0.5,0,1-0.1,1.6-0.4L37.2,29.5L37.2,29.5z M36.3,26.1c0-0.1,0.2-1-0.7-1c-0.5,0-0.8,0.4-1,1H36.3L36.3,26.1z"/><path class="masterCard-style-4-st0" d="M32.5,29.6c-0.4,0.1-0.7,0.2-1.1,0.2c-0.8,0-1.2-0.4-1.2-1.3c0-0.3,0.1-0.9,0.2-1.5c0.1-0.5,0.7-3.9,0.7-3.9h1.5l-0.2,0.9h0.8L33,25.3h-0.8c-0.2,1.1-0.4,2.5-0.4,2.6c0,0.3,0.2,0.4,0.5,0.4c0.2,0,0.3,0,0.4-0.1L32.5,29.6"/><path class="masterCard-style-4-st0" d="M26.6,25.7c0,0.7,0.4,1.2,1.2,1.6c0.6,0.3,0.7,0.4,0.7,0.6c0,0.4-0.3,0.5-0.9,0.5c-0.5,0-0.9-0.1-1.4-0.2c0,0-0.2,1.3-0.2,1.3c0.3,0.1,0.7,0.1,1.6,0.2c1.6,0,2.3-0.6,2.3-1.9c0-0.8-0.3-1.3-1.1-1.6c-0.6-0.3-0.7-0.4-0.7-0.6c0-0.3,0.3-0.5,0.7-0.5c0.3,0,0.7,0,1.1,0.1l0.2-1.3c-0.4-0.1-1-0.1-1.3-0.1C27.2,23.7,26.6,24.6,26.6,25.7"/><path class="masterCard-style-4-st0" d="M24.7,27.1c-0.2,0-0.2,0-0.3,0c-0.9,0-1.3,0.3-1.3,0.9c0,0.4,0.2,0.6,0.5,0.6C24.2,28.5,24.7,27.9,24.7,27.1L24.7,27.1z M25.8,29.6h-1.3l0-0.6c-0.4,0.5-0.9,0.7-1.6,0.7c-0.8,0-1.4-0.6-1.4-1.6c0-1.4,1-2.2,2.7-2.2c0.2,0,0.4,0,0.6,0c0-0.2,0.1-0.3,0.1-0.4c0-0.4-0.3-0.5-1-0.5c-0.7,0-1.4,0.2-1.6,0.3c0-0.1,0.2-1.3,0.2-1.3c0.8-0.2,1.3-0.3,1.8-0.3c1.3,0,2,0.6,2,1.7c0,0.3,0,0.7-0.1,1.1C26.1,27.4,25.8,29.2,25.8,29.6L25.8,29.6z"/><polyline class="masterCard-style-4-st0" points="20.8,29.7 19.3,29.7 20.2,24.3 18.3,29.7 17.2,29.7 17.1,24.3 16.2,29.7 14.8,29.7 16,22.6 18.1,22.6 18.2,27 19.7,22.6 22,22.6 20.8,29.7"/></g>',americanExpress:'<g><path class="americanExpress-style-4-st0" d="M37.5,28.2c-0.1,0-0.2,0-0.2,0h-4.2v0h-1.3l-2,2.1l-2-2.1h-0.9h-5.4V35h5.4h1l1.8-2l1.8,2h1.5h1.7v-2.2h1.7c2.2,0,3-0.6,3-2.6C39.5,28.4,38,28.2,37.5,28.2z M26.9,33.5h-3.6v-1.1h3.5v-1.5h-3.5v-1h3.6l1.7,1.8L26.9,33.5z M33.1,34L31,31.7l2.1-2.3V34z M36.6,31.1h-1.8v-1.3h1.8c0.5,0,0.9,0.3,0.9,0.6C37.5,30.8,37.1,31.1,36.6,31.1z"/><path class="americanExpress-style-4-st0" d="M45.6,22.1c0,0.1,0,0.3,0,0.4c0,0.7,0.2,0.7,0.3,0.7c0,0,0,0,0,0l0.7-1.6l-0.7,0C45.9,21.6,45.7,21.6,45.6,22.1z"/><rect x="40.5" y="19.1" class="americanExpress-style-4-st0" width="1.7" height="6.7"/><polygon class="americanExpress-style-4-st0" points="32.5,24.3 28.9,24.3 28.9,23.2 32.4,23.2 32.4,21.7 28.9,21.7 28.9,20.6 32.5,20.6 32.5,19.1 27.1,19.1 27.1,25.8 32.5,25.8 \t"/><path class="americanExpress-style-4-st0" d="M45.1,25.8H46h0.3h1.6l0.6-1.4h3.2l0.6,1.4h1.6h0.3h1.5v-4.5l2.7,4.5h2.4v-6.7H59v4.4l-2.7-4.4h-2.4v6.1l-2.6-6.1h-2.4l-2.1,5c0,0-0.3,0.1-0.7,0.1c-0.6,0-1.3-0.3-1.3-1.7c0-0.1,0-0.3,0-0.5c0.1-1.5,1.3-1.5,1.3-1.5l1.7,0v-1.5L45.5,19c-0.1,0-2.7-0.1-2.7,3.6C42.8,25.4,45.1,25.8,45.1,25.8z M50,20.6l0.8,2h-1.7L50,20.6z"/><path class="americanExpress-style-4-st0" d="M56.5,30.8c-0.1,0-0.2,0-0.2,0s-0.1,0-0.2,0c-0.3,0-1.1,0-1.1-0.5c0-0.4,0.4-0.5,0.7-0.5c0.2,0,0.3,0,0.3,0h2.7v-1.6h-3.3c0,0,0,0-0.1,0c-0.4,0-2.1,0.1-2.1,2.1c0,1.9,1.7,2,2.2,2c0.1,0,0.2,0,0.2,0s0,0,0.1,0c0.3,0,1.4,0,1.4,0.6c0,0.5-0.5,0.5-0.8,0.5c-0.1,0-0.2,0-0.2,0h-2.7V35h3.1c0,0,0.1,0,0.2,0c0.6,0,2.3-0.2,2.3-2.4C58.9,30.9,57,30.8,56.5,30.8z"/><path class="americanExpress-style-4-st0" d="M62.5,30.8c-0.1,0-0.2,0-0.2,0s-0.1,0-0.2,0c-0.3,0-1.1,0-1.1-0.5c0-0.4,0.4-0.5,0.7-0.5c0.2,0,0.3,0,0.3,0h2.7v-1.6h-3.3c0,0,0,0-0.1,0c-0.4,0-2.1,0.1-2.1,2.1c0,1.9,1.7,2,2.2,2c0.1,0,0.2,0,0.2,0s0,0,0.1,0c0.3,0,1.4,0,1.4,0.6c0,0.5-0.5,0.5-0.8,0.5c-0.1,0-0.2,0-0.2,0h-2.7V35h3.1c0,0,0.1,0,0.2,0c0.6,0,2.3-0.2,2.3-2.4C65,30.9,63.1,30.8,62.5,30.8z"/><path class="americanExpress-style-4-st0" d="M46.4,30.2c0-1.8-1.4-2-2-2c-0.1,0-0.2,0-0.2,0h-4.2V35h1.7v-2.3h1.7c1.1,0,1.2,1,1.2,1V35h1.7v-1.7c0-1.1-0.8-1.5-0.8-1.5S46.4,31.4,46.4,30.2z M43.6,31.1h-1.8v-1.3h1.8c0.5,0,0.9,0.3,0.9,0.6S44.1,31.1,43.6,31.1z"/><path class="americanExpress-style-4-st0" d="M64.4,1H7.6C4,1,1,4,1,7.6v36.7C1,48,4,51,7.6,51h56.7c3.7,0,6.6-3,6.6-6.6V7.6C71,4,68,1,64.4,1z M19.9,26.2l-0.3-0.6v0.1v1h-1h-1.5h-0.2h-1.7h-0.7l-0.3-0.6L14,25.4h-1.8l-0.3,0.8l-0.3,0.6h-0.7H9H7.5l0.6-1.4l2.9-6.7l0.3-0.6h0.7h2.4H15l0.3,0.6l0.7,1.7v-1.3v-1h1h2.7h0.6l0.3,0.6l1,2.2l1-2.2l0.3-0.6h0.6h2.7h1v0h5.2v0h1h4.1c0.1,0,0.1,0,0.3,0c0.6,0,1.2,0.1,1.7,0.4v-0.4h1h1.7h1v0.8c0.6-0.5,1.4-0.8,2.2-0.9l0,0l0.1,0l2.1,0.1l0.5,0l0,0h0.7h2.4h0.7l0.3,0.6l0.7,1.6v-1.2v-1h1h2.4h0.6l0.3,0.5l0.9,1.4v-0.9v-1h1h1.7h1v1v6.7v1h-1h-2.4h-0.6l-0.3-0.5l-0.9-1.5v0.9v1h-1h-1.5h-0.3h-1.6h-0.7l-0.3-0.6l-0.3-0.8h-1.8l-0.3,0.8l-0.3,0.6h-0.7h-1.6H46h-0.8h-0.1l-0.1,0c-0.5-0.1-1.2-0.3-1.8-0.8v0.9h-1h-1.7h-1v0H38h-1v-1v-1.2c0,0,0-0.1,0-0.1c0,0,0,0-0.1,0h-0.7v1.3v1h-1h-1.7h-1v0h-5.2v0h-1h-1.7h-1v-1v-0.1l-0.3,0.6l-0.3,0.6h-0.6h-1.4h-0.6L19.9,26.2z M62.7,36c-0.1,0-0.2,0-0.3,0h-3h-1v-0.5c-0.6,0.3-1.2,0.5-1.8,0.5c-0.1,0-0.2,0-0.3,0h-2.8v0h-1h-5.2v0h-1h-1.7h-1v-1v-1.2c0,0,0-0.1,0-0.1c0,0,0,0-0.1,0h-0.7V35v1h-1h-1.7h-1v-1v-1.7c-0.6,0.3-1.5,0.5-2.6,0.5h-0.7V35v1h-1h-1.7h-1.5h-0.4l-0.3-0.3l-1.1-1.2l-1.1,1.2L28.4,36h-0.4h-1h-5.4h-1v-1v-6.7v-1h1h5.4h0.9h0.4l0.3,0.3l1.3,1.4l1.3-1.3l0.3-0.3h0.4h0.3v0h1h4.1c0.1,0,0.1,0,0.2,0c0.5,0,1.1,0.1,1.6,0.4v-0.4h1h4.1c0.1,0,0.1,0,0.3,0c0.6,0,1.2,0.1,1.7,0.4v-0.4h1h5.4h1v0.4c0.5-0.3,1.1-0.4,1.7-0.4c0,0,0.1,0,0.1,0h3.3h1v0.4c0.5-0.3,1.1-0.4,1.7-0.4c0,0,0.1,0,0.1,0h3.3h1v1v1.6v1h-0.3c0.4,0.5,0.6,1.1,0.6,1.8C66,35.1,64.2,36,62.7,36z"/><path class="americanExpress-style-4-st0" d="M35.1,23.4h1.7c1.1,0,1.2,1,1.2,1v1.3h1.7v-1.7c0-1.1-0.8-1.5-0.8-1.5s1-0.4,1-1.6c0-1.8-1.4-2-2-2c-0.1,0-0.2,0-0.2,0h-4.2v6.7h1.7V23.4z M35.1,20.6h1.8c0.5,0,0.9,0.3,0.9,0.6c0,0.4-0.4,0.6-0.9,0.6h-1.8V20.6z"/><path class="americanExpress-style-4-st0" d="M22.2,25.8l2.2-4.6v4.6h1.7v-6.7h-2.7l-1.9,4.2l-1.9-4.2h-2.7v6.2l-2.6-6.2h-2.4L9,25.8h1.9l0.6-1.4h3.2l0.6,1.4h1.7h0.2h1.5v-4.6l2.2,4.6H22.2z M12.2,22.7l0.8-2l0.8,2H12.2z"/><polygon class="americanExpress-style-4-st0" points="47.2,35 52.5,35 52.5,33.5 48.9,33.5 48.9,32.4 52.5,32.4 52.5,30.9 48.9,30.9 48.9,29.8 52.5,29.8 52.5,28.3 47.2,28.3 \t"/></g>',payPal:'<g><path class="payPal-style-4-st0" d="M54.8,24.6c-1.2,0-2.1,0.8-2.3,2c-0.1,0.6,0,1.1,0.3,1.4c0.3,0.4,0.8,0.6,1.4,0.6c1.2,0,2.1-0.8,2.3-2c0.1-0.6,0-1.1-0.4-1.5C55.9,24.8,55.4,24.6,54.8,24.6z"/><g><path class="payPal-style-4-st0" d="M44.9,21h-0.3c-0.2,0-0.3,0.1-0.4,0.3l-0.5,2.9h0.7c1.1,0,2.3,0,2.6-1.5c0.1-0.5,0-0.9-0.2-1.2C46.4,21,45.7,21,44.9,21z"/><g><g><path class="payPal-style-4-st0" d="M14.1,21h-0.3c-0.2,0-0.3,0.1-0.4,0.3L13,24.2h0.7c1.1,0,2.3,0,2.6-1.5c0.1-0.5,0-0.9-0.2-1.2C15.6,21,14.9,21,14.1,21z"/><path class="payPal-style-4-st0" d="M64.4,1H7.6C4,1,1,4,1,7.6v36.7C1,48,4,51,7.6,51h56.7c3.7,0,6.6-3,6.6-6.6V7.6C71,4,68,1,64.4,1zM14.5,26.6h-1.4c-0.3,0-0.5,0.2-0.6,0.5l-0.5,3c0,0.3-0.3,0.5-0.6,0.5H9.4c-0.2,0-0.4-0.2-0.4-0.4l1.7-11c0-0.3,0.3-0.5,0.6-0.5h4.3c1.4,0,2.5,0.4,3.1,1.1c0.6,0.7,0.7,1.6,0.6,2.8C19,25.2,17.4,26.6,14.5,26.6z M27.9,30.1c0,0.3-0.3,0.5-0.6,0.5h-1.9c-0.2,0-0.4-0.2-0.4-0.4l0.1-0.6c0,0-1,1.2-2.9,1.2c-1.1,0-2-0.3-2.6-1c-0.7-0.8-1-2-0.8-3.2c0.4-2.4,2.3-4.1,4.6-4.1c1,0,2,0.2,2.4,0.9l0.1,0.2l0.1-0.6c0-0.2,0.2-0.3,0.4-0.3h2.1c0.2,0,0.4,0.2,0.4,0.4L27.9,30.1zM32.5,33.4h-2.1c-0.3,0-0.5-0.3-0.3-0.6l2.2-3L30,23.1c-0.1-0.2,0.1-0.5,0.3-0.5h2c0.3,0,0.5,0.2,0.6,0.4l1.2,4l2.9-4.2c0.1-0.2,0.3-0.3,0.5-0.3h2.1c0.3,0,0.5,0.3,0.3,0.6L33,33.1C32.9,33.3,32.7,33.4,32.5,33.4z M45.3,26.6H44c-0.3,0-0.5,0.2-0.6,0.5l-0.5,3.1c0,0.2-0.2,0.4-0.4,0.4h-2.2c-0.2,0-0.4-0.2-0.4-0.4l1.7-11c0-0.3,0.3-0.5,0.6-0.5h4.3c1.4,0,2.5,0.4,3.1,1.1c0.6,0.7,0.7,1.6,0.6,2.8C49.8,25.2,48.2,26.6,45.3,26.6z M58.7,30.1c0,0.3-0.3,0.5-0.6,0.5h-1.9c-0.2,0-0.4-0.2-0.4-0.4l0.1-0.6c0,0-1,1.2-2.9,1.2c-1.1,0-2-0.3-2.6-1c-0.7-0.8-1-2-0.8-3.2c0.4-2.4,2.3-4.1,4.6-4.1c1,0,2,0.2,2.4,0.9l0.1,0.2l0.1-0.6c0-0.2,0.2-0.3,0.4-0.3h2.1c0.2,0,0.4,0.2,0.4,0.4L58.7,30.1z M62.8,30.1c0,0.3-0.3,0.5-0.6,0.5h-1.8c-0.2,0-0.4-0.2-0.4-0.4l1.8-11.2c0-0.2,0.2-0.3,0.4-0.3h2c0.2,0,0.4,0.2,0.4,0.4L62.8,30.1z"/></g><path class="payPal-style-4-st0" d="M24,24.6c-1.2,0-2.1,0.8-2.3,2c-0.1,0.6,0,1.1,0.3,1.4c0.3,0.4,0.8,0.6,1.4,0.6c1.2,0,2.1-0.8,2.3-2c0.1-0.6,0-1.1-0.4-1.5C25.1,24.8,24.6,24.6,24,24.6z"/></g></g></g>',discover:'<g><path class="discover-style-4-st0" d="M9.9,22.7H9.4v6.6h0.5c1.2,0,1.9-0.2,2.5-0.8c0.6-0.6,1-1.6,1-2.5c0-1-0.4-1.9-1-2.5C11.8,22.9,11.1,22.7,9.9,22.7z"/><path class="discover-style-4-st0" d="M64.3,1H7.7C4,1,1,4,1,7.7v36.6C1,48,4,51,7.7,51h56.6c3.7,0,6.7-3,6.7-6.7V7.7C71,4,68,1,64.3,1z M13.6,29.8c-0.9,0.8-1.9,1.2-3.4,1.2H7.6V21h2.7c3,0,5.1,2.1,5.1,5C15.4,27.5,14.7,28.9,13.6,29.8z M18,31h-1.8V21H18V31z M22,31.2c-1.4,0-2.4-0.6-3.3-1.9l1.2-1.2c0.4,0.9,1.1,1.3,2,1.3c0.8,0,1.4-0.6,1.4-1.4c0-0.4-0.2-0.8-0.6-1c-0.2-0.1-0.6-0.3-1.3-0.6c-1.7-0.7-2.3-1.4-2.3-2.7c0-1.6,1.3-2.9,2.9-2.9c1,0,2,0.4,2.8,1.1l-1,1.3c-0.5-0.6-0.9-0.8-1.5-0.8c-0.8,0-1.4,0.5-1.4,1.1c0,0.5,0.3,0.8,1.4,1.3c2.1,0.8,2.7,1.5,2.7,3.1C25.3,29.9,23.9,31.2,22,31.2z M33.1,23.7c-0.8-0.8-1.4-1.1-2.3-1.1c-1.7,0-3.1,1.5-3.1,3.4c0,2,1.3,3.5,3.2,3.5c0.8,0,1.5-0.3,2.2-1.1v2.3c-0.8,0.4-1.5,0.6-2.3,0.6c-2.8,0-5-2.3-5-5.2c0-2.9,2.2-5.2,5-5.2c0.8,0,1.5,0.2,2.3,0.6V23.7z M38.9,31.2c-2.9,0-5-2.3-5-5.3c0-2.8,2.3-5.1,5-5.1c2.8,0,5,2.3,5,5.2C43.9,28.9,41.7,31.2,38.9,31.2z M48.5,31.2h-1l-4-10.3h2l2.5,6.7l2.5-6.7h2L48.5,31.2z M58.7,22.7h-3.4v2.2h3.3v1.7h-3.3v2.7h3.4V31h-5.2V21h5.2V22.7z M64.5,31L62,27h-0.2v4h-1.8V21h2.7c2.1,0,3.3,1.1,3.3,3c0,1.5-0.8,2.5-2.2,2.8l3,4.2H64.5z"/><path class="discover-style-4-st0" d="M62.3,22.6h-0.6v3h0.5c1.2,0,1.8-0.5,1.8-1.5C64.1,23.1,63.4,22.6,62.3,22.6z"/></g>',applePay:'<g><path class="applePay-style-4-st0" d="M32.8,17.2h-3l-0.1,6.6h3c2.3,0,3.6-1.2,3.6-3.3S35,17.2,32.8,17.2z"/><path class="applePay-style-4-st0" d="M42,28.3c0,1.1,0.9,1.7,2.3,1.7c1.8-0.2,3.1-1.3,3.1-2.8v-0.9l-2.9,0.2C42.9,26.6,42,27.2,42,28.3z"/><path class="applePay-style-4-st0" d="M63.4,0H6.6C3,0,0,3,0,6.6v36.7C0,47,3,50,6.6,50h56.7c3.7,0,6.6-3,6.6-6.6V6.6C70,3,67,0,63.4,0z M15.7,15.1\t\tc0.7-0.8,1.7-1.3,2.7-1.4c0.1,1-0.2,2.1-0.9,2.9c-0.6,0.8-1.6,1.3-2.8,1.3C14.7,16.9,15,15.9,15.7,15.1z M21,29.6\t\tc-0.8,1.1-1.6,2.2-2.8,2.2s-1.6-0.7-3-0.7c-1.4,0-1.8,0.7-3,0.7s-2.1-1.2-2.9-2.3c-1.5-2.2-2.7-6.3-1.1-9.1C9,19,10.4,18.1,12,18.1\t\tc1.2,0,2.3,0.8,3,0.8s2-0.9,3.5-0.8c1.3,0,2.5,0.7,3.4,1.7c-1.2,0.8-2,2.1-2,3.5c0,1.6,0.9,3.1,2.4,3.7C22,27.9,21.5,28.8,21,29.6z\t\t M33.3,26h-3.6v5.7h-2.6V15h6.3c3.3,0,5.5,2.2,5.5,5.5S36.6,26,33.3,26z M49.9,31.6h-2.4v-2h-0.1c-0.8,1.4-2.3,2.2-3.8,2.1\t\tc-2.4,0.1-4.1-1.3-4.1-3.5c0-2.1,1.6-3.4,4.7-3.6l3.2-0.2v-0.9c0-1.3-0.9-2.1-2.5-2.1c-1.3,0-2.3,0.7-2.5,1.7h-2.3\t\tc0.1-2.2,2.1-3.8,4.9-3.8c3,0,4.9,1.6,4.9,4V31.6z M57.9,32.4c-1,2.9-2.2,3.9-4.8,3.9c-0.3,0-0.6-0.1-1-0.1v-2c0.3,0,0.5,0,0.8,0\t\tc1.1,0,1.8-0.5,2.2-1.7l0.2-0.7l-4.4-12.2h2.7l3.1,9.9h0.1l3.1-9.9h2.6L57.9,32.4z"/></g>\n',googlePay:'<g><path class="googlePay-style-4-st0" d="M45.7,27.4c-0.6,0.4-0.8,0.9-0.8,1.5c0,0.5,0.2,1,0.7,1.3c0.4,0.4,1,0.5,1.6,0.5c0.9,0,1.7-0.3,2.3-0.9\t\tc0.7-0.6,1-1.4,1-2.2c-0.6-0.5-1.5-0.8-2.6-0.8C46.9,26.8,46.2,27,45.7,27.4z"/><path class="googlePay-style-4-st0" d="M39.9,19.1c-0.5-0.6-1.3-0.9-2-0.8h-3.4v0v5.5h3.4c0.8,0,1.5-0.3,2-0.8C41,22,41,20.2,39.9,19.1\t\tC40,19.2,39.9,19.1,39.9,19.1z"/><path class="googlePay-style-4-st0" d="M64.4,1H7.6C4,1,1,4,1,7.6v36.7C1,48,4,51,7.6,51h56.7c3.7,0,6.6-3,6.6-6.6V7.6C71,4,68,1,64.4,1z M23.6,31.1\t\tL23.6,31.1L23.6,31.1c-1.5,1.4-3.6,2.2-6,2.2c-3.4,0-6.6-1.9-8.1-5c-1.3-2.6-1.3-5.6,0-8.2c1.5-3.1,4.7-5,8.1-5\tc2.3,0,4.4,0.8,6.1,2.4L21.1,20c-0.9-0.9-2.2-1.4-3.5-1.4c-2.4,0-4.4,1.6-5.1,3.7c-0.4,1.1-0.4,2.3,0,3.5c0.7,2.2,2.7,3.7,5.1,3.7\t\tc1.2,0,2.3-0.3,3.1-0.9v0c1-0.6,1.6-1.6,1.8-2.8h-4.9v-3.5h8.6c0.1,0.6,0.2,1.2,0.2,1.8C26.3,27.1,25.3,29.5,23.6,31.1z M37.9,25.7\t\th-3.4v0v6.4h-2V16.3h5.4c1.3,0,2.6,0.5,3.5,1.4c0.9,0.8,1.5,2.1,1.5,3.3c0,1.3-0.5,2.5-1.5,3.4C40.4,25.3,39.3,25.7,37.9,25.7z\t\t M52.3,32.2h-1.9v-1.5h-0.1c-0.8,1.2-2,1.9-3.4,1.9c-1.2,0-2.2-0.4-3-1.1c-0.8-0.7-1.2-1.6-1.2-2.6c0-1.1,0.4-2,1.3-2.7s2-1,3.4-1\t\tc1.2,0,2.2,0.2,3,0.7v-0.5c0-0.7-0.3-1.4-0.8-1.8c-0.5-0.5-1.2-0.7-2-0.7c-1.1,0-2,0.5-2.7,1.4l-1.8-1.1c1-1.4,2.4-2.1,4.4-2.1\t\tc1.5,0,2.7,0.4,3.6,1.2c0.9,0.8,1.3,1.9,1.3,3.3V32.2z M56.7,36.9h-2.1l2.5-5.5l-4.5-10.1h2.2l3.2,7.8h0l3.1-7.8h2.2L56.7,36.9z"/></g>',bitcoin:'<g><path class="bitcoin-style-4-st0" d="M38.3,22.6c0.8-0.1,1.4-0.3,1.9-0.8c0.5-0.4,0.7-1,0.7-1.8s-0.2-1.3-0.6-1.8c-0.4-0.4-1-0.7-1.8-0.8\t\tc-0.5-0.1-1.9-0.1-4.1-0.1h-2.7v5.4h3.1C36.7,22.7,37.8,22.7,38.3,22.6z"/><path class="bitcoin-style-4-st0" d="M41.2,27.9c-0.4-0.5-0.9-0.9-1.5-1.1c-0.6-0.2-2-0.3-4.2-0.3h-3.8v6.3h4.4c1.8,0,2.8,0,3.3-0.1\t\tc0.7-0.1,1.3-0.4,1.7-0.9c0.4-0.3,0.7-1,0.6-2.1C41.7,29,41.5,28.4,41.2,27.9z"/><path class="bitcoin-style-4-st0" d="M63.4,0H6.6C3,0,0,3,0,6.6v36.7C0,47,3,50,6.6,50h56.7c3.7,0,6.6-3,6.6-6.6V6.6C70,3,67,0,63.4,0z M45.9,33.4\t\tc-0.5,1-1.1,1.8-2,2.4c-0.9,0.6-1.9,1-3.2,1.1c-0.5,0-1.5,0.1-2.9,0.1v3.2h-3.9V37h-2.2h-0.3v3.2h-3.9V37h-0.6h-3.6v-4h3.6V17.2\t\th-3.6v-3.9h3.6h0.6V9.8h3.9v3.5h0.3h2.2V9.8h3.9v3.5c1.1,0,2,0.1,2.7,0.2c1,0.2,1.8,0.5,2.5,1s1.3,1.2,1.8,2\t\tc0.5,0.9,0.7,1.8,0.7,2.8c0,1.1-0.3,2.1-0.9,3c-0.6,0.9-1.4,1.6-2.4,2.1c1.4,0.4,2.5,1.1,3.3,2.1s1.2,2.3,1.1,3.8\t\tC46.6,31.3,46.4,32.4,45.9,33.4z"/></g>\n'}}})},"menu-element.js":function(t,e,i){function d(){return TVE.CSS_Rule_Cache.generate_id("",36)}function u(t){var e=(t=t.closest("li").children("a")).find(".tcb-mm-text");return e.length?e:t}var b,m,g,E,T,p,y;b=jQuery,m=i("../libs/shortcode-manager"),i("../libs/functions"),g="thrv_wrapper thrv_widget_menu tve-custom-menu-upgrade tve-mobile-dropdown",E="tcb-mega-drop-inner",T="tve_editable",p=Backbone.Model.extend({defaults:function(){return{config:{menu_id:"custom",dropdown_icon:"style_1",mobile_icon:"style_1",dir:"tve_horizontal",icon:{top:"",sub:""},layout:{default:"grid"}},tree:[]}},reset:function(){return this.clear({silent:!0}),this.set(this.defaults(),{silent:!0}),this},fillMissing:function(){var t=this.get("config"),e=!1;return t.uuid||(t.uuid=TVE.CSS_Rule_Cache.generate_id("m-"),e=!0),t.layout||(t.layout={default:"grid"},e=!0),e}},{defaultItems:function(t){var e=[{label:"Nav #1",id:1},{label:"Nav #2",id:2},{label:"Nav #3",id:3},{label:"Nav #4",id:4}];if("regular"===(0<arguments.length&&void 0!==t?t:"regular"))e[1].children=[{label:"Sub-nav #1",id:5},{label:"Sub-nav #2",id:6}];else{var i=5;e[1].children=_.map([1,2,3,4],function(t){return{label:"Main ".concat(t),id:i++,children:[{label:"Item 1",id:i++},{label:"Item 2",id:i++},{label:"Item 3",id:i++},{label:"Item 4",id:i++}]}})}return e}}),y=Backbone.View.extend({template:TVE.tpl("elements/menu"),iconTemplate:TVE.tpl("elements/menu-item-icon"),getIconHTML:function(t){return t?this.iconTemplate().replace(/_ID_/g,t):""},_setElement:function(t){this.$el=TVE.inner_$(t),this.el=this.$el[0]},_ensureElement:function(){return this.model=new p,Backbone.View.prototype._ensureElement.apply(this,arguments)},setElement:function(){return Backbone.View.prototype.setElement.apply(this,arguments),this.$(".thrive-shortcode-config").length||this.$el.prepend('<div class="thrive-shortcode-config" style="display:none"></div>'),this._shortcodeAPI=m(this.$el,"widget_menu",!0),this.model.reset(),this.needsUpgrade=!1,this.isPlaceholder()||(this.model.set("config",this._shortcodeAPI.get()),this.model.set("tree",this.isCustom()?this._parse():[]),this.model.fillMissing()&&this._shortcodeAPI.save(this.model.get("config")),this.$(".thrive-shortcode-html").removeAttr("data-css")),this.$svg=this.$(".m-icons"),this},isCustom:function(){return"custom"===this.model.get("config").menu_id},getType:function(){return this.model.get("config").type||"regular"},config:function(t,e){var i=this.model.get("config");return _.isObject(t)?(_.each(t,function(t,e){i[e]=t}),this._shortcodeAPI.save(i),this):void 0!==e?(i[t]=e,this._shortcodeAPI.save(i),this):t?i[t]:i},groupConfig:function(n,t,e,i){var s=3<arguments.length&&void 0!==i?i:"{ID}",a=this.model.get("config");if(a[n]=_.isEmpty(a[n])?{}:a[n],e.hasClass(TVE.Components.group.not_group_item_class)){var o=e.closest("li").attr("data-id");a[n][s.replace("{ID}",o)]=t}else a[n].default=t,e.each(function(t,e){var i=e.closest("li").dataset.id;delete a[n][s.replace("{ID}",i)]});return this._shortcodeAPI.save(a),this},get:function(){return this.model.get.apply(this.model,arguments)},getTemplateId:function(){return parseInt(this.config("template"))},refresh:function(t){var e=this,i=0<arguments.length&&void 0!==t&&t,n=jQuery.Deferred();return TVE.inner.window.TCB_Front.menu.customMenuSwitchIcon(),this.isCustom()?(this.render(),n.resolve(this.$el)):TVE.ajax("custom_menu","post",this.model.get("config")).done(function(t){e.$el.html(t.response),n.resolve(e.$el)}),n.promise().done(function(t){e._shortcodeAPI=m(e.$el,"widget_menu",!0),e.$el.prepend(e.$svg),e.refreshSelectors(i)})},refreshSelectors:function(t){var d=this;0<arguments.length&&void 0!==t&&t&&this.regenerateIds(!1);var h=this.model.get("config"),e=this.$(".tve_w_menu").attr("id",h.uuid).length,u=".thrv_widget_menu #"+h.uuid,p=h.unlinked||{},f='[data-css="'+TVE.CSS_Rule_Cache.uniq_id(this.el)+'"]',m=!1,g=!1;function v(e,i){TVE.CSS_Rule_Cache.getRulesForSelector(new RegExp("#".concat(h.uuid,"(.+?)li(\\.menu-item)?").concat(e),"g")).forEach(function(t){TVE.CSS_Rule_Cache.copyCssRule(t,t.selectorText.replace(new RegExp("li(\\.menu-item)?".concat(e),"g"),"li.menu-item".concat(i)),!0)})}g=this.$el.data("tve-frontend-init")?this.$el.hasClass("tve-dropdown"):this.$(".tve-m-trigger").is(":visible"),!TVE.CONST.custom_menu.use_positional_selectors&&e&&_.each(p,function(t,e){if(-1!==e.indexOf(":")){var i=d.$(".thrive-shortcode-html > ul > li"+e);if(!i.length)return;var n=y.groupUnlinkedSelector(i);p[n]=p[e],delete p[e],h.icon&&h.icon[e]&&(h.icon[n]=h.icon[e],delete h.icon[e],i.find("> a .m-icon, > .m-icon").remove(),i.children("a").prepend(d.getIconHTML(h.icon[n]))),v(e,n),m=!0,h.top_cls&&void 0!==h.top_cls[e]&&(h.top_cls[n]=h.top_cls[e],i.removeClass(Object.keys(TVE.Components.menu_item.controls.HoverEffect.model.config.options).join(" ")).addClass(h.top_cls[n]),delete h.top_cls[e])}}),this.$("li.thrv_wrapper,.".concat(T)).removeClass("thrv_wrapper ".concat(T));var i="li, li ul";return g||"mega"!==h.type||(i="li.lvl-0, li.lvl-1, .".concat(E,", .").concat(E," li > a, li.lvl-1 > .thrv_text_element, li.lvl-1 .tcb-mm-image")),this.$(i).removeClass(TVE.Components.group.not_group_item_class).each(function(t,e){var i=e.classList.contains(TVE.Components.group.not_group_item_class),n=TVE.inner_$(e),s=u,a=y.groupUnlinkedSelector(n),o=!0;if(d.needsUpgrade&&i&&void 0===p[a]&&(p[a]=!0,m=!0),e.classList.add(T),e.classList.contains("tcb-mm-image"))s=d.getSelectorSpec("mega_image",h.uuid);else if(e.classList.contains("thrv_text_element"))o=!1,s=d.getSelectorSpec("mega_desc",h.uuid);else if("UL"===e.tagName)s+=" ul";else if("A"===e.tagName)s=d.getSelectorSpec("a",h.uuid),"DIV"===e.parentNode.parentNode.parentNode.tagName?s+=" > ul > li > a":s+=" li li a";else if(e.classList.contains(E))s=".tve-regular #".concat(h.uuid," .").concat(E);else{if("LI"!==e.tagName)throw new Error("unknown element!");"mega"===h.type&&!g&&e.classList.contains("lvl-1")?s=d.getSelectorSpec("mega_col",h.uuid):s+="LI"===e.parentNode.parentNode.tagName||e.parentNode.parentNode.classList.contains(E)?" li li":" > li"}if(void 0!==p[a]?("LI"!==e.tagName&&"A"!==e.tagName||(s+=".menu-item"),s+=a):s+=o?y.groupSelectorSuffix():"",d.needsUpgrade&&"LI"===e.tagName&&(i&&v(f+" #"+e.id,s),e.id&&TVE.CONST.custom_menu.typography_old_prefix.trim())){var r=TVE.CONST.custom_menu.typography_old_prefix.trim()+"(\\s)(.+?)",l=new RegExp(r+"(#"+e.id+"|#"+h.uuid+")","g"),c=TVE.CSS_Rule_Cache.getCssForSelector(l);delete c["@imports"],b.each(c,function(i,t){b.each(t,function(t,e){TVE.write_css(t.replace(TVE.CONST.custom_menu.typography_old_prefix,"").trim(),e,[i]),TVE.head_css_remove(t,[i])})})}!0===p[a]&&n.addClass(TVE.Components.group.not_group_item_class),e.dataset.selector=s}),m&&(this.config("unlinked",p),this.config("top_cls",h.top_cls||{})),this.needsUpgrade=!1,this.$(".".concat(E," > ul > li")).data("tcb-elem-type",""),this.$(".thrv_text_element p").each(function(){this.dataset.selector=this.closest(".thrv_text_element").dataset.selector+" p"}),this},render:function(){var i=this;if(!this.isCustom())return this;var e=this.model.get("tree")||[];e.length||p.defaultItems(this.getType()).forEach(function(t){return e.push(t)});var a=this.model.get("config"),t=TVE.Components.menu,o=this.getType(),n=this.$("ul.tve_w_menu").attr("data-iid"),s=_.mapObject(this.gatherMenuDescriptions(),function(t){return TVE.CONST.custom_menu.mega_desc_tpl.replace("%s",t)}),r=this.gatherMenuActions(),l=this.gatherMenuImages();if(this.$el.html(this.template({shortcode:this._shortcodeAPI,config:a,items:e,item_template:TVE.tpl("elements/menu-item"),trigger_icon:t.controls.MobileIcon.getIcon(a.mobile_icon),dropdown_icon:t.controls.DropdownIcon.getHtml(a.dropdown_icon),type:this.getType(),menuDescriptions:s})),this.$("ul.tve_w_menu").attr("data-iid",n||this.$("li").length+1),a.icon){var c=this.iconTemplate();this.$("li").each(function(t,e){var i="",n=b(e),s=y.groupUnlinkedSelector(n);(i=a.icon[s]?s:e.classList.contains("lvl-0")?"top":"mega"===o&&e.classList.contains("lvl-1")?"mega_main":"mega"===o&&e.classList.contains("lvl-2")?"mega_sub":"sub")&&a.icon[i]&&u(n).prepend(c.replace(/_ID_/g,a.icon[i]))})}if(a.top_cls&&this.$("ul.tve_w_menu > li").each(function(t,e){var i=y.groupUnlinkedSelector(e),n=a.top_cls[i]||a.top_cls.main||"";n&&e.classList.add(n)}),"mega"===this.getType()){var d=y.groupSelectorSuffix();_.each(a.layout,function(t,e){"masonry"===t&&("default"===e?i.$(".".concat(E).concat(d," > ul")).addClass("tcb-masonry"):i.$("li.menu-item-"+e.replace("drop-","")).find(".".concat(E," > ul")).addClass("tcb-masonry"))})}if(_.mapObject(r,function(t,e){i.$('li[data-id="'.concat(e,'"] > a')).addClass("tve_evt_manager_listen tve_et_click").attr("data-tcb-events",t)}),"mega"===this.getType()){var h=a.img_settings||{};!h.enabled&&_.isEmpty(l)||this.$("li.lvl-1").each(function(t,e){return i.renderImage(e,l[e.dataset.id],h)})}return this},_parse:function(){var o=0,r=this;var t=this.$(".thrive-shortcode-html"),e=[];return t.find(">ul>li").each(function(){e.push(function e(t){var i=t.querySelector(":scope > a"),n=t.querySelector(":scope > ul, :scope .".concat(E," > ul")),s=i.querySelector(":scope .tcb-mm-text"),a={id:parseInt(t.dataset.id||++o),label:s?s.textContent.trim():i.textContent.trim(),href:i.getAttribute("href"),target:i.getAttribute("target"),rel:i.getAttribute("rel"),"jump-animation":i.getAttribute("jump-animation"),"data-shortcode-id":i.getAttribute("data-shortcode-id"),"data-dynamic-link":i.getAttribute("data-dynamic-link"),old_id:t.id};return t.dataset.id||(r.needsUpgrade=!0,t.dataset.id=a.id,t.classList.toggle("menu-item-"+a.id)),n&&n.hasChildNodes()&&(a.children=[],n.querySelectorAll(":scope > li:not(.tcb-mega-empty)").forEach(function(t){return a.children.push(e(t))})),a}(this))}),e},isPlaceholder:function(){return this.el.classList.contains("tcb-elem-placeholder")},applyTemplate:function(t){var e,i,n=this,s=b.Deferred(),a=b.Deferred(),o=this.prepareSave(),r={uuid:TVE.CSS_Rule_Cache.generate_id("m-"),template:t.id,template_name:t.name},l=TVE.inner_$(),c="";if(t.local)t.config.icon=t.config.icon||this.model.defaults().config.icon,Object.assign(r,t.config,{unlinked:{}}),e={class:[g,t.class,"mega"===o.type?"tcb-mega-std":""].filter(function(t){return t}).join(" "),"data-tve-switch-icon":"tablet,mobile"},s.resolve();else{var d={},h=TVE.inner_$(t.content);h.hasClass("tcb-clear")&&(h=h.children(".thrv_widget_menu")),l=h.find("svg.m-icons");var u=h.find(".thrive-colors-palette-config");u.length&&(c=u[0].outerHTML);var p=m(h,"widget_menu",!0).get();e={class:h.attr("class"),"data-tve-switch-icon":h.data("tve-switch-icon")||"tablet,mobile","data-css":h.attr("data-css")},h.empty().removeAttr("tcb-template-name").removeAttr("tcb-template-id"),r.unlinked=p.unlinked,r.dropdown_icon=p.dropdown_icon,r.mobile_icon=p.mobile_icon,r.icon=p.icon||this.model.defaults().config.icon,r.top_cls=p.top_cls||{},d[p.uuid]=r.uuid;var f=t.head_css;b.each(d,function(t,e){f=f.replace(new RegExp("("+t+")","g"),e)}),TVE.Editor_Page.content_manager.insert_head_css(f).done(function(){return s.resolve()})}for(this.el.dataset.css&&(i=TVE.CSS_Rule_Cache.getCssForSelector(new RegExp('^\\[data-css="'+this.el.dataset.css+'"\\]$'),!1));0<this.el.attributes.length;)this.el.removeAttribute(this.el.attributes[0].name);return this.$svg.remove(),l&&l.length&&this.$el.prepend(l),this.$svg=l,this.$el.removeData().attr(e),Object.assign(o,r),s.done(function(){i&&_.each(i,function(t,e){n.$el.head_css(_.pick(t,y.reapplyAfterTemplate),e)})}),s.done(function(){return n.refresh(!0).done(function(){TVE.head_css_remove(e["data-css"],null,!0),TVE.CONST.custom_menu.use_positional_selectors||t.local||TVE.ajax("save_menu_item_style","post",{template_id:t.id,template_name:t.name,styles:JSON.stringify(n.getItemStyles())}).done(function(t){TVE.do_action("tcb.menu_item_templates",t.templates)}),TVE.inner.window.TCB_Front.menu.zIndexOrder(),c&&c.length&&n.$el.prepend(c),TVE.do_action("tcb_after_cloud_template",n.$el,"menu"),TVE.Editor_Page.focus_element(n.$el),a.resolve()})}),a.promise()},regenerateIds:function(t){var n=this,e=0<arguments.length&&void 0!==t&&t,s=this.model.get("config"),i={},a=TVE.CSS_Rule_Cache.generate_id("m-");this.el.dataset.css&&(i[this.el.dataset.css]=TVE.CSS_Rule_Cache.uniq_id(this.el,!0)),i[s.uuid]=a,s.uuid=a,_.each(i,function(t,e){TVE.head_css_copy(e,t)}),s.icon&&_.each(s.icon,function(t,e){if(t){var i=d();s.icon[e]=i,n.$('.m-icon[data-icon="'+t+'"]').attr("data-icon",i).find("use").attr("xlink:href","#"+i),n.$("symbol#"+t).attr("id",i)}}),this._shortcodeAPI.save(s),e&&this.refreshSelectors(!1)},changeSource:function(t){var e=this,i=this.config("menu_id"),n=y.defaultTemplates[0].key;return this.config("menu_id",t),this.config("layout",{default:this.config("layout").default}),this.refresh().done(function(){"custom"===i&&e.$el.addClass("tve-menu-template-"+n)})},ensureSvgIcons:function(){return this.$svg=this.$("svg.m-icons"),this.$svg.length||(this.$svg=TVE.inner_$('<svg class="m-icons" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>').prependTo(this.$el)),this},addSvgIcon:function(t,e,i){var s=this.model.get("config"),n=e.is("a"),a=n&&e.closest("ul").parent().is(".".concat(E)),o=!1,r=d();void 0===s.icon&&(s.icon=this.model.defaults().config.icon),this.ensureSvgIcons();var l=this.$svg.find("."+t);i&&i.length||(i=b("#main-icons #"+t).clone()),l.length?r=l.attr("id"):(this.$svg.append(l=i),l.attr({id:r,class:t}));var c=this.getIconHTML(r);e.each(function(t,e){var i=b(e);i.find("> a > .m-icon, > .m-icon, > .tcb-mm-text .m-icon").remove(),u(i).prepend(c);var n=y.groupUnlinkedSelector(i);s.unlinked&&(!0===s.unlinked[n]?(s.icon[n]=r,o=!0):delete s.icon[n])}),o||(n?s.icon[a?"mega_main":"mega_sub"]=r:"LI"===e.parent().parent()[0].tagName?s.icon.sub=r:s.icon.top=r),this._shortcodeAPI.save(s),this.cleanup()},removeIcon:function(t){var s=this.model.get("config"),a=!1;if(t.each(function(t,e){var i=b(e),n=y.groupUnlinkedSelector(i);i.find("> a .m-icon, > .m-icon, > .tcb-mm-text .m-icon").remove().attr("data-icon"),delete s.icon[n],s.unlinked&&s.unlinked[n]&&(a=!0)}),!a){var e=t.is("a"),i=e&&t.closest("ul").parent().is(".".concat(E));e&&(s.icon[i?"mega_main":"mega_sub"]=""),"LI"===t.parent().parent()[0].tagName?s.icon.sub="":s.icon.top=""}this._shortcodeAPI.save(s),this.cleanup()},cleanup:function(){var i=this;this.$svg.length&&this.$svg.children().each(function(t,e){0===i.$('[data-icon="'+e.id+'"]').length&&e.parentNode.removeChild(e)})},getIconName:function(t){var e=this.$svg.find("#"+t).attr("class");return e?e.replace("icon-",""):""},groupElementUnlocked:function(t){var e=this.model.get("config"),i=y.groupUnlinkedSelector(t.activeElement),n=t.activeElement.attr("data-selector");if(e.unlinked=e.unlinked||{},e.unlinked[i]=!0,this._shortcodeAPI.save(e),-1===n.indexOf(i)){var s=n.replace(y.groupSelectorSuffix(),"");(t.activeElement.is("li")||t.activeElement.is("a"))&&(s+=".menu-item"),s+=i,t.activeElement.attr("data-selector",s),TVE.head_css_copy(n,s)}},groupElementLocked:function(t){var e=this.model.get("config"),i=y.groupUnlinkedSelector(t.activeElement);e.unlinked&&e.unlinked[i]&&(e.icon&&e.icon[i]||TVE.hasHeadCss(t.activeElement.attr("data-selector"))?e.unlinked[i]=!1:(delete e.unlinked[i],t.activeElement[0].dataset.selector=t.activeElement[0].dataset.selector.replace(i,"").replace(".menu-item","")+y.groupSelectorSuffix()),this._shortcodeAPI.save(e))},isHamburger:function(){return!this.$el.hasClass("tve-regular")},getItemStyle:function(t){var e=(t=t.jquery?t[0]:t).dataset.selector;var o=TVE.CSS_Rule_Cache.getCssForSelector(y.partialSelectorRegex(e));return delete o["@imports"],_.each(o,function(s,a){o[a]=[],_.each(s,function(t,e){var i="li"+e.split("> li").pop();(i=i.split(" ")).shift();var n={css:function(e){return y.itemStylesIgnore.forEach(function(t){return delete e[t]}),e}(t),suffix:i.length?" "+i.join(" "):""};e.includes(":hover")?n.suffix=":hover"+n.suffix:e.includes("tve-state-hover")?n.suffix=".tve-state-hover"+n.suffix:e.includes("tve-state-active")?n.suffix=".tve-state-active"+n.suffix:e.includes("tve-state-expanded")&&(n.suffix=".tve-state-expanded"+n.suffix),o[a].push(n),delete s[e]})}),o.computed={color:TVE.inner.window.getComputedStyle(t).color},o.cls=(t.className.match(/c-(\S+)/g)||[""]).join(" "),o},applyItemTemplate:function(e,n){function i(t){var i=t.dataset.selector;TVE.CSS_Rule_Cache.getRulesForSelector(y.partialSelectorRegex(i)).forEach(function(t){for(var e=t.style.length-1;0<=e;e--)-1===y.itemStylesIgnore.indexOf(t.style.item(e))&&t.style.removeProperty(t.style.item(e))}),n&&(i=TVE.apply_filters("tcb_head_css_prefix","",e,{})+i,_.each(TVE.main.responsive,function(e){n[e.media].forEach(function(t){TVE.write_css(i+t.suffix,t.css,[e.media])})}))}e.jquery?e.each(function(t,e){i(e)}):(i(e),e=TVE.inner_$(e)),TVE.do_action("tcb.border_update.menu_item",e.first()),TVE.Editor_Page.reposition_icons()},getItemStyles:function(){var i=this,n=[],s=this.config("unlinked"),a=1,o=!1;return this.$(".thrive-shortcode-html > ul > li").each(function(t,e){if(void 0!==s[y.groupUnlinkedSelector(e)])return n.push({name:"Style "+a++,css:i.getItemStyle(b(e))}),!0;o=o||{name:"Default",css:i.getItemStyle(b(e))}}),o&&n.unshift(o),n},saveConfig:function(t){this._shortcodeAPI.save(t)},gatherMenuDescriptions:function(){var s={};return this.$(".thrv_text_element").each(function(t,e){var i=b(e),n=i.find(".fr-element");s[e.parentNode.dataset.id]=(n.length?n:i).html()}),s},gatherMenuActions:function(){var n={};return this.$("[data-tcb-events]").each(function(t,e){var i=("A"===e.tagName?e.parentNode:e).dataset.id;n[i]=e.dataset.tcbEvents}),n},prepareSave:function(){var t=this.config(),e=!!t.mega_desc||!!t.actions||t.images;return this.isCustom()?t.mega_desc={}:(t.mega_desc=TVE.Base64.encode(JSON.stringify(this.gatherMenuDescriptions())),t.images=this.gatherMenuImages(),e=!0),t.actions=this.gatherMenuActions(),e&&this.saveConfig(t),t},getSelectorSpec:function(t,e){var i=1<arguments.length&&void 0!==e?e:this.model.get("config").uuid;switch(t){case"mega_col":return".tve-regular #".concat(i," li.lvl-1");case"mega_desc":return"#".concat(i," .tcb-mega-drop .thrv_text_element");case"a":return".tve-regular #".concat(i," .").concat(E);case"mega_image":return"#".concat(i," .tcb-mm-image")}},toggleImage:function(t,e){var s=this,a=this.$el.data("saved-images")||{};t.hasClass(TVE.Components.group.not_group_item_class)||this.setImageSettings("enabled",e);var o=_.extend({o:"row"},this.model.get("config").img_settings);e?t.each(function(t,e){var i=TVE.inner_$(e),n=e.parentNode.dataset.id;i.find(".tcb-mm-image").length||(i.find(".tcb-mm-text").length||i.html('<span class="tcb-mm-text">'+i.html()+"</span>"),s.renderImage(i,a[n],o))}):t.removeClass("tcb-mm-container").removeClassContaining(/tcb--\w+/g).find(".tcb-mm-image").remove()},renderImage:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:this.model.get("config").img_settings;t=TVE.inner_$(t).closest("li");var s=(e=e||_.extend({},{placeholder:!0,o:"row"},n||{})).placeholder?TVE.tpl("elements/menu-image-placeholder")():TVE.CONST.custom_menu.mega_image_tpl,a=TVE.inner_$(s.replace("{ITEM_ID}",t.attr("data-id")).replace("{IMG}",e.i||"").replace("{CLS}",""));a.attr("data-selector",this.getSelectorSpec("mega_image")+y.groupSelectorSuffix()),t.children("a").prepend(a).addClass("tcb-mm-container tcb--".concat(e.o))},gatherMenuImages:function(){var e={};return this.$(".lvl-1 > a .tcb-mm-image:not(.tcb-elem-placeholder)").each(function(){var t=this.closest("li.lvl-1").dataset.id;e[t]={i:TVE.inner.window.getComputedStyle(this).backgroundImage,o:TVE.inner.window.getComputedStyle(this.closest("a")).flexDirection}}),e},setImageSettings:function(t,e){var i=this.config("img_settings")||{o:"row"};return i[t]=e,this.config("img_settings",i),i}},{defaultTemplates:[{key:"light-tmp-first",name:"Basic",thumb:"basic"}],groupUnlinkedSelector:function(t){var e="";if((t=t.jquery?t[0]:t).classList.contains("tcb-mm-image"))e="-img",t=t.closest("li");else if("A"===t.tagName)e="-a",t=t.parentNode;else if("UL"===t.tagName)t=t.parentNode,e="-ul";else if(t.classList.contains(E))t=t.parentNode.parentNode,e="-drop";else{if(TVE.CONST.custom_menu.use_positional_selectors&&t.parentNode.classList.contains("tve_w_menu")){var i=Array.prototype.slice.call(t.parentNode.children).indexOf(t);return i===t.parentNode.children.length-1?":last-child":0===i?":first-child":":nth-child("+(i+1)+")"}"LI"===t.tagName&&t.parentNode.parentNode.classList.contains(E)&&t.closest(".tve-regular")&&(e=".lvl-1")}return".menu-item-"+t.dataset.id+e},groupSelectorSuffix:function(){return":not(.".concat(TVE.Components.group.not_group_item_class,")")},partialSelectorRegex:function(t){return t=t.replace(/([().[\]])/g,"\\$1"),new RegExp(t+"(\\s|\\.|:|$)","g")},itemStylesIgnore:["font-size","font-family","line-height","width","height","margin","margin-top","margin-bottom","margin-left","margin-right","padding","padding-top","padding-bottom","padding-left","padding-right"],reapplyAfterTemplate:["margin","margin-top","margin-right","margin-bottom","margin-left","z-index","float","position","top","right","bottom","left"],forElement:function(t){return new y({el:t.closest(".thrv_widget_menu")})}}),e.exports=y},"numbered-list.js":function(t,e,i){e.exports=i("./_base").extend({setup_defaults:function(){this.data={items:3,text:"List Element",start_number:1,number_increment:1}},_render_to:function(t,e){return t.html(this.get_html()).attr("data-start-number",this.data.start_number).attr("data-number-increment",this.data.number_increment),this},get_html:function(){for(var t='<ol class="tcb-numbered-list">',e=0;e<this.data.items;e++){var i=e+1;t+=this.create_default_list_item(null,i)}return t+="</ol>"},create_default_list_item:function(t,e,i){t=void 0===t?null:t,i=void 0===i?this.data.text:i;var n="",s=t&&t.find(".thrv-styled-list-item:not(.tcb-excluded-from-group-item)")?t.find(".thrv-styled-list-item:not(.tcb-excluded-from-group-item)").first().attr("data-css"):"",a=t&&t.find(".thrv-advanced-inline-text:not(.tcb-excluded-from-group-item)")?t.find(".thrv-advanced-inline-text:not(.tcb-excluded-from-group-item)").first().attr("data-css"):"",o=t&&t.find(".tcb-numbered-list-number:not(.tcb-excluded-from-group-item)")?t.find(".tcb-numbered-list-number:not(.tcb-excluded-from-group-item)").first().attr("data-css"):"",r=t?" "+TVE.getClassThatContains(t.find(".thrv-styled-list-item").last(),TVE.Components.group.dynamic_group_item_class_prf):"",l=t?" "+TVE.getClassThatContains(t.find(".thrv-advanced-inline-text").last(),TVE.Components.group.dynamic_group_item_class_prf):"";return n+='<li class="thrv-styled-list-item thrv-numbered-list-v2'+r+'" data-css="'+s+'">',n+='<div class="tcb-numbered-list-number thrv-disabled-label thrv_wrapper tcb-no-delete tcb-no-clone tve_no_drag'+(t?" "+TVE.getClassThatContains(t.find(".tcb-numbered-list-number").last(),TVE.Components.group.dynamic_group_item_class_prf):"")+'" data-css="'+o+'">',n+='<span class="tcb-numbered-list-index">'+e+"</span>",n+="</div>",n+='<span class="thrv-advanced-inline-text tve_editable tcb-numbered-list-text tcb-no-delete'+l+'" data-css="'+a+'">'+i+"</span>",n+="</li>"},reset_list_numbers:function(t){var i=parseInt(t.attr("data-start-number")),n=parseInt(t.attr("data-number-increment"));t.find(".thrv-styled-list-item").each(function(t,e){jQuery(e).find(".tcb-numbered-list-index").text(i+t*n)})},get_next_list_number:function(t,e,i){return t=parseInt(t),e=parseInt(e),t+(i=parseInt(i))*e},get_text:function(t){return t.find(".tcb-numbered-list-text").text().substring(0,20)}})},"rating.js":function(t,e,i){e.exports=i("./_base").extend({setup_defaults:function(){this.data={value:2.5,max:5,style:"style1"}},get_html:function(t,e,i){t=void 0===t?this.data.value:t,e=void 0===e?this.data.max:e,i=void 0===i?this.data.style:i;for(var n="",s=this.templates[i].viewbox||"-6 -6 70 70",a=Math.floor(t),o=Math.round(t-a),r=1;r<=e;r++){var l="full";a<r&&r<=a+o?l="half":a+o<r&&(l="empty"),n+='<svg viewBox="'+s+'" class="">'+this.templates[i][l]+"</svg>"}return n},_render_to:function(t,e){return t.attr({"data-style":this.data.style,"data-max":this.data.max,"data-value":this.data.value}).html(this.get_html()),this},get_styles:function(){var i={};return _.each(this.templates,function(t,e){i[e]={label:TVE.ucFirst(e),html:this.get_html(2.5,5,e)}},this),i},templates:{style1:{empty:'<path class="sr-background" fill="transparent" d="M46.976,57.227c-0.422,0-0.834-0.104-1.228-0.312l-13.167-6.921c-0.663-0.349-1.409-0.533-2.158-0.533s-1.495,0.185-2.158,0.533L15.1,56.915c-0.393,0.208-0.807,0.312-1.229,0.312c-0.765,0-1.524-0.358-2.03-0.958c-0.501-0.595-0.703-1.353-0.569-2.134l2.515-14.661c0.258-1.505-0.241-3.039-1.334-4.105L1.8,24.985c-0.736-0.717-0.985-1.728-0.668-2.704c0.318-0.977,1.114-1.649,2.13-1.796l14.72-2.139c1.512-0.22,2.817-1.168,3.493-2.537L28.059,2.47C28.513,1.55,29.396,1,30.423,1c1.027,0,1.911,0.55,2.365,1.471l6.584,13.339c0.676,1.369,1.98,2.317,3.492,2.537l14.721,2.139c1.016,0.147,1.813,0.819,2.129,1.795c0.317,0.977,0.068,1.988-0.668,2.705L48.394,35.369c-1.092,1.065-1.59,2.6-1.334,4.105l2.516,14.661c0.134,0.781-0.068,1.539-0.569,2.134C48.5,56.869,47.743,57.227,46.976,57.227"/><path class="sr-outline" fill="#fbb040" d="M30.424,2c0.307,0,1.063,0.089,1.471,0.913l6.582,13.339c0.82,1.664,2.408,2.817,4.246,3.084l14.719,2.139c0.91,0.132,1.229,0.824,1.324,1.115c0.094,0.291,0.242,1.038-0.416,1.679L47.697,34.652c-1.328,1.295-1.934,3.16-1.621,4.99l2.516,14.662c0.105,0.622-0.131,1.061-0.35,1.318c-0.318,0.378-0.791,0.604-1.264,0.604c-0.26,0-0.518-0.066-0.764-0.197l-13.166-6.922c-0.807-0.422-1.715-0.646-2.625-0.646s-1.816,0.225-2.623,0.646l-13.166,6.922c-0.248,0.131-0.504,0.197-0.764,0.197c-0.473,0-0.947-0.226-1.266-0.604c-0.217-0.258-0.455-0.696-0.348-1.318l2.516-14.662c0.313-1.83-0.293-3.695-1.623-4.99L2.498,24.269c-0.656-0.641-0.508-1.388-0.414-1.679c0.096-0.291,0.414-0.983,1.322-1.115l14.721-2.139c1.838-0.267,3.424-1.42,4.246-3.084l6.582-13.339C29.363,2.089,30.117,2,30.424,2 M30.424,0c-1.297,0-2.594,0.676-3.262,2.027l-6.584,13.339c-0.529,1.074-1.553,1.819-2.738,1.99l-14.721,2.14c-2.984,0.434-4.176,4.101-2.016,6.205l10.65,10.383c0.859,0.836,1.25,2.04,1.047,3.221l-2.514,14.66c-0.404,2.352,1.465,4.262,3.584,4.262c0.561,0,1.137-0.134,1.695-0.426l13.166-6.923c0.529-0.278,1.111-0.417,1.691-0.417c0.582,0,1.164,0.139,1.693,0.417l13.166,6.923c0.559,0.293,1.135,0.426,1.695,0.426c2.119,0,3.986-1.91,3.584-4.262l-2.516-14.66c-0.201-1.181,0.189-2.385,1.047-3.221l10.652-10.383c2.158-2.104,0.967-5.771-2.016-6.205l-14.723-2.14c-1.184-0.171-2.209-0.916-2.738-1.99L33.688,2.027C33.02,0.676,31.723,0,30.424,0"/>',half:'<path class="sr-background" fill="transparent" d="M46.976,57.227c-0.422,0-0.834-0.104-1.228-0.312l-13.167-6.921c-0.663-0.349-1.409-0.533-2.158-0.533s-1.495,0.185-2.158,0.533L15.1,56.915c-0.393,0.208-0.807,0.312-1.229,0.312c-0.765,0-1.524-0.358-2.03-0.958c-0.501-0.595-0.703-1.353-0.569-2.134l2.515-14.661c0.258-1.505-0.241-3.039-1.334-4.105L1.8,24.985c-0.736-0.717-0.985-1.728-0.668-2.704c0.318-0.977,1.114-1.649,2.13-1.796l14.72-2.139c1.512-0.22,2.817-1.168,3.493-2.537L28.059,2.47C28.513,1.55,29.396,1,30.423,1c1.027,0,1.911,0.55,2.365,1.471l6.584,13.339c0.676,1.369,1.98,2.317,3.492,2.537l14.721,2.139c1.016,0.147,1.813,0.819,2.129,1.795c0.317,0.977,0.068,1.988-0.668,2.705L48.394,35.369c-1.092,1.065-1.59,2.6-1.334,4.105l2.516,14.661c0.134,0.781-0.068,1.539-0.569,2.134C48.5,56.869,47.743,57.227,46.976,57.227"/><path class="sr-fill" fill="#F0C419" d="M28.731,50.878l-13.166,6.923c-2.67,1.402-5.789-0.863-5.279-3.836l2.517-14.66c0.201-1.181-0.188-2.385-1.047-3.221L1.104,25.701c-2.16-2.104-0.968-5.771,2.016-6.205l14.721-2.139c1.186-0.172,2.209-0.917,2.74-1.991l6.582-13.339C27.829,0.676,29.126,0,30.423,0l0.002,50.461C29.843,50.46,29.261,50.6,28.731,50.878"/><path class="sr-outline" fill="#FBB040" d="M30.423,2c0.307,0,1.063,0.089,1.471,0.913l6.582,13.339c0.822,1.664,2.408,2.817,4.246,3.084l14.721,2.139c0.908,0.132,1.228,0.824,1.322,1.115c0.094,0.291,0.242,1.038-0.414,1.679L47.698,34.652c-1.33,1.295-1.936,3.16-1.623,4.99l2.517,14.662c0.106,0.622-0.131,1.061-0.349,1.318c-0.319,0.378-0.793,0.604-1.266,0.604c-0.26,0-0.516-0.066-0.764-0.197l-13.166-6.922c-0.807-0.422-1.713-0.646-2.625-0.646c-0.908,0-1.816,0.225-2.623,0.646l-13.166,6.922c-0.248,0.131-0.504,0.197-0.764,0.197c-0.473,0-0.947-0.226-1.264-0.604c-0.22-0.258-0.455-0.696-0.351-1.318l2.517-14.662c0.313-1.83-0.293-3.695-1.621-4.99L2.499,24.269c-0.658-0.641-0.51-1.388-0.416-1.679c0.096-0.291,0.414-0.983,1.322-1.115l14.721-2.139c1.838-0.267,3.424-1.42,4.246-3.084l6.582-13.339C29.362,2.089,30.118,2,30.423,2 M30.423,0c-1.297,0-2.594,0.676-3.262,2.027l-6.582,13.339c-0.531,1.074-1.555,1.819-2.74,1.99l-14.721,2.14c-2.984,0.434-4.174,4.101-2.016,6.205l10.651,10.383c0.856,0.836,1.248,2.04,1.045,3.221l-2.515,14.66c-0.403,2.352,1.466,4.262,3.584,4.262c0.562,0,1.138-0.134,1.695-0.426l13.166-6.923c0.529-0.278,1.109-0.417,1.691-0.417s1.164,0.139,1.693,0.417l13.166,6.923c0.559,0.293,1.135,0.426,1.694,0.426c2.119,0,3.988-1.91,3.584-4.262l-2.514-14.66c-0.203-1.181,0.188-2.385,1.045-3.221l10.651-10.383c2.16-2.104,0.97-5.771-2.016-6.205l-14.721-2.14c-1.186-0.171-2.211-0.916-2.738-1.99L33.683,2.027C33.019,0.676,31.722,0,30.423,0"/>',full:'<path class="sr-fill" fill="#F0C419" d="M46.976,57.227c-0.422,0-0.834-0.104-1.228-0.312l-13.167-6.921c-0.663-0.349-1.409-0.533-2.158-0.533s-1.495,0.185-2.158,0.533L15.1,56.915c-0.393,0.208-0.807,0.312-1.229,0.312c-0.765,0-1.524-0.358-2.03-0.958c-0.501-0.595-0.703-1.353-0.569-2.134l2.515-14.661c0.258-1.505-0.241-3.039-1.334-4.105L1.8,24.985c-0.736-0.717-0.985-1.728-0.668-2.704c0.318-0.977,1.114-1.649,2.13-1.796l14.72-2.139c1.512-0.22,2.817-1.168,3.493-2.537L28.059,2.47C28.513,1.55,29.396,1,30.423,1c1.027,0,1.911,0.55,2.365,1.471l6.584,13.339c0.676,1.369,1.98,2.317,3.492,2.537l14.721,2.139c1.016,0.147,1.813,0.819,2.129,1.795c0.317,0.977,0.068,1.988-0.668,2.705L48.394,35.369c-1.092,1.065-1.59,2.6-1.334,4.105l2.516,14.661c0.134,0.781-0.068,1.539-0.569,2.134C48.5,56.869,47.743,57.227,46.976,57.227"/><path class="sr-outline" fill="#FBB040" d="M30.423,2c0.306,0,1.063,0.089,1.469,0.913l6.584,13.339c0.821,1.664,2.407,2.817,4.244,3.084l14.721,2.139c0.91,0.132,1.228,0.824,1.322,1.115c0.096,0.291,0.243,1.038-0.414,1.679L47.697,34.652c-1.329,1.295-1.936,3.161-1.621,4.991l2.515,14.661c0.106,0.623-0.131,1.061-0.349,1.319c-0.318,0.378-0.791,0.604-1.266,0.604c-0.259,0-0.515-0.067-0.763-0.197l-13.166-6.922c-0.806-0.423-1.713-0.647-2.624-0.647c-0.911,0-1.818,0.224-2.624,0.647L14.633,56.03c-0.248,0.13-0.504,0.197-0.763,0.197c-0.474,0-0.948-0.226-1.266-0.604c-0.218-0.258-0.454-0.696-0.348-1.319l2.515-14.661c0.314-1.83-0.292-3.696-1.621-4.991L2.5,24.269c-0.659-0.641-0.51-1.388-0.415-1.679c0.095-0.291,0.413-0.983,1.322-1.115l14.721-2.139c1.837-0.267,3.423-1.42,4.245-3.084l6.583-13.339C29.361,2.089,30.118,2,30.423,2 M30.423,0c-1.297,0-2.595,0.676-3.262,2.027l-6.584,13.339c-0.53,1.074-1.554,1.819-2.739,1.99l-14.72,2.14c-2.984,0.434-4.175,4.101-2.016,6.205l10.652,10.383c0.857,0.836,1.248,2.04,1.045,3.221l-2.514,14.66c-0.403,2.351,1.465,4.262,3.585,4.262c0.559,0,1.136-0.134,1.694-0.426l13.166-6.923c0.53-0.278,1.111-0.417,1.693-0.417s1.163,0.139,1.693,0.417l13.166,6.923c0.558,0.293,1.135,0.426,1.693,0.426c2.121,0,3.988-1.911,3.586-4.262l-2.515-14.66c-0.202-1.181,0.188-2.385,1.045-3.221l10.652-10.383c2.159-2.104,0.968-5.771-2.017-6.205l-14.72-2.14c-1.185-0.171-2.21-0.916-2.739-1.99L33.687,2.027C33.019,0.676,31.72,0,30.423,0"/>'},style2:{viewbox:"-4 -4 60 60",empty:'<path class="sr-outline" fill="#D3DADF" d="M27.999,2.318l5.307,15.909c0.52,1.562,1.977,2.621,3.623,2.633l16.77,0.13l-13.49,9.962c-1.324,0.979-1.881,2.691-1.385,4.261l5.059,15.988L30.239,41.45c-0.658-0.471-1.432-0.719-2.24-0.719s-1.584,0.248-2.24,0.719l-13.643,9.751l5.059-15.988c0.496-1.569-0.061-3.282-1.385-4.261L2.3,20.99l16.77-0.13c1.646-0.012,3.104-1.071,3.623-2.633L27.999,2.318 M27.999,0c-0.738,0-1.477,0.422-1.758,1.266l-5.445,16.328c-0.25,0.751-0.951,1.26-1.742,1.266L1.843,18.993c-1.781,0.015-2.52,2.285-1.086,3.343l13.846,10.226c0.637,0.469,0.904,1.293,0.666,2.047l-5.193,16.412c-0.41,1.295,0.619,2.418,1.773,2.418c0.357,0,0.727-0.107,1.07-0.353l14.004-10.009c0.32-0.23,0.699-0.346,1.076-0.346s0.756,0.115,1.076,0.346l14.004,10.009c0.344,0.245,0.713,0.353,1.07,0.353c1.154,0,2.182-1.125,1.773-2.418l-5.193-16.412c-0.238-0.754,0.029-1.578,0.666-2.047l13.846-10.226c1.434-1.058,0.695-3.328-1.086-3.343L36.944,18.86c-0.791-0.006-1.492-0.515-1.742-1.266L29.757,1.266C29.476,0.422,28.737,0,27.999,0"/><path class="sr-background" fill="transparent" d="M17.178,35.213L12.12,51.202l13.644-9.752c0.656-0.47,1.432-0.719,2.239-0.719\tc0.809,0,1.583,0.249,2.24,0.719l13.644,9.752l-5.059-15.988c-0.497-1.57,0.06-3.282,1.384-4.262l13.49-9.961L36.933,20.86\tc-1.647-0.012-3.104-1.07-3.624-2.633L28.002,2.318l-5.306,15.909c-0.521,1.563-1.977,2.621-3.624,2.633L2.304,20.991l13.489,9.961\tC17.119,31.931,17.675,33.643,17.178,35.213z"/>',half:'<path class="sr-outline" fill="#D3DADF" d="M27.999,2.318l5.307,15.909c0.52,1.562,1.977,2.621,3.623,2.633l16.77,0.13l-13.49,9.962c-1.324,0.979-1.881,2.691-1.385,4.261l5.059,15.988L30.239,41.45c-0.658-0.471-1.432-0.719-2.24-0.719s-1.584,0.248-2.24,0.719l-13.643,9.751l5.059-15.988c0.496-1.569-0.061-3.282-1.385-4.261L2.3,20.99l16.77-0.13c1.646-0.012,3.104-1.071,3.623-2.633L27.999,2.318 M27.999,0c-0.738,0-1.477,0.422-1.758,1.266l-5.445,16.328c-0.25,0.751-0.951,1.26-1.742,1.266L1.843,18.993c-1.781,0.015-2.52,2.285-1.086,3.343l13.846,10.226c0.637,0.469,0.904,1.293,0.666,2.047l-5.193,16.412c-0.41,1.295,0.619,2.418,1.773,2.418c0.357,0,0.727-0.107,1.07-0.353l14.004-10.009c0.32-0.23,0.699-0.346,1.076-0.346s0.756,0.115,1.076,0.346l14.004,10.009c0.344,0.245,0.713,0.353,1.07,0.353c1.154,0,2.182-1.125,1.773-2.418l-5.193-16.412c-0.238-0.754,0.029-1.578,0.666-2.047l13.846-10.226c1.434-1.058,0.695-3.328-1.086-3.343L36.944,18.86c-0.791-0.006-1.492-0.515-1.742-1.266L29.757,1.266C29.476,0.422,28.737,0,27.999,0"/><path class="sr-background" fill="transparent" d="M17.178,35.213L12.12,51.202l13.644-9.752c0.656-0.47,1.432-0.719,2.239-0.719\tc0.809,0,1.583,0.249,2.24,0.719l13.644,9.752l-5.059-15.988c-0.497-1.57,0.06-3.282,1.384-4.262l13.49-9.961L36.933,20.86\tc-1.647-0.012-3.104-1.07-3.624-2.633L28.002,2.318l-5.306,15.909c-0.521,1.563-1.977,2.621-3.624,2.633L2.304,20.991l13.489,9.961\tC17.119,31.931,17.675,33.643,17.178,35.213z"/><path class="sr-fill" fill="#EFC319" d="M26.242,1.265l-5.445,16.329c-0.251,0.751-0.951,1.26-1.743,1.266L1.841,18.993c-1.78,0.015-2.518,2.285-1.086,3.343l13.846,10.225c0.638,0.471,0.905,1.293,0.666,2.049l-5.191,16.41c-0.537,1.697,1.395,3.102,2.844,2.066l14.002-10.009c0.32-0.229,0.694-0.343,1.069-0.345V0C27.255,0.003,26.522,0.424,26.242,1.265z"/>',full:'<path class="sr-fill" fill="#EFC319" d="M26.921,43.078L12.919,53.086c-1.449,1.035-3.381-0.369-2.844-2.066l5.191-16.41c0.239-0.756-0.028-1.578-0.666-2.049L0.755,22.336c-1.432-1.058-0.694-3.328,1.086-3.343l17.212-0.133c0.792-0.006,1.492-0.515,1.743-1.266l5.445-16.329c0.563-1.688,2.95-1.688,3.514,0l5.446,16.329c0.251,0.751,0.95,1.26,1.742,1.266l17.212,0.133c1.78,0.015,2.518,2.285,1.087,3.343L41.396,32.561c-0.638,0.471-0.904,1.293-0.666,2.049l5.191,16.41c0.538,1.697-1.396,3.102-2.843,2.066L29.076,43.078C28.431,42.617,27.566,42.617,26.921,43.078"/>'},style3:{viewbox:"-6 -6 80 80",empty:'<path class="def-shadow" fill="#B9C1C5" d="M14.874,40.174c0.101-0.583-0.094-1.178-0.518-1.591L0.544,25.12\tc-0.121-0.118-0.214-0.248-0.293-0.382c-0.308,0.541-0.339,1.225,0,1.798c-0.308,0.54-0.339,1.224,0,1.797\tc-0.38,0.667-0.344,1.559,0.293,2.18l13.696,13.35L14.874,40.174z"/><path class="def-shadow" fill="#B9C1C5" d="M50.038,61.079l-17.071-8.976c-0.524-0.275-1.149-0.275-1.674,0l-17.071,8.976\tc-0.98,0.514-2.079,0.027-2.478-0.858l-0.13,0.76c-0.065,0.378-0.008,0.73,0.13,1.038l-0.13,0.76\tc-0.065,0.377-0.008,0.73,0.13,1.037l-0.13,0.76c-0.252,1.469,1.289,2.589,2.608,1.896l17.071-8.976\tc0.524-0.275,1.149-0.275,1.674,0l17.071,8.976c1.318,0.693,2.86-0.427,2.608-1.896l-0.13-0.76c0.138-0.307,0.195-0.659,0.13-1.037\tl-0.13-0.761c0.138-0.307,0.195-0.659,0.13-1.037l-0.13-0.761C52.116,61.106,51.017,61.593,50.038,61.079z"/><path class="def-shadow" fill="#B9C1C5" d="M64.008,24.738c-0.079,0.134-0.172,0.264-0.293,0.382L49.903,38.583\tc-0.424,0.413-0.617,1.008-0.517,1.591l0.632,3.688l13.696-13.349c0.637-0.621,0.673-1.513,0.293-2.18\tc0.339-0.573,0.308-1.257,0-1.797C64.347,25.962,64.316,25.278,64.008,24.738z"/><path class="sr-background" fill="#D3DADF" d="M49.386,40.174c-0.101-0.583,0.093-1.178,0.517-1.591L63.714,25.12\tc0.121-0.118,0.214-0.248,0.293-0.382c0.622-1.05,0.017-2.495-1.29-2.684L43.63,19.28c-0.586-0.085-1.092-0.453-1.354-0.983\tL33.742,1.001c-0.66-1.335-2.564-1.335-3.224,0l-8.537,17.296c-0.261,0.53-0.767,0.898-1.354,0.983L1.542,22.054\tc-1.308,0.189-1.912,1.634-1.291,2.684c0.079,0.134,0.173,0.265,0.293,0.382l13.812,13.463c0.424,0.413,0.618,1.008,0.518,1.591\tl-0.633,3.688l-2.628,15.321c-0.065,0.378-0.008,0.73,0.13,1.038c0.399,0.885,1.498,1.372,2.478,0.858l17.071-8.976\tc0.524-0.275,1.149-0.275,1.674,0l17.071,8.976c0.979,0.514,2.079,0.027,2.478-0.858c0.138-0.307,0.195-0.659,0.13-1.037\tl-2.627-15.322L49.386,40.174z"/>',half:'<path class="sr-outline" fill="#F2A261" d="M31.163,55.698C31.425,55.561,32,55.492,32,55.492v-1.797c0,0-0.575,0.069-0.837,0.207\tC31.425,53.764,32,53.694,32,53.694v-1.797c0,0-0.51,0.069-0.772,0.207l-17.04,8.975c-0.979,0.515-2.062,0.028-2.461-0.857\tl-0.123,0.76c-0.065,0.378-0.003,0.73,0.135,1.038l-0.128,0.76c-0.065,0.377-0.007,0.73,0.131,1.037l-0.13,0.76\tc-0.252,1.469,1.289,2.589,2.607,1.896l17.073-8.976c0.262-0.138,0.485-0.206,0.772-0.206l-0.065,0v-1.797\tC32,55.492,31.425,55.561,31.163,55.698z"/><path class="sr-outline" fill="#F2A261" d="M14.874,40.174c0.1-0.583-0.094-1.178-0.519-1.591L0.545,25.12\tc-0.121-0.118-0.214-0.248-0.294-0.382c-0.308,0.541-0.339,1.225,0,1.798c-0.308,0.54-0.339,1.224,0,1.797\tc-0.38,0.667-0.344,1.559,0.294,2.18l13.696,13.351L14.874,40.174z"/><path class="def-shadow" fill="#B9C1C5" d="M64.008,24.737c-0.08,0.135-0.173,0.265-0.294,0.383L49.903,38.583\tc-0.425,0.413-0.617,1.008-0.518,1.591l0.632,3.688l13.696-13.35c0.638-0.621,0.674-1.513,0.294-2.18\tc0.34-0.573,0.308-1.257,0-1.797C64.348,25.962,64.316,25.278,64.008,24.737z"/><path class="def-shadow" fill="#B9C1C5" d="M50.038,61.079l-17.137-8.976C32.639,51.966,32,51.897,32,51.897v1.797c0,0-0.575,0.069-0.837,0.207\tC31.425,53.764,32,53.695,32,53.695v1.797c0,0-0.575,0.068-0.837,0.206C31.425,55.561,32,55.492,32,55.492v1.797\tc0,0,0.639,0.069,0.901,0.207l17.105,8.976c1.317,0.693,2.875-0.427,2.624-1.896l-0.123-0.76c0.138-0.307,0.2-0.659,0.135-1.037\tl-0.128-0.761c0.138-0.307,0.196-0.659,0.131-1.037l-0.13-0.761C52.115,61.106,51.017,61.593,50.038,61.079z"/><path class="sr-background" fill="#D3DADF" d="M49.386,40.174c-0.1-0.583,0.093-1.178,0.518-1.591L63.714,25.12\tc0.121-0.118,0.215-0.248,0.294-0.383c0.622-1.05,0.017-2.494-1.291-2.684L43.631,19.28c-0.586-0.085-1.092-0.453-1.354-0.983\tL33.742,1.001c-0.413-0.834-1.376-1.147-2.153-0.938C31.744,0.021,32,0,32,0v51.896c0,0-0.51,0.069-0.772,0.207\tc0.262-0.138,0.583-0.207,0.87-0.207s0.59,0.069,0.852,0.207l17.08,8.976c0.979,0.514,2.082,0.027,2.481-0.858\tc0.138-0.307,0.197-0.659,0.132-1.037l-2.626-15.321L49.386,40.174z"/><path class="sr-fill" fill="#EFC319" d="M14.221,61.078l17.007-8.975C31.49,51.966,32,51.896,32,51.896V0c0,0-0.256,0.021-0.411,0.063\tc-0.466,0.125-0.856,0.438-1.104,0.938l-8.521,17.296c-0.261,0.53-0.758,0.898-1.344,0.983L1.538,22.054\tc-1.308,0.189-1.911,1.634-1.289,2.684c0.08,0.134,0.174,0.265,0.295,0.382l13.811,13.463c0.425,0.413,0.618,1.008,0.519,1.591\tl-0.632,3.689l-2.628,15.32c-0.065,0.378-0.008,0.73,0.13,1.038C12.143,61.106,13.242,61.593,14.221,61.078z"/>',full:'<path class="sr-outline" fill="#F2A261" d="M14.874,40.174c0.1-0.583-0.094-1.178-0.518-1.591L0.544,25.12\tc-0.121-0.118-0.214-0.248-0.294-0.382c-0.308,0.541-0.339,1.225,0,1.798c-0.308,0.54-0.339,1.224,0,1.797\tc-0.38,0.667-0.344,1.559,0.293,2.18l13.696,13.35L14.874,40.174z"/><path class="sr-outline" fill="#F2A261" d="M50.037,61.078l-17.071-8.975c-0.524-0.275-1.149-0.275-1.674,0L14.22,61.078\tc-0.979,0.515-2.079,0.028-2.478-0.857l-0.13,0.76c-0.065,0.378-0.008,0.73,0.13,1.037l-0.13,0.761\tc-0.065,0.377-0.008,0.73,0.13,1.037l-0.13,0.76c-0.252,1.469,1.289,2.589,2.608,1.896l17.072-8.976\tc0.524-0.275,1.149-0.275,1.674,0l17.071,8.976c1.318,0.693,2.86-0.427,2.608-1.896l-0.13-0.76c0.138-0.307,0.195-0.659,0.13-1.037\tl-0.13-0.761c0.138-0.307,0.195-0.659,0.13-1.037l-0.13-0.761C52.116,61.106,51.016,61.593,50.037,61.078z"/><path class="sr-outline" fill="#F2A261" d="M64.008,24.738c-0.08,0.134-0.173,0.264-0.294,0.382L49.902,38.583\tc-0.424,0.413-0.617,1.008-0.517,1.591l0.632,3.688l13.696-13.349c0.637-0.621,0.674-1.513,0.293-2.18\tc0.339-0.573,0.308-1.257,0-1.797C64.347,25.962,64.315,25.278,64.008,24.738z"/><path class="sr-fill" fill="#EFC319" d="M49.386,40.174c-0.101-0.583,0.093-1.178,0.517-1.591L63.714,25.12\tc0.121-0.118,0.214-0.248,0.294-0.382c0.621-1.05,0.017-2.495-1.29-2.684L43.631,19.28c-0.586-0.085-1.093-0.453-1.354-0.983\tL33.741,1.001c-0.66-1.335-2.564-1.335-3.224,0L21.98,18.297c-0.261,0.53-0.767,0.898-1.353,0.983L1.542,22.054\tc-1.308,0.189-1.913,1.634-1.291,2.684c0.08,0.134,0.173,0.264,0.294,0.382l13.811,13.463c0.424,0.413,0.618,1.008,0.518,1.591\tl-0.633,3.689l-2.628,15.321c-0.065,0.378-0.008,0.73,0.13,1.038c0.399,0.885,1.498,1.372,2.478,0.857l17.072-8.975\tc0.524-0.275,1.149-0.275,1.674,0l17.071,8.975c0.979,0.515,2.079,0.028,2.478-0.857c0.138-0.307,0.195-0.659,0.13-1.037\tl-2.627-15.322L49.386,40.174z"/>'},style4:{viewbox:"-6 -6 68 68",empty:'<path class="sr-background" fill="#D3DADF" d="M29.322,0C13.127,0,0,13.129,0,29.323c0,16.195,13.127,29.323,29.322,29.323s29.324-13.128,29.324-29.323C58.646,13.129,45.518,0,29.322,0 M46.717,26.696l-7.082,6.902c-0.346,0.337-0.504,0.822-0.422,1.298l1.672,9.747c0.205,1.199-1.051,2.111-2.127,1.546l-8.754-4.602c-0.426-0.225-0.936-0.225-1.363,0l-8.754,4.602c-1.074,0.565-2.334-0.347-2.127-1.546l1.672-9.747c0.08-0.476-0.076-0.961-0.422-1.298l-7.082-6.902c-0.869-0.849-0.391-2.326,0.813-2.501l9.787-1.422c0.477-0.069,0.891-0.369,1.104-0.802l4.377-8.868c0.537-1.09,2.092-1.09,2.629,0l4.377,8.868c0.215,0.433,0.627,0.732,1.104,0.802l9.787,1.422C47.107,24.37,47.586,25.848,46.717,26.696"/>',half:'<path class="sr-background" fill="#D3DADF" d="M29.322,0C13.127,0,0,13.129,0,29.323c0,16.195,13.127,29.323,29.322,29.323s29.324-13.128,29.324-29.323C58.646,13.129,45.518,0,29.322,0 M46.717,26.696l-7.082,6.902c-0.346,0.337-0.504,0.822-0.422,1.298l1.672,9.747c0.205,1.199-1.051,2.111-2.127,1.546l-8.754-4.602c-0.426-0.225-0.936-0.225-1.363,0l-8.754,4.602c-1.074,0.565-2.334-0.347-2.127-1.546l1.672-9.747c0.08-0.476-0.076-0.961-0.422-1.298l-7.082-6.902c-0.869-0.849-0.391-2.326,0.813-2.501l9.787-1.422c0.477-0.069,0.891-0.369,1.104-0.802l4.377-8.868c0.537-1.09,2.092-1.09,2.629,0l4.377,8.868c0.215,0.433,0.627,0.732,1.104,0.802l9.787,1.422C47.107,24.37,47.586,25.848,46.717,26.696"/><path class="sr-fill" fill="#EFC319" d="M29.324,41.419c-0.236,0-0.469,0.056-0.684,0.169l-8.754,4.602c-1.074,0.565-2.332-0.348-2.127-1.546l1.672-9.747c0.082-0.476-0.076-0.961-0.422-1.298l-7.082-6.902c-0.869-0.849-0.389-2.326,0.814-2.501l9.785-1.423c0.479-0.068,0.891-0.368,1.104-0.801l4.377-8.868c0.27-0.545,0.791-0.817,1.314-0.817L29.324,0C13.129,0,0,13.129,0,29.323c0,16.195,13.129,29.323,29.324,29.323V41.419z"/>',full:'<path class="sr-fill" fill="#EFC319" d="M29.322,0C13.128,0,0,13.129,0,29.323c0,16.195,13.128,29.323,29.322,29.323c16.195,0,29.324-13.128,29.324-29.323C58.646,13.129,45.517,0,29.322,0 M46.717,26.696l-7.082,6.902c-0.345,0.337-0.503,0.822-0.421,1.298l1.671,9.747c0.206,1.199-1.051,2.111-2.127,1.546l-8.753-4.602c-0.427-0.225-0.938-0.225-1.365,0l-8.753,4.602c-1.075,0.565-2.333-0.347-2.127-1.546l1.672-9.747c0.081-0.476-0.076-0.961-0.422-1.298l-7.082-6.902c-0.87-0.849-0.39-2.326,0.813-2.501l9.787-1.422c0.477-0.069,0.89-0.369,1.104-0.802l4.376-8.868c0.538-1.09,2.092-1.09,2.629,0l4.377,8.868c0.214,0.433,0.626,0.732,1.104,0.802l9.786,1.422C47.107,24.37,47.587,25.848,46.717,26.696"/>'}}})},"social.js":function(t,e,i){var s;s=jQuery,e.exports=i("./_base").extend({get_styles:function(){return{}},setup_defaults:function(){this.config={show_count:!1,style:"tve_style_1",button_type:"tve_social_itb",selected:["fb_share","t_share","in_share"],share_url:"{tcb_post_url}",min_shares:0,t_share:{label:"Tweet"},pin_share:{label:"Pin"}}},label:function(t){return this.config[t]&&this.config[t].label?this.config[t].label:TVE.t.share},render_default:function(){this.setup_defaults();var t=jQuery('<div class="thrv_wrapper thrv_social_custom thrv_'+this.key+'"></div>');return this.render_to(t),t},_render_to:function(t,e){var i={};t.find(".tve_s_count").each(function(){var t=s(this);i[t.closest(".tve_s_item").attr("data-s")]=t.text()}),i.total={value:0,formatted:0},TVE.inner.window.TCB_Front.total_share_counts&&TVE.inner.window.TCB_Front.total_share_counts[this.config.share_url]&&(i.total=TVE.inner.window.TCB_Front.total_share_counts[this.config.share_url]),t.html(TVE.tpl("elements/social")({r:this,config:this.config,counts:i}));var n=this.config;t.find(".tve_s_item").each(function(){var t=this.getAttribute("data-s"),i=this;_.each(n[t],function(t,e){t&&"href"!==e&&i.setAttribute("data-"+e,t)})}),t.attr("data-counts",this.config.show_count?"1":""),t.attr("data-min_shares",this.config.min_shares),t=TVE.apply_filters("tcb.after-social-render",t),TVE.Editor_Page.reposition_icons(t)}})},"styled-list.js":function(t,e,i){e.exports=i("./_base").extend({setup_defaults:function(){this.data={items:3,text:"List Element",icon_code:"icon-check"}},_render_to:function(t,e){return t.html(this.get_html()).attr("data-icon-code",this.data.icon_code),t.find("title").remove(),this},get_html:function(){for(var t='<ul class="tcb-styled-list">',e=0;e<this.data.items;e++)t+=this.create_default_list_item();return t+="</ul>"},create_default_list_item:function(t,e,i){t=void 0===t?null:t,e=void 0===e?this.data.icon_code:e,i=void 0===i?this.data.text:i;var n=t&&t.find(".thrv-styled-list-item:not(.tcb-excluded-from-group-item)")?t.find(".thrv-styled-list-item:not(.tcb-excluded-from-group-item)").first().attr("data-css"):"",s=t&&t.find(".thrv-advanced-inline-text:not(.tcb-excluded-from-group-item)")?t.find(".thrv-advanced-inline-text:not(.tcb-excluded-from-group-item)").first().attr("data-css"):"",a=t&&t.find(".thrv_icon:not(.tcb-excluded-from-group-item)")?t.find(".thrv_icon:not(.tcb-excluded-from-group-item)").first().attr("data-css"):"",o="",r=t?" "+TVE.getClassThatContains(t.find(".thrv-styled-list-item").last(),TVE.Components.group.dynamic_group_item_class_prf):"",l=t?" "+TVE.getClassThatContains(t.find(".thrv-advanced-inline-text").last(),TVE.Components.group.dynamic_group_item_class_prf):"";o+='<li class="thrv-styled-list-item'+r+'" data-css="'+n+'">',o+='<div class="tcb-styled-list-icon"><div class="thrv_wrapper thrv_icon tve_no_drag tcb-no-delete tcb-no-clone tcb-no-save tcb-icon-inherit-style'+(t?" "+TVE.getClassThatContains(t.find(".thrv_icon").last(),TVE.Components.group.dynamic_group_item_class_prf):"")+'" data-css="'+a+'">';var c=jQuery("symbol#"+e);return c.length?o+=TVE.svg_icon({path:c.html().trim(),viewBox:c[0].getAttribute("viewBox"),name:c.find("> title").text(),id:c.attr("id")}):TVE.inner_$('.thrv-styled-list-item svg[data-id="'+e+'"').length?o+=TVE.inner_$('.thrv-styled-list-item svg[data-id="'+e+'"')[0].outerHTML:o+='<span data-name="'+e.replace("icon-","")+'" class="tve_sc_icon '+e+'"></span>',o+="</div></div>",o+='<span class="thrv-advanced-inline-text tve_editable tcb-styled-list-icon-text tcb-no-delete tcb-no-save'+l+'" data-css="'+s+'">'+i+"</span>",o+="</li>"},get_icon:function(t){return t.find(".thrv_icon").html()},get_text:function(t){return t.find(".tcb-styled-list-icon-text").text().substring(0,20)}})}},libs:{"add-color.js":function(t,e,i){var n=i("../views/base");e.exports=n.base_view.extend({template:TVE.tpl("util/color-picker/add-color"),initialize:function(t){this.color_view=t.favorites_view},render:function(t){this.$el.html(this.template({global_tip:TVE.t.global.save_global_color,favorite_tip:TVE.t.global.save_favorite_color})),this.reset_view_vars(t)},reset_view_vars:function(t){this.tiny_color_obj=t,this.$(".tcb-global-color-preview").css("background-color",t.toHexString())},add_global:function(){var t=this.tiny_color_obj.toHexString(),e=this.tiny_color_obj.toRgbString(),i=this.color_view.compute_color_name(t);this.color_view.add_global_color({color:e,name:i,custom_name:0}),this.color_view.reset_html();var n=this.color_view.$('.p-global-thumb[data-color="'+e+'"]').first();this.color_view.execute_global_color_ajax({color:e,name:i}),n&&(TVE.changeCssVariableValue(n.attr("data-var"),e),this.color_view.color_click(null,n[0]),this.empty_el())},add_favorite:function(){this.color_view.add_color(this.tiny_color_obj),this.empty_el()},empty_el:function(){this.$el.empty(),jQuery(".tvd-material-tooltip").removeClass("show")}})},"add-gradient.js":function(t,e,i){var n=i("../views/base"),s=TVE.t.gradient;e.exports=n.base_view.extend({template:TVE.tpl("util/color-picker/add-color"),initialize:function(t){this.color_view=t.favorites_view},render:function(t){this.$el.html(this.template({global_tip:TVE.t.global.save_global_gradient,favorite_tip:TVE.t.global.save_favorite_gradient})),this.reset_view_vars(t)},reset_view_vars:function(t){this.gradient=t,this.$(".tcb-global-color-preview").css("background-image",t)},add_global:function(){this.color_view.add_global_gradient({gradient:this.gradient,name:s,custom_name:0}),this.color_view.reset_html();var t=this.color_view.$('.p-global-thumb[data-color="'+this.gradient+'"]').first();this.color_view.execute_global_gradient_ajax({gradient:this.gradient,name:s}),t&&(TVE.changeCssVariableValue(t.attr("data-var"),this.gradient),this.color_view.color_click(null,t[0]),this.empty_el())},add_favorite:function(){this.color_view.add_gradient(this.gradient),this.empty_el()},empty_el:function(){this.$el.empty(),jQuery(".tvd-material-tooltip").removeClass("show")}})},"content-preview.js":function(t,e,i){var n;n=jQuery,e.exports={init:function(t,e){e.element_type=TVE._type(t),this.options=jQuery.extend({},this.get_default_options(),e)},get_default_options:function(){return{file_name:"default.png",custom:"save_content_thumb",action:TVE.CONST.ajax.action,post_id:0}},generate_preview:function(t,e){var i=this;if(t){this.init(t,e);var n=["header","footer"].includes(this.options.element_type),s={};void 0!==this.options.width&&(s.width=this.options.width),void 0!==this.options.height&&(s.height=this.options.height),TVE.do_action("tcb.symbol.before_preview",this.options),TVE.generateElementPreview(t,function(t){"function"==typeof i.options.callback?i.options.callback(t):i.save_file(t)},s,n)}else TVE.page_message(TVE.t.element_for_thumb_is_missing,!0)},save_file:function(t){var e=this;if(!t)return null;var i=new FormData;i.append("preview_file",t,this.options.file_name),i.append("custom",this.options.custom),i.append("action",this.options.action),i.append("post_id",this.options.post_id),i.append("element_type",this.options.element_type),i.append("nonce",TVE.CONST.nonce),n.ajax({type:"POST",url:TVE.CONST.ajax_url,data:i,processData:!1,contentType:!1,success:function(t){return TVE.do_action("tcb.symbol.after_preview",t,e.options)},error:function(){TVE.page_message(TVE.t.thumb_file_not_saved,!0)}})}}},"element-snapshot.js":function(t,e,i){function r(t){var i={html:t.html(),cls:t.attr("class"),style:t.attr("style"),data:{}};return t.length&&t[0].dataset&&jQuery.each(t[0].dataset,function(t,e){i.data[t]=e}),i}function l(i,t){return i.length&&t&&(i.html(t.html).attr("class",t.cls).attr("style",t.style),Object.keys(i[0].dataset).forEach(function(t){return delete i[0].dataset[t]}),jQuery.each(t.data,function(t,e){i[0].dataset[t]=e})),this}e.exports=function(t,e,i){var n,s=r(e),a=t.call(void 0===i?null:i);function o(){n=r(e),TVE.UndoManager.add({undo:function(){l(e,s)},redo:function(){l(e,n)}})}!function(t){return t&&"function"==typeof t.then}(a)?o():a.then(o)}},"event-manager.js":function(t,e,i){var o;o=jQuery,e.exports={D_s:"__TCB_EVENT_",D_e:"_TNEVE_BCT__",read:function(t){if(!t)return[];var e=t.jquery?t.attr("data-tcb-events"):t.getAttribute("data-tcb-events");return e=e?JSON.parse(e.replace(this.D_s,"").replace(this.D_e,"")):[]},get:function(t,i){var e=this.read(t),n=!1;return o.each(e,function(t,e){if(e.t===i)return n=e,!1}),n},remove:function(t,i){var n=this.read(t);return n.length&&(o.each(n,function(t,e){if(e.t===i)return n.splice(t,1),!1}),this.write(n,t)),this},replace:function(t,i,n){var s=this.read(t),a=!1;n.t||(n.t=i),o.each(s,function(t,e){if(e.t===i)return s[t]=n,!(a=!0)}),a||s.push(n),this.write(s,t)},write:function(t,e){if(e){t=_.filter(t,function(t){return"link"!==t.a});var i=e.jquery?e:jQuery(e),n=i.closest(".thrv_wrapper, .tcb-col");t.length?(i.attr("data-tcb-events",this.D_s+JSON.stringify(t)+this.D_e),i.addClass("tve_evt_manager_listen")):(i.removeClass("tve_evt_manager_listen"),i.removeAttr("data-tcb-events")),i.removeClass(this.remove_classes),n.removeClass(this.remove_classes);for(var s,a=0;s=t[a++];)i.addClass("tve_et_"+s.t),n.addClass("tve_ea_"+s.a),"thrive_animation"===s.a&&n.addClass("tve_anim_"+s.config.anim)}},remove_classes:function(t,e){var i=e.split(" "),n=[];return _.each(i,function(t){0!==t.indexOf("tve_et_")&&0!==t.indexOf("tve_ea_")&&0!==t.indexOf("tve_anim")||n.push(t)}),n.join(" ")}}},"favorite-colors.js":function(t,e,i){var n=i("../views/base"),s=i("./tinycolor"),a=i("./global-colors"),o=i("./template-colors"),r=i("./add-color"),l=i("./storage"),c=i("./name-that-color"),d="p-fav-thumb",h="p-global-thumb";e.exports=n.base_view.extend({template:TVE.tpl("util/favorite-colors"),template_colors_tpl:TVE.tpl("util/template-colors"),save_btn:TVE.tpl("util/color-picker/save-btn"),favorite_thumb:TVE.tpl("util/color-picker/favorite-thumb"),global_thumb:TVE.tpl("util/color-picker/global-thumb"),className:"fav-colors",attr:{expanded:l.get("tcb_fav_expanded")||!1,colors:TVE.CONST.colors.favorites||[],globals:TVE.CONST.colors.globals||[],templates:TVE.CONST.colors.templates||[]},has_template_colors:!1,variableViews:{},initialize:function(){},after_render:function(){this.color_picker.options&&(this.variableViews={},this.has_template_colors=0<this.attr.templates.length&&this.color_picker.options.showGlobals,this.global_colors_view=new a({el:this.$("#tcb-color-details")[0],favorites_view:this}),this.variableViews.color=this.global_colors_view,this.add_color_view=new r({el:this.$("#tcb-add-color")[0],favorites_view:this}),this.has_template_colors&&(this.$el.append(this.template_colors_tpl()),this.template_colors_view=new o({el:this.$("#tcb-template-color-details")[0],favorites_view:this}),this.variableViews.tpl=this.template_colors_view),TVE.do_action("tcb.favorite_colors.after_render",this),this.reset_html())},on_color_show:function(){if(!_.isEmpty(this.color_picker.options)){var t=this.color_picker.getValue();if(this.render(),t&&s(t).isValid()){var e=this.color_picker.css_variable?this.$("."+h+'[data-var="'+TVE.getRawCssVariableName(this.color_picker.css_variable)+'"]'):this.$("."+d+'[data-color="'+t+'"]');e.length?this.select(t,e.first()):this.color_picker.disable_enable_choose_color(!1)}else this.color_picker.disable_enable_choose_color(!1)}},on_color_hide:function(){this.color_picker.edit_css_variable&&(this.has_template_colors&&-1<this.color_picker.css_variable.indexOf(TVE.CONST.colors.lp_set_prefix)?this.template_colors_view.update_global():this.global_colors_view.update_global())},toggleColorDropdown:function(t,e){var i=e.getAttribute("data-dropdown-base-selector");this.$("".concat(i,"control")).toggleClass("open"),this.$("".concat(i,"content")).toggleClass("tcb-hidden")},render_colors:function(){var i=this.save_btn({tooltip:"Save Color"}),e=this.color_picker.options.showGlobals?this.global_thumb:this.favorite_thumb;return this.color_picker.options.globalThumb&&!_.isEmpty(this[this.color_picker.options.globalThumb])&&(e=this[this.color_picker.options.globalThumb]),_.each(this.attr.globals,function(t){t.active&&(i+=e({global_prefix:TVE.CONST.colors.global_prefix,css_prop:"background-color",color:t.color,name:t.name,id:t.id,synced_var:"",custom_name:t.custom_name}))},this),_.each(this.attr.colors,function(t,e){i+=this.favorite_thumb({css_prop:"background-color",color:s(t).toRgbString(),id:e})},this),i},save_favorite:function(){return this.color_picker.edit_css_variable||(this.color_picker.options.showGlobals?(this.global_colors_view.$el.empty(),this.has_template_colors&&this.template_colors_view.$el.empty(),this.add_color_view.render(this.color_picker.getValue())):this.add_color(this.color_picker.getValue())),!1},color_click:function(t,e){this.color_picker.options.showGlobals&&this.add_color_view.empty_el();var i=e.getAttribute("data-color"),n=e.getAttribute("data-var");if(this.color_picker.edit_css_variable&&this.color_picker.css_variable){if(this.has_template_colors&&-1<this.$selected.attr("data-var").indexOf(TVE.CONST.colors.lp_set_prefix))return TVE.changeCssVariableValue(this.$selected.attr("data-var"),n?TVE.buildCssVariable(n):i),this.$selected.attr("data-color",i),n?this.$selected.attr("data-synced-var",TVE.buildCssVariable(n)):this.$selected.attr("data-synced-var",""),void t.stopPropagation();this.has_template_colors&&-1<this.color_picker.css_variable.indexOf(TVE.CONST.colors.lp_set_prefix)?this.template_colors_view.undo_global():this.global_colors_view.undo_global()}return this.color_picker.$el.trigger("hue.changed.spectrum",s(i).toHsl().h),this.color_picker.setValue(n?TVE.buildCssVariable(n):i,!1,!0),this.select(i,jQuery(e)),!1},add_color:function(t){return t?(t="function"==typeof t.toString?t.toString():t,-1!==this.attr.colors.indexOf(t)||0<this.$(".p-thumb."+d+'[data-color="'+t+'"]').length||(this.attr.colors.unshift(t),this.reset_html(),this.select(t),this.execute_favorites_color_ajax()),this):this},remove_color:function(t){return _.isNumber(t)&&(this.attr.colors.splice(t,1),this.$selected.remove(),this.reset_html(),this.execute_favorites_color_ajax()),this},remove_global_color:function(e){var t=_.findIndex(this.attr.globals,function(t){return t.id==e});-1<t&&(this.attr.globals[t].active=0,TVE.CONST.colors.globals[t].active=0),this.$selected.remove(),this.reset_html(),this.color_picker.disable_enable_choose_color(!1)},add_global_color:function(t){var e=this.attr.globals.length;this.attr.globals.unshift({id:e,active:1,color:t.color,name:t.name,custom_name:t.custom_name})},update_global_color:function(e,t,i){var n=-1<t.indexOf(TVE.CONST.colors.global_prefix)?"globals":"templates",s=_.findIndex(this.attr[n],function(t){return t.id==e});-1<s&&(this.attr[n][s].color=i.color,this.attr[n][s].name=i.name,this.attr[n][s].custom_name=i.custom_name,TVE.do_action("tcb.modify.color.variable",this.attr[n][s],t))},reset_html:function(){if(this.$(".tcb-saved-colors-container").html(this.render_colors()),this.has_template_colors){var i="";_.each(this.attr.templates,function(t){var e=this.global_thumb({global_prefix:TVE.CONST.colors.lp_set_prefix,css_prop:"background-color",color:TVE.isCssVariable(t.color)?TVE.getCssVariableValue(t.color):t.color,name:t.name,id:t.id,synced_var:TVE.isCssVariable(t.color)?t.color:"",custom_name:t.custom_name});e=e.replace("p-thumb-inner","p-thumb-inner tcb-tpl-var"),i+=e},this),this.$(".tcb-template-colors-container").html(i)}TVE.do_action("tcb.favorite_colors.reset_html",this)},select:function(t,e){var i=this.$(".p-thumb").not(".save-fav").removeClass("active");if(t)return"string"==typeof t&&(t=s(t)),this.$selected=e?e.addClass("active"):i.filter('[data-color="'+t.toRgbString()+'"]').first().addClass("active"),this.global_colors_view&&this.color_picker.options.showGlobals&&(_.each(this.variableViews,function(t){t.$el.empty()}),0<this.$selected.length&&this.color_picker.options.showActiveColorDetails&&(this.color_picker.disable_enable_choose_color(this.$selected.hasClass(h)),this.$selected.attr("data-var")&&this.variableViews[this.$selected.attr("data-var").split("-")[3]].render(this.$selected))),this},allow_user_to_edit:function(t){if(t?TVE.Editor_Page.enable_clicks({panel_action_btn:!0}):TVE.Editor_Page.disable_clicks({panel_action_btn:!0}),!t){var e=TVE.t.global.global_color_edit;-1<this.color_picker.css_variable.indexOf(TVE.CONST.colors.lp_set_prefix)&&(e=TVE.t.global.template_color_edit),this.$("#global-color-edit-msg").html(e)}this.$("#global-color-edit-warning").toggleClass("tcb-hidden",t),this.color_picker.disable_enable_choose_color(t)},execute_global_color_ajax:function(t){t&&(t.post_id=TVE.CONST.post.ID,TVE.ajax("global_colors","post",t))},execute_template_color_ajax:function(t){t&&(t.value=t.color,t.type="color",TVE.ajax("template_options","post",t))},execute_favorites_color_ajax:function(){TVE.ajax("custom_options","post",{type:"colours",values:TVE.CONST.colors.favorites})},compute_color_name:function(t){return c(t)[1]},on_color_change:function(t){this.color_picker.css_variable&&this.color_picker.edit_css_variable&&this.$selected&&this.$selected.length?(this.$selected.attr("data-synced-var",""),this.has_template_colors&&-1<this.$selected.attr("data-var").indexOf(TVE.CONST.colors.lp_set_prefix)?this.template_colors_view.update_color_name(this.$selected,t):this.global_colors_view.update_color_name(this.$selected,t),TVE.do_action("tcb.change_css_color_variable",this.color_picker.css_variable,t)):(this.$(".p-thumb").not(".save-fav").removeClass("active"),this.color_picker.options.showGlobals&&this.add_color_view&&this.global_colors_view&&(this.add_color_view.$el.empty(),this.global_colors_view.$el.empty(),this.has_template_colors&&this.template_colors_view.$el.empty()))}})},"favorite-gradients.js":function(t,e,i){var n=i("../views/base"),s=i("./global-gradients"),a=i("./template-gradients"),o=i("./add-gradient");e.exports=n.base_view.extend({template:TVE.tpl("util/favorite-gradients"),template_gradients_tpl:TVE.tpl("util/template-gradients"),save_btn:TVE.tpl("util/color-picker/save-btn"),favorite_thumb:TVE.tpl("util/color-picker/favorite-thumb"),global_thumb:TVE.tpl("util/color-picker/global-thumb"),className:"fav-gradients",attr:{favorites:TVE.CONST.gradients.favorites||[],globals:TVE.CONST.gradients.globals||[],templates:TVE.CONST.gradients.templates||[]},has_template_gradients:!1,variableViews:{},initialize:function(t){this.gradient_picker=t.gradient_picker,this.has_template_gradients=0<this.attr.templates.length},after_render:function(){this.global_gradients_view=new s({el:this.$("#gradient-details")[0],favorites_view:this}),this.variableViews.gradient=this.global_gradients_view,this.add_gradient_view=new o({el:this.$("#add-gradient")[0],favorites_view:this}),this.has_template_gradients&&(this.$el.append(this.template_gradients_tpl()),this.template_gradients_view=new a({el:this.$("#templates-gradient-details")[0],favorites_view:this}),this.variableViews.tpl=this.template_gradients_view),TVE.do_action("tcb.favorite_gradients.after_render",this),this.reset_html()},on_color_show:function(){var t=this.gradient_picker.getCss();this.render();var e=this.gradient_picker.css_variable?this.$('.p-global-thumb[data-var="'+TVE.getRawCssVariableName(this.gradient_picker.css_variable)+'"]'):this.$('.p-fav-thumb[data-color="'+t+'"]');e.length&&this.select(t,e.first()),this.gradient_picker.toggle_gradient_controls(!!this.gradient_picker.css_variable)},reset_html:function(){if(this.$(".saved-gradients-container").html(this.render_gradients()),this.has_template_gradients){var i="";_.each(this.attr.templates,function(t){var e=this.global_thumb({global_prefix:TVE.CONST.gradients.lp_set_prefix,css_prop:"background-image",color:TVE.isCssVariable(t.gradient)?TVE.getCssVariableValue(t.gradient):t.gradient,name:t.name,id:t.id,synced_var:TVE.isCssVariable(t.gradient)?t.gradient:"",custom_name:t.custom_name});e=e.replace("p-thumb-inner","p-thumb-inner tcb-tpl-var"),i+=e},this),this.$(".templates-gradients-container").html(i)}TVE.do_action("tcb.favorite_gradients.reset_html",this)},render_gradients:function(){var i=this.save_btn({tooltip:"Save Gradient"});return _.each(this.attr.globals,function(t){t.active&&(i+=this.global_thumb({global_prefix:TVE.CONST.gradients.global_prefix,css_prop:"background-image",color:t.gradient,name:t.name,id:t.id,synced_var:"",custom_name:t.custom_name}))},this),_.each(this.attr.favorites,function(t,e){i+=this.favorite_thumb({css_prop:"background-image",color:t,id:e})},this),i},save_favorite:function(){return this.gradient_picker.edit_css_variable||(this.global_gradients_view.$el.empty(),this.add_gradient_view.render(this.gradient_picker.getCss())),!1},toggleGradientDropdown:function(t,e){var i=e.getAttribute("data-dropdown-base-selector");this.$("".concat(i,"control")).toggleClass("open"),this.$("".concat(i,"content")).toggleClass("tcb-hidden")},color_click:function(t,e){var i=e.getAttribute("data-color"),n=e.getAttribute("data-var")?TVE.buildCssVariable(e.getAttribute("data-var")):null;if(this.gradient_picker.css_variable&&this.gradient_picker.edit_css_variable){if(this.has_template_gradients&&-1<this.$selected.attr("data-var").indexOf(TVE.CONST.gradients.lp_set_prefix))return TVE.changeCssVariableValue(this.$selected.attr("data-var"),n?TVE.buildCssVariable(n):i),this.$selected.attr("data-color",i),n?this.$selected.attr("data-synced-var",TVE.buildCssVariable(n)):this.$selected.attr("data-synced-var",""),void t.stopPropagation();this.has_template_gradients&&-1<this.gradient_picker.css_variable.indexOf(TVE.CONST.gradients.lp_set_prefix)?this.template_gradients_view.undo_global():this.global_gradients_view.undo_global()}return this.gradient_picker.setValue(n||i),this.gradient_picker.picker.gradient_css_variable=n,this.gradient_picker.picker.updatePreview(!0),this.select(i,jQuery(e)),this.gradient_picker.toggle_gradient_controls(!!n),!1},add_global_gradient:function(t){var e=this.attr.globals.length;this.attr.globals.unshift({id:e,active:1,gradient:t.gradient,name:t.name,custom_name:t.custom_name})},update_global_gradient:function(e,t,i){var n=-1<t.indexOf(TVE.CONST.gradients.global_prefix)?"globals":"templates",s=_.findIndex(this.attr[n],function(t){return t.id==e});-1<s&&(this.attr[n][s].gradient=i.gradient,this.attr[n][s].name=i.name,this.attr[n][s].custom_name=i.custom_name)},add_gradient:function(t){return t&&(-1!==this.attr.favorites.indexOf(t)?this.select(t):(this.attr.favorites.unshift(t),this.reset_html(),this.select(t),this.execute_favorites_gradient_ajax())),this},remove_color:function(t){return _.isNumber(t)&&(this.attr.favorites.splice(t,1),this.$selected.remove(),this.reset_html(),this.execute_favorites_gradient_ajax()),this},remove_global_gradient:function(e){var t=_.findIndex(this.attr.globals,function(t){return t.id==e});-1<t&&(this.attr.globals[t].active=0,TVE.CONST.gradients.globals[t].active=0),this.$selected.remove(),this.reset_html(),this.gradient_picker.toggle_gradient_controls(!1)},select:function(t,e){var i=this.$(".p-thumb").not(".save-fav").removeClass("active");t&&(this.$selected=e?e.addClass("active"):i.filter('[data-color="'+t+'"]').first().addClass("active"),_.each(this.variableViews,function(t){t.$el.empty()}),0<this.$selected.length&&this.$selected.attr("data-var")&&this.variableViews[this.$selected.attr("data-var").split("-")[3]].render(this.$selected))},on_gradient_change:function(t){this.gradient_picker.css_variable&&this.gradient_picker.edit_css_variable&&this.$selected&&this.$selected.length?(this.$selected.attr("data-synced-var",""),this.$selected.attr("data-var")&&(this.variableViews[this.$selected.attr("data-var").split("-")[3]].gradient=t)):(this.$(".p-thumb").not(".save-fav").removeClass("active"),_.each(this.variableViews,function(t){t.$el.empty()}),this.add_gradient_view.$el.empty(),this.gradient_picker.toggle_gradient_controls(!1))},allow_user_to_edit:function(t){if(t?TVE.Editor_Page.enable_clicks({panel_action_btn:!0}):TVE.Editor_Page.disable_clicks({panel_action_btn:!0}),!t){var e=TVE.t.global.global_gradient_edit;-1<this.gradient_picker.css_variable.indexOf(TVE.CONST.gradients.lp_set_prefix)&&(e=TVE.t.global.template_gradient_edit),this.$("#global-gradient-edit-msg").html(e)}this.$("#global-gradient-edit-warning").toggleClass("tcb-hidden",t),this.gradient_picker.toggle_gradient_controls(t)},execute_favorites_gradient_ajax:function(){TVE.ajax("custom_options","post",{type:"gradients",values:TVE.CONST.gradients.favorites})},execute_template_gradients_ajax:function(t){t&&(t.value=t.gradient,t.type="gradient",TVE.ajax("template_options","post",t))},execute_global_gradient_ajax:function(t){t&&(t.post_id=TVE.CONST.post.ID,TVE.ajax("global_gradients","post",t))}})},"file-picker.js":function(t,e,i){var n=wp.media.view.MediaFrame.Post.extend({createStates:function(){wp.media.view.MediaFrame.Post.prototype.createStates.apply(this,arguments),this.states.remove("gallery"),this.states.remove("gallery-edit"),this.states.remove("gallery-add"),this.states.remove("playlist"),this.states.remove("video-playlist"),this.states.remove("audio-playlist"),this.states.get("insert").set("title",this.options.title),this.states.on("content:render",function(){setTimeout(function(){jQuery("button.button-link.clear-selection").click()},0)})},activate:function(){this.menuItemVisibility("gallery","hide"),this.menuItemVisibility("playlist","hide"),this.menuItemVisibility("video-playlist","hide"),this.menuItemVisibility("audio-playlist","hide"),this.state().get("selection")&&this.state().get("selection").off("selection:single",this.on_attachment_select,this).on("selection:single",this.on_attachment_select,this)},on_attachment_select:function(){}});function s(t){var e=this,i={title:TVE.t.ChooseImage,multiple:!1,library:{type:"image"},preselect_full_size:!0},s=this;t=_.defaults(t||{},i),this.frame=new n(t),t.preselect_full_size&&(this.frame.on_attachment_select=function(){setTimeout(function(){var t=e.frame.$el.find(".attachment-display-settings");t.find(".size").val("full").trigger("change"),t.find(".setting.align").hide(),t.find(".link-to-custom").parent().hide()},0)}),this.frame.on("insert",function(t){s.image_selected=!0;var e=s.frame.state();if(t=t||e.get("selection")){var i=e.get("selection").first(),n=e.display(i).toJSON();s.update_link_url(n,i),s.send_image(n,i.toJSON())}}),this.frame.on("select",function(){var t=s.frame.state().props.toJSON();s.send_image(null,t)}),this.frame.on("close",function(){"function"==typeof s.cancel_callback&&setTimeout(function(){s.image_selected||s.cancel_callback.call(s.cancel_scope)},10)})}s.prototype.update_link_url=function(t,e){if(t&&e)switch(t.link){case"file":t.link_url=e.get("url");break;case"post":t.link_url=e.get("link");break;case"custom":t.link_url=t.linkUrl;break;case"none":t.link_url=""}},s.prototype.send_image=function(t,e){if("function"!=typeof this.select_callback)return this;var i=_.extend({},e);if(t&&t.size&&e.sizes&&e.sizes[t.size]){e.size=i.size=t.size;var n=e.sizes[t.size];i.url=n.url,i.width=n.width,i.height=n.height,i.align=t.align}return t&&t.link_url&&(i.link_url=t.link_url),this.select_callback.call(this.cb_scope,i,e)},s.prototype.open=function(){return delete self.image_selected,this.frame.open(),this},s.prototype.on_select=function(t,e){return this.select_callback=t,this.cb_scope=e||this,this},s.prototype.on_cancel=function(t,e){return this.cancel_callback=t,this.cancel_scope=e||this,this},s.prototype.clean_url=function(t){if(!t)return"";var e="";return _.isObject(t)&&t.url?e=t.url:t.length&&(e=t),e.replace?e.replace(/^http:\/\//g,"//"):""},e.exports=s},"functions.js":function(t,e,i){jQuery,e.exports={toFixed:function(t,e){var i=1<arguments.length&&void 0!==e?e:1;return Number(Math.round(parseFloat(t)+"e"+i)+"e-"+i)},getRealSelector:function(t,e){var i=1<arguments.length&&void 0!==e?e:[" strong",".tve-state-active",".tve-state-expanded"],n="(:hover|:active|:after|:focus|:visited|::after|:before|::before|::placeholder";i.length&&(n+="|".concat(i.join("|"))),n+=")";var s=TVE.apply_filters("tcb.css.selector.strip",new RegExp(n,"g"));return(t.selectorText||t).replace(s,"")},elementForSuffix:function(s,t){var a=this,e=1<arguments.length&&void 0!==t?t:"";if(!e||_.isEmpty(e))return s._tve_selector="",s;function o(t){if(!t.trim())return s._tve_selector="",[s,""];var e=t;if((t=a.getRealSelector(t,[])).length<2)return s._tve_selector=e,[s,e];var i=s;if(".#:[".includes(t.charAt(0))){var n=t.split(" ");i=i.filter(n.shift()),t=n.join(" ")}return(i=t?i.find(t):i)._tve_selector=e,[i,e]}if(Array.isArray(e)){var r=s.constructor(),l=!1;return e.forEach(function(t){var e=_slicedToArray(o(t),2),i=e[0],n=e[1];i.length&&!1===l&&(l=n),r=r.add(i)}),r._tve_selector=l,r}return o(e)[0]},deepGet:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:null;if(!t)return n;_.isString(e)&&(e=e.split("."));for(var s,a=t;e.length;){if(void 0===a[s=e.shift()])return n;a=a[s]}return a},filterObjectPropertiesByKey:function(t,e){var i=0<arguments.length&&void 0!==t?t:{},n=1<arguments.length&&void 0!==e?e:[];return Object.keys(i).filter(function(t){return n.includes(t)}).reduce(function(t,e){return t[e]=i[e],t},{})},validateConfigElement:function(t,e){var i=0<arguments.length&&void 0!==t?t:{},n=1<arguments.length&&void 0!==e?e:{};return 0===Object.keys(n).map(function(t){return[t,(0,n[t])(i[t])]}).reduce(function(t,e){return!1===e[1]&&t.push(new Error("".concat(e[0]," is invalid."))),t},[]).length},getStyleBySelector:function(t,e,i){var n=2<arguments.length&&void 0!==i&&i;if(t&&t.cssRules)for(var s=t.cssRules.length-1;0<=s;s--){var a=t.cssRules[s];if(a.selectorText===e||n&&a.selectorText.includes(e))return a.style}return null},ensurePromise:function(t){return t&&"function"==typeof t.then?t:new Promise(function(t){t()})},getElementForDataSelector:function(t){var e=t.attr("data-selector");return e&&(TVE.main.EditMode.in_edit()?TVE.main.EditMode.element().is(e)?t=TVE.main.EditMode.element():(t=TVE.main.EditMode.element().find(e)).length||(t=TVE.main.EditMode.element().parent().find(e)):t=TVE.inner_$(e)),t}}},"global-colors.js":function(t,e,i){var n=i("../views/base"),s=i("./tinycolor"),o="p-global-thumb";e.exports=n.base_view.extend({template:TVE.tpl("util/edit-global-colors"),step_1:".tcb-favorites-step-1",step_2:".tcb-favorites-step-2",step_3:".tcb-favorites-step-3",tiny_color_obj:null,$thumb:null,enable_remove_color:!0,enable_edit_color:!0,update_label:TVE.t.global.update_color,edit_label:TVE.t.global.edit_color,unlink_label:TVE.t.global.unlink_color,initialize:function(t){this.color_view=t.favorites_view,"function"==typeof this.after_initialize&&this.after_initialize(t)},render:function(t){var e,i=s(t.attr("data-color")),n=i.toHexString();e=t.hasClass(o)?t.attr("data-name"):this.color_view.compute_color_name(n),this.$el.html(this.template({text:e,edit_property_label:TVE.t.Color,update_tip:this.update_label,undo_tip:TVE.t.global.cancel_update,edit_tip:this.edit_label,unlink_tip:this.unlink_label,enable_remove_color:this.enable_remove_color,enable_edit_color:this.enable_edit_color})),this.reset_view_vars(i,t),this.after_render(t)},reset_view_vars:function(t,e){this.tiny_color_obj=t,this.$thumb=e,this.custom_name=parseInt(e.attr("data-custom-name"))},after_render:function(t){var e=this.color_view.color_picker.css_variable,i=!!e,n=i&&-1<e.indexOf("--tcb-tpl-")&&TVE.isGlobalVariablePromoted(e);this.$color_states=this.$(".tcb-favorites-steps"),this.$global_color_name_input=this.$("#tcb_global_color_name"),this.$global_color_label=this.$(".tcb-global-color-label"),this.$colorPreview=this.$(".tcb-global-color-preview").toggleClass("tcb-css-variable-identifier",i).toggleClass("tcb-tpl-var",n).css("background-color",t.hasClass(o)?"var("+t.attr("data-var")+")":this.tiny_color_obj.toRgbString()),this.hide_all_steps_except(t.hasClass(o)?this.step_2:this.step_1)},hide_all_steps_except:function(t){this.$color_states.addClass("tcb-hidden"),this.$(".global-colors-drop-content").addClass("tcb-hide"),t&&this.$color_states.filter(t).removeClass("tcb-hidden")},go_to_state:function(t,e){var i=parseInt(e.getAttribute("data-state"));switch(delete this.color_view.color_picker.edit_css_variable,delete this.cache_tiny_color_obj,i){case 2:case 3:this.$("#active_color_details").removeClass("remove-view");break;case 31:this.color_view.color_picker.edit_css_variable=!0,this.cache_tiny_color_obj=this.tiny_color_obj,this.color_view.allow_user_to_edit(!1),TVE.do_action("tcb.edit_css_color_variable",this.color_view.color_picker.css_variable,this.cache_tiny_color_obj);break;case 32:this.color_view.color_picker.disable_enable_choose_color(!0),TVE.Editor_Page.disable_clicks({panel_action_btn:!0});break;case 33:this.$("#active_color_details").addClass("remove-view"),this.color_view.color_picker.disable_enable_choose_color(!0)}return this.hide_all_steps_except(".tcb-favorites-step-"+i),!1},make_global:function(){jQuery(".tvd-material-tooltip").removeClass("show");var t=this.$thumb.attr("data-color");this.color_view.add_global_color({color:this.tiny_color_obj.toRgbString(),name:this.$global_color_name_input.val(),custom_name:0}),this.$thumb.remove(),delete this.$thumb,this.color_view.reset_html(),this.color_view.select(t,this.color_view.$("."+o+'[data-color="'+this.tiny_color_obj.toRgbString()+'"]').first()),this.execute_ajax({}),this.$thumb&&(TVE.changeCssVariableValue(this.$thumb.attr("data-var"),t),this.color_view.color_click(null,this.$thumb[0]))},unlink_global:function(){this.color_view.color_picker.setValue(this.tiny_color_obj,!1,!0),this.$el.empty(),this.remove_tooltips(),this.color_view.color_picker.disable_enable_choose_color(!1),this.color_view.$(".p-thumb").not(".save-fav").removeClass("active")},update_color_name:function(t,e){var i=e.toHexString(),n=e.toRgbString(),s=t.attr("data-var");if(this.reset_view_vars(e,t),!this.custom_name){var a=this.color_view.compute_color_name(i);this.$global_color_name_input.val(a),this.$global_color_label.text(a)}this.$previewElements=this.previewColorChanges(s,n)},previewColorChanges:function(i,n){n=String(n),this.$colorPreview.currentVariable=i,this.$colorPreview.each(function(t,e){e.style.setProperty(i,n)});var e=TVE.inner_$();return(TVE.CSS_Rule_Cache.getSelectorForCss(i)[TVE.main.media_query_tpl()]||[]).forEach(function(t){e=e.add(TVE.inner_$(t))}),e.tcbCss(i,n),e},clearPreviews:function(){var i=this;this.$colorPreview.each(function(t,e){e.style.removeProperty(i.$colorPreview.currentVariable)}),this.$previewElements&&this.$previewElements.attr("style",""),delete this.$previewElements},update_global:function(){var t=this.$global_color_name_input.val(),e=this.$thumb.attr("data-id"),i=this.$thumb.attr("data-var"),n=this.$thumb.attr("data-synced-var"),s=n||this.tiny_color_obj.toRgbString(),a=t.trim()===this.color_view.compute_color_name(this.tiny_color_obj.toHexString())?0:1;this.hide_all_steps_except(this.step_2),this.color_view.update_global_color(e,i,{color:s,name:t,custom_name:a}),this.$global_color_label.text(t),this.execute_ajax({id:e,custom_name:a,color:s}),this.color_view.reset_html(),this.color_view.select(this.tiny_color_obj.toRgbString(),this.color_view.$("."+o+'[data-var="'+i+'"]')),delete this.color_view.color_picker.edit_css_variable,this.color_view.allow_user_to_edit(!0),this.remove_tooltips(),TVE.changeCssVariableValue(i,s),this.clearPreviews(),TVE.do_action("tcb.update_css_color_variable",i,s)},undo_global:function(){if(TVE.do_action("tcb.undo_css_color_variable",this.$thumb.attr("data-var"),this.tiny_color_obj,this.cache_tiny_color_obj),this.cache_tiny_color_obj){var t=this.cache_tiny_color_obj.toRgbString(),e=this.$thumb.attr("data-var");TVE.changeCssVariableValue(e,t),this.color_view.color_picker.setValue(this.cache_tiny_color_obj,!1,!0),this.tiny_color_obj=this.cache_tiny_color_obj}var i=this.$thumb.attr("data-name");this.$global_color_name_input.val(i),this.$global_color_label.text(i),delete this.cache_tiny_color_obj,delete this.color_view.color_picker.edit_css_variable,this.hide_all_steps_except(this.step_2),this.color_view.allow_user_to_edit(!0),this.remove_tooltips(),this.clearPreviews()},remove_global:function(t,e){var i=parseInt(this.$thumb.attr("data-id"));return this.color_view.color_picker.setValue(this.tiny_color_obj,!1,!0),this.color_view.remove_global_color(i),this.execute_ajax({id:i,active:0}),this.$("#active_color_details").removeClass("remove-view"),this.$el.empty(),this.remove_tooltips(),!1},remove_favorite:function(t,e){return this.$thumb&&this.$thumb.length&&(this.color_view.remove_color(parseInt(this.$thumb.attr("data-id"))),this.$el.empty(),this.remove_tooltips()),!1},execute_ajax:function(t){(t=t||{}).color=this.tiny_color_obj.toRgbString(),t.name=this.$global_color_name_input.val(),this.color_view.execute_global_color_ajax(t)},remove_tooltips:function(){jQuery(".tvd-material-tooltip").removeClass("show")},toggle_more_options:function(t,e){this.$(".global-colors-drop-content").toggleClass("tcb-hide")}})},"global-gradients.js":function(t,e,i){var n=i("../views/base"),o="p-global-thumb",r=TVE.t.gradient;e.exports=n.base_view.extend({template:TVE.tpl("util/edit-global-colors"),step_1:".tcb-favorites-step-1",step_2:".tcb-favorites-step-2",step_3:".tcb-favorites-step-3",enable_remove_color:!0,enable_edit_color:!0,update_label:TVE.t.global.update_gradient,edit_label:TVE.t.global.edit_gradient,unlink_label:TVE.t.global.unlink_gradient,initialize:function(t){this.fav_gradient_view=t.favorites_view,"function"==typeof this.after_initialize&&this.after_initialize(t)},render:function(t){var e=t.attr("data-color"),i=this.fav_gradient_view.gradient_picker.css_variable,n=!!i,s=n&&-1<i.indexOf("--tcb-tpl-")&&TVE.isGlobalVariablePromoted(i),a=r;t.hasClass(o)&&(a=t.attr("data-name")),this.$el.html(this.template({text:a,edit_property_label:TVE.t.gradient,update_tip:this.update_label,undo_tip:TVE.t.global.cancel_update,edit_tip:this.edit_label,unlink_tip:this.unlink_label,enable_remove_color:this.enable_remove_color,enable_edit_color:this.enable_edit_color})),this.$(".tcb-global-color-preview").toggleClass("tcb-css-variable-identifier",n).toggleClass("tcb-tpl-var",s).css("background-image",t.hasClass(o)?"var("+t.attr("data-var")+")":e),this.after_render(e,t)},after_render:function(t,e){this.$color_states=this.$(".tcb-favorites-steps"),this.$global_color_name_input=this.$("#tcb_global_color_name"),this.$global_color_label=this.$(".tcb-global-color-label"),this.$thumb=e,this.gradient=t,this.step_to_show(e.hasClass(o)?this.step_2:this.step_1)},step_to_show:function(t){this.$color_states.addClass("tcb-hidden"),this.$(".global-colors-drop-content").addClass("tcb-hide"),t&&this.$color_states.filter(t).removeClass("tcb-hidden")},remove_favorite:function(t,e){return this.$thumb&&this.$thumb.length&&(this.fav_gradient_view.remove_color(parseInt(this.$thumb.attr("data-id"))),this.$el.empty(),this.remove_tooltips()),!1},make_global:function(){jQuery(".tvd-material-tooltip").removeClass("show");var t=this.$thumb.attr("data-color");this.fav_gradient_view.add_global_gradient({gradient:t,name:this.$global_color_name_input.val(),custom_name:0}),this.$thumb.remove(),delete this.$thumb,this.fav_gradient_view.reset_html(),this.fav_gradient_view.select(t,this.fav_gradient_view.$("."+o+'[data-color="'+t+'"]').first()),this.execute_ajax({}),this.$thumb&&(TVE.changeCssVariableValue(this.$thumb.attr("data-var"),t),this.fav_gradient_view.color_click(null,this.$thumb[0]))},unlink_global:function(){delete this.fav_gradient_view.gradient_picker.picker.gradient_css_variable,this.fav_gradient_view.gradient_picker.setValue(this.gradient),this.fav_gradient_view.gradient_picker.picker.updatePreview(!0),this.$el.empty(),this.remove_tooltips(),this.fav_gradient_view.$(".p-thumb").not(".save-fav").removeClass("active")},go_to_state:function(t,e){var i=parseInt(e.getAttribute("data-state"));switch(delete this.fav_gradient_view.gradient_picker.edit_css_variable,delete this.cache_gradient,i){case 2:case 3:this.$("#active_color_details").removeClass("remove-view");break;case 31:this.fav_gradient_view.gradient_picker.edit_css_variable=!0,this.cache_gradient=this.gradient,this.fav_gradient_view.allow_user_to_edit(!1);break;case 32:TVE.Editor_Page.disable_clicks({panel_action_btn:!0});break;case 33:this.$("#active_color_details").addClass("remove-view")}this.step_to_show(".tcb-favorites-step-"+i)},update_global:function(){var t=this.$global_color_name_input.val(),e=this.$thumb.attr("data-id"),i=this.$thumb.attr("data-var"),n=this.$thumb.attr("data-synced-var"),s=n||this.gradient,a=t.trim()===r?0:1;this.step_to_show(this.step_2),this.fav_gradient_view.update_global_gradient(e,i,{gradient:s,name:t,custom_name:a}),this.$global_color_label.text(t),this.execute_ajax({id:e,custom_name:a,gradient:s}),this.fav_gradient_view.reset_html(),this.fav_gradient_view.select(this.gradient,this.fav_gradient_view.$("."+o+'[data-var="'+i+'"]')),delete this.fav_gradient_view.gradient_picker.edit_css_variable,this.fav_gradient_view.allow_user_to_edit(!0),this.remove_tooltips()},undo_global:function(){this.cache_gradient&&(this.gradient=this.cache_gradient,TVE.changeCssVariableValue(this.$thumb.attr("data-var"),this.gradient),this.fav_gradient_view.gradient_picker.setValue(this.gradient),this.fav_gradient_view.gradient_picker.picker.updatePreview(!0));var t=this.$thumb.attr("data-name");this.$global_color_name_input.val(t),this.$global_color_label.text(t),delete this.fav_gradient_view.gradient_picker.edit_css_variable,delete this.cache_gradient,this.step_to_show(this.step_2),this.fav_gradient_view.allow_user_to_edit(!0),this.remove_tooltips()},remove_global:function(t,e){var i=parseInt(this.$thumb.attr("data-id"));return this.fav_gradient_view.gradient_picker.setValue(this.gradient),this.fav_gradient_view.gradient_picker.picker.updatePreview(!0),this.fav_gradient_view.remove_global_gradient(i),this.execute_ajax({id:i,active:0}),this.$("#active_color_details").removeClass("remove-view"),this.$el.empty(),this.remove_tooltips(),!1},execute_ajax:function(t){(t=t||{}).gradient=this.gradient,t.name=this.$global_color_name_input.val(),this.fav_gradient_view.execute_global_gradient_ajax(t)},remove_tooltips:function(){jQuery(".tvd-material-tooltip").removeClass("show")},toggle_more_options:function(t,e){this.$(".global-colors-drop-content").toggleClass("tcb-hide")}})},"gradient-builder.js":function(t,e,i){var s={"visit_linear-gradient":function(t){return s.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return s.visit_gradient(t)},"visit_radial-gradient":function(t){return s.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return s.visit_gradient(t)},visit_gradient:function(t){var e=s.visit(t.orientation);return e&&(e+=", "),t.gradient_css_variable?t.gradient_css_variable:(t.real_type?t.real_type:t.type)+"("+e+s.visit(t.colorStops)+")"},visit_shape:function(t){var e=t.value,i=s.visit(t.at),n=s.visit(t.style);return n&&(e+=" "+n),i&&(e+=" at "+i),e},"visit_default-radial":function(t){var e="",i=s.visit(t.at);return i&&(e+=i),e},"visit_extent-keyword":function(t){var e=t.value,i=s.visit(t.at);return i&&(e+=" at "+i),e},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return s.visit(t.value.x)+" "+s.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return s.visit_color(t.value,t)},visit_hex:function(t){return s.visit_color("#"+t.value,t)},visit_rgb:function(t){return s.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return s.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,e){var i=t,n=s.visit(e.length);return e.css_variable&&(i=e.css_variable),n&&(i+=" "+n),i},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var i="",n=t.length;return t.forEach(function(t,e){i+=s.visit(t),e<n-1&&(i+=", ")}),i},visit:function(t){if(!t)return"";if(t instanceof Array)return s.visit_array(t);if(t.type){var e=s["visit_"+t.type]||s["visit_"+t.real_type];if(e)return e(t);throw Error("Missing visitor visit_"+t.type)}if("string"==typeof t)return t;throw Error("Invalid node.")},visit_solid:function(t){return t.real_type="linear-gradient",s.visit_gradient(t)},visit_url:function(t){return'url("'+t.value+'")'}};e.exports=function(t){return t?t instanceof Array&&!t.length?"none":s.visit(t):"none"}},"gradient-parser.js":function(t,e,i){var a,o,r,l=i("./tinycolor");function c(t){var e=new Error(o+": "+t);throw e.source=o,e}function n(){var t=b(s);return 0<o.length&&c("Invalid input not EOF"),t}function s(){return function(){var t=x(a.url);return!!t&&{type:"url",value:t[3]}}()||function(t,e){var i=x(t);if(i){var n=o;o=TVE.getCssVariableValue(i[0]),r=i[0];var s=e();return r=null,o=n,s}}(a.gradient_css_variable,s)||d("linear-gradient",a.linearGradient,u)||d("repeating-linear-gradient",a.repeatingLinearGradient,u)||d("radial-gradient",a.radialGradient,p)||d("repeating-radial-gradient",a.repeatingRadialGradient,p)}function d(n,t,s){return h(t,function(t){var e=s();e&&(x(a.comma)||c("Missing comma before color stops"));var i={gradient_css_variable:r,type:n,orientation:e,colorStops:b(E)};return function(t){if("linear-gradient"!=t.type)return!1;var e=t.colorStops[0].value,i=t.colorStops[1].value;return TVE.isCssVariable(e)&&(e=TVE.getCssVariableValue(e)),TVE.isCssVariable(i)&&(i=TVE.getCssVariableValue(i)),2===t.colorStops.length&&l.equals(e,i)}(i)&&(i.type="solid"),i})}function h(t,e){var i=x(t);if(i){x(a.startCall)||c("Missing (");var n=e(i);return x(a.endCall)||c("Missing )"),n}}function u(){return C("directional",a.sideOrCorner,1)||function(){var t=x(a.angleValue);if(t)return t[1]+"deg"}()}function p(){var t,e,i=_();return i&&((t=[]).push(i),e=o,x(a.comma)&&((i=_())?t.push(i):o=e)),t}function _(){var t=function(){var t=C("shape",/^(circle)/i,0);t&&(t.style=V()||m());return t}()||f();if(t||0!==o.indexOf("at")||(o="ellipse "+o,t=f()),t)t.at=g();else{var e=m();if(e){t=e;var i=g();i&&(t.at=i)}else{var n=v();n&&(t={type:"default-radial",at:n})}}return t}function f(){var t=C("shape",/^(ellipse)/i,0);return t&&(t.style=y()||m()),t}function m(){return C("extent-keyword",a.extentKeywords,1)}function g(){if(C("position",/^at/,0)){var t=v();return t||c("Missing positioning value"),t}}function v(){var t={x:y(),y:y()};if(t.x||t.y)return{type:"position",value:t}}function b(t){var e=t(),i=[];if(e)for(i.push(e);x(a.comma);)(e=t())?i.push(e):c("One extra comma");return i}function E(){var t=function(){var t=x(a.hexColor);if(t)return{type:"literal",value:new l(t[1])}}()||h(a.rgbaColor,function(){var t=b(T);return{type:"literal",value:new l(1===t.length?TVE.getCssVariableValue(t[0]):(4===t.length?"rgba(":"rgb(")+t.join(",")+")"),css_variable:1===t.length?TVE.getGlobalVariable("var("+t[0]+")"):null}})||function(){var t=x(a.literalColor);if(t)return{type:"literal",transparent:"transparent"===t[0]&&"transparent",value:new l(t[0])}}();return t||c("Expected color definition"),t.length=y(),t}function T(){return x(a.number)[1]}function y(){return C("%",a.percentageValue,1)||C("position-keyword",a.positionKeywords,1)||V()}function V(){return C("px",a.pixelValue,1)||C("em",a.emValue,1)}function C(t,e,i){var n=x(e);if(n)return{type:t,value:n[i]}}function x(t){var e,i;return(i=/^[\n\r\t\s]+/.exec(o))&&w(i[0].length),(e=t.exec(o))&&w(e[0].length),e}function w(t){o=o.substr(t)}e.exports=(a={url:/^url(\s*)\(('|"|)(.+?)(\2)\)/i,linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbaColor:/^(rgba?|var)/i,number:new RegExp("^(([0-9]*\\.[0-9]+)|([0-9]+\\.?)|("+TVE.CONST.colors.global_prefix+"[0-9]*)|"+TVE.apply_filters("tcb_color_css_variable_regex","")+"("+TVE.CONST.colors.lp_set_prefix+"[0-9]*)|("+TVE.CONST.colors.local_prefix+"[0-9a-zA-Z]*(,(.+?)\\(.+?\\))))"),gradient_css_variable:new RegExp("^((var\\("+TVE.CONST.gradients.global_prefix+"[0-9]*\\))|"+TVE.apply_filters("tcb_gradient_css_variable_regex","")+"(var\\("+TVE.CONST.gradients.lp_set_prefix+"[0-9]*\\))|(var\\("+TVE.CONST.gradients.local_prefix+"[0-9a-zA-Z]*(|,(.+?)-gradient\\(.+?\\))\\)))")},o="",r=null,function(t){return void 0===t?[]:(o=t.toString())&&"none"!==o?n():[]})},"gradient-picker.js":function(t,u,p){!function(o){var s=p("./gradient-parser"),t=p("./gradient-builder"),e=p("../views/controls/color-picker"),i=p("../views/base"),a=p("./tinycolor"),n=p("../views/controls/knob");function r(t,e){return t.position-e.position}var l=_.bind;function c(t,e){this.gradient_css_variable=null,this.$el=t,this.$el.css("position","relative"),this.color_picker=e.color_picker,delete e.color_picker,this.color_picker.on_change=l(this.colorPickerChange,this),this.opts=o.extend(!0,{},e),this.original_opts=o.extend(!0,this.opts,{}),this.colorStops=[],this.$pointsContainer=this.$el.find(".gradient-picker-points"),this.updatePreview=l(this.updatePreview,this),this.previewClicked=l(this.previewClicked,this);var i=this.$el.find(".gradient-picker-preview");this.g2d=i[0].getContext("2d"),i.click(this.previewClicked),this.addPoints(e.colorStops),this.updatePreview(!1)}function d(t,e,i,n){this.$el=o("<div>",{class:"gradient-picker-point"}),this.$el.append('<div class="pt-color"></div>'),this.$el.append('<span class="pt-text"></span>'),this.$info=this.$el.find(".pt-text"),t.append(this.$el),this.$parentEl=t,this.color=e.value,this.css_variable=e.css_variable,this.position=void 0===e.position?parseFloat(e.length.value||0)/100:e.position,this.gradient=i,this.width=this.$el.outerWidth()||12,this.parentWidth=t.outerWidth()||236,this.$el.find(".pt-color").css("background-color",a(this.color).toRgbString()),this.$el.css("left",(this.parentWidth-this.width)*this.position),this.colorChanged=l(this.colorChanged,this),this.start=l(this.start,this),this.move=l(this.move,this),this.stop=l(this.stop,this);var s=this;this.$el.tve_draggable({start:l(s.start,s),move:l(s.move,s),stop:l(s.stop,s),dir:"right"}),this.max=this.parentWidth-this.width,this.min=0,this.info(),n&&this.select()}c.prototype={createPoint:function(t,e){return new d(this.$pointsContainer,t,this,e)},addPoints:function(t){var i=100/((t=void 0!==t?t:this.original_opts.colorStops).length-1);return t.forEach(function(t,e){t.length||(t.length={type:"%",value:e*i}),this.colorStops.push(this.createPoint(t))},this),this.colorStops[0].select(),this},colorPickerChange:function(t){this.cp&&this.cp.colorChanged(t)},updateOptions:function(t,e){this.opts=o.extend(!0,{},this.opts,t),this.updatePreview(e)},resetOptions:function(t){this.gradient_css_variable=null,this.original_opts=o.extend(!0,{},t),this.reset()},updatePreview:function(t){t=void 0===t||t,this.g2d.clearRect(0,0,this.g2d.canvas.width,this.g2d.canvas.height);var e=this.g2d.createLinearGradient(0,0,this.g2d.canvas.width,0);this.colorStops.sort(r),this.colorStops.forEach(function(t){e.addColorStop(t.position,t.color)}),this.g2d.fillStyle=e,this.g2d.fillRect(0,0,this.g2d.canvas.width,this.g2d.canvas.height),t&&this.opts.change(this.getValue())},getValue:function(){var e={type:this.opts.type,orientation:"linear-gradient"===this.opts.type?this.opts.orientation:"",colorStops:[],gradient_css_variable:this.gradient_css_variable};return this.colorStops.forEach(function(t){e.colorStops.push({css_variable:t.css_variable,type:"literal",value:t.color,length:{type:"%",value:100*t.position|0}})}),e},removeColorStop:function(t){var e=this.colorStops.indexOf(t);-1!=e&&(this.colorStops.splice(e,1),t.$el.remove())},removeAllColorStops:function(){return this.$pointsContainer.empty(),delete this.colorStops,this.colorStops=[],this},previewClicked:function(t){this.$pointsContainer.find(".gradient-picker-point").removeClass("active");var e=o(t.target).offset(),i=t.pageX-e.left,n=t.pageY-e.top,s=this.g2d.getImageData(i,n,1,1),a=this.createPoint({position:i/this.g2d.canvas.offsetWidth,value:"rgb("+s.data[0]+","+s.data[1]+","+s.data[2]+")"},!0);this.cp=a,this.colorStops.push(a),this.colorStops.sort(r),this.updatePreview(!0)},reset:function(){this.removeAllColorStops(),this.addPoints(this.original_opts.colorStops),this.updateOptions(this.original_opts,!1)},reflow:function(){this.removeAllColorStops(),this.addPoints()}},d.prototype={info:function(){this.$info.text(Math.round(100*(this.position||0))+"%")},colorChanged:function(t){this.css_variable=null,this.color=t,TVE.isCssVariable(this.color)&&(this.css_variable=this.color,this.color=a(TVE.getCssVariableValue(this.css_variable))),this.$el.find(".pt-color").css("background-color",this.color.toRgbString()),this.gradient.updatePreview()},select:function(){(this.gradient.cp=this).gradient.color_picker.setValue(this.css_variable?this.css_variable:this.color),this.gradient.color_picker.options.showFavorites&&this.gradient.color_picker.favorites.on_color_show(),this.$parentEl.find(".gradient-picker-point").removeClass("active"),this.$el.addClass("active")},start:function(){this.startPosition=parseInt(this.$el.css("left")),this.select()},move:function(t){var e=this.startPosition+t;e=(e=e>this.max?this.max:e)<this.min?this.min:e,this.$el.css("left",e),this.position=e/(this.parentWidth-this.width),this.info(),this.gradient.updatePreview()},stop:function(){this.gradient.updatePreview()}},o.fn.gradientPicker=function(t){var e;return t=o.extend({change:o.noop},t),(e=this.data("gradient-picker"))||this.data("gradient-picker",e=new c(this,t)),e};var h=p("../libs/favorite-gradients");u.exports=i.base_view.extend({template:TVE.tpl("controls/gradient-picker"),css_variable:null,edit_css_variable:null,initialize:function(t){var i=this;this.render(),this.angle=new n({el:this.$(".tve-gradient-angle"),template:TVE.tpl("controls/gradient/knob"),model:{config:{um:["DEG"],min:0,max:360,type:"number",default:90}}}),this.color_picker=new e({el:this.$(".gradient-color-picker")[0],model:{config:{options:{move:l(function(t){TVE.SKIP_CSS_STATE=!0,this.color_picker.currentEventType="input";var e=this.color_picker.on_change(t);return TVE.SKIP_CSS_STATE=!1,delete this.color_picker.currentEventType,e},this),change:l(function(t){TVE.SKIP_CSS_STATE=!1,this.color_picker.currentEventType="change";var e=this.color_picker.on_change(t);return delete this.color_picker.currentEventType,e},this),output:"object",flat:!0,showButtons:!1,allowEmpty:!1,showInput:!0,showAlpha:!0,showFavorites:!0,showGlobals:!0,showActiveColorDetails:!1}}}}),this.color_picker.input=function(t){this.on_change(t)},this.angle.input=this.angle.change=function(t,e){i.picker.updateOptions({orientation:e.value+"deg"})},this.angle.alterKnobRotateDegree=function(t){return(t-=90)<-90&&(t+=90),t},this.angle.alterKnobValue=function(t){return 360<=(t+=90)&&(t-=360),t},this.angle.alterAngleTheta=function(t){return t},this.picker=this.$el.gradientPicker(o.extend(!0,{},this.defaults(),{change:l(this.trigger_change,this),color_picker:this.color_picker})),this.favorite_gradients=new h({gradient_picker:this}),this.favorite_gradients.$el.prependTo(this.color_picker.colorPicker.spectrum("container").find(".sp-favorites-container"))},defaults:function(){return{type:"linear-gradient",orientation:"180deg",colorStops:[{type:"literal",value:"#ffffff"},{type:"literal",value:"#000000"}]}},reflow:function(){this.color_picker.reflow(),this.picker.reflow()},trigger_change:function(t){this.trigger("change",t)},gradient_type:function(t,e){this.picker.updateOptions({type:e.value}),this.$(".gradient-orientation")["linear-gradient"===e.value?"show":"hide"]()},reset:function(){return this.setValue(this._orig),this.trigger_change(this.picker.getValue()),!1},setValue:function(t){var e=t,i=_.isString(t);if(this.edit_css_variable||delete this.css_variable,i&&TVE.isCssVariable(t)||_.isObject(t)&&TVE.isCssVariable(t.gradient_css_variable)){var n=i?t:t.gradient_css_variable;TVE.isGlobalGradientActive(n)&&(this.css_variable=n),t=i?TVE.getCssVariableValue(t):t}i&&(e=(e=s(t))&&e.length?e[0]:[this.defaults()]),this._orig=o.extend(!0,{},e),this.picker.resetOptions(e),this.angle.setValue(e.orientation?parseInt(e.orientation):180),this.$(".gradient-style").val(e.type),this.$(".gradient-orientation")["linear-gradient"===e.type?"show":"hide"]()},getValue:function(){return this.picker.getValue()},getCss:function(){return t(this.picker.getValue())},render_favorites:function(){this.color_picker.options.showFavorites&&this.color_picker.render_favorites(),this.favorite_gradients.on_color_show()},toggle_gradient_controls:function(t){return t=TVE.apply_filters("tcb.disable.enable.gradient.picker",t,this.$el),this.$(".gradient-picker").toggleClass("tcb-disabled",t),this.color_picker.colorPicker.spectrum("container").find(".sp-color-inputs").toggleClass("tcb-disabled",t),this.favorite_gradients.has_template_gradients&&this.css_variable&&this.favorite_gradients.$(".templates-gradients-container").toggleClass("tcb-disabled",!t),this.css_variable&&(this.$(".fav-colors .tcb-favorites-toggle-content").toggleClass("tcb-disabled",t&&!this.edit_css_variable),this.color_picker.favorites.has_template_colors&&this.$(".fav-colors .tcb-templates-toggle-content").toggleClass("tcb-disabled",t&&!this.edit_css_variable)),TVE.do_action("tcb.gradient_picker.toggle_gradient_controls",this,t),!1}})}(jQuery)},"name-that-color.js":function(t,e,i){var p={init:function(){for(var t,e,i,n=0;n<p.names.length;n++)t="#"+p.names[n][0],e=p.rgb(t),i=p.hsl(t),p.names[n].push(e[0],e[1],e[2],i[0],i[1],i[2])},name:function(t){if((t=t.toUpperCase()).length<3||7<t.length)return["#000000","Invalid Color: "+t,!1];t.length%3==0&&(t="#"+t),4==t.length&&(t="#"+t.substr(1,1)+t.substr(1,1)+t.substr(2,1)+t.substr(2,1)+t.substr(3,1)+t.substr(3,1));for(var e=p.rgb(t),i=e[0],n=e[1],s=e[2],a=p.hsl(t),o=a[0],r=a[1],l=a[2],c=0,d=-1,h=-1,u=0;u<p.names.length;u++){if(t=="#"+p.names[u][0])return["#"+p.names[u][0],p.names[u][1],!0];c=Math.pow(i-p.names[u][2],2)+Math.pow(n-p.names[u][3],2)+Math.pow(s-p.names[u][4],2)+2*(Math.pow(o-p.names[u][5],2)+Math.pow(r-p.names[u][6],2)+Math.pow(l-p.names[u][7],2)),(h<0||c<h)&&(h=c,d=u)}return d<0?["#000000","Invalid Color: "+t,!1]:["#"+p.names[d][0],p.names[d][1],!1]},hsl:function(t){var e,i,n,s,a,o,r=[parseInt("0x"+t.substring(1,3))/255,parseInt("0x"+t.substring(3,5))/255,parseInt("0x"+t.substring(5,7))/255],l=r[0],c=r[1],d=r[2];return e=Math.min(l,Math.min(c,d)),n=(i=Math.max(l,Math.max(c,d)))-e,(a=0)<(o=(e+i)/2)&&o<1&&(a=n/(o<.5?2*o:2-2*o)),(s=0)<n&&(i==l&&i!=c&&(s+=(c-d)/n),i==c&&i!=d&&(s+=2+(d-l)/n),i==d&&i!=l&&(s+=4+(l-c)/n),s/=6),[parseInt(255*s),parseInt(255*a),parseInt(255*o)]},rgb:function(t){return[parseInt("0x"+t.substring(1,3)),parseInt("0x"+t.substring(3,5)),parseInt("0x"+t.substring(5,7))]},names:[["000000","Black"],["000080","Navy Blue"],["0000C8","Dark Blue"],["0000FF","Blue"],["000741","Stratos"],["001B1C","Swamp"],["002387","Resolution Blue"],["002900","Deep Fir"],["002E20","Burnham"],["002FA7","International Klein Blue"],["003153","Prussian Blue"],["003366","Midnight Blue"],["003399","Smalt"],["003532","Deep Teal"],["003E40","Cyprus"],["004620","Kaitoke Green"],["0047AB","Cobalt"],["004816","Crusoe"],["004950","Sherpa Blue"],["0056A7","Endeavour"],["00581A","Camarone"],["0066CC","Science Blue"],["0066FF","Blue Ribbon"],["00755E","Tropical Rain Forest"],["0076A3","Allports"],["007BA7","Deep Cerulean"],["007EC7","Lochmara"],["007FFF","Azure Radiance"],["008080","Teal"],["0095B6","Bondi Blue"],["009DC4","Pacific Blue"],["00A693","Persian Green"],["00A86B","Jade"],["00CC99","Caribbean Green"],["00CCCC","Robin's Egg Blue"],["00FF00","Green"],["00FF7F","Spring Green"],["00FFFF","Cyan / Aqua"],["010D1A","Blue Charcoal"],["011635","Midnight"],["011D13","Holly"],["012731","Daintree"],["01361C","Cardin Green"],["01371A","County Green"],["013E62","Astronaut Blue"],["013F6A","Regal Blue"],["014B43","Aqua Deep"],["015E85","Orient"],["016162","Blue Stone"],["016D39","Fun Green"],["01796F","Pine Green"],["017987","Blue Lagoon"],["01826B","Deep Sea"],["01A368","Green Haze"],["022D15","English Holly"],["02402C","Sherwood Green"],["02478E","Congress Blue"],["024E46","Evening Sea"],["026395","Bahama Blue"],["02866F","Observatory"],["02A4D3","Cerulean"],["03163C","Tangaroa"],["032B52","Green Vogue"],["036A6E","Mosque"],["041004","Midnight Moss"],["041322","Black Pearl"],["042E4C","Blue Whale"],["044022","Zuccini"],["044259","Teal Blue"],["051040","Deep Cove"],["051657","Gulf Blue"],["055989","Venice Blue"],["056F57","Watercourse"],["062A78","Catalina Blue"],["063537","Tiber"],["069B81","Gossamer"],["06A189","Niagara"],["073A50","Tarawera"],["080110","Jaguar"],["081910","Black Bean"],["082567","Deep Sapphire"],["088370","Elf Green"],["08E8DE","Bright Turquoise"],["092256","Downriver"],["09230F","Palm Green"],["09255D","Madison"],["093624","Bottle Green"],["095859","Deep Sea Green"],["097F4B","Salem"],["0A001C","Black Russian"],["0A480D","Dark Fern"],["0A6906","Japanese Laurel"],["0A6F75","Atoll"],["0B0B0B","Cod Gray"],["0B0F08","Marshland"],["0B1107","Gordons Green"],["0B1304","Black Forest"],["0B6207","San Felix"],["0BDA51","Malachite"],["0C0B1D","Ebony"],["0C0D0F","Woodsmoke"],["0C1911","Racing Green"],["0C7A79","Surfie Green"],["0C8990","Blue Chill"],["0D0332","Black Rock"],["0D1117","Bunker"],["0D1C19","Aztec"],["0D2E1C","Bush"],["0E0E18","Cinder"],["0E2A30","Firefly"],["0F2D9E","Torea Bay"],["10121D","Vulcan"],["101405","Green Waterloo"],["105852","Eden"],["110C6C","Arapawa"],["120A8F","Ultramarine"],["123447","Elephant"],["126B40","Jewel"],["130000","Diesel"],["130A06","Asphalt"],["13264D","Blue Zodiac"],["134F19","Parsley"],["140600","Nero"],["1450AA","Tory Blue"],["151F4C","Bunting"],["1560BD","Denim"],["15736B","Genoa"],["161928","Mirage"],["161D10","Hunter Green"],["162A40","Big Stone"],["163222","Celtic"],["16322C","Timber Green"],["163531","Gable Green"],["171F04","Pine Tree"],["175579","Chathams Blue"],["182D09","Deep Forest Green"],["18587A","Blumine"],["19330E","Palm Leaf"],["193751","Nile Blue"],["1959A8","Fun Blue"],["1A1A68","Lucky Point"],["1AB385","Mountain Meadow"],["1B0245","Tolopea"],["1B1035","Haiti"],["1B127B","Deep Koamaru"],["1B1404","Acadia"],["1B2F11","Seaweed"],["1B3162","Biscay"],["1B659D","Matisse"],["1C1208","Crowshead"],["1C1E13","Rangoon Green"],["1C39BB","Persian Blue"],["1C402E","Everglade"],["1C7C7D","Elm"],["1D6142","Green Pea"],["1E0F04","Creole"],["1E1609","Karaka"],["1E1708","El Paso"],["1E385B","Cello"],["1E433C","Te Papa Green"],["1E90FF","Dodger Blue"],["1E9AB0","Eastern Blue"],["1F120F","Night Rider"],["1FC2C2","Java"],["20208D","Jacksons Purple"],["202E54","Cloud Burst"],["204852","Blue Dianne"],["211A0E","Eternity"],["220878","Deep Blue"],["228B22","Forest Green"],["233418","Mallard"],["240A40","Violet"],["240C02","Kilamanjaro"],["242A1D","Log Cabin"],["242E16","Black Olive"],["24500F","Green House"],["251607","Graphite"],["251706","Cannon Black"],["251F4F","Port Gore"],["25272C","Shark"],["25311C","Green Kelp"],["2596D1","Curious Blue"],["260368","Paua"],["26056A","Paris M"],["261105","Wood Bark"],["261414","Gondola"],["262335","Steel Gray"],["26283B","Ebony Clay"],["273A81","Bay of Many"],["27504B","Plantation"],["278A5B","Eucalyptus"],["281E15","Oil"],["283A77","Astronaut"],["286ACD","Mariner"],["290C5E","Violent Violet"],["292130","Bastille"],["292319","Zeus"],["292937","Charade"],["297B9A","Jelly Bean"],["29AB87","Jungle Green"],["2A0359","Cherry Pie"],["2A140E","Coffee Bean"],["2A2630","Baltic Sea"],["2A380B","Turtle Green"],["2A52BE","Cerulean Blue"],["2B0202","Sepia Black"],["2B194F","Valhalla"],["2B3228","Heavy Metal"],["2C0E8C","Blue Gem"],["2C1632","Revolver"],["2C2133","Bleached Cedar"],["2C8C84","Lochinvar"],["2D2510","Mikado"],["2D383A","Outer Space"],["2D569B","St Tropaz"],["2E0329","Jacaranda"],["2E1905","Jacko Bean"],["2E3222","Rangitoto"],["2E3F62","Rhino"],["2E8B57","Sea Green"],["2EBFD4","Scooter"],["2F270E","Onion"],["2F3CB3","Governor Bay"],["2F519E","Sapphire"],["2F5A57","Spectra"],["2F6168","Casal"],["300529","Melanzane"],["301F1E","Cocoa Brown"],["302A0F","Woodrush"],["304B6A","San Juan"],["30D5C8","Turquoise"],["311C17","Eclipse"],["314459","Pickled Bluewood"],["315BA1","Azure"],["31728D","Calypso"],["317D82","Paradiso"],["32127A","Persian Indigo"],["32293A","Blackcurrant"],["323232","Mine Shaft"],["325D52","Stromboli"],["327C14","Bilbao"],["327DA0","Astral"],["33036B","Christalle"],["33292F","Thunder"],["33CC99","Shamrock"],["341515","Tamarind"],["350036","Mardi Gras"],["350E42","Valentino"],["350E57","Jagger"],["353542","Tuna"],["354E8C","Chambray"],["363050","Martinique"],["363534","Tuatara"],["363C0D","Waiouru"],["36747D","Ming"],["368716","La Palma"],["370202","Chocolate"],["371D09","Clinker"],["37290E","Brown Tumbleweed"],["373021","Birch"],["377475","Oracle"],["380474","Blue Diamond"],["381A51","Grape"],["383533","Dune"],["384555","Oxford Blue"],["384910","Clover"],["394851","Limed Spruce"],["396413","Dell"],["3A0020","Toledo"],["3A2010","Sambuca"],["3A2A6A","Jacarta"],["3A686C","William"],["3A6A47","Killarney"],["3AB09E","Keppel"],["3B000B","Temptress"],["3B0910","Aubergine"],["3B1F1F","Jon"],["3B2820","Treehouse"],["3B7A57","Amazon"],["3B91B4","Boston Blue"],["3C0878","Windsor"],["3C1206","Rebel"],["3C1F76","Meteorite"],["3C2005","Dark Ebony"],["3C3910","Camouflage"],["3C4151","Bright Gray"],["3C4443","Cape Cod"],["3C493A","Lunar Green"],["3D0C02","Bean  "],["3D2B1F","Bistre"],["3D7D52","Goblin"],["3E0480","Kingfisher Daisy"],["3E1C14","Cedar"],["3E2B23","English Walnut"],["3E2C1C","Black Marlin"],["3E3A44","Ship Gray"],["3EABBF","Pelorous"],["3F2109","Bronze"],["3F2500","Cola"],["3F3002","Madras"],["3F307F","Minsk"],["3F4C3A","Cabbage Pont"],["3F583B","Tom Thumb"],["3F5D53","Mineral Green"],["3FC1AA","Puerto Rico"],["3FFF00","Harlequin"],["401801","Brown Pod"],["40291D","Cork"],["403B38","Masala"],["403D19","Thatch Green"],["405169","Fiord"],["40826D","Viridian"],["40A860","Chateau Green"],["410056","Ripe Plum"],["411F10","Paco"],["412010","Deep Oak"],["413C37","Merlin"],["414257","Gun Powder"],["414C7D","East Bay"],["4169E1","Royal Blue"],["41AA78","Ocean Green"],["420303","Burnt Maroon"],["423921","Lisbon Brown"],["427977","Faded Jade"],["431560","Scarlet Gum"],["433120","Iroko"],["433E37","Armadillo"],["434C59","River Bed"],["436A0D","Green Leaf"],["44012D","Barossa"],["441D00","Morocco Brown"],["444954","Mako"],["454936","Kelp"],["456CAC","San Marino"],["45B1E8","Picton Blue"],["460B41","Loulou"],["462425","Crater Brown"],["465945","Gray Asparagus"],["4682B4","Steel Blue"],["480404","Rustic Red"],["480607","Bulgarian Rose"],["480656","Clairvoyant"],["481C1C","Cocoa Bean"],["483131","Woody Brown"],["483C32","Taupe"],["49170C","Van Cleef"],["492615","Brown Derby"],["49371B","Metallic Bronze"],["495400","Verdun Green"],["496679","Blue Bayoux"],["497183","Bismark"],["4A2A04","Bracken"],["4A3004","Deep Bronze"],["4A3C30","Mondo"],["4A4244","Tundora"],["4A444B","Gravel"],["4A4E5A","Trout"],["4B0082","Pigment Indigo"],["4B5D52","Nandor"],["4C3024","Saddle"],["4C4F56","Abbey"],["4D0135","Blackberry"],["4D0A18","Cab Sav"],["4D1E01","Indian Tan"],["4D282D","Cowboy"],["4D282E","Livid Brown"],["4D3833","Rock"],["4D3D14","Punga"],["4D400F","Bronzetone"],["4D5328","Woodland"],["4E0606","Mahogany"],["4E2A5A","Bossanova"],["4E3B41","Matterhorn"],["4E420C","Bronze Olive"],["4E4562","Mulled Wine"],["4E6649","Axolotl"],["4E7F9E","Wedgewood"],["4EABD1","Shakespeare"],["4F1C70","Honey Flower"],["4F2398","Daisy Bush"],["4F69C6","Indigo"],["4F7942","Fern Green"],["4F9D5D","Fruit Salad"],["4FA83D","Apple"],["504351","Mortar"],["507096","Kashmir Blue"],["507672","Cutty Sark"],["50C878","Emerald"],["514649","Emperor"],["516E3D","Chalet Green"],["517C66","Como"],["51808F","Smalt Blue"],["52001F","Castro"],["520C17","Maroon Oak"],["523C94","Gigas"],["533455","Voodoo"],["534491","Victoria"],["53824B","Hippie Green"],["541012","Heath"],["544333","Judge Gray"],["54534D","Fuscous Gray"],["549019","Vida Loca"],["55280C","Cioccolato"],["555B10","Saratoga"],["556D56","Finlandia"],["5590D9","Havelock Blue"],["56B4BE","Fountain Blue"],["578363","Spring Leaves"],["583401","Saddle Brown"],["585562","Scarpa Flow"],["587156","Cactus"],["589AAF","Hippie Blue"],["591D35","Wine Berry"],["592804","Brown Bramble"],["593737","Congo Brown"],["594433","Millbrook"],["5A6E9C","Waikawa Gray"],["5A87A0","Horizon"],["5B3013","Jambalaya"],["5C0120","Bordeaux"],["5C0536","Mulberry Wood"],["5C2E01","Carnaby Tan"],["5C5D75","Comet"],["5D1E0F","Redwood"],["5D4C51","Don Juan"],["5D5C58","Chicago"],["5D5E37","Verdigris"],["5D7747","Dingley"],["5DA19F","Breaker Bay"],["5E483E","Kabul"],["5E5D3B","Hemlock"],["5F3D26","Irish Coffee"],["5F5F6E","Mid Gray"],["5F6672","Shuttle Gray"],["5FA777","Aqua Forest"],["5FB3AC","Tradewind"],["604913","Horses Neck"],["605B73","Smoky"],["606E68","Corduroy"],["6093D1","Danube"],["612718","Espresso"],["614051","Eggplant"],["615D30","Costa Del Sol"],["61845F","Glade Green"],["622F30","Buccaneer"],["623F2D","Quincy"],["624E9A","Butterfly Bush"],["625119","West Coast"],["626649","Finch"],["639A8F","Patina"],["63B76C","Fern"],["6456B7","Blue Violet"],["646077","Dolphin"],["646463","Storm Dust"],["646A54","Siam"],["646E75","Nevada"],["6495ED","Cornflower Blue"],["64CCDB","Viking"],["65000B","Rosewood"],["651A14","Cherrywood"],["652DC1","Purple Heart"],["657220","Fern Frond"],["65745D","Willow Grove"],["65869F","Hoki"],["660045","Pompadour"],["660099","Purple"],["66023C","Tyrian Purple"],["661010","Dark Tan"],["66B58F","Silver Tree"],["66FF00","Bright Green"],["66FF66","Screamin' Green"],["67032D","Black Rose"],["675FA6","Scampi"],["676662","Ironside Gray"],["678975","Viridian Green"],["67A712","Christi"],["683600","Nutmeg Wood Finish"],["685558","Zambezi"],["685E6E","Salt Box"],["692545","Tawny Port"],["692D54","Finn"],["695F62","Scorpion"],["697E9A","Lynch"],["6A442E","Spice"],["6A5D1B","Himalaya"],["6A6051","Soya Bean"],["6B2A14","Hairy Heath"],["6B3FA0","Royal Purple"],["6B4E31","Shingle Fawn"],["6B5755","Dorado"],["6B8BA2","Bermuda Gray"],["6B8E23","Olive Drab"],["6C3082","Eminence"],["6CDAE7","Turquoise Blue"],["6D0101","Lonestar"],["6D5E54","Pine Cone"],["6D6C6C","Dove Gray"],["6D9292","Juniper"],["6D92A1","Gothic"],["6E0902","Red Oxide"],["6E1D14","Moccaccino"],["6E4826","Pickled Bean"],["6E4B26","Dallas"],["6E6D57","Kokoda"],["6E7783","Pale Sky"],["6F440C","Cafe Royale"],["6F6A61","Flint"],["6F8E63","Highland"],["6F9D02","Limeade"],["6FD0C5","Downy"],["701C1C","Persian Plum"],["704214","Sepia"],["704A07","Antique Bronze"],["704F50","Ferra"],["706555","Coffee"],["708090","Slate Gray"],["711A00","Cedar Wood Finish"],["71291D","Metallic Copper"],["714693","Affair"],["714AB2","Studio"],["715D47","Tobacco Brown"],["716338","Yellow Metal"],["716B56","Peat"],["716E10","Olivetone"],["717486","Storm Gray"],["718080","Sirocco"],["71D9E2","Aquamarine Blue"],["72010F","Venetian Red"],["724A2F","Old Copper"],["726D4E","Go Ben"],["727B89","Raven"],["731E8F","Seance"],["734A12","Raw Umber"],["736C9F","Kimberly"],["736D58","Crocodile"],["737829","Crete"],["738678","Xanadu"],["74640D","Spicy Mustard"],["747D63","Limed Ash"],["747D83","Rolling Stone"],["748881","Blue Smoke"],["749378","Laurel"],["74C365","Mantis"],["755A57","Russett"],["7563A8","Deluge"],["76395D","Cosmic"],["7666C6","Blue Marguerite"],["76BD17","Lima"],["76D7EA","Sky Blue"],["770F05","Dark Burgundy"],["771F1F","Crown of Thorns"],["773F1A","Walnut"],["776F61","Pablo"],["778120","Pacifika"],["779E86","Oxley"],["77DD77","Pastel Green"],["780109","Japanese Maple"],["782D19","Mocha"],["782F16","Peanut"],["78866B","Camouflage Green"],["788A25","Wasabi"],["788BBA","Ship Cove"],["78A39C","Sea Nymph"],["795D4C","Roman Coffee"],["796878","Old Lavender"],["796989","Rum"],["796A78","Fedora"],["796D62","Sandstone"],["79DEEC","Spray"],["7A013A","Siren"],["7A58C1","Fuchsia Blue"],["7A7A7A","Boulder"],["7A89B8","Wild Blue Yonder"],["7AC488","De York"],["7B3801","Red Beech"],["7B3F00","Cinnamon"],["7B6608","Yukon Gold"],["7B7874","Tapa"],["7B7C94","Waterloo "],["7B8265","Flax Smoke"],["7B9F80","Amulet"],["7BA05B","Asparagus"],["7C1C05","Kenyan Copper"],["7C7631","Pesto"],["7C778A","Topaz"],["7C7B7A","Concord"],["7C7B82","Jumbo"],["7C881A","Trendy Green"],["7CA1A6","Gumbo"],["7CB0A1","Acapulco"],["7CB7BB","Neptune"],["7D2C14","Pueblo"],["7DA98D","Bay Leaf"],["7DC8F7","Malibu"],["7DD8C6","Bermuda"],["7E3A15","Copper Canyon"],["7F1734","Claret"],["7F3A02","Peru Tan"],["7F626D","Falcon"],["7F7589","Mobster"],["7F76D3","Moody Blue"],["7FFF00","Chartreuse"],["7FFFD4","Aquamarine"],["800000","Maroon"],["800B47","Rose Bud Cherry"],["801818","Falu Red"],["80341F","Red Robin"],["803790","Vivid Violet"],["80461B","Russet"],["807E79","Friar Gray"],["808000","Olive"],["808080","Gray"],["80B3AE","Gulf Stream"],["80B3C4","Glacier"],["80CCEA","Seagull"],["81422C","Nutmeg"],["816E71","Spicy Pink"],["817377","Empress"],["819885","Spanish Green"],["826F65","Sand Dune"],["828685","Gunsmoke"],["828F72","Battleship Gray"],["831923","Merlot"],["837050","Shadow"],["83AA5D","Chelsea Cucumber"],["83D0C6","Monte Carlo"],["843179","Plum"],["84A0A0","Granny Smith"],["8581D9","Chetwode Blue"],["858470","Bandicoot"],["859FAF","Bali Hai"],["85C4CC","Half Baked"],["860111","Red Devil"],["863C3C","Lotus"],["86483C","Ironstone"],["864D1E","Bull Shot"],["86560A","Rusty Nail"],["868974","Bitter"],["86949F","Regent Gray"],["871550","Disco"],["87756E","Americano"],["877C7B","Hurricane"],["878D91","Oslo Gray"],["87AB39","Sushi"],["885342","Spicy Mix"],["886221","Kumera"],["888387","Suva Gray"],["888D65","Avocado"],["893456","Camelot"],["893843","Solid Pink"],["894367","Cannon Pink"],["897D6D","Makara"],["8A3324","Burnt Umber"],["8A73D6","True V"],["8A8360","Clay Creek"],["8A8389","Monsoon"],["8A8F8A","Stack"],["8AB9F1","Jordy Blue"],["8B00FF","Electric Violet"],["8B0723","Monarch"],["8B6B0B","Corn Harvest"],["8B8470","Olive Haze"],["8B847E","Schooner"],["8B8680","Natural Gray"],["8B9C90","Mantle"],["8B9FEE","Portage"],["8BA690","Envy"],["8BA9A5","Cascade"],["8BE6D8","Riptide"],["8C055E","Cardinal Pink"],["8C472F","Mule Fawn"],["8C5738","Potters Clay"],["8C6495","Trendy Pink"],["8D0226","Paprika"],["8D3D38","Sanguine Brown"],["8D3F3F","Tosca"],["8D7662","Cement"],["8D8974","Granite Green"],["8D90A1","Manatee"],["8DA8CC","Polo Blue"],["8E0000","Red Berry"],["8E4D1E","Rope"],["8E6F70","Opium"],["8E775E","Domino"],["8E8190","Mamba"],["8EABC1","Nepal"],["8F021C","Pohutukawa"],["8F3E33","El Salva"],["8F4B0E","Korma"],["8F8176","Squirrel"],["8FD6B4","Vista Blue"],["900020","Burgundy"],["901E1E","Old Brick"],["907874","Hemp"],["907B71","Almond Frost"],["908D39","Sycamore"],["92000A","Sangria"],["924321","Cumin"],["926F5B","Beaver"],["928573","Stonewall"],["928590","Venus"],["9370DB","Medium Purple"],["93CCEA","Cornflower"],["93DFB8","Algae Green"],["944747","Copper Rust"],["948771","Arrowtown"],["950015","Scarlett"],["956387","Strikemaster"],["959396","Mountain Mist"],["960018","Carmine"],["964B00","Brown"],["967059","Leather"],["9678B6","Purple Mountain's Majesty"],["967BB6","Lavender Purple"],["96A8A1","Pewter"],["96BBAB","Summer Green"],["97605D","Au Chico"],["9771B5","Wisteria"],["97CD2D","Atlantis"],["983D61","Vin Rouge"],["9874D3","Lilac Bush"],["98777B","Bazaar"],["98811B","Hacienda"],["988D77","Pale Oyster"],["98FF98","Mint Green"],["990066","Fresh Eggplant"],["991199","Violet Eggplant"],["991613","Tamarillo"],["991B07","Totem Pole"],["996666","Copper Rose"],["9966CC","Amethyst"],["997A8D","Mountbatten Pink"],["9999CC","Blue Bell"],["9A3820","Prairie Sand"],["9A6E61","Toast"],["9A9577","Gurkha"],["9AB973","Olivine"],["9AC2B8","Shadow Green"],["9B4703","Oregon"],["9B9E8F","Lemon Grass"],["9C3336","Stiletto"],["9D5616","Hawaiian Tan"],["9DACB7","Gull Gray"],["9DC209","Pistachio"],["9DE093","Granny Smith Apple"],["9DE5FF","Anakiwa"],["9E5302","Chelsea Gem"],["9E5B40","Sepia Skin"],["9EA587","Sage"],["9EA91F","Citron"],["9EB1CD","Rock Blue"],["9EDEE0","Morning Glory"],["9F381D","Cognac"],["9F821C","Reef Gold"],["9F9F9C","Star Dust"],["9FA0B1","Santas Gray"],["9FD7D3","Sinbad"],["9FDD8C","Feijoa"],["A02712","Tabasco"],["A1750D","Buttered Rum"],["A1ADB5","Hit Gray"],["A1C50A","Citrus"],["A1DAD7","Aqua Island"],["A1E9DE","Water Leaf"],["A2006D","Flirt"],["A23B6C","Rouge"],["A26645","Cape Palliser"],["A2AAB3","Gray Chateau"],["A2AEAB","Edward"],["A3807B","Pharlap"],["A397B4","Amethyst Smoke"],["A3E3ED","Blizzard Blue"],["A4A49D","Delta"],["A4A6D3","Wistful"],["A4AF6E","Green Smoke"],["A50B5E","Jazzberry Jam"],["A59B91","Zorba"],["A5CB0C","Bahia"],["A62F20","Roof Terracotta"],["A65529","Paarl"],["A68B5B","Barley Corn"],["A69279","Donkey Brown"],["A6A29A","Dawn"],["A72525","Mexican Red"],["A7882C","Luxor Gold"],["A85307","Rich Gold"],["A86515","Reno Sand"],["A86B6B","Coral Tree"],["A8989B","Dusty Gray"],["A899E6","Dull Lavender"],["A8A589","Tallow"],["A8AE9C","Bud"],["A8AF8E","Locust"],["A8BD9F","Norway"],["A8E3BD","Chinook"],["A9A491","Gray Olive"],["A9ACB6","Aluminium"],["A9B2C3","Cadet Blue"],["A9B497","Schist"],["A9BDBF","Tower Gray"],["A9BEF2","Perano"],["A9C6C2","Opal"],["AA375A","Night Shadz"],["AA4203","Fire"],["AA8B5B","Muesli"],["AA8D6F","Sandal"],["AAA5A9","Shady Lady"],["AAA9CD","Logan"],["AAABB7","Spun Pearl"],["AAD6E6","Regent St Blue"],["AAF0D1","Magic Mint"],["AB0563","Lipstick"],["AB3472","Royal Heath"],["AB917A","Sandrift"],["ABA0D9","Cold Purple"],["ABA196","Bronco"],["AC8A56","Limed Oak"],["AC91CE","East Side"],["AC9E22","Lemon Ginger"],["ACA494","Napa"],["ACA586","Hillary"],["ACA59F","Cloudy"],["ACACAC","Silver Chalice"],["ACB78E","Swamp Green"],["ACCBB1","Spring Rain"],["ACDD4D","Conifer"],["ACE1AF","Celadon"],["AD781B","Mandalay"],["ADBED1","Casper"],["ADDFAD","Moss Green"],["ADE6C4","Padua"],["ADFF2F","Green Yellow"],["AE4560","Hippie Pink"],["AE6020","Desert"],["AE809E","Bouquet"],["AF4035","Medium Carmine"],["AF4D43","Apple Blossom"],["AF593E","Brown Rust"],["AF8751","Driftwood"],["AF8F2C","Alpine"],["AF9F1C","Lucky"],["AFA09E","Martini"],["AFB1B8","Bombay"],["AFBDD9","Pigeon Post"],["B04C6A","Cadillac"],["B05D54","Matrix"],["B05E81","Tapestry"],["B06608","Mai Tai"],["B09A95","Del Rio"],["B0E0E6","Powder Blue"],["B0E313","Inch Worm"],["B10000","Bright Red"],["B14A0B","Vesuvius"],["B1610B","Pumpkin Skin"],["B16D52","Santa Fe"],["B19461","Teak"],["B1E2C1","Fringy Flower"],["B1F4E7","Ice Cold"],["B20931","Shiraz"],["B2A1EA","Biloba Flower"],["B32D29","Tall Poppy"],["B35213","Fiery Orange"],["B38007","Hot Toddy"],["B3AF95","Taupe Gray"],["B3C110","La Rioja"],["B43332","Well Read"],["B44668","Blush"],["B4CFD3","Jungle Mist"],["B57281","Turkish Rose"],["B57EDC","Lavender"],["B5A27F","Mongoose"],["B5B35C","Olive Green"],["B5D2CE","Jet Stream"],["B5ECDF","Cruise"],["B6316C","Hibiscus"],["B69D98","Thatch"],["B6B095","Heathered Gray"],["B6BAA4","Eagle"],["B6D1EA","Spindle"],["B6D3BF","Gum Leaf"],["B7410E","Rust"],["B78E5C","Muddy Waters"],["B7A214","Sahara"],["B7A458","Husk"],["B7B1B1","Nobel"],["B7C3D0","Heather"],["B7F0BE","Madang"],["B81104","Milano Red"],["B87333","Copper"],["B8B56A","Gimblet"],["B8C1B1","Green Spring"],["B8C25D","Celery"],["B8E0F9","Sail"],["B94E48","Chestnut"],["B95140","Crail"],["B98D28","Marigold"],["B9C46A","Wild Willow"],["B9C8AC","Rainee"],["BA0101","Guardsman Red"],["BA450C","Rock Spray"],["BA6F1E","Bourbon"],["BA7F03","Pirate Gold"],["BAB1A2","Nomad"],["BAC7C9","Submarine"],["BAEEF9","Charlotte"],["BB3385","Medium Red Violet"],["BB8983","Brandy Rose"],["BBD009","Rio Grande"],["BBD7C1","Surf"],["BCC9C2","Powder Ash"],["BD5E2E","Tuscany"],["BD978E","Quicksand"],["BDB1A8","Silk"],["BDB2A1","Malta"],["BDB3C7","Chatelle"],["BDBBD7","Lavender Gray"],["BDBDC6","French Gray"],["BDC8B3","Clay Ash"],["BDC9CE","Loblolly"],["BDEDFD","French Pass"],["BEA6C3","London Hue"],["BEB5B7","Pink Swan"],["BEDE0D","Fuego"],["BF5500","Rose of Sharon"],["BFB8B0","Tide"],["BFBED8","Blue Haze"],["BFC1C2","Silver Sand"],["BFC921","Key Lime Pie"],["BFDBE2","Ziggurat"],["BFFF00","Lime"],["C02B18","Thunderbird"],["C04737","Mojo"],["C08081","Old Rose"],["C0C0C0","Silver"],["C0D3B9","Pale Leaf"],["C0D8B6","Pixie Green"],["C1440E","Tia Maria"],["C154C1","Fuchsia Pink"],["C1A004","Buddha Gold"],["C1B7A4","Bison Hide"],["C1BAB0","Tea"],["C1BECD","Gray Suit"],["C1D7B0","Sprout"],["C1F07C","Sulu"],["C26B03","Indochine"],["C2955D","Twine"],["C2BDB6","Cotton Seed"],["C2CAC4","Pumice"],["C2E8E5","Jagged Ice"],["C32148","Maroon Flush"],["C3B091","Indian Khaki"],["C3BFC1","Pale Slate"],["C3C3BD","Gray Nickel"],["C3CDE6","Periwinkle Gray"],["C3D1D1","Tiara"],["C3DDF9","Tropical Blue"],["C41E3A","Cardinal"],["C45655","Fuzzy Wuzzy Brown"],["C45719","Orange Roughy"],["C4C4BC","Mist Gray"],["C4D0B0","Coriander"],["C4F4EB","Mint Tulip"],["C54B8C","Mulberry"],["C59922","Nugget"],["C5994B","Tussock"],["C5DBCA","Sea Mist"],["C5E17A","Yellow Green"],["C62D42","Brick Red"],["C6726B","Contessa"],["C69191","Oriental Pink"],["C6A84B","Roti"],["C6C3B5","Ash"],["C6C8BD","Kangaroo"],["C6E610","Las Palmas"],["C7031E","Monza"],["C71585","Red Violet"],["C7BCA2","Coral Reef"],["C7C1FF","Melrose"],["C7C4BF","Cloud"],["C7C9D5","Ghost"],["C7CD90","Pine Glade"],["C7DDE5","Botticelli"],["C88A65","Antique Brass"],["C8A2C8","Lilac"],["C8A528","Hokey Pokey"],["C8AABF","Lily"],["C8B568","Laser"],["C8E3D7","Edgewater"],["C96323","Piper"],["C99415","Pizza"],["C9A0DC","Light Wisteria"],["C9B29B","Rodeo Dust"],["C9B35B","Sundance"],["C9B93B","Earls Green"],["C9C0BB","Silver Rust"],["C9D9D2","Conch"],["C9FFA2","Reef"],["C9FFE5","Aero Blue"],["CA3435","Flush Mahogany"],["CABB48","Turmeric"],["CADCD4","Paris White"],["CAE00D","Bitter Lemon"],["CAE6DA","Skeptic"],["CB8FA9","Viola"],["CBCAB6","Foggy Gray"],["CBD3B0","Green Mist"],["CBDBD6","Nebula"],["CC3333","Persian Red"],["CC5500","Burnt Orange"],["CC7722","Ochre"],["CC8899","Puce"],["CCCAA8","Thistle Green"],["CCCCFF","Periwinkle"],["CCFF00","Electric Lime"],["CD5700","Tenn"],["CD5C5C","Chestnut Rose"],["CD8429","Brandy Punch"],["CDF4FF","Onahau"],["CEB98F","Sorrell Brown"],["CEBABA","Cold Turkey"],["CEC291","Yuma"],["CEC7A7","Chino"],["CFA39D","Eunry"],["CFB53B","Old Gold"],["CFDCCF","Tasman"],["CFE5D2","Surf Crest"],["CFF9F3","Humming Bird"],["CFFAF4","Scandal"],["D05F04","Red Stage"],["D06DA1","Hopbush"],["D07D12","Meteor"],["D0BEF8","Perfume"],["D0C0E5","Prelude"],["D0F0C0","Tea Green"],["D18F1B","Geebung"],["D1BEA8","Vanilla"],["D1C6B4","Soft Amber"],["D1D2CA","Celeste"],["D1D2DD","Mischka"],["D1E231","Pear"],["D2691E","Hot Cinnamon"],["D27D46","Raw Sienna"],["D29EAA","Careys Pink"],["D2B48C","Tan"],["D2DA97","Deco"],["D2F6DE","Blue Romance"],["D2F8B0","Gossip"],["D3CBBA","Sisal"],["D3CDC5","Swirl"],["D47494","Charm"],["D4B6AF","Clam Shell"],["D4BF8D","Straw"],["D4C4A8","Akaroa"],["D4CD16","Bird Flower"],["D4D7D9","Iron"],["D4DFE2","Geyser"],["D4E2FC","Hawkes Blue"],["D54600","Grenadier"],["D591A4","Can Can"],["D59A6F","Whiskey"],["D5D195","Winter Hazel"],["D5F6E3","Granny Apple"],["D69188","My Pink"],["D6C562","Tacha"],["D6CEF6","Moon Raker"],["D6D6D1","Quill Gray"],["D6FFDB","Snowy Mint"],["D7837F","New York Pink"],["D7C498","Pavlova"],["D7D0FF","Fog"],["D84437","Valencia"],["D87C63","Japonica"],["D8BFD8","Thistle"],["D8C2D5","Maverick"],["D8FCFA","Foam"],["D94972","Cabaret"],["D99376","Burning Sand"],["D9B99B","Cameo"],["D9D6CF","Timberwolf"],["D9DCC1","Tana"],["D9E4F5","Link Water"],["D9F7FF","Mabel"],["DA3287","Cerise"],["DA5B38","Flame Pea"],["DA6304","Bamboo"],["DA6A41","Red Damask"],["DA70D6","Orchid"],["DA8A67","Copperfield"],["DAA520","Golden Grass"],["DAECD6","Zanah"],["DAF4F0","Iceberg"],["DAFAFF","Oyster Bay"],["DB5079","Cranberry"],["DB9690","Petite Orchid"],["DB995E","Di Serria"],["DBDBDB","Alto"],["DBFFF8","Frosted Mint"],["DC143C","Crimson"],["DC4333","Punch"],["DCB20C","Galliano"],["DCB4BC","Blossom"],["DCD747","Wattle"],["DCD9D2","Westar"],["DCDDCC","Moon Mist"],["DCEDB4","Caper"],["DCF0EA","Swans Down"],["DDD6D5","Swiss Coffee"],["DDF9F1","White Ice"],["DE3163","Cerise Red"],["DE6360","Roman"],["DEA681","Tumbleweed"],["DEBA13","Gold Tips"],["DEC196","Brandy"],["DECBC6","Wafer"],["DED4A4","Sapling"],["DED717","Barberry"],["DEE5C0","Beryl Green"],["DEF5FF","Pattens Blue"],["DF73FF","Heliotrope"],["DFBE6F","Apache"],["DFCD6F","Chenin"],["DFCFDB","Lola"],["DFECDA","Willow Brook"],["DFFF00","Chartreuse Yellow"],["E0B0FF","Mauve"],["E0B646","Anzac"],["E0B974","Harvest Gold"],["E0C095","Calico"],["E0FFFF","Baby Blue"],["E16865","Sunglo"],["E1BC64","Equator"],["E1C0C8","Pink Flare"],["E1E6D6","Periglacial Blue"],["E1EAD4","Kidnapper"],["E1F6E8","Tara"],["E25465","Mandy"],["E2725B","Terracotta"],["E28913","Golden Bell"],["E292C0","Shocking"],["E29418","Dixie"],["E29CD2","Light Orchid"],["E2D8ED","Snuff"],["E2EBED","Mystic"],["E2F3EC","Apple Green"],["E30B5C","Razzmatazz"],["E32636","Alizarin Crimson"],["E34234","Cinnabar"],["E3BEBE","Cavern Pink"],["E3F5E1","Peppermint"],["E3F988","Mindaro"],["E47698","Deep Blush"],["E49B0F","Gamboge"],["E4C2D5","Melanie"],["E4CFDE","Twilight"],["E4D1C0","Bone"],["E4D422","Sunflower"],["E4D5B7","Grain Brown"],["E4D69B","Zombie"],["E4F6E7","Frostee"],["E4FFD1","Snow Flurry"],["E52B50","Amaranth"],["E5841B","Zest"],["E5CCC9","Dust Storm"],["E5D7BD","Stark White"],["E5D8AF","Hampton"],["E5E0E1","Bon Jour"],["E5E5E5","Mercury"],["E5F9F6","Polar"],["E64E03","Trinidad"],["E6BE8A","Gold Sand"],["E6BEA5","Cashmere"],["E6D7B9","Double Spanish White"],["E6E4D4","Satin Linen"],["E6F2EA","Harp"],["E6F8F3","Off Green"],["E6FFE9","Hint of Green"],["E6FFFF","Tranquil"],["E77200","Mango Tango"],["E7730A","Christine"],["E79F8C","Tonys Pink"],["E79FC4","Kobi"],["E7BCB4","Rose Fog"],["E7BF05","Corn"],["E7CD8C","Putty"],["E7ECE6","Gray Nurse"],["E7F8FF","Lily White"],["E7FEFF","Bubbles"],["E89928","Fire Bush"],["E8B9B3","Shilo"],["E8E0D5","Pearl Bush"],["E8EBE0","Green White"],["E8F1D4","Chrome White"],["E8F2EB","Gin"],["E8F5F2","Aqua Squeeze"],["E96E00","Clementine"],["E97451","Burnt Sienna"],["E97C07","Tahiti Gold"],["E9CECD","Oyster Pink"],["E9D75A","Confetti"],["E9E3E3","Ebb"],["E9F8ED","Ottoman"],["E9FFFD","Clear Day"],["EA88A8","Carissma"],["EAAE69","Porsche"],["EAB33B","Tulip Tree"],["EAC674","Rob Roy"],["EADAB8","Raffia"],["EAE8D4","White Rock"],["EAF6EE","Panache"],["EAF6FF","Solitude"],["EAF9F5","Aqua Spring"],["EAFFFE","Dew"],["EB9373","Apricot"],["EBC2AF","Zinnwaldite"],["ECA927","Fuel Yellow"],["ECC54E","Ronchi"],["ECC7EE","French Lilac"],["ECCDB9","Just Right"],["ECE090","Wild Rice"],["ECEBBD","Fall Green"],["ECEBCE","Aths Special"],["ECF245","Starship"],["ED0A3F","Red Ribbon"],["ED7A1C","Tango"],["ED9121","Carrot Orange"],["ED989E","Sea Pink"],["EDB381","Tacao"],["EDC9AF","Desert Sand"],["EDCDAB","Pancho"],["EDDCB1","Chamois"],["EDEA99","Primrose"],["EDF5DD","Frost"],["EDF5F5","Aqua Haze"],["EDF6FF","Zumthor"],["EDF9F1","Narvik"],["EDFC84","Honeysuckle"],["EE82EE","Lavender Magenta"],["EEC1BE","Beauty Bush"],["EED794","Chalky"],["EED9C4","Almond"],["EEDC82","Flax"],["EEDEDA","Bizarre"],["EEE3AD","Double Colonial White"],["EEEEE8","Cararra"],["EEEF78","Manz"],["EEF0C8","Tahuna Sands"],["EEF0F3","Athens Gray"],["EEF3C3","Tusk"],["EEF4DE","Loafer"],["EEF6F7","Catskill White"],["EEFDFF","Twilight Blue"],["EEFF9A","Jonquil"],["EEFFE2","Rice Flower"],["EF863F","Jaffa"],["EFEFEF","Gallery"],["EFF2F3","Porcelain"],["F091A9","Mauvelous"],["F0D52D","Golden Dream"],["F0DB7D","Golden Sand"],["F0DC82","Buff"],["F0E2EC","Prim"],["F0E68C","Khaki"],["F0EEFD","Selago"],["F0EEFF","Titan White"],["F0F8FF","Alice Blue"],["F0FCEA","Feta"],["F18200","Gold Drop"],["F19BAB","Wewak"],["F1E788","Sahara Sand"],["F1E9D2","Parchment"],["F1E9FF","Blue Chalk"],["F1EEC1","Mint Julep"],["F1F1F1","Seashell"],["F1F7F2","Saltpan"],["F1FFAD","Tidal"],["F1FFC8","Chiffon"],["F2552A","Flamingo"],["F28500","Tangerine"],["F2C3B2","Mandys Pink"],["F2F2F2","Concrete"],["F2FAFA","Black Squeeze"],["F34723","Pomegranate"],["F3AD16","Buttercup"],["F3D69D","New Orleans"],["F3D9DF","Vanilla Ice"],["F3E7BB","Sidecar"],["F3E9E5","Dawn Pink"],["F3EDCF","Wheatfield"],["F3FB62","Canary"],["F3FBD4","Orinoco"],["F3FFD8","Carla"],["F400A1","Hollywood Cerise"],["F4A460","Sandy brown"],["F4C430","Saffron"],["F4D81C","Ripe Lemon"],["F4EBD3","Janna"],["F4F2EE","Pampas"],["F4F4F4","Wild Sand"],["F4F8FF","Zircon"],["F57584","Froly"],["F5C85C","Cream Can"],["F5C999","Manhattan"],["F5D5A0","Maize"],["F5DEB3","Wheat"],["F5E7A2","Sandwisp"],["F5E7E2","Pot Pourri"],["F5E9D3","Albescent White"],["F5EDEF","Soft Peach"],["F5F3E5","Ecru White"],["F5F5DC","Beige"],["F5FB3D","Golden Fizz"],["F5FFBE","Australian Mint"],["F64A8A","French Rose"],["F653A6","Brilliant Rose"],["F6A4C9","Illusion"],["F6F0E6","Merino"],["F6F7F7","Black Haze"],["F6FFDC","Spring Sun"],["F7468A","Violet Red"],["F77703","Chilean Fire"],["F77FBE","Persian Pink"],["F7B668","Rajah"],["F7C8DA","Azalea"],["F7DBE6","We Peep"],["F7F2E1","Quarter Spanish White"],["F7F5FA","Whisper"],["F7FAF7","Snow Drift"],["F8B853","Casablanca"],["F8C3DF","Chantilly"],["F8D9E9","Cherub"],["F8DB9D","Marzipan"],["F8DD5C","Energy Yellow"],["F8E4BF","Givry"],["F8F0E8","White Linen"],["F8F4FF","Magnolia"],["F8F6F1","Spring Wood"],["F8F7DC","Coconut Cream"],["F8F7FC","White Lilac"],["F8F8F7","Desert Storm"],["F8F99C","Texas"],["F8FACD","Corn Field"],["F8FDD3","Mimosa"],["F95A61","Carnation"],["F9BF58","Saffron Mango"],["F9E0ED","Carousel Pink"],["F9E4BC","Dairy Cream"],["F9E663","Portica"],["F9EAF3","Amour"],["F9F8E4","Rum Swizzle"],["F9FF8B","Dolly"],["F9FFF6","Sugar Cane"],["FA7814","Ecstasy"],["FA9D5A","Tan Hide"],["FAD3A2","Corvette"],["FADFAD","Peach Yellow"],["FAE600","Turbo"],["FAEAB9","Astra"],["FAECCC","Champagne"],["FAF0E6","Linen"],["FAF3F0","Fantasy"],["FAF7D6","Citrine White"],["FAFAFA","Alabaster"],["FAFDE4","Hint of Yellow"],["FAFFA4","Milan"],["FB607F","Brink Pink"],["FB8989","Geraldine"],["FBA0E3","Lavender Rose"],["FBA129","Sea Buckthorn"],["FBAC13","Sun"],["FBAED2","Lavender Pink"],["FBB2A3","Rose Bud"],["FBBEDA","Cupid"],["FBCCE7","Classic Rose"],["FBCEB1","Apricot Peach"],["FBE7B2","Banana Mania"],["FBE870","Marigold Yellow"],["FBE96C","Festival"],["FBEA8C","Sweet Corn"],["FBEC5D","Candy Corn"],["FBF9F9","Hint of Red"],["FBFFBA","Shalimar"],["FC0FC0","Shocking Pink"],["FC80A5","Tickle Me Pink"],["FC9C1D","Tree Poppy"],["FCC01E","Lightning Yellow"],["FCD667","Goldenrod"],["FCD917","Candlelight"],["FCDA98","Cherokee"],["FCF4D0","Double Pearl Lusta"],["FCF4DC","Pearl Lusta"],["FCF8F7","Vista White"],["FCFBF3","Bianca"],["FCFEDA","Moon Glow"],["FCFFE7","China Ivory"],["FCFFF9","Ceramic"],["FD0E35","Torch Red"],["FD5B78","Wild Watermelon"],["FD7B33","Crusta"],["FD7C07","Sorbus"],["FD9FA2","Sweet Pink"],["FDD5B1","Light Apricot"],["FDD7E4","Pig Pink"],["FDE1DC","Cinderella"],["FDE295","Golden Glow"],["FDE910","Lemon"],["FDF5E6","Old Lace"],["FDF6D3","Half Colonial White"],["FDF7AD","Drover"],["FDFEB8","Pale Prim"],["FDFFD5","Cumulus"],["FE28A2","Persian Rose"],["FE4C40","Sunset Orange"],["FE6F5E","Bittersweet"],["FE9D04","California"],["FEA904","Yellow Sea"],["FEBAAD","Melon"],["FED33C","Bright Sun"],["FED85D","Dandelion"],["FEDB8D","Salomie"],["FEE5AC","Cape Honey"],["FEEBF3","Remy"],["FEEFCE","Oasis"],["FEF0EC","Bridesmaid"],["FEF2C7","Beeswax"],["FEF3D8","Bleach White"],["FEF4CC","Pipi"],["FEF4DB","Half Spanish White"],["FEF4F8","Wisp Pink"],["FEF5F1","Provincial Pink"],["FEF7DE","Half Dutch White"],["FEF8E2","Solitaire"],["FEF8FF","White Pointer"],["FEF9E3","Off Yellow"],["FEFCED","Orange White"],["FF0000","Red"],["FF007F","Rose"],["FF00CC","Purple Pizzazz"],["FF00FF","Magenta / Fuchsia"],["FF2400","Scarlet"],["FF3399","Wild Strawberry"],["FF33CC","Razzle Dazzle Rose"],["FF355E","Radical Red"],["FF3F34","Red Orange"],["FF4040","Coral Red"],["FF4D00","Vermilion"],["FF4F00","International Orange"],["FF6037","Outrageous Orange"],["FF6600","Blaze Orange"],["FF66FF","Pink Flamingo"],["FF681F","Orange"],["FF69B4","Hot Pink"],["FF6B53","Persimmon"],["FF6FFF","Blush Pink"],["FF7034","Burning Orange"],["FF7518","Pumpkin"],["FF7D07","Flamenco"],["FF7F00","Flush Orange"],["FF7F50","Coral"],["FF8C69","Salmon"],["FF9000","Pizazz"],["FF910F","West Side"],["FF91A4","Pink Salmon"],["FF9933","Neon Carrot"],["FF9966","Atomic Tangerine"],["FF9980","Vivid Tangerine"],["FF9E2C","Sunshade"],["FFA000","Orange Peel"],["FFA194","Mona Lisa"],["FFA500","Web Orange"],["FFA6C9","Carnation Pink"],["FFAB81","Hit Pink"],["FFAE42","Yellow Orange"],["FFB0AC","Cornflower Lilac"],["FFB1B3","Sundown"],["FFB31F","My Sin"],["FFB555","Texas Rose"],["FFB7D5","Cotton Candy"],["FFB97B","Macaroni and Cheese"],["FFBA00","Selective Yellow"],["FFBD5F","Koromiko"],["FFBF00","Amber"],["FFC0A8","Wax Flower"],["FFC0CB","Pink"],["FFC3C0","Your Pink"],["FFC901","Supernova"],["FFCBA4","Flesh"],["FFCC33","Sunglow"],["FFCC5C","Golden Tainoi"],["FFCC99","Peach Orange"],["FFCD8C","Chardonnay"],["FFD1DC","Pastel Pink"],["FFD2B7","Romantic"],["FFD38C","Grandis"],["FFD700","Gold"],["FFD800","School bus Yellow"],["FFD8D9","Cosmos"],["FFDB58","Mustard"],["FFDCD6","Peach Schnapps"],["FFDDAF","Caramel"],["FFDDCD","Tuft Bush"],["FFDDCF","Watusi"],["FFDDF4","Pink Lace"],["FFDEAD","Navajo White"],["FFDEB3","Frangipani"],["FFE1DF","Pippin"],["FFE1F2","Pale Rose"],["FFE2C5","Negroni"],["FFE5A0","Cream Brulee"],["FFE5B4","Peach"],["FFE6C7","Tequila"],["FFE772","Kournikova"],["FFEAC8","Sandy Beach"],["FFEAD4","Karry"],["FFEC13","Broom"],["FFEDBC","Colonial White"],["FFEED8","Derby"],["FFEFA1","Vis Vis"],["FFEFC1","Egg White"],["FFEFD5","Papaya Whip"],["FFEFEC","Fair Pink"],["FFF0DB","Peach Cream"],["FFF0F5","Lavender blush"],["FFF14F","Gorse"],["FFF1B5","Buttermilk"],["FFF1D8","Pink Lady"],["FFF1EE","Forget Me Not"],["FFF1F9","Tutu"],["FFF39D","Picasso"],["FFF3F1","Chardon"],["FFF46E","Paris Daisy"],["FFF4CE","Barley White"],["FFF4DD","Egg Sour"],["FFF4E0","Sazerac"],["FFF4E8","Serenade"],["FFF4F3","Chablis"],["FFF5EE","Seashell Peach"],["FFF5F3","Sauvignon"],["FFF6D4","Milk Punch"],["FFF6DF","Varden"],["FFF6F5","Rose White"],["FFF8D1","Baja White"],["FFF9E2","Gin Fizz"],["FFF9E6","Early Dawn"],["FFFACD","Lemon Chiffon"],["FFFAF4","Bridal Heath"],["FFFBDC","Scotch Mist"],["FFFBF9","Soapstone"],["FFFC99","Witch Haze"],["FFFCEA","Buttery White"],["FFFCEE","Island Spice"],["FFFDD0","Cream"],["FFFDE6","Chilean Heath"],["FFFDE8","Travertine"],["FFFDF3","Orchid White"],["FFFDF4","Quarter Pearl Lusta"],["FFFEE1","Half and Half"],["FFFEEC","Apricot White"],["FFFEF0","Rice Cake"],["FFFEF6","Black White"],["FFFEFD","Romance"],["FFFF00","Yellow"],["FFFF66","Laser Lemon"],["FFFF99","Pale Canary"],["FFFFB4","Portafino"],["FFFFF0","Ivory"],["FFFFFF","White"]]};p.init(),e.exports=function(t){return t?p.name(t):"none"}},"remove-border-classes.js":function(t,e,i){e.exports=function(t){t.removeClass(function(t,e){return e.match(/tve_brdr_([^\s'"]+)/)?"tve_brdr_"+RegExp.$1:""})}},"resize-sensor.js":function(t,e,i){function n(n,s){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:30;n=n.jquery?n[0]:n,this.element=n;var e=TVE._||window._||window.parent&&window.parent._;e&&t&&(s=e.debounce(s,t));var i=parseInt(getComputedStyle(n).zIndex);isNaN(i)&&(i=0),i--;var a=this.expand=document.createElement("div");a.className="tcb-remove-on-save resize-sensor",a.style.position="absolute",a.style.left="0px",a.style.top="0px",a.style.right="0px",a.style.bottom="0px",a.style.overflow="hidden",a.style.zIndex=String(i),a.style.visibility="hidden";var o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",o.style.width="10000000px",o.style.height="10000000px",a.appendChild(o);var r=this.shrink=document.createElement("div");r.className="tcb-remove-on-save resize-sensor",r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.right="0px",r.style.bottom="0px",r.style.overflow="hidden",r.style.zIndex=String(i),r.style.visibility="hidden";var l=document.createElement("div");function c(){a.scrollLeft=1e7,a.scrollTop=1e7,r.scrollLeft=1e7,r.scrollTop=1e7}l.style.position="absolute",l.style.left="0px",l.style.top="0px",l.style.width="200%",l.style.height="200%",r.appendChild(l),n.appendChild(a),n.appendChild(r),c();function d(){var t=n.getBoundingClientRect(),e=t.width,i=t.height;e===u&&i===p||(u=e,p=i,s()),c()}var h=n.getBoundingClientRect(),u=h.width,p=h.height;a.addEventListener("scroll",d),r.addEventListener("scroll",d)}n.prototype.disconnect=function(){this.element.removeChild(this.expand),this.element.removeChild(this.shrink)},e.exports=n},"shortcode-manager.js":function(t,e,i){e.exports=function(e,t){2<arguments.length&&void 0!==arguments[2]&&arguments[2]&&!e.is(".thrive-shortcode-config")&&(e=e.find(".thrive-shortcode-config"));var i="__CONFIG_"+t+"__";return{update:function(t,e){var i=this.get();i[e]=t,this.save(i)},delete_prop:function(t){this.remove(t)},remove:function(t){var e=this.get();delete e[t],this.save(e)},save:function(t){e.html(this.getHTML(t))},get:function(){if(!e.length)return{};var t=new RegExp(i,"g");return JSON.parse((e.html().trim()||"{}").replace(/_tveutf8_/g,"\\u").replace(t,"").replace(/\\\'/g,"'").replace(/_tve_quote_/g,'\\"').replace(/\n/g,"\\n").replace(/\t/g,"\\t"))},getHTML:function(t){return i+JSON.stringify(t).replace(/\\"/g,"_tve_quote_")+i}}}},"spectrum.js":function(t,e,i){function n(t,e){return!!~(""+t).indexOf(e)}function Ot(t,e,i,n){for(var s=[],a=0;a<t.length;a++){var o=t[a];if(o){var r=Nt(o),l=r.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=Nt.equals(e,o)?" sp-thumb-active":"";var c=r.toString(n.preferredFormat||"rgb"),d=Gt?"background-color:"+r.toRgbString():"filter:"+r.toFilter();s.push('<span title="'+c+'" data-color="'+r.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+d+';" /></span>')}else{s.push(Bt("<div />").append(Bt('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",n.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+s.join("")+"</div>"}function a(t,e){var c=function(t,e){var i=Bt.extend({},Dt,t);return i.callbacks={move:It(i.move,e),change:It(i.change,e),show:It(i.show,e),hide:It(i.hide,e),cancel:It(i.cancel,e),beforeShow:It(i.beforeShow,e),saveFavorite:It(i.saveFavorite,e)},i}(e,t),n=c.flat,i=c.showSelectionPalette,s=c.localStorageKey,a=c.theme,o=c.callbacks,r=function(i,n,s){var a;return function(){var t=this,e=arguments;s&&clearTimeout(a),!s&&a||(a=setTimeout(function(){a=null,i.apply(t,e)},n))}}(Pt,10),l=!1,d=0,h=0,u=0,p=0,_=0,f=0,m=0,g=0,v=null,b="",E=0,T=0,y=0,V=1,C=[],x=[],w={},k=c.selectionPalette.slice(0),$=c.maxSelectionSize,S="sp-dragging",A=null,P=t.ownerDocument,F=(P.body,Bt(t)),L=!1,O=Bt(Ut,P).addClass(a),M=O.find(".sp-picker-container"),I=O.find(".sp-color"),j=O.find(".sp-dragger"),B=O.find(".sp-hue"),z=O.find(".sp-slider"),D=O.find(".sp-alpha-inner"),N=O.find(".sp-alpha .sp-transparent"),R=O.find(".sp-alpha-handle"),H=O.find(".sp-input"),G=O.find(".sp-palette"),W=O.find(".sp-initial"),U=O.find(".sp-cancel"),q=O.find(".sp-clear"),Q=O.find(".sp-choose"),J=O.find(".sp-palette-toggle"),K=O.find(".sp-preview-color"),Y=O.find(".sp-save-fav"),X=F.is("input"),Z=X&&"color"===F.attr("type")&&Bt.fn.spectrum.inputTypeColorSupport(),tt=X&&!n,et=tt?Bt(Wt).addClass(a).addClass(c.className).addClass(c.replacerClassName):Bt([]),it=tt?et:F,nt=et.find(".sp-preview-inner"),st=c.color||X&&F.val(),at=!1,ot=c.preferredFormat,rt=!st,lt=c.allowEmpty&&!Z;function ct(){v?(b="global",-1<v.indexOf("--tcb-tpl-")&&TVE.isGlobalVariablePromoted(v)&&(b="tpl")):b=""}function dt(){if(c.showPaletteOnly&&(c.showPalette=!0),J.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText),c.palette){C=c.palette.slice(0),x=Bt.isArray(C[0])?C:[C],w={};for(var t=0;t<x.length;t++)for(var e=0;e<x[t].length;e++){var i=Nt(x[t][e]).toRgbString();w[i]=!0}}O.toggleClass("sp-flat",n),O.toggleClass("sp-input-disabled",!c.showInput),O.toggleClass("sp-alpha-enabled",c.showAlpha),O.toggleClass("sp-clear-enabled",lt),O.toggleClass("sp-buttons-disabled",!c.showButtons),O.toggleClass("sp-palette-buttons-disabled",!c.togglePaletteOnly),O.toggleClass("sp-palette-disabled",!c.showPalette),O.toggleClass("sp-palette-only",c.showPaletteOnly),O.toggleClass("sp-initial-disabled",!c.showInitial),O.toggleClass("sp-save-disabled",!c.showSaveButton),O.addClass(c.className).addClass(c.containerClassName),c.flat||O.addClass("drop-panel panel-light").append('<div class="tcb-panel-arrow"></div>'),c.showAlpha&&c.alpha_input&&(O.find(".sp-ctrl-opacity").append(c.alpha_input.$el),c.alpha_input.input=function(){V=parseFloat(this.$input.val())/100,c.alpha_input.$input.toggleClass("sp-opacity-warning",0===this.$input.val()),kt()},c.alpha_input.update=function(){rt&&lt&&this.$input.val("")}),Pt()}function ht(e,i,n,t){var s=3<arguments.length&&t!==zt?t:100;TVE.PreviousActiveElement=TVE.ActiveElement,setTimeout(function(){var t=TVE.ActiveElement;TVE.ActiveElement=TVE.PreviousActiveElement,o[e]&&o[e](i,n),delete TVE.PreviousActiveElement,TVE.ActiveElement=t},s)}function ut(){if(s&&window.localStorage){try{var t=window.localStorage[s].split(",#");1<t.length&&(delete window.localStorage[s],Bt.each(t,function(t,e){pt(e)}))}catch(t){}try{k=window.localStorage[s].split(";")}catch(t){}}}function pt(t){if(i){var e=Nt(t).toRgbString();if(!w[e]&&-1===Bt.inArray(e,k))for(k.push(e);k.length>$;)k.shift();if(s&&window.localStorage)try{window.localStorage[s]=k.join(";")}catch(t){}}}function _t(){var i=wt(),t=Bt.map(x,function(t,e){return Ot(t,i,"sp-palette-row sp-palette-row-"+e,c)});ut(),k&&t.push(Ot(function(){var t=[];if(c.showPalette)for(var e=0;e<k.length;e++){var i=Nt(k[e]).toRgbString();w[i]||t.push(k[e])}return t.reverse().slice(0,c.maxSelectionSize)}(),i,"sp-palette-row sp-palette-row-selection",c)),G.html(t.join(""))}function ft(){if(c.showInitial){var t=at,e=wt();W.html(Ot([t,e],e,"sp-palette-row-initial",c))}}function mt(){(h<=0||d<=0||p<=0)&&Pt(),!0,O.addClass(S),A=null,F.trigger("dragstart.spectrum",[wt()])}function gt(){!1,O.removeClass(S),F.trigger("dragstop.spectrum",[wt()])}function vt(){var t=H.val(),e={from_input:!0};if(null!==t&&""!==t||!lt){/[\w]+[,]/.test(t)&&(t="rgb("+t+")");var i=Nt(t);i.isValid()?(at=null,i.setAlpha(V),xt(i),F.trigger("hue.changed.spectrum",E),At(!0,e)):H.addClass("has-error")}else xt(null),At(!0,e)}function bt(){l?Vt():Et()}function Et(){var t=Bt.Event("beforeShow.spectrum");l?Pt():(F.trigger(t,[wt()]),!1===o.beforeShow(wt())||t.isDefaultPrevented()||(function(){for(var t=0;t<Rt.length;t++)Rt[t]&&Rt[t].hide()}(),l=!0,n||(Bt(P).bind("keydown.spectrum",Tt),Bt(P).bind("click.spectrum",yt)),Bt(window).bind("resize.spectrum",r),et.addClass("sp-active"),O.removeClass("sp-hidden"),Pt(),$t(),at=wt(),v&&(at.css_variable=v),ct(),ft(),o.show(at),F.trigger("show.spectrum",[at])))}function Tt(t){27!==t.keyCode||TVE.prevent_blur||(t.preventDefault(),t.stopPropagation(),U.click())}function yt(t){}function Vt(){l&&!n&&(l=!1,Bt(P).unbind("keydown.spectrum",Tt),Bt(P).unbind("click.spectrum",yt),Bt(window).unbind("resize.spectrum",r),et.removeClass("sp-active"),O.addClass("sp-hidden"),o.hide(wt()),F.trigger("hide.spectrum",[wt()]))}function Ct(){xt(at,!0)}function xt(t,e){if(v=null,Nt.equals(t,wt()))return v=t.css_variable,ct(),void $t();var i,n;t?(rt=!1,n=(i=Nt(t)).toHsv(),v=t.css_variable,E=n.h%360/360,T=n.s,y=n.v,V=n.a):rt=!0,ct(),$t(),i&&i.isValid()&&!e&&(ot=c.preferredFormat||i.getFormat())}function wt(t){if(t=t||{},lt&&rt)return null;var e={h:E,s:T,v:y,a:Math.round(100*V)/100};return F.trigger("color.ration.spectrum",e),Nt.fromRatio(e,{format:t.format||ot})}function kt(){$t(),o.move(wt()),F.trigger("move.spectrum",[wt()])}function $t(){H.removeClass("has-error"),St();var t=Nt.fromRatio({h:E,s:1,v:1});I.css("background-color",t.toHexString());var e=ot;V<1&&(0!==V||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var i=wt({format:e});if(nt.removeClass("sp-clear-display"),nt.css("background","transparent"),K.removeClass("sp-transparent"),nt.toggleClass("tcb-css-variable-identifier",0<b.length),K.toggleClass("tcb-css-variable-identifier",0<b.length),nt.toggleClass("tcb-tpl-var","tpl"===b),K.toggleClass("tcb-tpl-var","tpl"===b),!i&&lt)nt.addClass("sp-clear-display"),K.addClass("sp-transparent");else{var n=i.toHexString(),s=i.toRgbString();Gt||1===i.alpha?nt.css("background",s):(nt.css("background","transparent"),nt.css("filter",i.toFilter()));var a=Nt.mostReadable(n,["#fff","#000"]);if(K.css("background-color",s),K.css("color",a._originalInput),c.showAlpha){var o=i.toRgb();o.a=0;var r=Nt(o).toRgbString();if(D.css("background-image","linear-gradient(to right, "+r+", "+n+")"),c.alpha_input){var l=Math.round(100*V);"string"==typeof(l=l!=parseInt(l)?l.toFixed(1):l)&&0<=l.indexOf("NaN")&&(l=""),c.alpha_input.setValueDirectly(l),c.alpha_input.$input.toggleClass("sp-opacity-warning",0===l)}}i.toString(e)}c.showInput&&H.val(n),c.showPalette&&_t(),ft()}function St(){var t=T,e=y;if(lt&&rt)R.hide(),z.hide(),j.hide(),c.showAlpha&&c.alpha_input&&c.alpha_input.update();else{R.show(),z.show(),j.show();var i=t*d,n=h-e*h;i=Math.max(-u/2,Math.min(d-u/2,i-u/2)),n=Math.max(-u/2,Math.min(h-u/2,n-u/2)),j.css({top:n+"px",left:i+"px"});var s=V*f;s?R.css({left:s-m/2+"px"}):R.css({left:s});var a=E*_;a?z.css({left:a-g/2+"px"}):z.css({left:a})}}function At(t,e){e=void 0===e?{}:e;var i=wt();if(!i&&!at)return!1;var n="",s=!Nt.equals(i,at);return i&&(n=i.toHexString(),pt(i)),X&&F.val(n),!(!t||!s)&&(o.change(i,e),F.trigger("change",[i]),!0)}function Pt(){if(l){if(d=I.width(),h=I.height(),u=j.outerHeight(),_=B.width(),p=B.height(),z.outerHeight(),f=N.width(),m=R.width(),g=z.width(),N.height(),R.outerHeight(),!n)if(O.css("position","absolute"),c.offset)O.offset(c.offset);else{var t=function(t,e){t.outerWidth(),t.outerHeight();var i=e.outerHeight(),n=t[0].ownerDocument,s=n.documentElement,a=(s.clientWidth,Bt(n).scrollLeft(),s.clientHeight,Bt(n).scrollTop(),e.offset());return a.top+=i,a}(O,it);t.above?t.top-=20:t.top+=10,O.find(".tcb-panel-arrow").css("left",it.outerWidth()/2+t.left-O.offset().left+"px"),O.offset(t)}St(),c.showPalette&&_t(),F.trigger("reflow.spectrum")}}function Ft(){Vt(),L=!0,F.attr("disabled",!0),it.addClass("sp-disabled")}B.hover(function(){O.find(".sp-opacity-warning").addClass("sp-op-blink")},function(){O.find(".sp-opacity-warning").removeClass("sp-op-blink")}),function(){if(Ht&&O.find("*:not(input)").attr("unselectable","on"),dt(),tt&&F.after(et).hide(),lt&&!n||q.hide(),n)F.after(O).hide();else{var t="parent"===c.appendTo?F.parent():Bt(c.appendTo);1!==t.length&&(t=Bt("body")),t.append(O)}function e(t){return t.data&&t.data.ignore?(xt(Bt(t.target).closest(".sp-thumb-el").data("color")),kt()):(xt(Bt(t.target).closest(".sp-thumb-el").data("color")),kt(),At(!0),c.hideAfterPaletteSelect&&Vt()),!1}ut(),it.bind("click.spectrum touchstart.spectrum",function(t){L||bt(),t.stopPropagation(),Bt(t.target).is("input")||t.preventDefault()}),!F.is(":disabled")&&!0!==c.disabled||Ft(),O.click(Mt),H.change(vt),H.bind("paste",function(){setTimeout(vt,1)}),H.keydown(function(t){13==t.keyCode&&vt()}),U.text(c.cancelText),U.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Ct(),Vt();var e=wt(),i=v;!function(t){ht("cancel",t,{},50)}(i||e)}),q.attr("title",c.clearText),q.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),rt=!0,kt(),wt()||St(),n&&At(!0)}),Q.text(c.chooseText),Q.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Ht&&H.is(":focus")&&H.trigger("change"),H.hasClass("has-error")||(At(!1),Vt(),function(t,e){ht("change",t,e)}(wt()))}),Y.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),o.saveFavorite(wt())}),J.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText),J.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),c.showPaletteOnly=!c.showPaletteOnly,c.showPaletteOnly||n||O.css("left","-="+(M.outerWidth(!0)+5)),dt()}),jt(N,function(t,e,i){V=t/f,rt=!1,i.shiftKey&&(V=Math.round(10*V)/10),kt()},mt,gt),jt(B,function(t,e){E=parseFloat(t/_),rt=!1,c.showAlpha||(V=1),F.trigger("hue.changed.spectrum",E),kt()},mt,gt),jt(I,function(t,e,i){if(i.shiftKey){if(!A){var n=T*d,s=h-y*h,a=Math.abs(t-n)>Math.abs(e-s);A=a?"x":"y"}}else A=null;var o=!A||"y"===A;A&&"x"!==A||(T=parseFloat(t/d)),o&&(y=parseFloat((h-e)/h)),rt=!1,c.showAlpha||(V=1),kt()},mt,gt),st?(xt(st),$t(),ot=c.preferredFormat||Nt(st).format,pt(st)):$t(),n&&Et();var i=Ht?"mousedown.spectrum":"click.spectrum touchstart.spectrum";G.delegate(".sp-thumb-el",i,e),W.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},e)}();var Lt={show:Et,hide:Vt,toggle:bt,reflow:Pt,option:function(t,e){return t===zt?Bt.extend({},c):e===zt?c[t]:(c[t]=e,"preferredFormat"===t&&(ot=c.preferredFormat),void dt())},enable:function(){L=!1,F.attr("disabled",!1),it.removeClass("sp-disabled")},disable:Ft,offset:function(t){c.offset=t,Pt()},set:function(t,e){xt(t),At(e)},get:wt,destroy:function(){F.show(),it.unbind("click.spectrum touchstart.spectrum"),O.remove(),et.remove(),Rt[Lt.id]=null},blurApply:function(){l&&!n&&(At(!1),Vt(),o.change(wt()))},container:O};return Lt.id=Rt.push(Lt)-1,Lt}function s(){}function Mt(t){t.stopPropagation()}function It(t,e){var i=Array.prototype.slice,n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}function jt(o,r,e,t){r=r||function(){},e=e||function(){},t=t||function(){};var l=document,c=!1,d={},h=0,u=0,p="ontouchstart"in window,i={};function _(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function n(t){if(c){if(Ht&&l.documentMode<9&&!t.button)return f();if((["svg","use"].includes(t.target.tagName)||-1===t.target.className.indexOf("sp-"))&&0===t.which)return f();var e=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],i=e&&e.pageX||t.pageX,n=e&&e.pageY||t.pageY,s=Math.max(0,Math.min(i-d.left,u)),a=Math.max(0,Math.min(n-d.top,h));p&&_(t),r.apply(o,[s,a,t])}}function f(){c&&(Bt(l).unbind(i),Bt(l.body).removeClass("sp-dragging"),setTimeout(function(){t.apply(o,arguments)},0)),c=!1}i.selectstart=_,i.dragstart=_,i["touchmove mousemove"]=n,i["touchend mouseup"]=f,Bt(o).bind("touchstart mousedown",function(t){(t.which?3==t.which:2==t.button)||c||!1!==e.apply(o,arguments)&&(c=!0,h=Bt(o).height(),u=Bt(o).width(),d=Bt(o).offset(),Bt(l).bind(i),Bt(l.body).addClass("sp-dragging"),n(t),_(t))})}var Bt,zt,o,Dt,Nt,Rt,Ht,Gt,Wt,Ut,r;Bt=jQuery,Dt={beforeShow:s,move:s,change:s,show:s,hide:s,saveFavorite:s,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"apply",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#4b0082","#9400d3","#0000ff","#4b0082","#9400d3","rgba(0,0,0,.5)"]],selectionPalette:[],disabled:!1,offset:null,showSaveButton:!1},Nt=i("./tinycolor"),Rt=[],Ht=!!/msie/i.exec(window.navigator.userAgent),(o=document.createElement("div").style).cssText="background-color:rgba(0,0,0,.5)",Gt=n(o.backgroundColor,"rgba")||n(o.backgroundColor,"hsla"),Wt=["<div class='sp-replacer'>","<div class='sp-preview sp-transparent'><div class='sp-preview-inner'></div></div>","</div>"].join(""),Ut=["<div class='sp-container sp-hidden'>","<div class='sp-color-inputs'>","<div class='sp-top sp-cf'>","<div class='sp-picker-container'>","<div class='sp-col col-color'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","</div>","</div>","</div>","<div class='control-grid mt-5'>","<div style='width: 26px; height: 26px' class='sp-preview-color'><span class='click sp-clear sp-clear-display'>"+'<svg class="tcb-icon" viewBox="0 0 32 32" width="100%" height="100%"><path d="M26.667 22.4c0 0.533-0.133 0.933-0.533 1.2l-2.4 2.4c-0.267 0.267-0.8 0.533-1.2 0.533-0.533 0-0.933-0.133-1.2-0.533l-5.333-5.2-5.2 5.2c-0.4 0.4-0.8 0.667-1.2 0.667s-0.933-0.133-1.2-0.533l-2.4-2.4c-0.4-0.4-0.667-0.8-0.667-1.333s0.133-0.933 0.533-1.2l5.333-5.2-5.333-5.2c-0.267-0.4-0.533-0.8-0.533-1.2 0-0.533 0.133-0.933 0.533-1.2l2.4-2.4c0.4-0.4 0.8-0.667 1.333-0.667s0.933 0.133 1.2 0.533l5.2 5.333 5.2-5.2c0.4-0.4 0.8-0.667 1.2-0.667 0.533 0 0.933 0.133 1.2 0.533l2.4 2.4c0.4 0.4 0.667 0.8 0.667 1.333s-0.133 0.933-0.533 1.2l-5.333 5.2 5.2 5.2c0.4 0.4 0.667 0.8 0.667 1.2z"></path></svg></span></div>',"<div>","<div class='sp-top sp-cf'>","<div class='sp-col col-hue'><div class='sp-hue'><div class='sp-slider'></div></div></div>","</div>","<div class='sp-top sp-cf'>","<div class='sp-col col-alpha'><div class='sp-alpha'><div class='sp-transparent'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div></div></div>","</div>","</div>","</div>","<div class='control-grid sp-inputs'>","<div class='sp-ctrl-color sp-input-container'><span class='input-label'>HEX / RGB</span><input class='sp-input tve-input' type='text' spellcheck='false' /></div>","<div class='sp-ctrl-opacity fluid-input no-space'></div>","</div>","</div>","<hr class='wide'>","<div class='sp-favorites-container'></div>","<div class='sp-palette-container mt-5 pt-5'>","<div class='sp-palette sp-thumb dark-box sp-cf clearfix'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container action-buttons control-grid'>","<div class='click sp-cancel tve-button drop-panel-action'></div>","<div class='click sp-choose tve-button drop-panel-action'></div>","</div>","</div>"].join(""),r="spectrum.id",Bt.fn.spectrum=function(i,t){if("string"!=typeof i)return this.spectrum("destroy").each(function(){var t=a(this,Bt.extend({},i,Bt(this).data()));Bt(this).data(r,t.id)});var n=this,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=Rt[Bt(this).data(r)];if(t){var e=t[i];if(!e)throw new Error("Spectrum: no such method: '"+i+"'");switch(i){case"get":n=t.get();break;case"container":n=t.container;break;case"option":n=t.option.apply(t,s);break;case"destroy":t.destroy(),Bt(this).removeData(r);break;default:e.apply(t,s)}}}),n},Bt.fn.spectrum.load=!0,Bt.fn.spectrum.loadOpts={},Bt.fn.spectrum.draggable=jt,Bt.fn.spectrum.defaults=Dt,Bt.spectrum={},Bt.spectrum.localization={},Bt.spectrum.palettes={}},"state-manager.js":function(t,e,i){var n,r,s=["tve-content-box-background","tve-page-section-out","tve-cb","tve-page-section-in","tve-image-overlay"];function l(t,e){var i=TVE.state_manager.get_state();return e.is(".tcb-flex-col")&&"expanded"===i?t:(t=TVE.apply_filters("tcb.state_change.".concat(TVE._type(TVE.ActiveElement)),t,i),TVE.state_manager.css_class()+t)}r=jQuery,n=function(o){o.on("state_change",function(t){e.change(t)}),o.on("done",function(){e.reset()}),TVE.add_action("tcb.focus_element.before",function(t){!t.hasClass("tve-state-expanded")&&e.is_expanded()&&setTimeout(function(){e.change("default",!0,{skip_update:!1,keepClass:!0}),o.s="default"})});var e={default:"default",hover:"hover",active:"active",expanded:"expanded",jump:"jump",_parent:null,_element:null,_state:"default",set_state:function(t){t=t||this.default,TVE.main.$cpanel.removeClass("state-"+this.get_state()),TVE.main.$cpanel.addClass("state-"+t),this._state=t},get_hover_state_parents:function(){return s},get_state:function(){return this._state},get_pseudo:function(){var t="";return this.is_default()||(t=":"+this.get_state()),t},is_default:function(){return this.get_state()===this.default},is_hover:function(){return this.get_state()===this.hover},is_jump:function(){return this.get_state()===this.jump},is_active:function(){if(!TVE.ActiveElement)return!1;var t=TVE._type(TVE.ActiveElement),e=TVE.Elements[t].active&&TVE.ActiveElement.is(TVE.Elements[t].active);return this.get_state()===this.active||e},getStateLabel:function(){var t=this.get_state();return this.is_active()&&(t=TVE.Elements[TVE._type(TVE.ActiveElement)].active_state_label),t},is_expanded:function(){return this.get_state()===this.expanded},css_class:function(t){var e="";return this.is_default()||(e=(t?"":".")+"tve-state-"+this.get_state()),e},set_parent:function(t){this._parent=t},get_parent:function(){return this._parent},set_element:function(t){this._element=t;var s=TVE._type(t),a=this.get_state();r.each(TVE.Elements[TVE._type(t)].components,function(t,e){var i=TVE.Components[t],n=TVE.apply_filters("tcb.state.hide.".concat(i.key,".").concat(s),"default"!==a&&!i.extra_states,a,i);i.$el.toggleClass("tcb-hidden",n)}),TVE.main.$cpanel.toggleClass("hide-extra-states","default"!==a),o.toggleExtraStates(TVE.Elements[TVE._type(t)])},get_element:function(){return this._element},is_child:function(t){return t=t||this.get_element(),null!==this.get_parent()&&null!==this.get_element()&&(!!this.is_active()||this.get_parent().has(t)&&!this.get_parent().is(t))},allowSelection:function(t){return this.is_expanded()||this.is_default()||this.is_child(t)||this.is_jump()||this.get_parent().is(t)},change:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:{};if(void 0===e&&(e=!0),TVE.ActiveElement){var s=TVE.ActiveElement,a=TVE.apply_filters("tcb.state_manager.change.edit_mode",s.filter(".edit_mode"));this.get_parent()&&!s.is(this.get_parent())&&(s=this.get_parent()),n.keepClass||this.removeTarget(s).removeClass(this.css_class(!0)),this.set_state(t),this.set_element(s),a.addClass(this.css_class(!0)),TVE.remove_filter("tcb_head_css_suffix",l),TVE.main.EditMode.in_edit()?TVE.main.EditMode.refresh():TVE.remove_element_overlay(),this.is_default()?(TVE.main.remove_navigation_root(this.get_parent()),TVE.prevent_blur=!1,TVE.Editor_Page.editor.find(".tve-state-default,.tve-state-hover,.tve-state-active").removeClass("tve-state-default tve-state-hover tve-state-active"),this.set_parent(null),TVE.inner.$body.removeClass("tcb-states"),TVE.main.$cpanel.find(".tcb-hidden").removeClass("tcb-hidden"),TVE.main.trigger("default_state"),s.closest(".canvas-mode").length&&s.closest(".canvas-mode")[0].style.setProperty("outline","")):this.is_hover()?(TVE.main.trigger("hover_state"),TVE.prevent_blur=!0,this.set_parent(s),a.tve_overlay(),TVE.inner.$body.addClass("tcb-states"),TVE.main.set_navigation_root(this.get_parent())):this.is_active()?(TVE.prevent_blur=!0,this.set_parent(s),a.tve_overlay(),TVE.inner.$body.addClass("tcb-states"),TVE.main.set_navigation_root(this.get_parent()),TVE.add_filter("tcb_head_css_suffix",l)):this.is_expanded()&&TVE.add_filter("tcb_head_css_suffix",l),delete TVE.SkipUpdate,TVE.do_action("tcb.state.change.before.update."+TVE._type(s),t),n.skip_update||TVE.main.update_components(),TVE.main.active_element_navigation(),TVE.do_action("tcb.state.change."+TVE._type(s),t),TVE.do_action("tcb.state.change",t),e&&(o.update_dom(t),o.s=t)}},reset:function(){this.change("default")},removeTarget:function(t){return t.hasClass("tcb-group-editing-item")&&"expanded"===this.get_state()&&(t=t.filter(".edit_mode")),t},needs_hover_state_parent:function(t){if(!t)return!1;if(t.jquery&&(t=t[0]),void 0===t.dataset.tcb_hover_state_parent){t.dataset.tcb_hover_state_parent="";for(var e,i=0;e=s[i++];)if(t.classList.contains(e)){t.dataset.tcb_hover_state_parent="1";break}}return"false"!==t.dataset.tcb_hover_state_parent&&t.dataset.tcb_hover_state_parent}};return e},e.exports=n},"storage.js":function(t,e,i){var n={setItem:function(t,e){},getItem:function(t){},removeItem:function(t){}};function s(){this.api=window.localStorage||n,this.keys={link_new_tab:"tcb-lnk-new-tab",link_no_follow:"tcb-lnk-no-follow",jump_animation:"smooth-anim",video:{autoplay:"tcb-video-autoplay",controls:"tcb-video-controls",loop:"tcb-video-loop",showinfo:"tcb-video-showinfo",modestbranding:"tcb-video-modestbranding",byline:"tcb-video-byline","play-bar":"tcb-video-play-bar",fs:"tcb-video-fs",rel:"tcb-video-rel"}},jQuery(window).on("storage.tcb",jQuery.proxy(function(t){var e=(t=t.originalEvent).newValue,i=t.oldValue;try{e=JSON.parse(e),i=JSON.parse(i)}catch(t){}jQuery(this).trigger(t.key,[e,i])},this))}s.prototype.set=function(t,e){if(!t||null==e)return this;"object"===_typeof(e)&&(e=JSON.stringify(e));try{this.api.setItem(t,e)}catch(t){}return this},s.prototype.get=function(t){if(t){var e=this.api.getItem(t);if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}},s.prototype.unset=function(t){if(!t)return this;try{this.api.removeItem(t)}catch(t){}return this},s.prototype.on=function(t,n){return jQuery(this).on(t,function(t,e,i){n(e,i)})},s.prototype.off=function(t){return jQuery(this).off(t)},s.prototype.setComponentMeta=function(t,e,i){var n=this.get("tcb-components-display")||{};n[t]=n[t]||{},n[t][e]=i,this.set("tcb-components-display",n)},s.instance=function(){return this._instance||(this._instance=new s),this._instance},e.exports=s.instance()},"template-colors.js":function(t,e,i){var n=i("./global-colors");e.exports=n.extend({after_initialize:function(t){var n=this;this.enable_remove_color=!1,this.enable_edit_color=!1,this.update_label=TVE.t.global.update_t_color,this.edit_label=TVE.t.global.edit_t_color,this.unlink_label=TVE.t.global.unlink_t_color,TVE.add_action("tcb.modify.color.variable",_.bind(function(t,e){if(-1<e.indexOf("tpl")&&n.tiny_color_obj){var i=n.tiny_color_obj.toHsl();t.hsl_parent_dependency?(t.hsl_parent_dependency.h=parseInt(i.h),t.hsl_parent_dependency.l=i.l.toFixed(2),t.hsl_parent_dependency.s=i.s.toFixed(2)):t.hsl&&(t.hsl=i)}},this))},execute_ajax:function(e){(e=e||{}).post_id=TVE.CONST.post_id,e.name=this.$global_color_name_input.val();var t=_.findIndex(TVE.CONST.colors.templates,function(t){return t.id==e.id});-1<t&&(TVE.CONST.colors.templates[t].hsl_parent_dependency?e.hsl_parent_dependency=TVE.CONST.colors.templates[t].hsl_parent_dependency:TVE.CONST.colors.templates[t].hsl&&(e.hsl=TVE.CONST.colors.templates[t].hsl)),this.color_view.execute_template_color_ajax(e)}})},"template-gradients.js":function(t,e,i){var n=i("./global-gradients");e.exports=n.extend({after_initialize:function(t){this.enable_remove_color=!1,this.enable_edit_color=!1,this.update_label=TVE.t.global.update_t_gradient,this.edit_label=TVE.t.global.edit_t_gradient,this.unlink_label=TVE.t.global.unlink_t_gradient},execute_ajax:function(t){(t=t||{}).post_id=TVE.CONST.post_id,t.name=this.$global_color_name_input.val(),this.fav_gradient_view.execute_template_gradients_ajax(t)}})},"tinycolor.js":function(t,B,e){!function(){function h(t,e){if(e=e||{},(t=t||"")instanceof h)return t;if(!(this instanceof h))return new h(t,e);var i=function(t){var e={r:0,g:0,b:0},i=1,n=!1,s=!1;"string"==typeof t&&(t=function(t){t=t.replace(a,"").replace(o,"").toLowerCase();var e,i=!1;if(w[t])t=w[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=j.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=j.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=j.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=j.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=j.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=j.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=j.hex8.exec(t))return{a:function(t){return P(t)/255}(e[1]),r:P(e[2]),g:P(e[3]),b:P(e[4]),format:i?"name":"hex8"};if(e=j.hex6.exec(t))return{r:P(e[1]),g:P(e[2]),b:P(e[3]),format:i?"name":"hex"};if(e=j.hex3.exec(t))return{r:P(e[1]+""+e[1]),g:P(e[2]+""+e[2]),b:P(e[3]+""+e[3]),format:i?"name":"hex"};return!1}(t));"object"==_typeof(t)&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=function(t,e,i){return{r:255*S(t,255),g:255*S(e,255),b:255*S(i,255)}}(t.r,t.g,t.b),n=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=L(t.s),t.v=L(t.v),e=function(t,e,i){t=6*S(t,360),e=S(e,100),i=S(i,100);var n=c.floor(t),s=t-n,a=i*(1-e),o=i*(1-s*e),r=i*(1-(1-s)*e),l=n%6;return{r:255*[i,o,a,a,r,i][l],g:255*[r,i,i,o,a,a][l],b:255*[a,a,r,i,i,o][l]}}(t.h,t.s,t.v),n=!0,s="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=L(t.s),t.l=L(t.l),e=function(t,e,i){var n,s,a;function o(t,e,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}if(t=S(t,360),e=S(e,100),i=S(i,100),0===e)n=s=a=i;else{var r=i<.5?i*(1+e):i+e-i*e,l=2*i-r;n=o(l,r,t+1/3),s=o(l,r,t),a=o(l,r,t-1/3)}return{r:255*n,g:255*s,b:255*a}}(t.h,t.s,t.l),n=!0,s="hsl"),t.hasOwnProperty("a")&&(i=t.a));return i=$(i),{ok:n,format:t.format||s,r:d(255,u(e.r,0)),g:d(255,u(e.g,0)),b:d(255,u(e.b,0)),a:i}}(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=r(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=i.ok,this._tc_id=n++}var a=/^[\s,#]+/,o=/\s+$/,n=0,c=Math,r=c.round,d=c.min,u=c.max,t=c.random;function s(t,e,i){t=S(t,255),e=S(e,255),i=S(i,255);var n,s,a=u(t,e,i),o=d(t,e,i),r=(a+o)/2;if(a==o)n=s=0;else{var l=a-o;switch(s=.5<r?l/(2-a-o):l/(a+o),a){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:s,l:r}}function l(t,e,i){t=S(t,255),e=S(e,255),i=S(i,255);var n,s,a=u(t,e,i),o=d(t,e,i),r=a,l=a-o;if(s=0===a?0:l/a,a==o)n=0;else{switch(a){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:s,v:r}}function e(t,e,i,n){var s=[F(r(t).toString(16)),F(r(e).toString(16)),F(r(i).toString(16))];return n&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function p(t,e,i,n){return[F(function(t){return Math.round(255*parseFloat(t)).toString(16)}(n)),F(r(t).toString(16)),F(r(e).toString(16)),F(r(i).toString(16))].join("")}function i(t,e){e=0===e?0:e||10;var i=h(t).toHsl();return i.s-=e/100,i.s=A(i.s),h(i)}function _(t,e){e=0===e?0:e||10;var i=h(t).toHsl();return i.s+=e/100,i.s=A(i.s),h(i)}function f(t){return h(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var i=h(t).toHsl();return i.l+=e/100,i.l=A(i.l),h(i)}function g(t,e){e=0===e?0:e||10;var i=h(t).toRgb();return i.r=u(0,d(255,i.r-r(-e/100*255))),i.g=u(0,d(255,i.g-r(-e/100*255))),i.b=u(0,d(255,i.b-r(-e/100*255))),h(i)}function v(t,e){e=0===e?0:e||10;var i=h(t).toHsl();return i.l-=e/100,i.l=A(i.l),h(i)}function b(t,e){var i=h(t).toHsl(),n=(r(i.h)+e)%360;return i.h=n<0?360+n:n,h(i)}function E(t){var e=h(t).toHsl();return e.h=(e.h+180)%360,h(e)}function T(t){var e=h(t).toHsl(),i=e.h;return[h(t),h({h:(i+120)%360,s:e.s,l:e.l}),h({h:(i+240)%360,s:e.s,l:e.l})]}function y(t){var e=h(t).toHsl(),i=e.h;return[h(t),h({h:(i+90)%360,s:e.s,l:e.l}),h({h:(i+180)%360,s:e.s,l:e.l}),h({h:(i+270)%360,s:e.s,l:e.l})]}function V(t){var e=h(t).toHsl(),i=e.h;return[h(t),h({h:(i+72)%360,s:e.s,l:e.l}),h({h:(i+216)%360,s:e.s,l:e.l})]}function C(t,e,i){e=e||6,i=i||30;var n=h(t).toHsl(),s=360/i,a=[h(t)];for(n.h=(n.h-(s*e>>1)+720)%360;--e;)n.h=(n.h+s)%360,a.push(h(n));return a}function x(t,e){e=e||6;for(var i=h(t).toHsv(),n=i.h,s=i.s,a=i.v,o=[],r=1/e;e--;)o.push(h({h:n,s:s,v:a})),a=(a+r)%1;return o}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=$(t),this._roundA=r(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=r(360*t.h),i=r(100*t.s),n=r(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+n+"%)":"hsva("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=s(this._r,this._g,this._b),e=r(360*t.h),i=r(100*t.s),n=r(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+n+"%)":"hsla("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return e(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return p(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*S(this._r,255))+"%",g:r(100*S(this._g,255))+"%",b:r(100*S(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*S(this._r,255))+"%, "+r(100*S(this._g,255))+"%, "+r(100*S(this._b,255))+"%)":"rgba("+r(100*S(this._r,255))+"%, "+r(100*S(this._g,255))+"%, "+r(100*S(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(k[e(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+p(this._r,this._g,this._b,this._a),i=e,n=this._gradientType?"GradientType = 1, ":"";t&&(i=h(t).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,n=this._a<1&&0<=this._a;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(i,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(f,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(V,arguments)},triad:function(){return this._applyCombination(T,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},h.fromRatio=function(t,e){if("object"==_typeof(t)){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]="a"===n?t[n]:L(t[n]));t=i}return h(t,e)},h.equals=function(t,e){return!(!t||!e)&&h(t).toRgbString()==h(e).toRgbString()},h.random=function(){return h.fromRatio({r:t(),g:t(),b:t()})},h.mix=function(t,e,i){i=0===i?0:i||50;var n,s=h(t).toRgb(),a=h(e).toRgb(),o=i/100,r=2*o-1,l=a.a-s.a,c=1-(n=((n=r*l==-1?r:(r+l)/(1+r*l))+1)/2),d={r:a.r*n+s.r*c,g:a.g*n+s.g*c,b:a.b*n+s.b*c,a:a.a*o+s.a*(1-o)};return h(d)},h.readability=function(t,e){var i=h(t),n=h(e),s=i.toRgb(),a=n.toRgb(),o=i.getBrightness(),r=n.getBrightness(),l=Math.max(s.r,a.r)-Math.min(s.r,a.r)+Math.max(s.g,a.g)-Math.min(s.g,a.g)+Math.max(s.b,a.b)-Math.min(s.b,a.b);return{brightness:Math.abs(o-r),color:l}},h.isReadable=function(t,e){var i=h.readability(t,e);return 125<i.brightness&&500<i.color},h.mostReadable=function(t,e){for(var i=null,n=0,s=!1,a=0;a<e.length;a++){var o=h.readability(t,e[a]),r=125<o.brightness&&500<o.color,l=o.brightness/125*3+o.color/500;(r&&!s||r&&s&&n<l||!r&&!s&&n<l)&&(s=r,n=l,i=h(e[a]))}return i};var w=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},k=h.hexNames=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}(w);function $(t){return t=parseFloat(t),(isNaN(t)||t<0||1<t)&&(t=1),t}function S(t,e){!function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}(t)||(t="100%");var i=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=d(e,u(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),c.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function A(t){return d(1,u(0,t))}function P(t){return parseInt(t,16)}function F(t){return 1==t.length?"0"+t:""+t}function L(t){return t<=1&&(t=100*t+"%"),t}var O,M,I,j=(M="[\\s|\\(]+("+(O="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",I="[\\s|\\(]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",{rgb:new RegExp("rgb"+M),rgba:new RegExp("rgba"+I),hsl:new RegExp("hsl"+M),hsla:new RegExp("hsla"+I),hsv:new RegExp("hsv"+M),hsva:new RegExp("hsva"+I),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});B.exports=h}()},"tooltips.js":function(t,e,i){function n(t){var e="mouseenter"===t.type?"show":"hide";r[e].call(this,c(t.currentTarget))}function l(t){return(t<0?"-":"+")+Math.abs(t)}var c,d,s,a,o,r;c=jQuery,a=c(),o=!1,(r=function(t){(t=c(t||"body")).off("mouseenter.tlt mouseleave.tlt").on("mouseenter.tlt mouseleave.tlt","[data-tooltip],[data-disabled-tooltip]",n)}).enable=function(t){return o=!1,a=t?a.not(t):c(),this},r.disable=function(t){return r.hide(),t?a=a.add(c(t)):o=!0,this},r.hide=function(){clearTimeout(s),d&&d.css("transition","none").removeClass("show will-show").css("transition","")},r.show=function(r){return function(t){return o||a.filter(t).length||t.attr("data-disabled-tooltip")&&!t.hasClass("disabled-"+TVE.main.device)||!t.attr("data-disabled-tooltip")&&!t.attr("data-tooltip")}(r=c(r))||(clearTimeout(s),s=setTimeout(function(){if(r.is(":visible")){var i=r.attr("data-position")||r.attr("data-side")||"bottom",t="center bottom",e="center top",n=r.attr("data-offset")||4,s=r.attr("data-width")||"",a={top:"",left:""};(d=d||c('<div class="tvd-material-tooltip"><span></span><i class="tooltip-arrow"></i></div>').appendTo("body")).find("span").html(r.attr("data-tooltip")||r.attr("data-disabled-tooltip"));var o={maxWidth:"fluid"===s?"800px":s};switch("element"===s&&(o.maxWidth=r.outerWidth()+"px"),d.css(o).removeClass("top bottom left right show will-show").addClass(i),i){case"top":t="center top"+l(-1*n),e="center bottom";break;case"bottom":t="center bottom"+l(n),e="center top";break;case"left":t="left"+l(-1*n)+" center",e="right center";break;case"right":t="right"+l(n)+" center",e="left center"}!function(t,e){d.position(t).find(".tooltip-arrow").css(e).end().addClass("show")}({of:r,my:e,at:t,using:function(t,e){t.left<5&&(t.left=5,a.left=e.target.left-5+e.target.width/2),"bottom"===i&&"bottom"===e.vertical?d.removeClass("bottom").addClass("top"):"top"===i&&"top"===e.vertical&&d.removeClass("top").addClass("bottom"),d.css(t)}},a)}},500)),this},e.exports=r},"undo-manager.js":function(t,e,i){e.exports=function(t,e,i){var n,s=[],a=-1,o=!1,r=void 0!==t?parseInt(t):10;function l(t,e){return t&&(o=!0,TVE.main.trigger("before_undo_redo",{action:e}),t[e](),TVE.main.trigger("after_undo_redo",{action:e}),o=!1),this}return{register:function(t,e,i,n,s,a,o,r){this.add({undo:function(){e.apply(t,i)},redo:function(){a.apply(s,o)}})},add:function(t){return o||(s.splice(a+1,s.length-a),s.length>r-1&&s.splice(0,1),s.push(t),a=s.length-1,n&&n(s),e.removeClass("tve-disabled"),i.addClass("tve-disabled")),this},setCallback:function(t){n=t},undo:function(){var t=s[a];return t&&(a-=1,i.removeClass("tve-disabled"),-1===a&&e.addClass("tve-disabled"),l(t,"undo"),n&&n(s)),this},redo:function(){var t=s[a+1];return t&&(a+=1,e.removeClass("tve-disabled"),a>=s.length-1&&i.addClass("tve-disabled"),l(t,"redo"),n&&n(s)),this},clear:function(){var t=s.length;s=[],a=-1,e.addClass("tve-disabled"),i.addClass("tve-disabled"),TCB_Main.trigger("undoredochange",{undo:"addClass",redo:"addClass"}),n&&0<t&&n(s)},hasUndo:function(){return-1!==a},hasRedo:function(){return a<s.length-1},getCommands:function(){return s},temp:{set:function(t,e){t&&e&&(this._temp_state=e)},get:function(){return!!this._temp_state&&this._temp_state},delete:function(){this._temp_state&&delete this._temp_state}}}}},"user-settings.js":function(t,e,i){e.exports=function(){return _.isEmpty(TVE.CONST.user_settings)&&(TVE.CONST.user_settings={}),{get:function(t){return TVE.CONST.user_settings[t]||null},set:function(t,e){TVE.CONST.user_settings[t]=e,TVE.ajax("user_settings","post",{config:TVE.CONST.user_settings})}}}},"watcher.js":function(t,e,i){function o(t,e,s,a){if(!Object.defineProperty)return t;e instanceof Array||(e=[e]),_.each(e,function(i){var n;t.hasOwnProperty(i)||Object.defineProperty(t,i,{enumerable:!0,get:function(){return n},set:function(t){if(!o.skip_once&&t!==n){var e=n;n=t,s.apply(a||null,[i,t,e])}delete o.skip_once}})})}o.skip_one=function(){return this.skip_once=!0,this},e.exports=o}},models:{"api.js":function(t,e,i){var n;n=jQuery,e.exports=function(t){var s={key:"",name:"",config:{},lists:{},custom_fields:[],state:0,get:function(t){return s[t]},set:function(t,e){s[t]=e},unset:function(t){delete s[t]},getConfig:function(t){return s.config[t]},setConfig:function(t){n.extend(!0,s.config,t)},ready:function(){return"undefined"!==s.state&&1===parseInt(s.state)},logo:function(){return TVE.CONST.dash_url+"/inc/auto-responder/views/images/"+s.key+".png"},addCustomField:function(t){s.customFieldExists(t.id)||s.custom_fields.push(t)},customFieldExists:function(i){var n=!1;return _.each(s.custom_fields,function(t,e){n||t.id!==i||(n=!0)}),n},getApi:function(t,i){n(TVE.main).trigger("tve-api-before-ajax-"+s.key,{api:s}),TVE.ajax("get_api","GET",{extra:s.ajax_extra||{},api:s.key,force:t?1:0}).done(function(t){s.lists=s._normalize(t.lists,["id","name"]);var e=s._normalize(t.custom_fields,["id","placeholder"]);_.each(e,s.addCustomField),s.extra_settings=void 0===t.extra_settings?[]:t.extra_settings,TVE.CONST.connected_apis_custom_fields[s.key]=void 0!==t.api_custom_fields?t.api_custom_fields:[],n(TVE.main).trigger("tve-api-after-get-"+s.key,{api:s,response:t}),"function"==typeof i&&i.call(s)})},setFieldProp:function(t,e,i){if(void 0===s.form_fields[t])return s;s.form_fields[t][e]=i},_normalize:function(t,n){var s=[];return void 0!==t&&_.each(t,function(e){var i={};_.each(n,function(t){void 0!==e[t]&&(i[t]=e[t])}),s.push(i)}),s},validate:function(){var t="",e=1;this.getConfig("list")||-1!==_.indexOf(["zapier"],this.get("key"),!0)||(t="No list selected",e=0),this.set("state",e),this.set("error",t),n(TVE.main).trigger("tve-api-validate-"+this.get("key"),{api:this})}};return _.each(t,function(t,e){s[e]=t}),s}},"base.js":function(t,e,i){var n;n=jQuery,e.exports=Backbone.Model.extend({saveState:function(){return this.__saved_state={},n.extend(!0,this.__saved_state,this.attributes),this},restoreState:function(t){if(!this.__saved_state)return this;this.set(this.__saved_state,{silent:void 0!==t&&t})}})},"cloud-templates.js":function(t,e,i){var c;c=jQuery,e.exports=Backbone.Model.extend({fetch:function(e,t){var i=this;if(!(t=_.extend(t||{},{force_fetch:!1})).force_fetch&&this.has(e)){var n=c.Deferred();return n.resolve({success:!0,templates:this.get(e)}),n}var s=TVE.apply_filters("template_store_fetch_ajax_action",{action:"cloud_content_templates",type:e}),a=TVE.ajax_data(s.action,"get",{type:e});return delete a.error,c.ajax(a).done(function(t){t.success&&(t.templates=TVE.apply_filters("tcb.cloud_templates."+e,t.templates||[],e),i.set(e,t.templates))}).fail(function(t){"menu"===e&&TVE.page_message(TVE.getDetailedErrorMessage(t),"error_save","",!1)})},download:function(t){function e(t){return i.set(a,t),n.resolve({success:!0,data:t}),n}var i=this,n=c.Deferred(),s=this.get("type"),a="template_"+s+t;if(this.get(a))return e(this.get(a));var o=TVE.apply_filters("tcb.cloud_template."+s,!1,t);if(!1!==o)return e(o);var r=TVE.apply_filters("template_store_download_ajax_action",{action:"cloud_content_template_download",type:this.get("type")}),l=TVE.ajax_data(r.action,"get",{id:t,type:this.get("type"),post_id:TVE.CONST.post_id});return delete l.error,c.ajax(l).done(function(t){t.success&&i.set(a,t.data)})}})},"content-blocks.js":function(t,e,i){var l;l=jQuery,e.exports=i("./cloud-templates").extend({get_tpl_cache_key:function(t){return"tpls_from_"+t},fetch:function(t,e){var i=this;e=_.extend(e||{},{force_fetch:!1});var n=this.get_tpl_cache_key(e.pack);if(!e.force_fetch&&this.has(n)){var s=l.Deferred(),a={};return a.packs=this.get("packs"),a.categories=this.get("categories"),a.tpls=this.get(n),setTimeout(function(){s.resolve({success:!0,templates:a})}),s}var o=TVE.ajax_data("cloud_content_templates","get",{type:t,pack:e.pack,post_id:TVE.CONST.post_id});return delete o.error,l.ajax(o).done(function(t){t.success&&(t.templates=t.templates||[],i.set("packs",t.templates.packs),i.set("categories",t.templates.categories),i.set(i.get_tpl_cache_key(t.templates.from_pack),t.templates.tpls))})},toggle_favorites:function(t,e,i){var n,s=this,a=this.get_tpl_cache_key(t),o=this.get(a),r=_.findIndex(o,{id:parseInt(e)});return o[r].fav=i,delete(n=TVE.ajax_data("cb_favorite_tpl","POST",{pack:t,template:e,status:i})).error,l.ajax(n).done(function(t){t.success&&s.set(a,o)})}})},"ct-symbols-abstract.js":function(t,e,i){jQuery,e.exports=i("../views/base").base_view_model.extend({delete:function(t,e){return TVE.ajax(t,"post",{key:e}).success(function(t){TVE.page_message(TVE.t.ct_symbol_deleted,!1)}).error(function(t){TVE.page_message(TVE.t.ct_symbol_error,!0)})},update:function(t,e,i){return TVE.ajax(t,"post",{elementId:e,newName:i}).success(function(t){TVE.page_message(TVE.t.ct_symbol_name_changed,!1)}).error(function(t){TVE.page_message(TVE.t.ct_symbol_error,!0)})}})},"extended-api":{"email.js":function(t,e,i){var n,s,l,a,c,d,h,o,r=i("./../../views/base"),u=i("./../../views/controls/tooltip-base");n=jQuery,s=Backbone.Model.extend({logo:function(){var t="campaignmonitoremail"===this.get("id")?"campaignmonitor":this.get("id");return TVE.CONST.dash_url+"/inc/auto-responder/views/images/"+t+".png"}}),l=Backbone.Collection.extend({model:s}),a=[{id:"to",label:"To",value:"",placeholder:"someone@example.com",input_type:"text",section_type:"settings",classes:"input tve-no-enter",required:!0},{id:"from_name",label:"From Name",value:TVE.CONST.current_user.name.trim().length?TVE.CONST.current_user.name:"",placeholder:"Tom",input_type:"text",section_type:"settings",classes:"input tve-no-enter",required:!0},{id:"from_email",label:"From Email",value:TVE.CONST.current_user.email,placeholder:"Tom@mydemoblog.net",input_type:"text",section_type:"settings",classes:"input tve-no-enter"},{id:"reply_to",label:"Reply To",value:"",placeholder:"Tom@mydemoblog.net",input_type:"text",section_type:"advanced-settings",classes:"input tve-no-enter"},{id:"cc",label:"CC",value:"",input_type:"text",section_type:"advanced-settings",classes:"input tve-no-enter"},{id:"bcc",label:"BCC",value:"",placeholder:"",input_type:"text",section_type:"advanced-settings",classes:"input tve-no-enter"},{id:"email_subject",label:"Email Subject",value:"Someone filled out your form",placeholder:"",input_type:"text",section_type:"message-settings",classes:"input blur tve-no-enter"},{id:"email_message",label:"Message",value:"[ form_fields ]",input_type:"textarea",section_type:"message-settings",classes:"input blur tve-no-enter",tooltip:TVE.t.lg_tooltip},{id:"include_date",label:"Date",value:0,input_type:"checkbox",section_type:"include-settings",classes:"change"},{id:"include_time",label:"Time",value:0,input_type:"checkbox",section_type:"include-settings",classes:"change"},{id:"include_page_url",label:"Page Url",value:0,input_type:"checkbox",section_type:"include-settings",classes:"change"},{id:"include_ip",label:"Ip Address",value:0,input_type:"checkbox",section_type:"include-settings",classes:"change"},{id:"include_device_settings",label:"Device Settings",value:0,input_type:"checkbox",section_type:"include-settings",classes:"change"}],c=Backbone.Model.extend({defaults:function(){return{list:"own_site"}},getFieldsToValidate:function(){var t=["to","from_email","from_name"];return this.get("reply_to").length&&t.push("reply_to"),this.get("cc").length&&t.push("cc"),this.get("bcc").length&&t.push("bcc"),t},isEmailField:function(e){return["to","from_email","cc","bcc","reply_to"].some(function(t){return t===e})},isFieldValid:function(i){var n=this,s=!0;return this.isEmailField(i)&&_.each(this.get(i).trim().split(","),function(t,e){!0===s&&(0!==e||t.length||(s=!1),("reply_to"===i||"from_email"===i)&&0<e&&t.length&&(s=!1),t.length&&!n.isEmail(t.trim())&&(s=!1))}),"from_name"!==i||this.get(i).length||(s=!1),s},getErrMsg:function(t){var e=TVE.t.lg_err.invalid_email;return"from_name"===t&&(e=TVE.t.lg_err.missing_from_name),1<this.get(t).trim().split(",").length&&("reply_to"===t&&(e=TVE.t.lg_err.single_reply_to),"from_email"===t&&(e=TVE.t.lg_err.single_from_email)),e},validate:function(){var e=this,i=[];if(_.each(this.getFieldsToValidate(),function(t){e.isFieldValid(t)||i.push(_defineProperty({},t,e.getErrMsg(t)))}),i.length)return i},isEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())}}),d=r.base_view.extend({render:function(){this.collection.each(function(t){var e=n('<option  value="'.concat(t.get("id"),'" data-image="').concat(t.logo(),'" >').concat(t.get("name"),"</option>"));!0===t.get("selected")&&e.prop("selected",!0),this.$("#lg-email-service").append(e)},this);function e(t){return t.element&&t.element.dataset.image?n('<span><img src="'+t.element.dataset.image+'"><span>'+t.text+"</span></span>"):t.text}return this.$("#lg-email-service").select2({placeholder:TVE.t.apiChoose,theme:"tve-lg-api",templateResult:function(t){return e(t)},templateSelection:function(t){return e(t)}}),this},selectEmailProvider:function(t,e){var i=t.currentTarget.value;this.collection.each(function(t){t.attributes.selected=t.get("id")===i}),this.trigger("tcb.emailProviderChanged")}}),h=r.base_view.extend({template:TVE.tpl("lead-generation/apis/email-extra/settings"),events:function(){return _.extend(r.base_view.prototype.events,{"click .tve-toggle":function(){this.$(".tve-advanced-settings-email").toggleClass("tcb-hide"),this.$(".advanced-settings").toggleClass("open")}})},render:function(){var e=this;return this.$el.html(this.template()),_.each(a,function(t){new o({inputData:t,model:e.model,extraSettings:e.extraSettings,el:e.$(".tve-"+t.section_type+"-email")})}),this},before_initialize:function(t){this.extraSettings=t.extraSettings},after_initialize:function(){var n=this;TVE.add_filter("tcb.droppanel.enter.pressed",function(t,e){return e.hasClass("tve-no-enter")&&(t=!1),t}),this.model.on("tcb.showEmailErrMsg",function(){n.$(".email-err-box").addClass("tcb-hide"),n.$(".email-err-box p").empty();var i=["reply_to","cc","bcc"];_.each(n.model.validationError,function(t){var e=Object.keys(t)[0];n.$('[data-elem-msg="'+e+'"]').html(t[e]),n.$('[data-elem-msg="'+e+'"]').closest(".email-err-box").removeClass("tcb-hide"),i.includes(e)&&n.$(".tve-advanced-settings-email").removeClass("tcb-hide")})})}}),o=r.base_view.extend({before_initialize:function(t){this.inputData=t.inputData,this.extraSettings=t.extraSettings,void 0===this.model.get(t.inputData.id)&&this.model.set(t.inputData.id,t.inputData.value);var e=this.extraSettings[this.model.get("list")];e&&e.from_email&&e.from_email.length&&(this.model.set("from_email",e.from_email),this.model.set("disable_from_email","own_site"!==this.model.get("list")))},template:function(t){return TVE.tpl("lead-generation/apis/email-extra/"+this.inputData.input_type)(t)},render:function(){var t=this.model.get(this.inputData.id);return this.$el.append(this.template({value:t,inputData:this.inputData})),this.renderTooltip(),!0===this.model.get("disable_from_email")&&this.$('[data-elem-attr="from_email"]').addClass("tve-disabled").prop("disabled",!0),this},renderTooltip:function(){this.inputData.tooltip&&new u({tooltipElem:this.$(".tcb-message-tooltip"),tooltipPosition:"top",no_buttons:!0,closeOnLeave:!0,no_callback:!0,options:{hover_delay:50,leave_delay:1e3,"z-index":99},template:TVE.tpl("controls/lead-generation/message-tooltip")})},onFocusout:function(t,e){this.$(".email-err-box p").empty(),this.$(".email-err-box").addClass("tcb-hide");var i=null,n=null;"email_subject"!==e.getAttribute("data-elem-attr")||this.model.get("email_subject").length||(i=this.$('[data-elem-msg="email_subject"]').closest(".email-err-box"),n=TVE.t.lg_err.empty_subject),"email_message"!==e.getAttribute("data-elem-attr")||this.model.get("email_message").length||(i=this.$('[data-elem-msg="email_message"]').closest(".email-err-box"),n=TVE.t.lg_err.empty_message),i&&(i.find(".email-err").html(n).removeClass("tcb-hide"),i.removeClass("tcb-hide"))},setVal:function(t,e){var i=e.getAttribute("data-elem-attr"),n=e.value;"checkbox"===e.type&&(n=!0===e.checked?1:0),this.model.set(i,n)}}),e.exports=function(t,e){n(TVE.main).on("tve-api-after-render-email",function(t,e){var i=new l(e.api.lists),n=i.findWhere({id:e.api.config.list}),s="undefined"!==e.api.extra_settings?e.api.extra_settings:[];r.clear().set(_.extend(r.defaults(),e.api.config)),n?n.set("selected",!0):i.findWhere({id:"own_site"}).set("selected",!0),r.set("list",i.findWhere({selected:!0}).get("id")),o=new d({collection:i,el:e.$container.find(".tve-providers-select")}).on("tcb.emailProviderChanged",function(){r.clear().set(r.defaults()),r.attributes.list=this.collection.findWhere({selected:!0}).get("id"),a.render()}),a=new h({el:e.$container.find(".tve-email-settings"),model:r,extraSettings:s})}).on("tve-api-options-email.tcb",function(t,e){e.api.setConfig(r.toJSON())}).on("lg-api-list-close",function(t,e){o.$("#lg-email-service").select2("close"),o.$("#lg-email-service").remove()}).on("tve-api-validate-email",function(t,e){r.isValid()||(e.api.set("state",0),e.api.set("error",TVE.t.lg_err.invalid_data),r.trigger("tcb.showEmailErrMsg"))});var a,o,r=new c}}},"extended_apis.js":function(t,e,i){var r;r=jQuery,e.exports={drip:function(i){void 0===i&&(i=r(".connection-setup:last")),r(TVE.main).on("tve-api-options-drip.tcb",function(t,e){var i=TVE.get_inputs_value(e.$container,".tve-api-extra",":not(.tve_disabled, .drip-custom-field)");e.api.set("config",{}),"automation"===i.type&&(i.list=1),e.api.setConfig(TVE.get_inputs_value(e.$container,"#drip_tags")),e.api.setConfig(i)}),r(TVE.main).on("tve-api-after-get-drip.tcb",function(t,e){var n={};_.each(e.api.get("config"),function(t,e){var i=/field\[(\w*)\]/.exec(e);i&&1<i.length&&(n[i[1]]=t)}),e.api.set("custom_properties",n)}),r(TVE.main).on("tve-api-after-render-drip.tcb",function(t,e){e.$container.find(".drip-connection-type").trigger("change")}),r(TVE.main).on("tve-api-validate-drip.tcb",function(t,e){var i=1,n="";if("automation"===e.api.getConfig("type")){var s=e.api.get("config");_.each(s,function(t,e){0===e.indexOf("field")?0===t.trim().length&&(i=0,n="Please fill all custom fields values!"):"field[thrive_custom_field]"===t&&(i=0,n="Empty custom field name!")})}else{var a=/^([a-zA-Z0-9_]+)$/g,o=[];e.api.getConfig("first_name_field").match(a)||(n="First Name field can only contain letters, numbers and underscores",i=0,o.push('input[name="first_name_field"]')),e.api.getConfig("last_name_field").match(a)||(n=(n?"First Name field and ":"")+"Last Name field can only contain letters, numbers and underscores",i=0,o.push('input[name="last_name_field"]')),i||e.api.set("error-field",o.join(","))}e.api.set("state",i),e.api.set("error",n)}),r(document).on("change",".drip-connection-type",function(){i.find(".tve-api-option-group").hide().find(".tve-api-extra").removeClass("tve-api-extra"),i.find(".tve-api-option-group-"+this.value).show().find("input, select").addClass("tve-api-extra")}),r(document).on("change",".index-custom-field",function(t){var e=r(t.currentTarget),i=t.currentTarget.value,n=e.closest(".tve-field-pair");if(!/^[A-Za-z0-9-_]+$/.test(i))return e.val(n.find(".drip-custom-field-value").attr("name").replace("field[","").replace("]","")),void alert("No spaces, commas, dots, or special characters are allowed");n.find(".drip-custom-field-value").attr("name","field["+i+"]")}),r(document).on("mousedown",".tve-add-new-field",function(t){if(0===t.button){var e=i.find(".tve-field-pair").last().clone();e.find("input").val(""),e.find(".tve-remove-action").show(),e.appendTo(i.find(".tve-custom-fields-container"))}}),r(document).on("mousedown",".tve-remove-added-field",function(t){0===t.button&&r(t.currentTarget).closest(".tve-field-pair").remove()})},activecampaign:function(a,o){r(TVE.main).on("tve-api-options-activecampaign.tcb",function(t,e){e.api.setConfig(TVE.get_inputs_value(e.$container,".tve-api-extra"))}),r(TVE.main).on("tve-api-after-render-activecampaign.tcb",function(t,e){e.$container.find(".tve-active-campaign-list").trigger("change")}),r(document).on("change",".tve-active-campaign-list",function(){var e=a.find(".activecampaign-list-form").empty(),t=this.value,i=o.get("extra_settings").forms,n=a.find(".ac-error"),s=o.getConfig("form")||"";i&&i[t]?(_.each(i[t],function(t){e.append(r("<option>",{value:t.id,text:t.name}))}),e.val(s),n.hide()):(e.hide(),n.show())})},aweber:function(){r(TVE.main).on("tve-api-options-aweber.tcb",function(t,e){e.api.setConfig(TVE.get_inputs_value(e.$container,".tve-api-extra"))})},"get-response":function(){r(TVE.main).on("tve-api-options-get-response.tcb",function(t,e){e.api.setConfig(TVE.get_inputs_value(e.$container,".tve-api-extra"))}),r(document).on("change","#get-response-cycleday",function(t){var e=t.currentTarget,i=parseInt(e.getAttribute("max"));(isNaN(e.value)||e.value<0||e.value>i)&&(alert("Invalid cycle day"),e.value=0)})},klicktipp:function(){r(TVE.main).on("tve-api-options-klicktipp.tcb",function(t,e){e.api.setConfig(TVE.get_inputs_value(e.$container,".tve-api-extra"))})},mailchimp:function(t,a){r(TVE.main).on("tve-api-options-mailchimp.tcb",function(t,e){e.api.setConfig(TVE.get_inputs_value(e.$container,".tve-api-extra"))}),r(TVE.main).on("tve-api-before-ajax-mailchimp.tcb",function(t,e){e.api.set("ajax_extra",{list_id:e.api.getConfig("list")||0})}),r(TVE.main).on("tve-api-after-render-mailchimp.tcb",function(t,e){var i=e.$container.find("#thrive-api-groupin-select").empty(),n=e.$container.find(".tve-groups-wrapper").empty(),s=a.get("groupin");i.append(TVE.tpl("util/option",{value:0,selected:"0"===s,text:"No Group"})),_.each(a.get("groups"),function(t){i.append(TVE.tpl("util/option",{value:t.id,selected:s===t.id,text:t.title})),t.id===s&&n.html(TVE.tpl("lead-generation/apis/extra/mailchimp-group",{item:t,selected_groups:a.get("selected_groups")}))})}),r(TVE.main).on("tve-api-after-get-mailchimp.tcb",function(t,e){var i=e.api.getConfig("groupin"),n=e.api.getConfig("group"),s=e.api.getConfig("tags"),a=e.api.get("extra_settings").groups;a=void 0===a?[]:a,i=void 0===i?0:i,n=void 0===n?[]:n.split(","),e.api.set("selected_groups",n),e.api.set("groupin",i),e.api.set("groups",a),e.api.set("tags",s)}),r(document).on("change","#thrive-api-groupin-select",function(){var e=r(".tve-groups-wrapper").empty(),i=this.value;_.each(a.get("groups"),function(t){t.id===i&&e.html(TVE.tpl("lead-generation/apis/extra/mailchimp-group",{item:t,selected_groups:[]}))})}),r(document).on("change",".mailchimp-api-list",function(){var t=this.value,i=r(".connection-setup");r(".tve-groups-wrapper").empty(),i.addClass("loading"),TVE.ajax("get_api_extra","GET",{api:a.get("key"),extra:"_getGroups",params:{list_id:t}}).done(function(t){var e=i.find("#thrive-api-groupin-select").empty();TVE.CONST.connected_apis_custom_fields.mailchimp=void 0!==t.api_custom_fields?t.api_custom_fields:[],t.extra=t.extra||[],a.set("groups",t.extra),t.extra&&t.extra.length&&(e.append(TVE.tpl("util/option",{value:0,selected:!0,text:"No Group"})),_.each(t.extra,function(t){e.append(TVE.tpl("util/option",{value:t.id,selected:!1,text:t.title}))})),i.removeClass("loading")})})},custom_html:function(i){return-1===i.code.indexOf("mailchimp")&&-1===i.code.indexOf("mc_embed_signup")&&-1===i.code.indexOf("mc-embedded-subscribe")||_.each(i.text,function(t,e){30<t.name.length&&(t.type="hidden",i.hidden.push(t),i.text.splice(e,1))}),i},sendlane:function(t,e){r(TVE.main).on("tve-api-options-sendlane.tcb",function(t,e){e.api.setConfig(TVE.get_inputs_value(e.$container,".tve-api-extra"))})},zoom:function(t,n){r(document).on("change","#thrive-api-zoom-users-select",function(){var t=this.value,i=r(".tve-zoom-api-wrapper");i.addClass("loading"),TVE.ajax("get_api_extra","GET",{api:n.get("key"),extra:"get_extra_settings",params:{user_id:t}}).done(function(t){var e=i.find(".api-list.change").empty();t.extra=t.extra||[],0==t.extra.length&&(r("#tve-zoom-webinar-select").prop("disabled",!0),e.append(TVE.tpl("util/option",{value:0,selected:!1,text:"No webinars for this user."}))),n.set("webinar",t.extra),t.extra&&t.extra.length&&(r("#tve-zoom-webinar-select").prop("disabled",!1),_.each(t.extra,function(t){e.append(TVE.tpl("util/option",{value:t.id,selected:!1,text:t.name}))})),i.removeClass("loading")})}),r(TVE.main).on("tve-api-options-zoom.tcb",function(t,e){var i={};i.webinar=r(".tve-zoom-webinar-select").val(),e.api.setConfig(i)})},everwebinar:function(t,n){r(TVE.main).on("tve-api-before-ajax-everwebinar.tcb",function(t,e){e.api.set("ajax_extra",{webinar_id:e.api.getConfig("list")||0})}),r(document).on("change","#tve-everwebinar-webinar-select",function(){var t=this.value,i=r(".tve-everwebinar-api-wrapper");i.addClass("loading"),TVE.ajax("get_api_extra","GET",{api:n.get("key"),extra:"get_extra_settings",params:{webinar_id:t}}).done(function(t){var e=i.find("#thrive-api-everwebinar-schedules-select").empty();t.extra=t.extra||[],0==t.extra.length&&e.append(TVE.tpl("util/option",{value:0,selected:!1,text:"No event date set for this webinar"})),n.set("schedule",t.extra),t.extra&&_.each(t.extra.schedules,function(t){e.append(TVE.tpl("util/option",{value:t.schedule_id,selected:!1,text:t.date}))}),i.removeClass("loading")})}),r(TVE.main).on("tve-api-options-everwebinar.tcb",function(t,e){var i={};i.webinar=r("#tve-everwebinar-webinar-select").val(),i.schedule=r("#thrive-api-everwebinar-schedules-select").val(),e.api.setConfig(i)})},convertkit:function(t,e){r(TVE.main).on("tve-api-options-convertkit.tcb",function(t,e){e.api.setConfig(TVE.get_inputs_value(e.$container,".tve-api-extra"))})},ontraport:function(t,n){var s=n.getConfig("list")?n.getConfig("list"):null;void 0===n.getConfig("ontraport_type")&&n.setConfig({ontraport_type:"sequences"}),r(document).on("mousedown",".tve-ontraport-type",function(t){n.setConfig({ontraport_type:t.currentTarget.dataset.type}),r(".tve-ontraport-type").removeClass("active"),r(".tvd-ontraport-"+t.currentTarget.dataset.type).addClass("active"),r(".tve-ontraport").hide(),r("#thrive-api-ontraport-"+t.currentTarget.dataset.type).show(),r("#thrive-api-ontraport-"+t.currentTarget.dataset.type+"-select").trigger("change")}),r(document).on("change",".tvd-ontraport-change",function(){s=this.value,n.setConfig({list:this.value}),n.set({list:this.value})}),r(TVE.main).on("tve-api-after-render-ontraport.tcb",function(t,e){r("[data-type="+n.getConfig("ontraport_type")+"]").addClass("active"),r("#thrive-api-ontraport-"+n.getConfig("ontraport_type")).show()}),r(TVE.main).on("tve-api-options-ontraport.tcb",function(t,e){var i={};i.list=s,i.ontraport_type=n.getConfig("ontraport_type"),e.api.setConfig(i),e.api.set({list:s})})},mailster:function(t,e){r(TVE.main).on("tve-api-options-mailster.tcb",function(t,e){e.api.setConfig(TVE.get_inputs_value(e.$container,".tve-api-extra"))})},zapier:function(t,i){var e={thriveleads_group_id:"",thriveleads_type:"",thriveleads_name:"",list:"1"};"undefined"!=typeof tve_leads_page_data&&(e={thriveleads_group_id:tve_leads_page_data.group_id?tve_leads_page_data.group_id:"",thriveleads_type:tve_leads_page_data.form_type?tve_leads_page_data.form_type:"",thriveleads_name:tve_leads_page_data.states&&tve_leads_page_data.states[0]&&tve_leads_page_data.states[0].post_title?tve_leads_page_data.states[0].post_title:"",list:"1"}),i.setConfig(e),r(document).on("change","#zapier_send_ip",function(t){var e={};e.send_ip=document.getElementById("zapier_send_ip").checked?1:0,i.setConfig(e)}),r(TVE.main).on("tve-api-options-zapier.tcb",function(t,e){e.api.setConfig(TVE.get_inputs_value(e.$container,".tve-api-extra"))})},email:i("./extended-api/email")}},"html-parser.js":function(t,e,i){function n(t){this.setCode(t),this._orignial_code=t,this._inputs={},this.valid=!0}var s;s=jQuery,n.prototype.validate=function(){this.valid=this._inputs.text&&this._inputs.text.length||this._inputs.select&&this._inputs.select.length||this._inputs.textarea&&this._inputs.textarea.length||this._inputs.radio_checkbox&&Object.keys(this._inputs.radio_checkbox).length},n.prototype.isValid=function(){return this.valid},n.prototype.setCode=function(t){t instanceof s||(t=s(t)),this.$code=t},n.prototype.parse=function(t){return void 0===t&&(t=this._orignial_code),this.setCode(t),this.removeExtra(),this._inputs={hidden:this.getInputs("hidden"),radio_checkbox:this.getCheckboxRadio(),text:this.getInputs(),select:this.getSelect(),textarea:this.getTextarea(),submit:this.getSubmit(),form:this.getForm()},this.validate(),this._inputs},n.prototype.removeExtra=function(t){return(void 0===t||!t instanceof Array)&&(t=["style","script","link"]),t.push("input:image"),this.$code.find(t.join(",")).remove(),this.$code},n.prototype.getSubmit=function(){var t=TVE.t.SignUp,e=this.$code.find("input:submit"),i=this.$code.find("button");return e.length?(t=e.val(),e.remove()):i.length&&(t=i.text(),i.remove()),t},n.prototype.getInputs=function(s){void 0===s&&(s=[]),"string"==typeof s&&(s=[s]);var a=[];return _.each(this.$code.find("input:not(:submit)"),function(t){if(!(0<s.length&&-1===s.indexOf(t.type))){var e={name:t.name,id:t.id,type:t.type,placeholder:t.placeholder,value:t.value},i=this.$code.find('label[for="'+t.id+'"]');if(t.required&&(e.required=t.required),-1!==t.outerHTML.toLowerCase().indexOf("email")&&(e["data-required"]=1,e["data-validation"]="email"),i.length&&(e.label=i.text()),!e.placeholder){var n=/\[(.*?)\]/g.exec(e.name||"");n&&n[1]?e.placeholder=n[1]:e.placeholder=e.name}a.push(e),t.parentNode.removeChild(t)}},this),a},n.prototype.getCheckboxRadio=function(){var s={};return _.each(this.$code.find("input:checkbox, input:radio"),function(t){var e=Math.floor(Math.random()*Math.floor(9999)),i={name:t.name,id:t.id?t.id:e,type:t.type,placeholder:t.placeholder,value:t.value},n=this.$code.find('label[for="'+i.id+'"]');n.length&&(i.label=n.text()),void 0!==i.label&&"radio"!==t.type||(i.label=i.value),void 0===s[t.name]&&(s[t.name]=[]),s[t.name].push(i),t.parentNode.removeChild(t)},this),s},n.prototype.getSelect=function(){var n=[];return _.each(this.$code.find("select"),function(t){var e={name:t.name,id:t.id,options:[]},i=this.$code.find('label[for="'+t.id+'"]');i.length&&(e.label=i.text()),s(t).find("option").each(function(){e.options.push({value:this.value,text:this.text})}),n.push(e),t.parentNode.removeChild(t)},this),n},n.prototype.getTextarea=function(){var i=[];return _.each(this.$code.find("textarea"),function(t){var e={name:t.name,id:t.id,placeholder:t.placeholder,text:t.value};i.push(e),t.parentNode.removeChild(t)},this),i},n.prototype.getForm=function(){var i={},t=this.$code.find("form");return t.length?(i.action=t.attr("action"),i.method=t.attr("method"),i.id=t.attr("id")):this.$code.each(function(t,e){"FORM"===e.tagName&&(i.action=e.action,i.method=e.method,i.id=e.id)}),i},e.exports=n},"lead-generation.js":function(t,e,i){var o,n,s,a;o=jQuery,a=".tve_lg_input_container:not(.tcb-lg-consent)>input",n=i("../models/base").extend({defaults:function(){return{consent:{enabled:!1,required:!0,always_send:[]}}},initialize:function(t){o.extend(!0,this,t||{}),this._callbacks={read:{},write:{}}},doCallbacks:function(t,e){void 0!==this._callbacks[t][e]&&_.each(this._callbacks[t][e],function(t){"function"==typeof t.f&&t.f.call(t.c,this)},this)},registerCallback:function(t,e,i,n){void 0===this._callbacks[t][e]&&(this._callbacks[t][e]=[]),this._callbacks[t][e].push({f:i,c:n||this})},removeCallbacks:function(i,n,s){void 0!==this._callbacks[i][n]&&(void 0===s&&delete this._callbacks[i][n],_.each(this._callbacks[i][n],function(t,e){this._callbacks[i][n][e].f===s&&delete this._callbacks[i][n][e]},this))},check_required_consent:function(){var t=this.get("consent");if(t.enabled){var i=Object.keys(this.get("apis")),n=this.get("asset_delivery");t.always_send=t.always_send.map(function(t,e){return"asset"===t?!(!n||!n._asset_option)&&t:-1!==i.indexOf(t)&&t}).filter(function(t){return t}),t.required=0===t.always_send.length}else t.required=!1;return t.required}}),s=Backbone.View.extend({code_separator:"__CONFIG_lead_generation_code__",cache_wrappers:{},initialize:function(t){o.extend(!0,this,t||{}),this.undelegateEvents(),this.read(),this.listenTo(this.model,"change",this.change),this.$("form").attr("novalidate","novalidate")},change:function(t){void 0!==t.changed.write&&(this.model.doCallbacks("write",t.changed.write),this.write(t.changed.write),this.model.unset("write",{silent:!0})),void 0!==t.changed.read&&(this.model.doCallbacks("read",t.changed.read),this.read(t.changed.read),this.model.unset("read"))},read:function(t){if(void 0!==t&&void 0!==this._read[t])return this._read[t].call(this);_.each(this._read,function(t){t.call(this)},this)},_read:{form_type:function(){this.model.set("form_type",this.$('input[name="_form_type"]').val())},submit_option:function(){this.model.set("submit_option",this.$("#_submit_option").val()||"reload",{silent:!0}),this.model.set("back_url",this.$("#_back_url").val()||""),this.model.set("autofill",this.$("#_autofill").val()||"")},display_custom_error_message:function(){this.model.set("display_custom_error_message","1"===this.$("#_error_message_option").val())},custom_messages:function(){var e=this.$el.find("#__tcb_lg_msg").val();if(void 0===e||"undefined"===e)e={error:TVE.t.error+"!",success:TVE.t.success+"!"};else try{e=TVE.Base64.decode(e),e=TVE.unserialize(e)}catch(t){e="",console.info(t)}return this.model.set("custom_messages",e),this},type:function(){return this.model.set("type",this.$el.attr("data-connection")),this},error_messages:function(){var t=this.$el.find(".tve-lg-err-msg");if(t.length)try{this.model.set("error_messages",JSON.parse(t.val()))}catch(t){console.log(t),this.model.set("error_messages",{})}return this},captcha:function(){var t={};return this.$el.find("input[name*='captcha']").each(function(){t[this.getAttribute("name")]=this.value}),this.model.set("captcha",o.extend({_use_captcha:"0",_captcha_theme:"light",_captcha_type:"image",_captcha_size:"normal"},t)),t},apis:function(){var t=this.$("#__tcb_lg_fc"),s={};if(t.length)try{var i=TVE.unserialize(TVE.Base64.decode(t.val()));_.each(i,function(t,e){s[e]="email"===e?i[e]:{list:t}})}catch(t){console.log(t)}return this.$(".tve-api-extra").filter(":not(.tve_disabled)").each(function(){var t=jQuery(this),e=t.attr("name").split("_"),i=e.shift(),n=e.join("_");void 0!==s[i]&&(t.is("input:radio, input:checkbox")?t.is(":radio")&&t.is(":checked")?s[i][n]=this.value:t.is(":checkbox")&&t.is(":checked")&&(s[i][n]=s[i][n]?s[i][n]+","+this.value:this.value):s[i][n]=this.value)}),this.model.set("apis",s),s},form_fields:function(){var t={};return"api"===this.model.get("type")&&this.$(a).each(function(){t[this.name]={id:this.name,placeholder:this.getAttribute("placeholder")||"",required:1===parseInt(this.dataset.required)}}),this.model.set("form_fields",t),t},custom_html_code:function(){var t=this.$(".thrv_lead_generation_code"),e="";return t.length&&(e=t.text().replace(new RegExp(this.code_separator,"g"),"")),this.model.set("custom_html_code",e),e},consent:function(){var t=this.$(".tcb-lg-consent"),e=this.model.get("consent");if(e.enabled=t.length&&t.is(":visible"),e.enabled){var i=!1;try{i=TVE.Base64.decode(t.find(".consent-config").val()),i=TVE.unserialize(i)}catch(t){i=!1}e.always_send=i&&i.always_send||[],e.required=!!t.find('[type="checkbox"]').data("required")}this.model.set("consent",e)}},write:function(t,i){if(void 0!==t&&void 0!==this._write[t])return this.model.trigger("write."+t,i),this._write[t].call(this,i);_.each(this._write,function(t,e){t.call(this,i)},this)},renderCaptcha:function(t){var e=Math.floor(1e3*Math.random()+1),i=this.model.get("captcha");return'<div class="tve-captcha-container tve-captcha-'+(i=o.extend({_captcha_theme:"light",_captcha_type:"image",_captcha_size:"normal"},i))._captcha_theme+" tve-captcha-"+i._captcha_size+'" id="tve_captcha-'+e+'" data-site-key="'+t+'" data-theme="'+i._captcha_theme+'" data-type="'+i._captcha_type+'" data-size="'+i._captcha_size+'"></div>'},_write:{reset:function(){var t=o(TVE.main.$('#tve-static-elements [data-elem="lead_generation"] .tve_lead_generated_inputs_container').html());this.$el.html(t)},type:function(){this.$el.attr("data-connection",this.model.get("type"))},display_custom_error_message:function(){var t=this.model.get("display_custom_error_message")?1:0;if(0<this.$("#_error_message_option").length)return this.$("#_error_message_option").val(t),this;var e=TVE.Components.lead_generation.generateHiddenInput({name:"_error_message_option",value:t});return TVE.Components.lead_generation.getWrapper("form").append(e),this},error_messages:function(){var t=JSON.stringify(this.model.get("error_messages"));return t&&this.$el.find(".tve-lg-err-msg").val(t),this},captcha:function(){var s=this,t=this.model.get("captcha");return this.$(".tve-captcha-container").remove(),1===parseInt(t._use_captcha)?(TVE.Components.lead_generation.getWrapper(".tve_lead_generated_inputs_container").append(this.renderCaptcha(this.model.get("captcha").site_key)),o.each(t,function(t,e){if("site_key"!==t){var i=s.$("#"+t);if(0<i.length)i.val(e);else{var n=TVE.Components.lead_generation.generateHiddenInput({name:t,value:e});TVE.Components.lead_generation.getWrapper("form").append(n)}}})):this.$("input[name*='captcha']").remove(),this},apis:function(){var t=this.$("#__tcb_lg_fc"),n=TVE.Components.lead_generation.getWrapper("form"),i=this.model.get("apis"),s={};0===t.length&&(t=o("<input>",{type:"hidden",name:"__tcb_lg_fc",id:"__tcb_lg_fc"})),_.each(i,function(t,e){s[e]="email"===e?JSON.parse(JSON.stringify(t)):t.list,delete i[e].list}),n.append(t);try{var e=TVE.Base64.encode(TVE.serialize(s));t.val(e)}catch(t){console.log(t)}this.$(".tve-api-extra").remove(),_.each(i,function(t,i){"email"!==i&&_.each(t,function(t,e){n.append(o("<input>",{type:"hidden",id:i+"_"+e,class:"tve-api-extra",name:i+"_"+e,value:t}))})})},custom_fields:function(){function s(t){return-1===t.indexOf("password")?"email"===t?"email":"text":"password"}"api"!==this.model.get("type")&&this.write("reset");var e=this.model.get("custom_fields"),a=TVE.Components.lead_generation.getWrapper(".tve_lead_generated_inputs_container"),o=a.find(".tve_submit_container");void 0!==e&&0!==e.length&&(a.find(".tve_lg_input input").each(function(){var t=e[this.name];void 0!==t&&(t.placeholder=0===t.placeholder.trim().length?t.id:t.placeholder,this.setAttribute("type",s(t.id)),this.setAttribute("name",t.id),this.setAttribute("placeholder",t.placeholder),this.setAttribute("data-field",t.id),this.setAttribute("data-required",t.required?1:0),this.setAttribute("data-validation","email"===t.id||"phone"===t.id?t.id:""),this.setAttribute("data-placeholder",t.placeholder),this.classList.add("input-rendered"),t.rendered=!0)}),_.each(e,function(t){if(!t.rendered){var e=s(t.id),i=a.find('.tve_lg_input input[type="'+e+'"]:not(.input-rendered)').first(),n={type:e,name:t.id,placeholder:t.placeholder,"data-field":t.id,"data-required":t.required?1:0,"data-validation":"email"===t.id?"email":"","data-placeholder":t.placeholder};0===i.length&&(i=a.find(".tve_lg_input").first().clone().insertBefore(o).find("input")),i.addClass("input-rendered"),"password"===e&&i.parent().append(TVE.tpl("lead-generation/apis/extra/password-strength")()),i.attr(n)}}),a.find(".tve_lg_input input:not(.input-rendered)").parent().remove(),a.find(".input-rendered").removeClass("input-rendered"))},customHtml:function(){var t=this.model.get("customHtml"),e=TVE.Components.lead_generation.getWrapper(".thrv_lead_generation_container",this.$el),i=o("<form>",{method:t.form.method,action:"#",id:t.form.id||""}),n=o("<div>",{class:"tve_lead_generated_inputs_container"}).appendTo(i),s=e.find(".tve_lg_input"),a=e.find(".tve_submit_container");s=0<s.length?s.first().data("css"):"",a=0<a.length?a.first().data("css"):"",this._write._custom_html_code.call(this),i.append(o("<input>",{type:"hidden",class:"tve-f-a-hidden",value:t.form.action})),_.each(t.hidden,function(t){i.append(TVE.Components.lead_generation.generateHiddenInput(t))},this),_.each(t,function(t,e){"function"==typeof this._write.formInputs[e]&&("object"===_typeof(t)?_.each(t,function(t){s&&(t["data-css"]=s),n.append(this._write.formInputs[e](t))},this):n.append(this._write.formInputs[e](t,a)))},this),n.appendTo(i),TVE.apply_filters("tve_custom_html_code",i),e.html(i)},formInputs:{text:function(t){var e=o("<div>",{class:"tve_lg_input_container tve_lg_input"});return o("<input>",t).appendTo(e),e},radio_checkbox:function(t){var i=t[0].type,e=o("<div>",{class:"tve_lg_input_container tve-new-radio tve_clearfix tve_lg_".concat(i)}).append('<div class="tve_lg_'.concat(i,'_label thrv-inline-text" data-group-editing-parent=".tve_lg_').concat(i,'"></div><div class="tve-').concat(i,'-grid"><div class="tve-').concat(i,'-column" data-index="1"></div></div>')),n=e.find(".tve-".concat(i,"-column"));return e.find(".tve_lg_".concat(i,"_label")).html(i.charAt(0).toUpperCase()+i.slice(1)+" label"),_.each(t,function(t){var e=o("<div>",{class:"tve_lg_".concat(i,"_wrapper")});o("<input>",t).appendTo(e),"string"==typeof t.label&&o("<label>",{for:t.id}).append('<span class="tve-checkmark"></span>').append(o("<span>",{text:t.label,class:"tve-input-option-text"})).appendTo(e),n.append(e)}),e},select:function(t){var e=o("<div>",{class:"tve_lg_input_container tve_lg_dropdown tve_lg_select_container"}),i=o("<select>",{name:t.name,id:t.id});return _.each(t.options,function(t){i.append(o("<option>",t))}),e.append(i),e},textarea:function(t){var e=o("<div>",{class:"tve_lg_input_container tve_lg_textarea"});return o("<textarea>",t).appendTo(e),e},submit:function(t,e){return o("<div>",{class:"tve_lg_input_container tve_submit_container tve_lg_submit","data-css":e}).append(o("<button>",{type:"submit",text:t}))}},_custom_html_code:function(){var t=TVE.Components.lead_generation.getWrapper(".thrv_lead_generation_code",this.$el);t.hide(),t.text(this.code_separator+this.model.get("customHtml").code+this.code_separator)},reset_fields:function(){var t=["email","name","phone"];this.$(a).each(function(){-1===t.indexOf(this.name)&&o(this).parent().remove()})},consent:function(){this.model.check_required_consent();var t=this.model.get("consent"),e=TVE.Base64.encode(TVE.serialize(t||{})),i=this.$(".tcb-lg-consent"),n=i.find('input[type="checkbox"]');if(i.find(".consent-config").val(e),!t.enabled)return i.hide(),void n.removeAttr("data-required");i.length?i.is(":visible")||i.show():((i=this._write.formInputs.radio_checkbox([{type:"checkbox",name:"user_consent",value:"1",label:"Insert details about how the information is going to be processed",id:"tcb-consent-"+TVE.CSS_Rule_Cache.generate_id()}]).addClass("tcb-lg-consent")).find("input").removeAttr("label"),this.$(".tve_lg_submit").before(i),i.append('<input type="hidden" name="consent_config" class="consent-config" value="'+e+'">'),n=i.find('input[type="checkbox"]')),t.required?n.attr("data-required","1"):n.removeAttr("data-required")},resetMapping:function(){var n=this;this.$(a+', input[data-field="mapping_hidden"]').each(function(){try{if(!this.dataset.mapping)return;var i=TVE.unserialize(TVE.Base64.decode(this.dataset.mapping));Object.keys(i).forEach(function(t,e){void 0===n.model.get("apis")[t]&&delete i[t]}),this.dataset.mapping=TVE.Base64.encode(TVE.serialize(i))}catch(t){}})}}}),e.exports={model:n,view:s}},"size.js":function(t,i,e){var o=e("../libs/functions");!function(){var e=Backbone.Model.extend({defaults:function(){return{raw:"",value:"",uom:"px"}},initialize:function(t){"string"==typeof t&&(t=e.parse(t)),Object.assign(this.attributes,t)},is_empty:function(){var t=this.get("raw");return!t||"none"===t||""===t||"auto"===t},is_valid:function(){return!!this.is_empty()||!isNaN(this.get("value"))&&this.get("uom")},get_value:function(t){return this.is_empty()||!this.is_valid()?"auto":(void 0===t&&(t=1),"px"===this.get("uom")&&(t=0),o.toFixed(this.get("value"),t))},get_real_value:function(t){var e=this.get("value");return void 0===t?e:isNaN(e)?t:e},get_css_value:function(t){return this.is_empty()?"":this.get("value")+this.get("uom")+(t?" !important":"")},reset:function(t){return Object.assign(this.attributes,e.parse(t)),this.trigger("change"),this},set:function(t,e,i){return"uom"===t?this.convert_to(e,i):Backbone.Model.prototype.set.apply(this,arguments)},value_in_px:function(t){return"px"===this.get("uom")?this.get_real_value():this.get_real_value()*a[this.get("uom")](t)},convert_to:function(t,e){if(!this.is_empty()&&this.is_valid()){var i=this.value_in_px(e);"px"!==t&&(i/=a[t](e)),this.set("value",i)}return Backbone.Model.prototype.set.apply(this,["uom",t,e]),this},is_positive:function(){return 0<this.get_real_value()},is_negative:function(){return this.get_real_value()<0},is_non_negative:function(){return 0<=this.get_real_value()},is_non_positive:function(){return this.get_real_value()<=0},getValueIn:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:2;if(this.is_empty()||!this.is_valid())return this.get("raw");if(n="px"===t?0:n,this.get("uom")===t)return this.get_value(n);var s=this.value_in_px(e);return"px"!==t&&(s/=a[t](e)),o.toFixed(s,n)},toString:function(){return this.get_css_value()}},{parse:function(t){t=(t||"").replace(/!(\s*)important/,"").trim();var e=new RegExp("("+Object.keys(a).join("|")+")$").exec(t),i={raw:t};return e&&e[1]&&(i.uom=e[1]),t=t.replace(i.uom,""),i.value=isNaN(t)?t:parseFloat(t),i}});i.exports=e;var a={px:function(){return 1},"%":function(t){return t.parent_size/100},vw:function(){return TVE.inner.window.innerWidth/100},vh:function(){return TVE.inner.window.innerHeight/100},em:function(t){return parseInt(t.em_size)},rem:function(){return parseInt(TVE.inner_$("html").css("font-size"))}}}(jQuery)},"step-model.js":function(t,e,i){e.exports=Backbone.Model.extend({validate:function(t,e){var s={};return _.each(t,function(t,e,i){var n="validate_"+e;"function"==typeof this[n]&&this[n](t,s)},this),Object.keys(s).length?s:void 0}})},"typefocus.js":function(t,e,i){e.exports=i("./base").extend({defaults:function(){return{text:"",variations:[],speed:1e3,blink:!1,highlight:1,colors:""}},validate:function(){var t=this.get("variations");return t.length&&t[0].length?!!this.get("text")||(this.error=TVE.t.default_text_required,!1):(this.error=TVE.t.variation_required,!1)},get_dom_attr:function(){return{class:"tve_typefocus"+(this.get("blink")?" tve_typefocus_cursor":""),"data-typist":this.get("variations").join("|"),"data-speed":this.get("speed"),"data-highlight":this.get("highlight")?1:0,"data-colors":this.get("colors")||""}},read:function(t){this.set({text:t.innerText||t.textContent,blink:t.className&&-1!==t.className.indexOf("tve_typefocus_cursor"),variations:(t.getAttribute("data-typist")||"").split("|"),speed:parseInt(t.getAttribute("data-speed")||1e3),highlight:parseInt(t.getAttribute("data-highlight")||1),colors:t.getAttribute("data-colors")||""}),this.__dom=t,this.update_label()},get_preview_text:function(){var t=this.get("text");return this.get("variations").length&&(t+=" | "+this.get("variations").join(" | ")),t},update_label:function(){this.set("label",this.get_preview_text())},reset:function(t){t=void 0!==t,delete this.__dom,this.set(this.defaults(),{silent:t})}})}},views:{"_includes.js":function(t,e,i){var n=i("./components/animation");jQuery,e.exports={Views:{Components:{ct:i("./components/content-templates"),Button:i("./components/button"),Columns:i("./components/columns"),Image:i("./components/image"),Tweet:i("./components/click-tweet"),Rating:i("./components/rating"),Wordpress:i("./components/wordpress"),CommentsDisqus:i("./components/comments-disqus"),CommentsFacebook:i("./components/comments-facebook"),Countdown:i("./components/countdown"),CountdownEvergreen:i("./components/countdown-evergreen"),StyledList:i("./components/styled-list"),NumberedList:i("./components/numbered-list"),ResponsiveVideo:i("./components/responsive-video"),Audio:i("./components/audio"),Html:i("./components/html"),Icon:i("./components/icon"),ImageEffects:i("./components/image-effects"),Layout:i("./components/layout"),Typography:i("./components/typography"),Text:i("./components/text"),Borders:i("./components/borders-corners"),TableBorders:i("./components/table-borders"),Shadow:i("./components/shadow"),Responsive:i("./components/responsive"),StylesTemplates:i("./components/styles-templates"),Animation:n.component,Background:i("./components/background"),Social:i("./components/social"),Credit:i("./components/credit"),Reveal:i("./components/reveal"),Section:i("./components/section"),LpBlock:i("./components/lpblock"),Decoration:i("./components/decoration"),Divider:i("./components/divider"),Gmap:i("./components/gmap"),Group:i("./components/group"),SharedStyles:i("./components/shared-styles"),PostGrid:i("./components/post-grid"),PostGridLayout:i("./components/post-grid-layout"),PostGridQuery:i("./components/post-grid-query"),PostGridFilter:i("./components/post-grid-filter"),AnimationViews:n.views,LpAdvanced:i("./components/landing-page/lp-advanced"),LpScripts:i("./components/landing-page/lp-scripts"),LpFonts:i("./components/landing-page/lp-fonts"),LpBase:i("./components/landing-page/lp-base"),ContentBox:i("./components/contentbox"),TOC:i("./components/toc"),ProgressBar:i("./components/progress-bar"),Table:i("./components/table"),Cell:i("./components/cell"),LeadGeneration:i("./components/lead-generation"),LeadGenerationInput:i("./components/lead-generation/input"),LeadGenerationSubmit:i("./components/lead-generation/submit"),LeadGenerationSelect:i("./components/lead-generation/select"),LeadGenerationRadio:i("./components/lead-generation/radio"),LeadGenerationRadioOption:i("./components/lead-generation/radio-option"),LeadGenerationCheckbox:i("./components/lead-generation/checkbox"),LeadGenerationTextarea:i("./components/lead-generation/textarea"),FillCounter:i("./components/fillcounter"),CustomMenu:i("./components/menu"),MenuItem:i("./components/menu-item"),MegamenuItem:i("./components/megamenu-item"),MegamenuDropdown:i("./components/megamenu-dropdown"),MegamenuColumn:i("./components/megamenu-column"),MegamenuImage:i("./components/megamenu-image"),TabContent:i("./components/tabs/tabs-old"),TabsElement:i("./components/tabs/tabs-new"),TabItem:i("./components/tabs/tabs-item"),TabImage:i("./components/tabs/tabs-image"),ContentToggle:i("./components/toggle-old"),Toggle:i("./components/toggle"),ToggleTitle:i("./components/toggle-title"),Lightbox:i("./components/lightbox"),CloudTemplates:i("./components/cloud-templates"),Widget:i("./components/widget"),Symbol:i("./components/symbols/symbol"),Header:i("./components/symbols/header"),Footer:i("./components/symbols/footer"),ct_symbol:i("./components/templates-symbols/ct-symbol"),PricingTable:i("./components/pricing-table"),ContactForm:i("./components/contact-form"),SearchForm:i("./components/search-form"),SearchFormSubmit:i("./components/search-form-submit"),SearchFormInput:i("./components/search-form-input"),ContentBlock:i("./components/content-block"),ContactFormSubmit:i("./components/lead-generation/submit"),Scroll:i("./components/scroll"),PostOptions:i("./components/post-options"),post_list:i("./components/post-list/_includes"),PostContent:i("./components/post-list/sub-components/post-content"),PostDate:i("./components/post-list/sub-components/post-date"),PostThumbnail:i("./components/post-list/sub-components/post-thumbnail"),Pagination:i("./components/pagination"),PaginationLabel:i("./components/pagination-label"),PaginationButton:i("./components/pagination-button"),Logo:i("./components/logo/_includes"),VideoControls:i("./components/responsive-video/video-controls"),Link:i("./components/link"),DefaultTypography:i("./components/typography/text")},Controls:{ApiConnections:i("./controls/api-connections"),ContactFormSettings:i("./controls/contact-form/settings"),ButtonGroup:i("./controls/button-group"),ButtonToggle:i("./controls/button-toggle"),Checkbox:i("./controls/checkbox"),Headings:i("./controls/toc/headings"),Switch:i("./controls/switch"),SwitchToggle:i("./controls/switch-toggle"),ColorPicker:i("./controls/color-picker"),DatePicker:i("./controls/date-picker"),Tooltip:i("./controls/tooltip-base"),ModalPicker:i("./controls/modal-picker"),ImagePicker:i("./controls/image-picker"),ImageSize:i("./controls/image-size"),Input:i("./controls/input"),LabelInput:i("./controls/label-input"),InputMultiple:i("./controls/input-multiple"),Textarea:i("./controls/textarea"),Borders:i("./controls/borders"),MasterColor:i("./controls/master-color"),Corners:i("./controls/corners"),InputSearch:i("./controls/input-search"),Select:i("./controls/select"),SelectMultiple:i("./controls/select-multiple"),MarginAndPadding:i("./controls/margin-padding"),MaxWidth:i("./controls/max-width"),Slider:i("./controls/slider"),FontSize:i("./controls/font-size"),LineHeight:i("./controls/line-height"),TimeSlider:i("./controls/time-slider"),StylePicker:i("./controls/style-picker"),List:i("./controls/list"),PreviewList:i("./controls/preview-list"),LinkSearch:i("./controls/link"),DropPanel:i("./controls/drop-panel"),FontFace:i("./controls/font-face"),FontManager:i("./controls/font-manager"),Shadow:i("./controls/shadow"),Knob:i("./controls/knob"),StyleChange:i("./controls/style-change"),ButtonStyle:i("./controls/button/style"),LGConsent:i("./controls/lead-generation/consent"),Radio:i("./controls/radio"),Tabs:i("./controls/tabs"),ElementLink:i("./controls/jumplinks/element-link"),Palettes:i("./controls/palettes"),CssVariables:{Color:i("./controls/css-variables/color"),Gradient:i("./controls/css-variables/gradient")},CentralStylePanel:{Styles:i("./sidebars/central-style-panel/template-styles"),Vars:i("./sidebars/central-style-panel/template-variables")},FilePicker:i("../libs/file-picker"),TextStyle:i("./controls/text-style")},Base:i("./base"),InlinePanel:i("./inline/inline-drop-panel"),Modals:{ErrorMessages:i("./modals/cf-error-messages")},other:{ElementStates:i("./controls/element-states"),ResetState:i("./drop-panels/reset-state")}},Models:{ClouldTemplates:i("../models/cloud-templates")},GlobalColors:i("../libs/global-colors"),GlobalGradients:i("../libs/global-gradients"),IconsView:i("../views/element-icons"),AddBlockBelowView:i("../views/add-block-below"),AddTabView:i("../views/add-tab"),AddBlockAboveView:i("../views/add-block-above"),FontManager:i("./../../editor/src/util/font-manager"),StorageManager:i("./../libs/storage"),NameThatColor:i("./../libs/name-that-color"),TinyColor:i("./../libs/tinycolor"),renderers:i("../elements/_renderers.js"),modal:i("./modals/base"),modal_open:i("./modals/_open"),EventManager:i("../libs/event-manager"),ElementSnapshot:i("../libs/element-snapshot"),shortcode_manager:i("../libs/shortcode-manager"),user_settings:i("../libs/user-settings"),edit_mode:i("./edit-mode"),BaseModel:i("../models/base"),BaseCollection:i("../collections/base"),ResizeSensor:i("../libs/resize-sensor"),functions:i("../libs/functions"),generateElementPreview:i("./../../editor/src/util/generate-preview")},console.log("___________.__          .__                  _____                .__    .__  __                 __   \n\\__    ___/|  |_________|__|__  __ ____     /  _  \\_______   ____ |  |__ |__|/  |_  ____   _____/  |_ \n  |    |   |  |  \\_  __ \\  \\  \\/ // __ \\   /  /_\\  \\_  __ \\_/ ___\\|  |  \\|  \\   __\\/ __ \\_/ ___\\   __\\\n  |    |   |   Y  \\  | \\/  |\\   /\\  ___/  /    |    \\  | \\/\\  \\___|   Y  \\  ||  | \\  ___/\\  \\___|  |  \n  |____|   |___|  /__|  |__| \\_/  \\___  > \\____|__  /__|    \\___  >___|  /__||__|  \\___  >\\___  >__|  \n                \\/                    \\/          \\/            \\/     \\/              \\/     \\/      ")},"add-block-above.js":function(t,e,i){jQuery,e.exports=i("./add-block-below").extend({getCoords:function(){var t={"padding-bottom":"",top:this.$target.offset().top};return t.top<15&&(t["padding-bottom"]="15px"),t},allowControlsToBeShown:function(){return!this.$target.is(".thrv_header")&&TVE.Editor_Page.editor.children(TVE.Editor_Page.selection_manager.selectors.get("editable")).first().is(this.$target)}})},"add-block-below.js":function(t,e,i){!function(n){TVE.LpBlockModal=i("./modals/lp-blocks");var t=i("./base"),s=i("./../../editor/src/util/selectors");e.exports=t.base_view.extend({className:"tcb-add-block-below",template:TVE.tpl("add-block-below"),allowedInsertRules:["insertAfter","insertBefore"],insertRuleFn:"insertAfter",initialize:function(t){var i=this,e=0<arguments.length&&void 0!==t?t:{};e.insertRule&&this.allowedInsertRules.includes(e.insertRule)&&(this.insertRuleFn=e.insertRule),TVE.Editor_Page.editor.on("mouseover.tcb",s.get("mouseover"),function(t){!TVE.state_manager.is_default()&&!TVE.state_manager.is_jump()||t.target.classList.contains("ui-resizable-handle")||TVE.main.EditMode.in_edit()||i.showControls(TVE.inner_$(t.currentTarget))}),TVE.add_action("tcb.element.mouseleave",function(t){t.relatedTarget&&n(t.relatedTarget).closest(".tcb-add-block-below").length||i.hideControls()}),TVE.add_action("tcb.element.remove",function(t,e){i.$target&&i.$target===t&&i.hideControls()}),this.render()},render:function(){this.$el.empty().html(this.template()),TVE.inner_$("#tcb-inner-actions").prepend(this.$el)},showControls:function(t){if(t.is(".canvas-mode")||t.closest(".tve-remove-auxiliary-content").length||TVE.FLAGS.drag||TVE.FLAGS.$dragged_element)return!1;if(t.is(".tcb-add-block-placeholder"))return this.$target=t,!1;if(this.$target=t.getMostDistantParent(),!this.allowControlsToBeShown())return!1;var e=this.getCoords();this.$el.css(e).show()},getCoords:function(){return{top:this.$target.offset().top+this.$target.outerHeight()}},allowControlsToBeShown:function(){return 0<this.$target.length&&!this.$target.is(".thrv_footer")},hideControls:function(){this.$el.hide()},domAddBlock:function(t,e){if(this.$target){var i=TVE.LpBlockModal.get_instance(TVE.modal.get_element("lp-blocks"));TVE.LpBlockModal.setTarget(this.$target,this.insertRuleFn),i.open()}}})}(jQuery)},"add-tab.js":function(t,e,i){var n,s;n=jQuery,s=i("./base"),e.exports=s.base_view.extend({className:"tcb-add-tab",template:TVE.tpl("add-tab"),initialize:function(t){var e=this;TVE.Editor_Page.editor.on("mouseover.tcb",".tve_tab_title_item",function(t){(TVE.state_manager.is_default()||TVE.state_manager.is_expanded())&&e.showControls(TVE.inner_$(t.currentTarget))}),TVE.add_action("tcb.element.mouseleave",function(t){t.relatedTarget&&n(t.relatedTarget).closest(".tcb-add-tab").length||e.hideControls()}),TVE.add_action("tcb.froala.focus",function(){e.hideControls()}),this.render()},render:function(){this.$el.empty().html(this.template()),TVE.inner_$("#tcb-inner-actions").prepend(this.$el)},showControls:function(t){if(!(t.closest(".tve-prevent-content-edit").length||TVE.froala.editor&&TVE.froala.editor.$tb.is(":visible")&&TVE.froala.editor.$oel.closest(t).length)){this.$target=t,this.$wrapper=t.closest(".tve_scT");var e=this.$wrapper.hasClass("tve_vtabs"),i=this.$target.offset(),n=this.$target.outerHeight(),s=this.$target.outerWidth(),a={top:i.top+n-10,left:i.left+s-10,display:"block"};e?a.left-=s/2:a.top-=n/2,this.$el.css(a)}},hideControls:function(){this.el.style.display="none"},addTab:function(t,e){var i=this.$target.index()+1,n=this.$target.parent();TVE.Editor_Page.duplicate_element(this.$target);var s=n.children().eq(i).find(".tve-tab-text");s.text("New Tab"),TVE.froala.disable(s),this.$target.closest(".tve_scT").find("> .tve_tab_content").eq(i).find("> .tve-cb").removeClass("tcb-parent-placeholder-empty"),TVE.ActiveElement&&TVE.ActiveElement.hasClass("thrv-tabbed-content")&&TVE.Components.tabs.controls.preview.update()}})},"base.js":function(t,e,i){var n,s,a,o,c,r,l=i("../libs/watcher"),d=i("../libs/storage"),u=i("../libs/functions");c=jQuery,r=!1,n=Backbone.View.extend({events:{"click .click":"_call","input .input":"_call","change .change":"_call","mousedown .mousedown":"_call","mouseenter .mouseenter":"_call","mouseleave .mouseleave":"_call","mouseup .mouseup":"_call","mouseover .mouseover":"_call","keyup .keyup":"_call","keyup .keyup-enter":"_keyup_enter","keydown .keydown":"_call","click .dropdown-header":"toggleControls","focus input":"selectInput","blur .blur":"_call"},initialize:function(t){"function"==typeof this.before_initialize&&this.before_initialize(t),this.render(t),"function"==typeof this.after_initialize&&this.after_initialize(t)},_call:function(t){if(t.currentTarget.disabled||t.currentTarget.classList.contains("tve-disabled"))return!1;var e=t.currentTarget.getAttribute("data-fn-"+t.type)||t.currentTarget.getAttribute("data-fn");if(e&&"__return_false"===e)return t.stopPropagation(),t.preventDefault(),!1;if("function"==typeof this[e])return this[e].call(this,t,t.currentTarget);if(e&&0===e.indexOf("f:")){for(var i=TVE,n=e.split(":")[1].split("."),s=window;i&&n.length;)i=(s=i)[n.shift()];if("function"==typeof i)return i.call(s,t)}},_keyup_enter:function(t){if(13===t.which)return this._call(t)},show:function(t){return this.visible()||(t||this.trigger("show"),this.$el.data("hide")||this.$el.show()),this},hide:function(t){return this.visible()&&(t||this.trigger("hide"),this.$el[0].style.display="none"),this},toggle:function(t,e){return t?this.show(e):this.hide(e)},visible:function(){return this.$el.is(":visible")},toggleControls:function(){},checkbox_values:function(t){var e=[];return this.$(t+":checked").each(function(){e.push(this.value)}),e},destroy:function(){this.unbind(),this.remove(),this.onDestroy&&this.onDestroy()},render:function(t){if("function"==typeof this.before_render&&this.before_render(t),this.template&&_.isString(this.template)&&(this.template=TVE.tpl(this.template)),this.template){var e=t&&t.render_function||"html";this.$el[e](this.template())}return"function"==typeof this.after_render&&this.after_render(t),this},render_template:function(t){return _.isString(t)&&(t=TVE.tpl(t)),this.$el.html(t.call(this)),this},inline_message:function(t,e,i){void 0===i&&(i=this.$el.children().last()),e=e||"info",t=t||{};var n=this.$(".inline-message");return n.length||(n=jQuery('<div class="inline-message"></div>')),n.removeClass("m-success m-info m-error").addClass("m-"+e).empty(),i.after(n),n.text(t),n},is_visible:function(){return void 0!==this._visible&&this._visible},disable:function(){this.$el.addClass("tcb-disabled")},enable:function(){this.$el.removeClass("tcb-disabled")},bind:function(t){if(null==t)return t;if("string"==typeof t&&this[t]&&(t=this[t]),"function"!=typeof t)throw new TypeError("bind must be called on a function");return _.bind.apply(_,[t,this].concat(Array.prototype.slice.call(arguments,1)))},toggle_disabled:function(t){return this.$el.toggleClass("tcb-disabled",t),this},select_element:function(t){return TVE.Editor_Page.focus_element(TVE.inner_$(t.currentTarget.dataset.el||t.currentTarget.dataset.element)),!1},get:function(t,e){return u.deepGet(this,t,e)},get_config:function(t,e){return this.get("model.config."+t,e)},get_control:function(t){return(t=t.replace(".controls","").split(".")).splice(1,0,"controls"),t=t.join("."),this.get.call(TVE.Components,t)},selectInput:function(t){TVE.apply_filters("tcb.allow_input_focus",!0,t)&&t.target.select()}}),o=n.extend({events:function(){return _.extend(n.prototype.events,{"change [data-setting]":"change_value"})},initialize:function(t){var e=this;"function"==typeof this.before_initialize&&this.before_initialize(arguments),this.data={},this.render(),this.$("[data-setting]").each(function(){var t=this.getAttribute("data-setting");l(e.data,t,e.value_changed,e)}),"function"==typeof this.after_initialize&&this.after_initialize(arguments)},change_value:function(t,e){l.skip_one(),this.data[e.getAttribute("data-setting")]=this.$(e).val()},value_changed:function(t,e){this.$('[data-setting="'+t+'"]').val(e)}}),s=n.extend({initialize:function(t){return t.component&&(this.component=t.component),n.prototype.initialize.apply(this,arguments)},applyTo:function(t,e,i){if(e=!!e,i=i||!1,!TVE.ActiveElement)return c();var n=this.config&&this.config.to||"",s=TVE.ActiveElement;return!1===e&&(r||i)&&((s=s.filter(".edit_mode")).length||(s=TVE.ActiveElement)),0===n.indexOf("main::")?s=TVE.inner_$(n.replace("main::","")):0===n.indexOf("closest::")?s=TVE.ActiveElement.closest(n.replace("closest::","")):n&&((s=s.find(n)).length||(s=TVE.ActiveElement.closest(".thrv_wrapper").find(n))),t&&(s=s[0]),s},readFrom:function(){var t=this.applyTo(!1,!1,TVE.is_group_editing);return t=u.getElementForDataSelector(t),this.config&&this.config.css_suffix&&(t=u.elementForSuffix(t,this.config.css_suffix)),t},_call:function(t){var e=t.currentTarget.getAttribute("data-fn-"+t.type)||t.currentTarget.getAttribute("data-fn");if(e&&"__return_false"===e)return t.stopPropagation(),t.preventDefault(),!1;switch(t.type){case"input":TVE.SKIP_CSS_STATE=!0;break;default:case"change":TVE.SKIP_CSS_STATE=!1}if(this.currentEventType=t.type,"function"!=typeof this[e])return!1;var i=this.applyTo();i="function"==typeof this.prepare?this.prepare(i):i;var n=this[e].call(this,i,t.currentTarget,t);return delete this.currentEventType,n},setConfig:function(t,e,i){this.config={to:e,css_suffix:i||""},void 0!==t&&c.extend(!0,this.config,t),this.afterConfig()},change:function(t,e){TVE.SkipUpdate=!0,this.input(t,e),TVE.SkipUpdate=!1},input:function(){throw new Error(this.key()+": Input function not implemented!")},clear:function(){},update:function(){throw new Error(this.key()+": Update function not implemented!")},before_update:function(){},after_update:function(){},afterConfig:function(){},getDefault:function(){return this.default||this.model.default||this.model.config.default||""},key:function(){return this.$el.data("key")||this.$el.data("view")||""},prepareValue:function(t,e){if(""!==t&&!isNaN(t)){var i=(String(t).split(".")[1]||[]).length;switch(e){case"%":1<i&&(t=parseFloat(t).toFixed(1));break;case"em":case"vh":2<i&&(t=parseFloat(t).toFixed(2));break;case"s":t=u.toFixed(t,2);break;default:t=parseInt(t)}}return t},before_render:function(){return this.model||(this.model={}),this.model.config||(this.model.config={}),this},cssImportant:function(t){return String(0<arguments.length&&void 0!==t?t:"")+(this.get_config("important")||this.config.important||this.config&&this.config.config&&this.config.config.important?" !important":"")},applyElementCss:function(e,t,i,n,s){var a=this,o=1<arguments.length&&void 0!==t?t:this.applyTo(),r=2<arguments.length&&void 0!==i?i:this.config.css_suffix,l=3<arguments.length&&void 0!==n?n:this.config.css_prefix,c=4<arguments.length&&void 0!==s&&s?o:function(t){if(TVE.ActiveElement&&TVE.ActiveElement.hasClass("tcb_similar_edit"))if(a.config&&a.config.to){var e=TVE.ActiveElement;TVE.ActiveElement=TVE.ActiveElement.add(TVE.inner_$(".tcb_similar_edit")),t=a.applyTo(),TVE.ActiveElement=e}else t=t.add(TVE.inner_$(".tcb_similar_edit"));return t=u.getElementForDataSelector(t),u.elementForSuffix(t,r)}(o),d=-1===_.findIndex(Array.isArray(r)?r:[r],function(t){return t&&t.includes("::placeholder")});if((d=TVE.apply_filters("tcb.css.can_apply_inline",d,o,r,l))&&TVE.SKIP_CSS_STATE)TVE.state_manager.is_hover()&&Object.keys(e).forEach(function(t){return e[t]=e[t]&&!String(e[t]).includes("important")?e[t]+" !important":e[t]}),c.tcbCss(e);else{o.head_css(e,null,r,!1,l);var h={};Object.keys(e).forEach(function(t){return h[t]=""}),c.tcbCss(h)}}}),a=n.extend({extra_states:!1,initialize:function(t){var o=this;this.config=t.config,this.renderer=t.renderer,this.disabled_devices&&(c.each(this.disabled_devices,function(t,e){o.$el.addClass("disabled-"+e)}),this.disabled_tooltip&&this.$el.attr("data-disabled-tooltip",this.disabled_tooltip).attr("data-width","258px")),this.hide(),this.controls={},this.key=t.key||"",this.$el.find(".tve-control").each(function(){var t,e=c(this),i=e.data(),n=i.view,s=i.key||n,a=i.initializer;o.config[s]||(o.config[s]={}),o.config[s].config||(o.config[s].config={}),t=o.config[s],i&&(i.extends&&(t.extends=i.extends),delete i.extends,delete i.view,delete i.key,Object.assign(t.config,{},i)),void 0!==t.extends&&(n=t.extends),"function"==typeof o["__config_"+s]&&o["__config_"+s](t.config),n=a&&"function"==typeof o[a]?o[a]():void 0===TVE.Views.Controls[n]?TVE.Views.Base.control:TVE.Views.Controls[n],o.controls[s]=new n({el:e,model:t,component:o}),"function"==typeof(o.controls[s].component=o).controls[s].after_init&&o.controls[s].after_init()}),this.options=t.options||{},"function"==typeof this.after_init&&this.after_init.call(this,t),this.controls_init(this.controls),TVE.do_action("tcb.component.after_init."+this.key,this)},setKey:function(t){this.key=t},open_group_options:function(t){TVE.ActiveElement.addClass("canvas-mode"),TVE.Components.group.enter_group_mode(t)},close_group_options:function(t,e){if(arguments&&e&&"a"===e.tagName.toLowerCase()){var i=TVE.Components.group.mainElement.closest(".thrv_wrapper");return TVE.Editor_Page.blur(),TVE.Editor_Page.focus_element(i),void(TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element().is(i)&&TVE.main.EditMode.exit())}var n=TVE.Components.group.group_class,s=TVE.inner_$("."+n);s.hasClass("tcb-compact-edit-mode")||s.removeClass("canvas-mode"),TVE.do_action("tcb.group.on_blur",TVE.Components.group.mainElement),TVE.Components.group.exit_group_mode(),TVE.main.switch_menu_to("elements")},setOrder:function(t){void 0!==t&&!isNaN(t)||(t=0),this.$el.css("order",t)},is_placeholder:function(t){return t.hasClass("tcb-elem-placeholder")},update:function(t){if(r=TVE.is_group_editing,void 0!==t&&this.controls[t])return this.controls[t].update(this.controls[t].applyTo()),r=!1,this;this.deps&&this.deps.forEach(function(t){return TVE.Components[t]&&TVE.Components[t].update()}),this.before_update(),c.each(this.controls,function(t,e){if(!e.$el.hasClass("control-hide")){var i=e.readFrom();e.before_update(i),e.update(i),e.after_update(i)}}),this.after_update(),r=!1,TVE.do_action("component.update."+this.key+"."+TVE._type(TVE.ActiveElement),this)},setConfig:function(i,t){c.each(this.controls,function(t,e){e.setConfig(i[t]||{},i.to,i.css_suffix)})},disable_controls:function(t,e,i){var s=1<arguments.length&&void 0!==e?e:"control-hide",n=!(2<arguments.length&&void 0!==i)||i;this.$("."+s).removeClass(s),_.each(t,function(t,e){var i,n="";_.isString(e)&&(n=t,t=e),i=this.controls&&this.controls[t]?this.controls[t].$el.addClass(s):this.$(t).addClass(s),n&&i.attr({"data-tooltip":n,"data-width":"element"})},this),n&&"function"==typeof this.disable_extra_controls&&this.disable_extra_controls(t)},block_controls:function(t){this.$(".disabled-children").removeAttr("data-tooltip"),this.disable_controls(t,"disabled-children",!1)},controls_init:function(t){},toggleControls:function(t){var e=t.currentTarget.getAttribute("data-prop");this[e]=c(t.currentTarget),t.ctrlKey||t.metaKey?this.toggleDropdown(e,!c(t.currentTarget).hasClass("open")):this.toggleDropdown(e),TVE.CONST.display[this.key]||(TVE.CONST.display[this.key]={}),TVE.CONST.display[this.key][e]=this[e].hasClass("open"),d.setComponentMeta(this.key,e,TVE.CONST.display[this.key][e]),TVE.Views.Controls.DropPanel.close_all(),t.stopPropagation()},change_state:function(t){},reinit:function(){},reset:function(){},isOpen:function(){return TVE.ActiveElement&&this.$('.dropdown-header.open[data-prop="docked"]').length},toggleDropdown:function(t,e){var i=this;return void 0===t?Promise.resolve(this):(TVE.TIMEOUT_UPDATE=TVE.TIMEOUT_UPDATE||[],void 0===this[t]&&(this[t]=this.$el.find('.dropdown-header[data-prop="'+t+'"]')),void 0===e?(this[t].hasClass("open")||"advanced"===t||_.contains(TVE.main.no_auto_collapse_components.concat("shared-styles"),this.key)||TVE.main.collapse_components(TVE.main.no_auto_collapse_components.concat("shared-styles")),this[t].toggleClass("open")):this[t][e?"addClass":"removeClass"]("open"),TVE.main.states_dropdown.hide_dropdown(),TVE.ActiveElement&&"docked"===t&&this[t].hasClass("open")?new Promise(function(t){TVE.TIMEOUT_UPDATE.push(setTimeout(function(){i.update(),t(i)}))}):Promise.resolve(this))},map:function(e){var i=Array.prototype.slice.call(arguments,1);return _.each(this.controls,function(t){"string"==typeof e&&t[e]?t[e].apply(t,i):"function"==typeof e&&e(t)})},needs_update:function(t){return!1},before_update:function(){},after_update:function(){},toggleHighlight:function(t){var e=0<arguments.length&&void 0!==t&&t;this.$el.toggleClass("tve-component-highlight",e)},open:function(t,e,i){var n=0<arguments.length&&void 0!==t?t:{},s=1<arguments.length&&void 0!==e?e:"",a=2<arguments.length&&void 0!==i?i:TVE.CONST.display[this.key]||{},o=n.disabled_controls||[];!Array.isArray(o)&&c.isPlainObject(o)&&(o=Object.values(o));var r=_toConsumableArray(o);r=r.concat(Object.keys(n.config).filter(function(t){return n.config[t].hidden})),this.disable_controls(r);var l=TVE.apply_filters("tcb.blocked_controls.".concat(this.key,".").concat(s),_.extend({},n.blocked_controls));return this.block_controls(l||[]),this.setConfig(n.config),this.setOrder(n.order),this.toggleDropdown("docked",!!a.docked&&0===TVE.getClassThatContains(TVE.ActiveElement,TVE.CONST.global_cls_prefix).length),this.toggleDropdown("advanced",!!a.advanced),this.$el[0].style.display="block",this._visible=!0,this.toggleDropdown("docked",!!a.docked&&0===TVE.getClassThatContains(TVE.ActiveElement,TVE.CONST.global_cls_prefix).length)}}),e.exports={base_view:n,base_view_model:o,control:s,component:a}},components:{animation:{"close-lightbox.js":function(t,e,i){i("../../base"),i("../../controls/list");e.exports=i("../../base").component.extend({set_model:function(t){this.model=void 0!==t?t:new Backbone.Model({config:{}})},apply_settings:function(t){return this.model.set({a:this.key,t:"click",config:{}}),!0}})},"css-animation.js":function(t,e,i){var a=i("../../../libs/event-manager");e.exports=i("../../base").component.extend({update:function(){this.$anim.find("option").hide().attr("disabled","disabled"),this.$anim.find("option[data-"+TVE.state_manager.get_state()+'="1"]').show().removeAttr("disabled"),this.$anim.find("optgroup").each(function(){var t=jQuery(this),e=t.find("option[disabled]").length;t.find("option").length<=e?t.attr("disabled","disabled").hide():t.removeAttr("disabled").show()}),this.$loop.parent().toggle(TVE.state_manager.is_default())},controls_init:function(){this.$trigger=this.$("#anim-trigger"),this.$loop=this.$(".anim-loop"),this.$anim=this.$("#anim-animation")},set_model:function(t){var e=TVE.state_manager.is_default()?"tve-viewport":"mouseover";return this.model=void 0!==t?t:new Backbone.Model({t:e,config:{anim:TVE.state_manager.is_default()?"slide_top":"grow",loop:!!TVE.state_manager.is_hover()}}),this.event_trigger=this.model.get("t"),this.$loop.prop("checked",!!this.model.get("config").loop),this.selected=this.model.get("config").anim,this.$anim.val(this.selected),this.handle_triggers([this.model.get("t")]),this},reset:function(){return this.handle_triggers([TVE.state_manager.is_default()?"tve-viewport":"mouseover"]),this.$anim.val(this.$anim.find("option").first().val()).trigger("change"),this.$loop.prop("checked",!1),this},select:function(t,e){return this.selected=this.$(e).val(),this.handle_triggers([TVE.state_manager.is_default()?"tve-viewport":"mouseover"]),this._preview(this.selected),!1},change_trigger:function(t,e){return this.event_trigger=this.$(e).val()||"tve-viewport",!1},handle_triggers:function(t){var e=this.$trigger.hide().find("select").empty();_.each(t,function(t){e.append('<option value="'+t+'">'+this.component.options.triggers[t].name+"</option>")},this),1!==t.length&&this.$trigger.show(),this.event_trigger&&e.val(this.event_trigger),e.trigger("change",[new Event("change"),e[0]])},validate:function(){return!!this.selected||(TVE.page_message(TVE.t.anim.missing,!0),!1)},apply_settings:function(t){if(!this.validate())return!1;this._ensure_default_state(t);var e=this.selected;if("function"==typeof this[e]){var i,n=TVE._type(TVE.ActiveElement),s=this.component.$element,a=TVE.Components.background.controls.ColorPicker;"image"===n&&(a=TVE.Components["image-effects"].controls.ImageOverlay),"column"===n?s.removeClass("tve-state-hover"):s.closest(".thrv_wrapper").removeClass("tve-state-hover"),i=a.readFrom().css(["background-color","background-attachment","background-image","background-position","background-repeat","background-size"]),this[e]({control:a,css:i},"default"),"column"===n?s.addClass("tve-state-hover"):s.closest(".thrv_wrapper").addClass("tve-state-hover"),i=a.readFrom().css(["background-color","background-attachment","background-image","background-position","background-repeat","background-size"]),this[e]({control:a,css:i},"hover")}return this.model.set({a:this.key,t:this.event_trigger,config:{anim:e,loop:this.$loop.prop("checked")?1:0}}),!0},_ensure_default_state:function(t){clearTimeout(this.preview_timeout),clearTimeout(this.preview_done_timeout),t.closest(".tcb-col, .thrv_wrapper").css("visibility","").removeClass("anim-preview tve_anim_start"),TVE.main.states_dropdown.$el.removeClass("tcb-disabled")},_preview:function(t,e){if((e=e||this.component.$element)&&e.length){var i=(e=e.closest(".edit_mode")).closest(".tcb-col, .thrv_wrapper"),n=i.attr("class"),s=this;TVE.inner.$body.addClass("tcb-anim"),TVE.inner.$body.removeClass("tcb-states"),setTimeout(function(){TVE.inner.$body.removeClass("tcb-anim"),TVE.inner.$body.addClass("tcb-states")},1500),i.removeClass(a.remove_classes),i.addClass("anim-preview").addClass("tve_ea_thrive_animation tve_anim_"+t).css({visibility:"hidden"}),this.preview_timeout=setTimeout(function(){i.css("visibility",""),i.addClass("tve_anim_start"),TVE.main.states_dropdown.$el.addClass("tcb-disabled"),s.preview_done_timeout=setTimeout(function(){i.attr("class",n),TVE.main.states_dropdown.$el.removeClass("tcb-disabled")},1100)},400)}},preview:function(t,e){this._preview(t.get("config").anim,e)},adjust:function(t){if("object"!==_typeof(t)&&!t.model)return!1;var e=t.model.get("config").anim;return"function"==typeof this[e]?this[e](t):null},sweep_to_right:function(t,e){var i=TVE.flag_modify_hover_selector;TVE.flag_modify_hover_selector=!1;var n=t.control,s="on_"+(e||TVE.state_manager.get_state()),a={on_hover:function(){return n.applyTo().head_css(r,!1,o+"::after"),TVE.flag_modify_hover_selector=i,!0},on_default:function(){return n.applyTo().head_css(r,!1,o+"::before",!1,"body:not(.tcb-states) "),TVE.flag_modify_hover_selector=i,!0}},o=n.config.css_suffix||"",r=t.css;return"function"==typeof a[s]&&a[s]()},sweep_to_left:function(){return this.sweep_to_right.apply(this,arguments)},sweep_to_bottom:function(){return this.sweep_to_right.apply(this,arguments)},sweep_to_top:function(){return this.sweep_to_right.apply(this,arguments)},bounce_to_right:function(){return this.sweep_to_right.apply(this,arguments)},bounce_to_left:function(){return this.sweep_to_right.apply(this,arguments)},bounce_to_top:function(){return this.sweep_to_right.apply(this,arguments)},bounce_to_bottom:function(){return this.sweep_to_right.apply(this,arguments)},radial_out:function(){return this.sweep_to_right.apply(this,arguments)},radial_in:function(){return this.sweep_to_right.apply(this,arguments)},rectangle_in:function(){return this.sweep_to_right.apply(this,arguments)},rectangle_out:function(){return this.sweep_to_right.apply(this,arguments)},shutter_out_vertical:function(){return this.sweep_to_right.apply(this,arguments)}})},"image-zoom.js":function(t,e,i){i("../../base");var n=i("../../controls/file");e.exports=i("../../base").component.extend({controls_init:function(){this.picker=new n({labels:{choose:TVE.t.ChooseImage}}),this.$el.append(this.picker.$el),this.picker.on("select",_.bind(this.on_select,this)),this.picker.on("remove",_.bind(this.on_remove,this))},set_model:function(t){if(this.model=void 0!==t?t:new Backbone.Model({config:{}}),this.config=_.extend({},this.model.get("config")),!this.config||!this.config.title){var e=this.get_image_element();e&&e.attr("src")&&(this.config={title:e.attr("src").split("/").pop(),url:e.attr("src")},e.attr("data-id")&&(this.config.id=e.attr("data-id"),this.config.size="full"))}return this.picker.set(this.config),this.parent_tab.$("#a-popup-trigger").val(this.model.get("t")||"click"),this},on_select:function(t){this.config={id:t.id,size:t.size||"full",title:t.title},!this.config.id&&t.url&&TVE.isValidUrl(t.url)&&(this.config.id="tcb-custom-"+Math.round(900*Math.random()+100),this.config.url=t.url)},on_remove:function(){this.config={}},validate:function(){return!(!this.config||!this.config.title)||(TVE.page_message(TVE.t.anim.img_missing,!0),!1)},apply_settings:function(){return!0===this.validate()&&(this.model.set({a:this.key,t:this.parent_tab.$("#a-popup-trigger").val(),config:_.extend({},this.config)}),TVE.Components.image.update("ImageFullSize"),!0)},get_image_element:function(){if(this.component.$element.is("img"))return this.component.$element;var t=this.component.$element.find("img");return!!t.length&&t}})},"link.js":function(t,e,i){var n=i("../../base"),s=i("../../modals/base"),a=i("../../../libs/storage"),o=i("../../controls/link");e.exports=n.component.extend({controls_init:function(){var e=this;this.search=new o({el:this.$("#a-link-main")[0]}),this.search.on("linkchange",function(t){e.data.href=t}),this.modal=new s.base({el:s.get_element("options-post-types")}),this.modal.before_save=function(){var t=TVE.ajax_data("save_link_post_types","post",{post_types:this.checkbox_values(".post-type")});jQuery.ajax(t).done(function(t){TVE.page_message(t.message)})},this.data={}},read_element:function(t){var e=t&&!t.is("a")?t.parent("a[href]"):t;if(this.$element=null,!e||!e.length)return!1;this.$element=e;var i=this._read(e);return!(!(i=TVE.apply_filters("tcb.link_read",i,e)).href||"javascript:void(0)"===i.href)&&i},_read:function(t){return{a:"link",t:"link",href:t.attr("data-tcb-href")||t.attr("href"),target:t.attr("target")||null,rel:t.attr("rel")||""}},_apply:function(t,e){"link"===t.t&&this.component.$edit_mode.hasClass("tcb-col")&&(t.class="tcb-col"),e.attr("href",t.href),e.attr("class",t.class),TVE.do_action("tcb.link_apply",e,t),TVE.preserve_changed_link(e),t.target?e.attr("target",t.target):e.removeAttr("target"),e.removeClass("tve-dynamic-link tve-jump-scroll").removeAttr("data-dynamic-link data-shortcode-id dynamic-postlink jump-animation");var i="";t.rel&&(i+=" "+t.rel),a.set(a.keys.link_new_tab,!_.isEmpty(t.target)),a.set(a.keys.link_no_follow,!_.isEmpty(t.rel)),e.attr("rel",i)},validate:function(){if(!this.data||!this.data.href)return TVE.page_message(TVE.t.anim.url_miss,!0),!1;if(this.component.$edit_mode.parents("div[data-link-wrap]").parent("a[href]").length||this.component.$edit_mode.find("a[href]").length){var t=this.component.$edit_mode.closest("a[href]").children().first(),e=TVE.t.warning_link_insert_inside_link.split("##split##");return TVE.page_message(e[0]+'<strong>"'+TVE.get_element_name(t)+'"</strong>'+e[1],!0,1e4),!1}return!0},apply_settings:function(){if(!this.validate())return!1;this.data.settings_applied=!0,this.model.set(_.extend({},this.data));var e,i=this,n=this.component.$edit_mode,s=!this.$element||!this.$element.length||!this.$element.attr("href")||"javascript:void(0)"===this.$element.attr("href"),a=!this.$element||!this.$element.length,o=a?null:this._read(this.$element),r=_.extend({},this.data),l=this.model,c=i.component.collection.indexOf(l);return e=this.component.$edit_mode.is("img")?a?this.component.$edit_mode.parent().children().wrapAll('<a href=""></a>').parent():this.$element:a?this.component.$edit_mode.wrapAll('<a href=""></a>').parent():this.$element,a&&n.attr("data-link-wrap",1),this._apply(r,e),TVE.UndoManager.add({undo:function(){a?e.children().first().unwrap():i._apply(o,e);var t=n.data("anim_collection");t.no_preview=t!==i.component.collection,s?t.remove(l):(t.at(c).set(o),t.trigger("add")),delete t.no_preview},redo:function(){a?(n.wrapAll('<a href=""></a>'),i.apply(r,n.parent())):i._apply(r,e);var t=n.data("anim_collection");t.no_preview=t!==i.component.collection,s?t.add(l):(t.at(c).set(r),t.trigger("add")),delete t.no_preview}}),!0},remove:function(e){var i=this.component.$edit_mode,n=i.data("link-wrap"),s=i.closest("a[href]"),a=this,o=this.component.collection.indexOf(e),r=this._read(s);TVE.UndoManager.add({undo:function(){n?(i.wrap('<a href=""></a>'),a._apply(r,i.parent())):a._apply(r,s);var t=i.data("anim_collection");t.no_preview=t!==a.component.collection,t.add(e,{at:o}),delete t.no_preview},redo:function(){n?i.unwrap():s.attr("href","").removeAttr("target").removeAttr("rel");var t=i.data("anim_collection");t.no_preview=t!==a.component.collection,t.remove(t.at(o)),delete t.no_preview}}),i.data("link-wrap")?i.unwrap():s.attr("href","").removeAttr("target").removeAttr("rel"),e.destroy()},attr:function(t,e){return this.data[e.getAttribute("data-attr")]=e.checked?e.value:null,!1},set_model:function(t){return this.model=void 0!==t?t:new Backbone.Model,(!this.model.get("href")||this.model.get("href").length<2)&&(a.get(a.keys.link_new_tab)&&this.model.set("target","_blank"),a.get(a.keys.link_no_follow)&&this.model.set("rel","nofollow")),this.data={a:"link",t:"link",href:this.model.get("href")||"",target:this.model.get("target")||null,rel:this.model.get("rel")||""},this.dom(),this},dom:function(){this.search.set_link(this.data.href),this.$(".target").prop("checked","_blank"===this.data.target),this.$(".rel").prop("checked",this.data.rel&&-1!==this.data.rel.indexOf("nofollow"))},open_settings:function(){return this.modal.open({top:"20%",complete:_.bind(function(){this.search.focus()},this)}),!1}})},"thrive-lightbox.js":function(t,e,i){i("../../base");var n=i("../../controls/list");e.exports=i("../../base").component.extend({controls_init:function(){this.list=new n({el:this.$("#lb-container")[0],items:this.options.actions.thrive_lightbox.data.lightboxes}),this.event_trigger="click",this.$animation=this.$("#lb-animation")},set_model:function(t){return this.model=void 0!==t?t:new Backbone.Model({config:{}}),this.list.set_value(parseInt(this.model.get("config").l_id||0)),this.$animation.val(this.model.get("config").l_anim||this.$animation.find("option").first().val()),this.parent_tab.$("#a-popup-trigger").val(this.model.get("t")||"click"),this},reset:function(){return this.list.select(""),this},validate:function(){return!!this.list.get_value()||(TVE.page_message(TVE.t.anim.lb_missing,!0),!1)},apply_settings:function(t){return!!this.validate()&&(this.model.set({a:this.key,t:this.parent_tab.$("#a-popup-trigger").val(),config:{l_anim:this.$animation.val(),l_id:this.list.get_value()}}),!0)}})},"tooltip.js":function(t,e,i){var n=i("../../base");e.exports=n.component.extend({set_model:function(t){return this.model=void 0!==t?t:new Backbone.Model({config:{}}),this.config=_.extend({},this.model.get("config")),this.config.event_tooltip_position=this.config.event_tooltip_position||this.$("#e-tooltip-position").val(),this.config.event_tooltip_style=this.config.event_tooltip_style||this.$(".t-style").val(),this.dom(),this},dom:function(){this.$("#e-tooltip-text").val(this.config.event_tooltip_text||""),this.$("#e-tooltip-position").val(this.config.event_tooltip_position),this.$(".t-style").val(this.config.event_tooltip_style)},text:function(t,e){this.config.event_tooltip_text=e.value},pos:function(t,e){this.config.event_tooltip_position=this.$(e).val()},style:function(t,e){this.config.event_tooltip_style=this.$(e).val()},validate:function(){return!!this.config.event_tooltip_text||(TVE.page_message(TVE.t.anim.tooltip_miss,!0),this.$("#e-tooltip-text").focus(),!1)},apply_settings:function(){return!!this.validate()&&(this.model.set({a:this.key,t:"mouseenter",config:_.extend({},this.config)}),!0)},preview:function(t,e){TVE.inner.jQuery(".tve_ui_tooltip").remove();var i=t.get("config"),n=TVE.inner.jQuery("<div></div>",{class:"tve_ui_tooltip tve_tooltip_style_"+i.event_tooltip_style+" tve_tooltip_position_"+i.event_tooltip_position});n.text(i.event_tooltip_text).appendTo("body");var s=n.outerWidth(),a=n.outerHeight(),o=0,r=0,l=e[0].getBoundingClientRect();switch(i.event_tooltip_position){case"top":r=(l.right-l.left-s)/2+l.left,o=l.top-a-10;break;case"top_right":r=l.right+10,o=l.top-a-10;break;case"right":r=l.right+10,o=(l.bottom-l.top-a)/2+l.top;break;case"bottom_right":r=l.right+10,o=l.bottom+10;break;case"bottom":r=(l.right-l.left-s)/2+l.left,o=l.bottom+10;break;case"bottom_left":r=l.left-s-10,o=l.bottom+10;break;case"left":r=l.left-s-10,o=(l.bottom-l.top-a)/2+l.top;break;case"top_left":r=l.left-s-10,o=l.top-a-10;break;default:o=r=1}n.css({top:o+"px",left:r+"px"}),setTimeout(function(){TVE.inner.jQuery(".tve_ui_tooltip").remove()},2e3)}})},"video-popup.js":function(t,e,i){var n=i("../../base"),s=i("../../controls/color-picker"),a=i("../../controls/file");e.exports=n.component.extend({template:TVE.tpl("controls/video-settings"),_template:TVE.tpl("controls/drop-panel-light"),controls_init:function(){this.render(),this.$source=this.$(".v-source"),this.providers={},this.$(".v-settings").each(_.bind(function(t,e){var i=e.getAttribute("data-view");this.providers[i.toLowerCase()]=new TVE.VideoProviders[i]({el:e,key:i.toLowerCase(),control:this})},this))},remove_provider:function(t){return delete this.providers[t],this.$source.find('option[value="'+t+'"]').remove(),this},show_section:function(){_.each(this.providers,function(t){t.$el.hide()});var t=this.$source.val();t?("vimeo"===t||"custom"===t||"external"===t?this.$el.children(".responsive-video-time-label").addClass("tcb-hidden"):this.$el.children(".responsive-video-time-label").removeClass("tcb-hidden"),this.active_view=this.providers[t].show()):this.$el.children(".responsive-video-time-label").addClass("tcb-hidden")},set_model:function(t){this.active_view=null,this.model=void 0!==t?t:new Backbone.Model({config:{}});var e=_.extend({},this.model.get("config"));return e.s?(this.$source.val(e.s),this.show_section(),this.active_view.set_config(e.p)):this.reset(),this.parent_tab&&this.parent_tab.$("#a-popup-trigger").val(this.model.get("t")||"click"),this},reset:function(){this.active_view=null,this.$source.val(""),this.show_section(),_.each(this.providers,function(t){t.reset&&t.reset()})},validate:function(){return this.active_view?this.active_view.validate():(TVE.page_message(TVE.t.anim.vs_missing,!0),!1)},apply_settings:function(){return!!this.validate()&&(this.model.set(this.get_data()),!0)},get_data:function(){return{a:this.key,t:this.parent_tab?this.parent_tab.$("#a-popup-trigger").val():"click",config:{s:this.$source.val(),p:_.extend({},this.active_view.config)}}},get_provider:function(t){return this.providers[t]?this.providers[t]:null},get_embed_code:function(t,e){if(!this.active_view)return"";switch(t){case"background":return this.active_view.get_background_embed();case"responsive":return this.active_view.get_responsive_video(e)}return""}}),TVE.VideoProviders={},TVE.VideoProviders.Base=n.component.extend({initialize:function(t){var n=this;this.config={},this.$("input[data-setting],select[data-setting],textarea[data-setting]").on("change",function(){var t=this.getAttribute("data-setting"),e=n.$(this),i="checkbox"==e.attr("type")?e.prop("checked"):e.val();"function"==typeof n["validate_"+t]&&!n["validate_"+t](i)||i==n.config[t]||(n.config[t]=i)}),"function"==typeof this.after_init&&this.after_init(),this.colorpicker(),this.control=t.control,this.key=t.key},colorpicker:function(){var t=this.$(".v-setting-color");return t.length&&(this.picker=new s({el:t[0],model:{config:{options:{output:"object",preferredFormat:"hex",showInput:!0,showGradient:!1,showAlpha:!1,allowEmpty:!0,showGlobals:!1}}},change:_.bind(this.color_change,this)})),this},color_change:function(t){this.config.c=t?t.toHexString().replace("#",""):"",this.control.trigger("color-change",t)},after_init:function(){this.$m=this.$(".inline-message")},message:function(t,e){return e=e||"info",this.$m.removeClass("m-success m-info m-error").addClass("m-"+e).empty(),"success"!==e&&"error"!==e||(t=TVE.icon("success"===e?"check":"close2")+"&nbsp;"+t),this.$m.html(t),setTimeout(function(t){t.empty()},5e3,this.$m),this},reset:function(){this.$("input[data-setting],select[data-setting]").not("input:checkbox").val(""),this.$("input:checkbox").prop("checked",!1).filter('[data-setting="a"]').prop("checked",!0).trigger("change"),this.$m&&this.$m.empty(),this.picker&&this.picker.setValue("")},set_config:function(t){return this.config=_.extend({},t||{}),this.picker&&this.picker.setValue("#"+(this.config.c||"ffffff")),this.dom(),this.after_set_config(),this},after_set_config:function(){this.url_valid=!!this.config.url,void 0===this.config.a&&this.$('input[data-setting="a"]').prop("checked",!0).trigger("change")},dom:function(){return _.each(this.config,function(t,e){var i=this.$('[data-setting="'+e+'"]');"checkbox"===i.attr("type")?i.prop("checked",!!t):i.val(t)},this),this},validate:function(){return this.config.url?!!this.url_valid||(TVE.page_message(TVE.t.anim.vu_invalid,!0),!1):(TVE.page_message(TVE.t.missing_invalid_url,!0),!1)},get_background_embed:function(){return this.url_valid?'<iframe data-provider="'+this.key+'" src="'+this.get_background_embed_url()+'" frameborder="0" allowtransparency="true" style="display: block"></iframe>':""},get_responsive_video:function(t){return this.url_valid?'<iframe data-code="'+this.config.id+'" data-provider="'+this.key+'" src="'+this.get_embed_url(t)+'" data-src="'+this.get_embed_url(t)+'" frameborder="0" allowfullscreen></iframe>':""}}),TVE.VideoProviders.Youtube=TVE.VideoProviders.Base.extend({api_key:"AIzaSyD9QcdlSlJ2yEg2DmE_ULM2hZCxChaYMD8",type:null,yt_id:function(t){return!(!(t=t||this.config.url)||!t.length)&&(!!t.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/)&&RegExp.$1)},yt_playlist_id:function(t){return!(!(t=t||this.config.url)||!t.length)&&(!!t.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|list\/|playlist\?list=|playlist\?.+&list=))((\w|-){34})(?:\S+)?$/)&&RegExp.$1)},validate_url:function(t){if(!t)return this.message("You must provide a non-empty URL","error"),!1;if(this.url_valid=!0,this.config.id=this.yt_id(t),this.type=null,this.config.id)this.type="video";else{if(this.config.id=this.yt_playlist_id(t),!this.config.id)return this.message(TVE.t.anim.video_id_err,"error"),!1;this.type="playlist"}if(!this.type)return this.message(TVE.t.anim.video_id_err,"error"),!1;this.message("Getting video information...","info");var e="https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+this.config.id+"&key="+this.api_key;return"playlist"===this.type&&(e="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+this.config.id+"&key="+this.api_key),jQuery.getJSON(e).done(_.bind(function(t){var e=this.get_video_title(t);e?this.message(e,"success"):this.message(TVE.t.anim.video_info_err,"error"),this.control.trigger("change",this.control.get_data())},this)).fail(_.bind(function(){this.message(TVE.t.anim.video_info_err,"error")},this)),!0},get_video_title:function(t){return!!(t&&t.items&&t.items.length&&t.items[0].snippet&&t.items[0].snippet.title)&&t.items[0].snippet.title},get_embed_url:function(t){return t=void 0===t?"":t,"playlist"===this.type?("?"===t.charAt(0)&&(t="&"+t.substring(1)),"https://www.youtube.com/embed?listType=playlist&list="+this.config.id+t):"https://www.youtube.com/embed/"+this.config.id+t},get_background_embed:function(){return this.config.id&&this.url_valid?'<div data-url="'+this.config.url+'" data-yt-id="'+this.config.id+'" class="tcb-yt-bg" id="tcb-yt-'+TVE.CSS_Rule_Cache.generate_id("")+'"></div>':""}}),TVE.VideoProviders.Vimeo=TVE.VideoProviders.Base.extend({validate_url:function(t){return this.url_valid=!1,t?(this.message("Getting video information...","info"),jQuery.getJSON("https://vimeo.com/api/oembed.json?url="+t).done(_.bind(function(t){if(!t||!t.video_id)return this.message(TVE.t.anim.video_info_err,"error"),!1;t.title?this.message((t.author_name?t.author_name+" - ":"")+t.title,"success"):this.message(TVE.t.anim.video_info_priv,"error");var e=t.width,i=t.height;e<i&&1.7<i/e&&(this.config.vertical=!0),this.config.id=String(t.video_id),this.url_valid=!0,this.control.trigger("change",this.control.get_data())},this)).fail(_.bind(function(){this.message(TVE.t.anim.video_info_err,"error")},this)),!0):(this.message(TVE.t.missing_invalid_url,"error"),!1)},get_background_embed_url:function(){return"https://player.vimeo.com/video/"+this.config.id+"?loop=1&autoplay=1&background=1&muted=1&autopause=0"},after_set_config:function(){!this.config.id&&this.config.url?this.validate_url(this.config.url):this.config.id&&(this.url_valid=!0)},get_embed_url:function(t){return t=void 0===t?"":t,"https://player.vimeo.com/video/"+this.config.id+t}}),TVE.VideoProviders.Wistia=TVE.VideoProviders.Base.extend({validate_url:function(t){if(this.url_valid=!1,!t)return this.message(TVE.t.missing_invalid_url,"error"),!1;var e=this.video_id(t);return e?(this.config.id=e,this.message("Getting video information...","info"),jQuery.getJSON("https://fast.wistia.net/oembed?url="+t).done(_.bind(function(t){if(this.url_valid=!0,this.control.trigger("change",this.control.get_data()),!t||!t.title)return this.message(TVE.t.anim.wistia_info_warn,"warning"),!1;this.message(t.title,"success")},this)).fail(_.bind(function(){this.message(TVE.t.anim.wistia_info_warn,"warning")},this)),!0):(this.message(TVE.t.anim.video_id_err,"error"),!1)},video_id:function(t){var e=new RegExp("https?://(.+)?(wistia.com|wi.st)/(medias|embed)/(.+)"),i=new RegExp("https?://(.+)?fast.wistia.net/embed/(.+?)/(.+)");return t.match(e)?RegExp.$4:!!t.match(i)&&RegExp.$3},migrate:function(t){var e=t.config,i={a:"thrive_video",t:"click",config:{s:"wistia",p:{url:e.event_video_url||"",c:(e.event_video_color||"").replace("#",""),p:!!e.event_option_play_bar,cv:!!e.event_option_onload,hfs:!!e.event_option_fs,a:!0}}};return i.config.p.id=this.video_id(i.config.p.url),!!i.config.p.id&&i},get_background_embed:function(){return this.url_valid?'<script src="//fast.wistia.com/embed/medias/'+this.config.id+'.jsonp" async><\/script><script src="//fast.wistia.com/assets/external/E-v1.js" async><\/script><div data-id="'+this.config.id+'" class="wistia_embed wmode=transparent playButton=false autoPlay=1 controlsVisibleOnLoad=0 fullscreenButton=0 volume=0 wistia_async_'+this.config.id+'" style="width: 100%;height: 100%">&nbsp;</div>':""},get_embed_url:function(t){return t=void 0===t?"":t,"https://fast.wistia.net/embed/iframe/"+this.config.id+t}}),TVE.VideoProviders.BuiltIn=TVE.VideoProviders.Base.extend({get_background_embed:function(){return this.attachment?(this.attachment.mime||"string"!=typeof this.attachment.url||this.compute_attachment_mime(),'<video playsinline autoplay muted loop class="tcb-bg-video" data-title="'+this.attachment.title+'" data-id="'+this.attachment.id+'"><source src="'+this.attachment.url+'" type="'+this.attachment.mime+'"></video>'):""},get_responsive_video:function(t){return!this.attachment&&this.config.attachment&&(this.attachment=this.config.attachment),this.attachment?(this.attachment.mime||"string"!=typeof this.attachment.url||this.compute_attachment_mime(),-1!==this.attachment.mime.indexOf("quicktime")&&(this.attachment.mime=""),'<video style="width: 100%;" playsinline class="tcb-responsive-video" data-title="'+this.attachment.title+'" data-id="'+this.attachment.id+'"  '+t+'><source src="'+this.attachment.url+'" type="'+this.attachment.mime+'"></video>'):""},compute_attachment_mime:function(){var t=this.attachment.url.split(".").pop().toLowerCase();"string"==typeof this.allowedMimeTypes[t]&&(this.attachment.mime=this.allowedMimeTypes[t])}}),TVE.VideoProviders.Custom=TVE.VideoProviders.BuiltIn.extend({allowedMimeTypes:{asf:"video/x-ms-asf",asx:"video/x-ms-asf",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wm:"video/x-ms-wm",avi:"video/avi",divx:"video/divx",flv:"video/x-flv",mov:"video/quicktime",qt:"video/quicktime",mpeg:"video/mpeg",mpg:"video/mpeg",mpe:"video/mpeg",mp4:"video/mp4",m4v:"video/mp4",ogv:"video/ogg",webm:"video/webm",mkv:"video/x-matroska"},after_init:function(){this.file_picker=new a({template_name:"util/video-file-picker",labels:{choose:TVE.t.ChooseVideo,title:TVE.t.Videos},config:{type:"video"}}),this.$el.prepend(this.file_picker.$el),this.file_picker.on("select",_.bind(this.on_select,this)).on("remove",_.bind(this.on_remove,this))},after_set_config:function(){TVE.VideoProviders.Base.prototype.after_set_config.apply(this,arguments),this.file_picker.set(this.config),this.config.attachment&&(this.attachment=this.config.attachment)},on_select:function(t){this.attachment=t,this.config.id=t.id,this.config.title=t.title,this.config.id||(this.config.url=t.url,this.config.id="tcb-custom-"+Math.round(900*Math.random()+100)),this.config.url&&!this.config.title&&(this.attachment.title=this.config.url.replace(/\/$/,"").split("/").pop()),this.control.trigger("change",this.control.get_data())},on_remove:function(){this.config={},this.attachment=null,this.control.trigger("change",this.control.get_data())},validate:function(){return!(!this.config.id&&!this.config.url)||(TVE.page_message("required_video",!0),!1)},reset:function(){this.file_picker.set({})}}),TVE.VideoProviders.External=TVE.VideoProviders.BuiltIn.extend({allowedMimeTypes:{wmv:"video/x-ms-wmv",avi:"video/avi",mov:"video/quicktime",mpg:"video/mpeg",mp4:"video/mp4",m4v:"video/mp4",ogv:"video/ogg","3gp":"video/3gpp","3g2":"video/3gpp2"},validate_url:function(t){if(this.url_valid=!1,this.$el.find("input").removeClass("tve-error-highlight"),!t)return this.message(TVE.t.missing_invalid_url,"error"),this.highlightInput(),!1;var e=t.split(".").pop().toLowerCase();return"string"!=typeof this.allowedMimeTypes[e]?(this.message(TVE.t.anim.video_format_err,"error"),this.highlightInput(),!1):(this.message("Getting video information...","info"),this.url_valid=!0,this.attachment={title:t.split("-").pop(),url:t,mime:this.allowedMimeTypes[e],id:Math.round(900*Math.random()+100)},this.config.id="tcb-custom-"+this.attachment.id,this.message("Video loaded","success"),this.control.trigger("change",this.control.get_data()),!0)},reset:function(){this.$el.find("input").text("")},highlightInput:function(){var t=this;this.$el.find("input").addClass("tve-error-highlight"),setTimeout(function(){t.$el.find("input").removeClass("tve-error-highlight")},6e3)}}),TVE.VideoProviders.VooPlayer=TVE.VideoProviders.Base.extend({validate_url:function(t){return this.url_valid=!1,t?(this.url_valid=!0,this.config.id=this.player_id(t),this.config.id?(this.message(TVE.t.anim.video_voo_success,"success"),this.config.url=t,this.control.trigger("change",this.control.get_data()),!0):(this.message(TVE.t.anim.video_id_err,"error"),!1)):(this.message(TVE.t.missing_invalid_url,"error"),!1)},player_id:function(t){var e="";return t&&t.match(new RegExp("https?://(.+).(cdn.vooplayer.com)/publish/(.+)"))&&(e=RegExp.$3),e},get_domain:function(t){var e="";return t&&t.match(new RegExp("https?://(.+).(cdn.vooplayer.com)/publish/(.+)"))&&(e=RegExp.$1),e},get_background_embed_url:function(){return"//".concat(this.get_domain(this.config.url),".cdn.vooplayer.com/publish/").concat(this.config.id)},after_set_config:function(){!this.config.id&&this.config.url?this.validate_url(this.config.url):this.config.id&&(this.url_valid=!0)},get_embed_url:function(t){return t=void 0===t?"":t,"//".concat(this.get_domain(this.config.url),".cdn.vooplayer.com/publish/").concat(this.config.id).concat(t)},get_background_embed:function(){return this.url_valid?'<iframe data-playerId="'+this.config.id+'" allow="autoplay" class="tcb-voo-bg" data-provider="'+this.key+'" src="'+this.get_background_embed_url()+'" frameborder="0" allowtransparency="true" style="display: block"></iframe>':""},get_responsive_video:function(){return this.url_valid?'<iframe allow="autoplay" data-code="'+this.config.id+'" data-provider="'+this.key+'"class="video-player-container vooplayer" data-playerId="'+this.config.id+'" url-params="" allowtransparency="true"  name="vooplayerframe" frameborder="0" allowfullscreen="true" scrolling="no" src="" style="max-width: 100%; position:relative; opacity: 1; min-width: 100%; height:100% !important; width: auto; top: auto;"> </iframe>':""},init_video:function(){"function"==typeof TVE.inner.window.initVooPlayer&&TVE.inner.window.initVooPlayer()}})}},"animation.js":function(t,e,i){var n,s,r,a,o,l,c;n=jQuery,s=i("../base"),r={},a=i("../../libs/event-manager"),o=i("../controls/drop-panel"),l=Backbone.Collection.extend({default_state_triggers:["tve-viewport","click","link"],hover_state_triggers:["mouseenter","mouseover"],get_by_state:function(e){if(e!==TVE.state_manager.default&&e!==TVE.state_manager.hover)return[];var i=[];return this.each(function(t){0<=this[e+"_state_triggers"].indexOf(t.get("t"))&&i.push(t)},this),i}}),c=o.extend({template:n.noop,_template:TVE.tpl("controls/drop-panel-light"),initialize:function(e){var t=this.$el,i=this;this.actions={},this.parent=e.parent,this.$(".action-settings").each(function(){var t=function(t,e){for(var i,n,s=t.split("."),a=r,o=0;n=s[o++];)if(1!==o){if(!i[n])throw new Error("Could not instantiate: "+t);i=i[n]}else if(!(i=a[n]?a[n]:window[n]))throw new Error("Could not instantiate: "+t);return i.prototype.after_init=function(t){t.key&&(this.key=t.key)},new i(e)}(this.getAttribute("data-view"),{el:this,options:e.parent.options,key:this.getAttribute("data-action")});t.parent_tab=i,t.component=e.parent,i.parent.views[this.getAttribute("data-action")]=t,i.actions[this.getAttribute("data-action")]=t}),o.prototype.initialize.apply(this,arguments),this.$(".popup-content").append(t)},action_select:function(t,e){var i=_.isString(t)?t:e.value;_.each(this.actions,function(t){t.hide()}),this.$('.action-chooser[value="'+i+'"]').prop("checked",!0),this.current_model&&!this.actions[i].model&&this.actions[i].set_model(this.current_model),this.actions[i].show();this.$(".action-collection");this.parent.active_view=this.actions[i]},state_add:function(){return delete this.current_model,_.each(this.actions,function(t){t.hide(),t.set_model()}),1===Object.keys(this.actions).length&&(this.parent.active_view=this.actions[Object.keys(this.actions)[0]].show()),this.$(".action-chooser:checked").trigger("change"),this},state_edit:function(t){return this.current_model=t,this.action_select(t.get("a")),this},cancel:function(){return this.parent.cancel.apply(this.parent,arguments)},apply:function(){return this.parent.apply.apply(this.parent,arguments)},onOpen:function(){(this.parent.opened_tab=this).actions.thrive_animation instanceof s.component&&this.actions.thrive_animation.update()},validate:function(){return!(!this.parent.active_view||!this.parent.active_view.apply_settings(this.parent.$element))},show:function(){return this.$(".action-tab").show(),this.visible=!0,o.prototype.show.call(this,arguments)}}),r.ThriveLightbox=i("./animation/thrive-lightbox"),r.Animation=i("./animation/css-animation"),r.VideoPopup=i("./animation/video-popup"),r.ImageZoom=i("./animation/image-zoom"),r.Tooltip=i("./animation/tooltip"),r.ThriveLightboxClose=i("./animation/close-lightbox"),r.Link=i("./animation/link"),r.ActionDefault=s.component.extend({set_model:function(t){return this.model=void 0===t?new Backbone.Model:t,this},apply_settings:function(){return this.model.set({a:this.key,t:this.component.options.actions[this.key]?this.component.options.actions[this.key].trigger:"click"}),!0}}),e.exports={views:r,component:s.component.extend({extra_states:!0,disabled_devices:["mobile","tablet"],disabled_tooltip:TVE.t.animation_disabled,migrate:{thrive_wistia:function(t){return!(!this.views.thrive_video||!this.views.thrive_video.get_provider("wistia"))&&this.views.thrive_video.get_provider("wistia").migrate(t)}},show_hide:function(){this.$tabs.removeClass("active"),_.each(this.options.tabs,function(t,e){var i=t.on_states&&-1!==t.on_states.indexOf(TVE.state_manager.get_state());this.$tabs.filter('[data-value="'+e+'"]').not(".control-hide").css("display",i?"":"none")},this);var i=this;i.config.hide_items instanceof Array&&this.$tabs.filter(function(t,e){return i.config.hide_items.includes(e.dataset.value)}).css("display","none"),this.$sections.hide(),this.$(".action-item").show(),_.each(this.options.actions,function(t,e){t.visible||n('.action-settings[data-action="'+e+'"]').closest(".action-item").hide()},this),this.tabs.popup&&this.tabs.popup.$(".animation-popup-trigger").show(),TVE.do_action("tcb.animation.show_hide.".concat(TVE._type(TVE.ActiveElement)),this)},reinit:function(){this.show_hide(),_.each(this.views,function(t){"function"==typeof t.reinit&&(t.options=this.options,t.reinit())},this)},controls_init:function(){var t=this;this.tabs={},this.views={},this.$tabs=this.$("#tcb-anim-buttons .tve-btn"),this.$sections=this.$(".action-tab").each(function(){t.tabs[this.getAttribute("data-tab")]=new c({el:this,parent:t})}),this.$list=this.$("#tcb-anim-list"),this.show_hide(),TVE.add_action("tcb.group_edit.status",this.onLockUnlock.bind(this))},init_collection:function(){this.collection=this.$element.data("anim_collection"),this.collection instanceof l||(this.collection=new l,this.collection.$elem=this.$element,this.listenTo(this.collection,"reset",this.render_preview),this.listenTo(this.collection,"add",this.event_write),this.listenTo(this.collection,"write_events",this.event_write),this.listenTo(this.collection,"remove",this.event_write),this.$element.data("anim_collection",this.collection))},onLockUnlock:function(){this.opened_tab&&this.opened_tab.onCancel(),this.update()},setConfig:function(t){this.config=t},before_update:function(){if(this.$element=TVE.apply_filters("tcb.animation.element.".concat(TVE._type(TVE.ActiveElement)),TVE.ActiveElement,this,this.config),this.$edit_mode=this.$element.filter(".edit_mode"),this.config.to&&(this.$element=this.$element.find(this.config.to),this.$edit_mode=this.$edit_mode.find(this.config.to)),this.$element){var t=a.read(this.$element);if(this.views.link){var e=this.views.link.read_element(this.$edit_mode);e&&(e.skip_save=!0,t.push(e))}this.element_events=TVE.apply_filters("tcb.animation.events.".concat(TVE._type(TVE.ActiveElement)),t,this),this.init_collection(),this.collection.reset(this.element_events),this.ensure_bc()&&this.collection.trigger("write_events"),this.show_hide()}},ensure_bc:function(){var t=!1,e=!1;do{t=!1;for(var i,n=0;i=this.element_events[n++];)if(void 0!==this.migrate[i.a]){this.element_events[n-1]=this.migrate[i.a].call(this,i),e=t=!0;break}t&&(this.element_events=this.element_events.filter(function(t){return!1!==t}))}while(t);return e},event_write:function(){a.write(this.$element.data("anim_collection").toJSON(),this.$element),this.$element.data("anim_collection").no_preview||this.render_preview()},render_preview:function(){var e=this;this.$list.empty();var n=TVE.tpl("animation/preview");_.isArray(this.config.hide_items)&&this.collection.filter(function(t){return!e.config.hide_items.includes(t.get("a"))}),this.collection.get_by_state(TVE.state_manager.get_state()).length?this.collection.each(function(t,e){if(!(t.collection[TVE.state_manager.get_state()+"_state_triggers"].indexOf(t.get("t"))<0)){var i=this.views[t.get("a")];this.$list.append(n({preview_none:!1,action:t.get("a"),trigger:t.get("t"),trigger_text:this.get_trigger_text(t),action_text:this.get_action_text(t),has_preview:i&&"function"==typeof i.preview,i:e}))}},this):this.$list.append(n({preview_none:!0}))},get_label:function(t,e){return t?_.isString(t)?TVE.truncate(t):t.__config_key?TVE.truncate(t[e[t.__config_key]]):void 0:"_no_label"},get_action_text:function(t){if(!t.get("a"))return"";if("link"===t.get("a"))return TVE.truncate(t.get("href"));var e=this.options.actions[t.get("a")];return this.get_label(e?e.labels:void 0,t.get("config"))},get_trigger_text:function(t){return t.get("t")?"link"===t.get("a")?TVE.apply_filters("tcb.get_link_text",TVE.t.Link,t):this.options.triggers[t.get("t")].label:""},tab_click:function(t,e){return-1!==e.className.indexOf("active")?(this.opened_tab&&this.opened_tab.onCancel(),e.classList.remove("active"),this.$sections.hide()):(this.opened_tab&&this.opened_tab.onCancel(),this.$tabs.removeClass("active"),e.classList.add("active"),this.$sections.hide().filter(".action-"+e.getAttribute("data-value")).show(),this.tabs[e.getAttribute("data-value")].open(null,e),this.tabs[e.getAttribute("data-value")].state_add()),!1},tab_hide:function(t){this.$tabs.filter(t).addClass("control-hide")},cancel:function(t){this.$tabs.removeClass("active")},edit:function(t,e){this.$sections.hide();var i=e.getAttribute("data-index"),n=this.collection.at(i),s=this.views.link.$(".tcb-link-suggest"),a=this.$(e).closest(".animation-item");n.index=i,n.get("elementType")&&n.unset("elementType"),this.views.link&&this.views.link.read_element(this.$edit_mode),this.find_tab(n.get("a")).show().state_edit(n).position(e,a),s.focus(),this.active_view=this.views[n.get("a")].set_model(n).show(),"function"==typeof this.active_view.update&&this.active_view.update()},preview:function(t,e){var i=e.getAttribute("data-index"),n=this.collection.at(i);return this.views[n.get("a")].preview(n,this.$element,e),!1},has_action:function(t,e){return!!this.collection.findWhere({t:t,a:e})},add_action:function(t,e,i){return this._handle_save(new Backbone.Model({t:t,a:e,c:i||{}}))},remove_action:function(t,e){var i=this.collection.findWhere({t:t,a:e});i&&this._handle_remove(i)},_handle_save:function(e,i){var t,n=void 0===e.index,s=e.index,a=_.extend({},e.toJSON()),o=this,r=e.get("t");if(n&&(t=this.collection.findWhere({t:e.get("t")}))&&(n=!1,s=this.collection.indexOf(t),i=_.extend({},t.toJSON()),TVE.do_action("tcb.link.linkreplace",t),t.set(a),TVE.page_message(TVE.t.anim.evt_replaced)),("link"===r&&this.collection.findWhere({t:"click"})||"click"===r&&this.collection.findWhere({t:"link"}))&&TVE.page_message(TVE.t.anim.multiple_click_events,-1),n?this.collection.add(e):this.collection.trigger("add"),e.get("settings_applied"))return!0;var l=o.$element;TVE.UndoManager.add({undo:function(){var t=l.data("anim_collection");t.no_preview=t!==o.collection,n?t.remove(e):(t.at(s).set(i),t.trigger("add")),delete t.no_preview},redo:function(){var t=l.data("anim_collection");t.no_preview=t!==o.collection,n?t.add(e):(t.at(s).set(a),t.trigger("add")),delete t.no_preview}})},_handle_remove:function(e){var i=this,n=this.collection.indexOf(e),s=i.$element;if("link"===e.get("a")&&this.views.link)return this.views.link.remove(e),!1;TVE.UndoManager.add({undo:function(){var t=s.data("anim_collection");t.no_preview=t!==i.collection,t.add(e,{at:n}),delete t.no_preview},redo:function(){var t=s.data("anim_collection");t.no_preview=t!==i.collection,t.remove(t.at(n)),delete t.no_preview}}),e.destroy()},apply:function(t,e){var i=_.extend({},this.active_view.model.attributes);return this._handle_save(this.active_view.model,i),TVE.do_action("tcb.animations.after_apply"),this.active_view=null,this.cancel(),!1},find_tab:function(t){return this.views[t].parent_tab},remove:function(t,e){var i=e.getAttribute("data-index"),n=this.collection.at(i);return this._handle_remove(n),TVE.do_action("tcb.animations.after_remove"),TVE.Components.image.update("ImageFullSize"),o.close_all(),!1},reset:function(){this.cancel()},bg_color_changed:function(t){var e=this.collection.findWhere({a:"thrive_animation",t:"mouseover"});if(void 0!==e){var i={model:e,control:null,css:null};return _.extend(i,t),this.views.thrive_animation.adjust(i)}}})}},"audio.js":function(t,e,i){var n;jQuery,n=i("../base"),e.exports=n.component.extend({audio:function(){return i("../controls/audio/audio")}})},"background.js":function(t,e,i){var a=i("../../models/base"),n=i("../../collections/gradient"),s=i("../base"),r=i("../../libs/gradient-parser"),l=i("../../libs/gradient-builder"),o=i("../controls/button-panel-group"),c=i("../controls/background/solid"),d=i("../controls/background/image"),h=i("../controls/background/effects"),u=i("../controls/background/gradient"),p=i("../controls/background/gradient-pattern"),f=i("../../libs/tinycolor"),m=new n,g=new Backbone.Collection({}),v=!1;e.exports=s.component.extend({effectsItemsCollection:new Backbone.Collection({}),deps:["animation"],extra_states:!0,important:!1,controls_init:function(){this.important=!0,TVE.add_filter("tcb.droppanel.enter.pressed",function(t,e){return e.is(".sp-input")&&(t=!1),t}),this.init_layers();var t=this.get_collection(),l=this.get_effect_collection(),e=this;this.controls.PreviewList.attach_collection(t),this.controls.PreviewList.on("item_click",_.bind(this.edit_layer,this)),this.listenTo(t,"add",this.apply_css),this.listenTo(t,"reset",this.apply_css),this.listenTo(t,"remove",this.apply_css),this.listenTo(t,"change",this.apply_css),this.listenTo(t,"save_states",_.bind(this.read_initial_state,this,t)),this.controls.PreviewList.get_items=function(t){var i=r(this.applyTo(!1,!1,TVE.is_group_editing).head_css("background-image",null,this.config.css_suffix,!0,this.config.css_prefix)),n=(t.css("background-size")||"").split(","),s=(t.css("background-attachment")||"").split(","),a=(t.css("background-position")||"").split(","),o=(t.css("background-repeat")||"").split(",");return i.forEach(function(t,e){i[e].size=n[e]||"auto auto",i[e].attachment=s[e]||"scroll",i[e].repeat=o[e]||"scroll",i[e].position=a[e]||"scroll"}),i},this.controls.PreviewFilterList.on("item_click",_.bind(function(t,e){var i=this.tabs.panel("effects");if(i.isOpen())return i.onCancel(),!1;var n=new a(i.get_default_data());return n.saveState(),n.set("key",t.get("key")),i.reset(n),i.open(null,e),!1},this)),this.controls.PreviewFilterList.attach_collection(l),this.listenTo(l,"reset_background_effects",function(t){var e=this.controls.PreviewFilterList.config,i={},n=this.controls.PreviewFilterList.applyTo();i.filter=t.get("prev_filter_css"),i.opacity=t.get("prev_opacity_css"),n.head_css(i,null,e.css_suffix,!0,e.css_prefix)},this),this.listenTo(l,"refresh_background_effects",function(){this.controls.PreviewFilterList.update(this.controls.PreviewFilterList.applyTo())},this),this.listenTo(l,"apply_background_effects",function(t){this.controls.PreviewFilterList.applyElementCss(_defineProperty({},t.get("property"),t.get("value")))},this);var c={grayscale:{value:0,prop:"grayscale",show:!1,label:"Greyscale (%s%)",defaults:"grayscale(0%)"},brightness:{value:100,prop:"brightness",show:!1,label:"Brightness (%s%)",defaults:"brightness(100%)"},sepia:{value:0,prop:"sepia",show:!1,label:"Sepia (%s%)",defaults:"sepia(0%)"},contrast:{value:100,prop:"contrast",show:!1,label:"Contrast (%s%)",defaults:"contrast(100%)"},blur:{value:0,prop:"blur",show:!1,label:"Blur (%s%)",defaults:"blur(0px)"},invert:{value:0,prop:"invert",show:!1,label:"Invert (%s%)",defaults:"invert(0%)"},saturate:{value:100,prop:"saturate",show:!1,label:"Saturate (%s%)",defaults:"saturate(100%)"},huerotate:{value:0,prop:"hue-rotate",show:!1,label:"Hue Rotate (%s%)",defaults:"hue-rotate(0deg)"}},d=TVE.apply_filters("tcb.bg_effects_elements",["contentbox","section","lpblock"]);this.listenTo(l,"remove",_.bind(function(i){if("filter"===i.get("property")){var n=this.controls.PreviewFilterList.applyTo().css("filter").split(" ");jQuery.each(n,function(t,e){0===e.indexOf(i.get("key"))&&(n[t]=c[i.get("key").replace("-","")].defaults)});var t=this.controls.PreviewFilterList.config,e={},s=this.controls.PreviewFilterList.applyTo();e.filter=n.join(" ").trim(),s.head_css(e,null,t.css_suffix,!0,t.css_prefix)}else l.trigger("apply_background_effects",new a({property:i.get("property"),value:""}))},this)),this.controls.PreviewFilterList.update=_.bind(function(t){var i=[],e=parseFloat(t.css("opacity")),n=t.css("filter"),s=TVE._type(TVE.ActiveElement),a=this.$('[data-key="PreviewFilterList"]'),o=this.$('[data-panel="effects"]');if(a.hide(),o.hide(),1!==e&&i.push({icon:"",key:"opacity",property:"opacity",label:"Opacity ("+parseInt(100*e)+"%)"}),n&&"none"!==n){var r=n.split(" ");_.each(r,function(i,t){_.each(c,function(t,e){0===i.indexOf(t.prop)&&(c[e].value=h.parse_filter_property_css(i))})}),c.grayscale.value=parseInt(c.grayscale.value<100?100*c.grayscale.value:c.grayscale.value),c.grayscale.show=0!==c.grayscale.value,c.brightness.value=parseInt(100*c.brightness.value),c.brightness.show=100!==c.brightness.value,c.contrast.value=parseInt(100*c.contrast.value),c.contrast.show=100!==c.contrast.value,c.saturate.value=parseInt(100*c.saturate.value),c.saturate.show=100!==c.saturate.value,c.blur.value=parseInt(c.blur.value<100?100*c.blur.value:c.blur.value),c.blur.show=0!==c.blur.value,c.sepia.value=parseInt(c.sepia.value<100?100*c.sepia.value:c.sepia.value),c.sepia.show=0!==c.sepia.value,c.invert.value=parseInt(c.invert.value<100?100*c.invert.value:c.invert.value),c.invert.show=0!==c.invert.value,c.huerotate.value=parseInt(c.huerotate.value),c.huerotate.show=0!==c.huerotate.value,_.each(c,function(t,e){t.show&&i.push({icon:"",key:t.prop,property:"filter",label:t.label.replace("%s",t.value)})})}h.set_main_element(this.controls.PreviewFilterList.applyTo()),l.reset(i),d.includes(s)&&(0<i.length&&a.show(),o.show()),this.setLayerMasterColor()},this),this.controls.ColorPicker.input=function(t){this.css_variable&&(t=this.css_variable),t=this.cssImportant(t||"transparent"),t=TVE.apply_filters("tcb.bg_component_color",t),this.applyElementCss({"background-color":t});var e=TVE._type(TVE.ActiveElement),i=TVE.Elements[e].components.animation;i&&!0!==i.hidden&&TVE.Components.animation.bg_color_changed({css:{"background-color":t},control:this})},this.controls.ColorPicker.change=function(t){this.applyElementCss({"background-color":this.cssImportant(t||"transparent")}),t=t||f("rgba(0,0,0,0)"),TVE.isCssVariable(t)&&(t=new f(TVE.getCssVariableValue(t))),TVE.state_manager.is_default()?e.backgroundColor=t.toPercentageRgb():e.hoverBackgroundColor=t.toPercentageRgb(),e.setLayerMasterColor()},this.controls.ColorPicker.update=function(t){this.read_background(t),e.setLayerMasterColor()}},get_collection:function(){return m},getCollectionByType:function(t){return m.where({type:t})},setMasterColor:function(e){e=e||this.controls.ColorPicker.getValue(),_.each(TVE.Components,function(t){t.controls&&t.controls.MasterColor&&t.controls.MasterColor.setValue(e)})},changeColorPallette:function(i){var n,s=this;i.color&&(this.controls.PreviewList.update(),(TVE.state_manager.is_default()||s.hasHoverState("layer")||!TVE.state_manager.induced_state&&!TVE.state_manager.is_default())&&(_.each(m.models,function(t,e){t.set({gradient_css_variable:null},{silent:!0}),n=TVE.state_manager.is_default()?s.originalColor[e]:s.hoverOriginalColor[e],"pattern"!=t.attributes.type&&"url"!=t.attributes.type&&t.attributes.colorStops.forEach(function(t,e){n&&(TVE.isCssVariable(n[e])&&(n[e]=TVE.getCssVariableValue(n[e])),t.value=TVE.generateOffsetColor(i.originalColor,i.color,n[e]).toRgbString(),t.css_variable=null)})}),v=!0,this.apply_css(),v=!1),s.changeBackgroundColor(i))},changeBackgroundColor:function(t){if(TVE.state_manager.is_default()||this.hasHoverState("background")||!TVE.state_manager.induced_state&&!TVE.state_manager.is_default()){var e,i=TVE.state_manager.is_default()?this.backgroundColor:this.hoverBackgroundColor;e=i&&!f.equals(i,"rgba(0,0,0,0)")?TVE.generateOffsetColor(t.originalColor,t.color,i).toRgbString():t.color,this.controls.ColorPicker.input(e),this.controls.ColorPicker.setValue(e)}},get_effect_collection:function(){return g},init_layers:function(){this.tabs=new o({el:this.$(".gradient-layers")[0],buttons:this.buttons(),label:TVE.t.Add_Layer,tooltip_side:"top"}),this.tabs.on("open",_.bind(this.add_layer,this))},add_layer:function(t){TVE.SKIP_CSS_STATE=!0,TVE.UndoManager.temp.set(this.controls.PreviewList.applyTo(),this.get_css());var e=new a(t.get_default_data());if(e.set("__new",!0),"effects"!==t.key())this.get_collection().add(e);else{var i=[];this.get_effect_collection().each(function(t){i.push(t.get("key"))},this),e.set("disabled",i)}return e.saveState(),t.reset(e),!1},edit_layer:function(t,e){TVE.SKIP_CSS_STATE=!0,TVE.UndoManager.temp.set(this.controls.PreviewList.applyTo(),this.get_css());var i=t.get("type"),n="linear-gradient"===i||"radial-gradient"===i?"gradient":i,s=this.tabs.panel(n);return s.isOpen()?s.onCancel():(t.saveState(),s.reset(t),s.open(null,e)),!1},apply_css:function(){if(!this.get_collection().DURING_UPDATE){this.controls.PreviewList.applyElementCss(this.get_css()),v||this.setLayerMasterColor();var t=TVE._type(TVE.ActiveElement),e=TVE.Elements[t].components.animation;e&&!0!==e.hidden&&TVE.Components.animation.collection&&TVE.Components.animation.bg_color_changed({control:this.controls.ColorPicker,css:this.get_css()})}},setLayerMasterColor:function(){var i=null;_.each(m.models,function(t,e){!i&&t.attributes.colorStops&&"pattern"!=t.attributes.type&&"url"!=t.attributes.type&&(i=t.attributes.colorStops[0].value)}),this.setMasterColor(i)},get_css:function(){var n=this.get_collection().toJSON(),t=TVE.ActiveElement.is("body"),s="scroll",a=-1,o=this.important?" !important":"";if(t&&_.each(n,function(t,e){"url"===t.type&&"fixed"===t.attachment&&(s="fixed",a=e)}),"desktop"!==TVE.main.device.toLowerCase()){var r={};if(this.get_collection().each(function(t,e){if(!1!==t.changedAttributes()){var i=_.keys(t.changedAttributes());i.length&&i.forEach(function(t){switch(t){case"value":r["background-image"]=l(n)+o;break;case"size":r["background-size"]=_.map(n,function(t){return(t.size||"auto auto").trim()}).join(",")+o;break;case"position":r["background-position"]=_.map(n,function(t){return(t.position||"50% 50%").trim()}).join(",")+o;break;case"attachment":r["background-attachment"]=_.map(n,function(t,e){return"url"!==t.type&&!t.attachment&&e<a&&(t.attachment=s),t.attachment||"scroll"}).join(",")+o;break;case"repeat":r["background-repeat"]=_.map(n,function(t){return t.repeat||"no-repeat"}).join(",")+o}})}}),!_.isEmpty(r))return r}return{"background-image":l(n)+o,"background-size":_.map(n,function(t){return(t.size||"auto auto").trim()}).join(",")+o,"background-position":_.map(n,function(t){return(t.position||"50% 50%").trim()}).join(",")+o,"background-attachment":_.map(n,function(t,e){return"url"!==t.type&&!t.attachment&&e<a&&(t.attachment=s),t.attachment||"scroll"}).join(",")+o,"background-repeat":_.map(n,function(t){return t.repeat||"no-repeat"}).join(",")+o}},buttons:function(){var t=this.get_collection();return{solid:{icon:"color",class:"no-padded",title:TVE.t.solid_color,panel:new c({collection:t})},url:{icon:"bk-img",class:"tcb-icon-medium",title:TVE.t.image,icon_type:"svg",panel:new d({collection:t})},gradient:{icon:"gradient",class:"no-padded",title:TVE.t.gradient,panel:new u({collection:t})},pattern:{icon:"stripes",class:"no-padded",title:TVE.t.pattern,panel:new p({collection:t})},effects:{icon:"custom",class:"tcb-icon-medium",icon_type:"svg",title:TVE.t.background_effects,panel:new h({collection:this.get_effect_collection()})}}},after_update:function(){TVE.FLAGS.hover_update?this.read_initial_state():this.save_state()},video:function(){return i("../controls/background/video")},read_initial_state:function(){this.save_state(m),TVE.state_manager.is_default()&&(TVE.state_manager.set_state("hover"),TVE.ActiveElement.addClass("tve-state-hover"),this.controls.PreviewList.update(),this.save_state(m),TVE.ActiveElement.removeClass("tve-state-hover"),TVE.state_manager.set_state(""),this.controls.PreviewList.update())},save_state:function(t){void 0===t&&(t=m);var e=this.controls.PreviewList.readFrom().css("background-color")||"transparent";TVE.state_manager.is_default()&&!TVE.FLAGS.hover_element?(this.originalColor=this.getColorArr(t),this.backgroundColor=e):(this.hoverOriginalColor=this.getColorArr(t),this.hoverBackgroundColor=e)},hasHoverState:function(t){return"layer"==t?!_.isEqual(this.hoverOriginalColor,this.originalColor):!_.isEqual(this.backgroundColor,this.hoverBackgroundColor)},restore_state:function(){var i,n=this;_.each(m.models,function(t,e){i=TVE.state_manager.is_default()?n.originalColor[e]:n.hoverOriginalColor[e],t.attributes.colorStops.forEach(function(t,e){i[e]&&"function"==typeof i[e].toRgbString&&(t.value=i[e].toRgbString())})}),this.apply_css()},has_layers:function(){return 0<m.length},hasLayersOfType:function(t){return 0<m.where({type:t}).length},getColorArr:function(t){t&&"function"==typeof t.toJSON&&(t=t.toJSON());var e=[],i=[];return _.each(t,function(t){i=[],_.each(t.colorStops,function(t){i.push(t.value.toString?t.value.toString():t.value)}),e.push(i)}),e},openLayer:function(t){this.$el.find('.preview-list-item[data-index="'.concat(t.index,'"]')).click()}})},"borders-corners.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({extra_states:!0,after_update:function(){this.controls.Borders&&this.controls.Borders.after_update()}})},"button.js":function(t,e,i){var n=i("../base"),o=i("../../libs/storage"),r=i("../controls/button/style"),l=i("../../libs/element-snapshot"),c=i("../controls/jumplinks/element-link"),d=(i("../modals/icons")," .tcb-button-link"),h=" .tcb-button-icon",u=TVE.tpl("elements/button-icon"),p="-prtext",f="-sectext",m="-icon";function g(t){return t.find(" .tcb-secondary-text")}e.exports=n.component.extend({extra_states:!0,update_on_expand:!0,cache:{},deps:["background","animation","shadow"],controls_init:function(t){var i=this,s=this,e=this.$(".width-input");e.attr("placeholder","auto"),e.focusout(function(){s.update()}),this.controls.buttonLink=new c({el:this.$(".btn-link")[0],model:{config:{label:TVE.t.btn_link,class:"thrv-button",keep_links:!0}},component:this}),TVE.add_filter("element_drop",function(t){return t&&t.hasClass("thrv-button")&&(o.get(o.keys.link_new_tab)&&t.find("a").attr("target","_blank"),o.get(o.keys.link_no_follow)&&t.find("a").attr("rel","nofollow")),t}),this.controls.icon_side.input=function(t,e){l(function(){t.toggleClass("tcb-flip","right"===e.dataset.value)},t),TVE.do_action("tcb.button_icon_side.change",t)},this.controls.icon_side.update=function(t){this.setActive(t.hasClass("tcb-flip")?"right":"left")},this.controls.ButtonIcon.change=function(t,a){l(function(){_.each(t,function(t,e){var i=TVE.inner_$(t);if(i.toggleClass("tcb-with-icon",!0===a.checked),!0===a.checked&&!i.find(h).length){var n=TVE.apply_filters("tcb.button.default_icon",u),s=TVE.getClassThatContains(TVE.ActiveElement,TVE.CONST.global_styles.prefix_button);i.find(d).prepend(n),s.length&&i.find(".thrv_icon").addClass(s+m)}})},t),s.$(".tcb-button-icon-controls").toggleClass("tcb-hidden",!1===a.checked),TVE.Editor_Page.reposition_icons(),TVE.do_action("tcb.button_icon.change",t)},this.controls.ButtonIcon.remove=function(t){t.removeClass("tcb-flip").find(".tcb-button-icon").remove()},this.controls.ButtonIcon.update=function(t){t.hasClass("tcb-with-divider")||t.hasClass("tcb-with-icon")?this.setChecked(!0):this.setChecked(!1),s.$(".tcb-button-icon-controls").toggleClass("tcb-hidden",!1===(t.hasClass("tcb-with-divider")||t.hasClass("tcb-with-icon")))},this.controls.SecondaryText.change=function(i,n){l(function(){if(n.checked){var t=jQuery('<span class="tcb-secondary-text thrv-inline-text">Secondary text</span>'),e=TVE.getClassThatContains(TVE.ActiveElement,TVE.CONST.global_styles.prefix_button);e.length&&t.addClass(e+f),i.append(t)}else g(i).remove()},i.parent()),TVE.do_action("tcb.button_secondary_text.change",i)},this.controls.SecondaryText.update=function(t){this.setChecked(1===g(t).length)};var a=new Backbone.Collection(this.config.ButtonSize.config.buttons);this.controls.ButtonSize.input=function(t,e){var i=a.findWhere({value:e.dataset.value}),n={"line-height":i.get("properties")["line-height"],"font-size":i.get("properties")["font-size"]};this.applyElementCss(n,t,d,this.config.css_prefix,!0),this.applyElementCss({padding:i.get("properties").padding},t,d,""),t.attr("data-button-size",e.dataset.value),TVE.Components.layout.controls.MarginAndPadding.update(),TVE.Components.typography.controls.FontSize.update(),TVE.Components.typography.controls.LineHeight.update(t),s.controls.ButtonWidth.update(t),TVE.Editor_Page.reposition_icons()},this.controls.ButtonSize.update=function(t){var e=t.attr("data-button-size");e=e||"s",this.setActive(e)},TVE.add_action("tcb.edit_mode.exit",function(){if(TVE.ActiveElement&&TVE.ActiveElement.hasClass("thrv-button")){var t=parseInt(TVE.ActiveElement.children(":first-of-type").css("font-size")),e="xxl";switch(!0){case t<22:e="s";break;case t<28:e="m";break;case t<36:e="l";break;case t<46:e="xl"}TVE.ActiveElement.attr("data-button-size",e),i.controls.ButtonSize.update(TVE.ActiveElement)}}),this.controls.ButtonWidth.input=function(t,e){var i=e.value,n=this.getUM();""===i&&(i="auto",n="");var s={display:"block","max-width":i+n,width:i+n};"auto"===i&&(s.display="",s["max-width"]=""),this.applyElementCss(s,t,this.config.css_suffix,"")},this.controls.ButtonWidth.update=function(t){var e=t.head_css("max-width"),i=parseFloat(e);!i||isNaN(i)?this.$(".tve-input").val("auto"):this.setValue(e)},this.controls.Align.update=function(t){var e="center";e="100%"===t.css("min-width")?"full":(TVE.Components.layout.controls.Alignment.update(),TVE.Components.layout.controls.Alignment.getValue()),this.setActive(e),s.controls.ButtonWidth.$el.toggleClass("tcb-hidden","full"===e)},this.controls.Align.input=function(t,e){var i="full"===e.dataset.value;s.toggle_full_width(t,i),TVE.Components.layout.controls.Alignment.$('[data-value="'+(i?"none":e.dataset.value)+'"]').click()},TVE.Components.layout.controls.Alignment.on("change",function(t){s.is_visible()&&s.update("Align")});var n=_.clone(this.config.style);n.config.pr_text_suffix=p,n.config.sec_text_suffix=f,n.config.icon_suffix=m,this.stylepicker=new r({model:n,component:this}),TVE.add_filter("tcb.link_removed",function(t){return TVE.ActiveElement.is(".thrv-button")&&(t="#"),t}),TVE.add_action("tcb.button_style_change",function(t){TVE.Components.borders.update()}),TVE.add_filter("tcb.new_global_style",function(t){return TVE.ActiveElement.is(".thrv-button")&&TVE.ActiveElement.find(h+":visible").length&&(t.default_html.btn_icon=TVE.ActiveElement.find(".thrv_icon").html(),t.default_html.btn_icon_position=TVE.ActiveElement.hasClass("tcb-flip")?"right":"left"),t})},needs_update:function(t){return t.hasClass("thrv_button_shortcode")},migrate_element:function(t){var e,i,n,s=" !important",a="thrv_wrapper thrv-button",o=t.find(".tve_btn"),r=t.find("a"),l=t.find("i"),c=t.find(".tve_btn_divider"),d=l.css("background-image"),h={},u=o.css("margin-left"),p=o.css("margin-right");t.hasClass("tve_centerBtn")&&(u=p="auto"),e={"min-width":t.css("min-width"),margin:[o.css("margin-top"),p,o.css("margin-bottom"),u].join(" ")},i={"border-radius":o.css("border-radius"),"background-color":o.css("background-color")+s,"background-image":o.css("background-image")+s,"padding-top":r.css("padding-top")+s,"padding-right":r.css("padding-right")+s,"padding-bottom":r.css("padding-bottom")+s,"padding-left":r.css("padding-left")+s,"border-width":o.css("border-width"),"border-style":o.css("border-style"),"border-color":o.css("border-color")},n={"font-size":r.css("font-size"),"box-shadow":o.css("box-shadow")},c.length&&c.is(":visible")&&0<parseInt(c.css("width"))&&"transparent"!==c.css("background-color")&&(a+=" tcb-with-divider",h={"background-color":c.css("background-color")+" !important"}),c.remove(),TVE.SKIP_CSS_STATE=!0,r.head_css(i),t.head_css(e),t.head_css(h,null," .tcb-button-link > span::before"),t.head_css(n,null," .tcb-button-link"),t.head_css({"font-family":r.css("font-family")},null," .tcb-button-link",!1,TVE.CONST.global_css_prefix+" "),t.head_css({color:r.css("color"),"text-shadow":r.css("text-shadow")},null," .tcb-button-link span",!1,TVE.CONST.global_css_prefix+" "),TVE.SKIP_CSS_STATE=!1,l.is(":visible")&&l.attr("data-tve-icon")?a+=" tcb-with-icon":d&&"none"!==d&&(a+=" tcb-with-icon",l.css({display:"block",width:l.width(),height:l.height(),"background-image":d,"background-size":"hover","margin-right":"10px"})),t.attr("class",a),r.unwrap().attr("class","tcb-button-link"),r.children(".tve_btn_im").attr("class","tcb-button-icon"),r.children(".tve_btn_txt").wrap('<span class="tcb-button-texts"></span>').attr("class","tcb-button-text thrv-inline-text"),r.attr("rel",r.attr("rel")||"")},add_global_style:function(t,e){var i=1<arguments.length&&void 0!==e?e:TVE.ActiveElement;i.find(".tcb-button-text").removeAttr("data-css").removeAttr("data-selector").addClass(t+p),i.find(".tcb-secondary-text").removeAttr("data-css").removeAttr("data-selector").addClass(t+f),i.find(".thrv_icon").removeAttr("data-css").removeAttr("data-selector").addClass(t+m)},addDefaultStyleHtml:function(t,e,i,n){var s=3<arguments.length&&void 0!==n?n:{};if(s["data-button-size"]&&t.attr("data-button-size",s["data-button-size"]),e.btn_icon){t.addClass("tcb-with-icon").toggleClass("tcb-flip","right"===e.btn_icon_position);var a='<span class="tcb-button-icon"><div class="thrv_wrapper thrv_icon tve_no_drag tve_no_icons tcb-icon-inherit-style '.concat(i,'-icon">').concat(e.btn_icon,"</div></span>");t.find(".tcb-button-link").prepend(a)}},unlink_global_style:function(t){TVE.ActiveElement.find(".tcb-button-text").removeClass(t+p),TVE.ActiveElement.find(".tcb-secondary-text").removeClass(t+f),TVE.ActiveElement.find(".thrv_icon").removeClass(t+m),TVE.ActiveElement.removeAttr("data-button-style")},delete_global_style:function(t){TVE.inner_$("."+t).removeAttr("data-button-style"),TVE.inner_$("."+t+p).removeClass(t+p),TVE.inner_$("."+t+f).removeClass(t+f),TVE.inner_$("."+t+m).removeClass(t+m)},toggle_full_width:function(t,e){var i="";i="desktop"===TVE.main.device||e?e?"100%!important":"":"0!important",t.head_css({"min-width":i}),this.controls.ButtonWidth.$el.toggleClass("tcb-hidden",e),this.controls.ButtonWidth.update(t),TVE.Editor_Page.reposition_icons()},reset_non_global_css:function(){this.cache=_.extend(this.cache,TVE.ActiveElement.head_css(["height","min-height","max-height"],null,TVE.Elements.button.components.layout.config.Height.css_suffix)),TVE.ActiveElement.head_css({height:"","min-height":"","max-height":""},null,TVE.Elements.button.components.layout.config.Height.css_suffix,!1,TVE.Elements.button.components.layout.config.Height.css_prefix)},put_non_global_css:function(){var t={height:this.cache.height,"min-height":this.cache["min-height"],"max-height":this.cache["max-height"]};TVE.ActiveElement.head_css(t,null,TVE.Elements.button.components.layout.config.Height.css_suffix,!1,TVE.Elements.button.components.layout.config.Height.css_prefix)},add_global_style_transfer_data:function(t,e,i,n){t.find(".tcb-button-text").attr("data-css")&&(i.push('[data-css="'+t.find(".tcb-button-text").attr("data-css")+'"]'),n.push("."+e+p)),t.find(".tcb-secondary-text").attr("data-css")&&(i.push('[data-css="'+t.find(".tcb-secondary-text").attr("data-css")+'"]'),n.push("."+e+f)),t.find(".thrv_icon").attr("data-css")&&(i.push('[data-css="'+t.find(".thrv_icon").attr("data-css")+'"]'),n.push("."+e+m))},unlink_global_style_transfer_data:function(t,e,i,n){t.find(".tcb-button-text").length&&(i.push("."+e+p),n.push('[data-css="'+TVE.CSS_Rule_Cache.uniq_id(t.find(".tcb-button-text"))+'"]')),t.find(".tcb-secondary-text").length&&(i.push("."+e+f),n.push('[data-css="'+TVE.CSS_Rule_Cache.uniq_id(t.find(".tcb-secondary-text"))+'"]')),t.find(".thrv_icon").length&&(i.push("."+e+m),n.push('[data-css="'+TVE.CSS_Rule_Cache.uniq_id(t.find(".thrv_icon"))+'"]'))},get_link:function(t){var e=(TVE.ClickedElement||t.filter(".edit_mode")).find(d);return e.length||(e=t.find(d)),e}})},"cell.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({controls_init:function(){this.controls.width.update=function(t){this.setValue(t.width()+parseInt(t.css("border-left-width")||0))},this.controls.width.input=function(t,e){this.applyElementCss({width:e.value+this.getUM()},t.__col,"",TVE.CONST.global_css_prefix+" "),TVE.plugins.table.refresh()},this.controls.height.update=function(t){this.setValue(t.height()+parseInt(t.css("border-top-width")||0))},this.controls.height.input=function(t,e){this.applyElementCss({height:e.value+this.getUM()},t.__row,"",TVE.CONST.global_css_prefix+" "),TVE.plugins.table.refresh()},this.controls.valign.update=function(t){this.setActive(t.css("text-align")||"")},this.controls.valign.applyStyles=function(t,e){this.applyElementCss({"vertical-align":this.getValue()},t,"",TVE.CONST.global_css_prefix+" "),this.readFrom().removeClass("tve_valign_top tve_valign_middle tve_valign_bottom")}}})},"click-tweet.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({template:TVE.tpl("controls/responsive"),events:function(){return _.extend(n.component.prototype.events,{"keyup .tve-input-control":"setTwitterCount","keyup .tve-tweet-via-control input":"setTwitterCount"})},controls_init:function(){var a=this;this.controls.LabelText.update=function(){var t=this.applyTo().find(".thrv_tw_qs_button_text").html();this.setValue(a.stripHtml(t))},this.controls.LabelText.change=function(){var t,e=this.applyTo(),i=e.find(".thrv_tw_qs_button_text"),n=TVE.renderers.base.read_element_props(e);i.html(a.stripHtml(this.$("input").val())),t=TVE.renderers.base.read_element_props(e),a.addUndoManagerAction(e,n,t)},this.controls.TweetText.update=function(t){var e=t.find(".thrv_tw_quote").html(),i=a.stripHtml(e).replace(/^\s+|\s+$/g,"");t.find(".thrv_tw_qs_button_text");this.setValue(i),a.setTwitterCount()},this.controls.TweetText.input=function(){var t,e=a.stripHtml(this.$("textarea").val()),i=this.applyTo(),n=TVE.renderers.base.read_element_props(i);a.setTwitterCount(),i.find(".thrv_tw_quote p").hasClass("tve-froala")?i.find(".thrv_tw_quote p").froalaEditor("html.set",e):i.find(".thrv_tw_quote p").html(e),t=TVE.renderers.base.read_element_props(i),a.addUndoManagerAction(i,n,t)},this.controls.ShareUrlCheckbox.update=function(t){var e=!!t.attr("data-use_custom_url");a.controls.ShareUrlInput.$el.hide(),e&&a.controls.ShareUrlInput.$el.show(),this.isChecked()!==e&&this.setChecked(e)},this.controls.ShareUrlCheckbox.change=function(t,e){var i,n=TVE.renderers.base.read_element_props(t);e.checked?(t.attr("data-use_custom_url",!0),a.controls.ShareUrlInput.$el.show()):(t.attr("data-use_custom_url",""),a.controls.ShareUrlInput.$el.hide()),i=TVE.renderers.base.read_element_props(t),a.addUndoManagerAction(t,n,i)},this.controls.ShareUrlInput.update=function(t){var e=t.attr("data-custom_url");this.setValue(e)},this.controls.ShareUrlInput.change=function(t,e){var i,n=TVE.renderers.base.read_element_props(t),s=TVE.addHttp(e.value);this.setValue(s),TVE.isValidUrl(s)?t.attr("data-custom_url",s):TVE.page_message(TVE.t.UrlInvalid,!0,5e3),i=TVE.renderers.base.read_element_props(t),a.addUndoManagerAction(t,n,i)},this.controls.ViaUsername.update=function(t){var e=t.attr("data-via");this.setValue(e)},this.controls.ViaUsername.change=function(t,e){var i,n=TVE.renderers.base.read_element_props(t),s=e.value;a.setTwitterCount(),t.attr("data-via",s),i=TVE.renderers.base.read_element_props(t),a.addUndoManagerAction(t,n,i)}},setTwitterCount:function(){var t=256-this.controls.TweetText.getValue().length,e=this.controls.ViaUsername.getValue();e.length&&(t-=6+e.length),this.$(".tve-twitter-count").html(t),this.$(".tve-twitter-count").toggleClass("red",t<0)},stripHtml:function(t){var e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""},preview:function(){window.open(this.getUrl(),"_blank")},addUndoManagerAction:function(t,e,i){var n=this;TVE.UndoManager.add({undo:function(){n.undo_sequence(t,e)},redo:function(){n.undo_sequence(t,i)}})},undo_sequence:function(t,e){for(var i in t.html(e.html),e.data)t.attr(i,e.data[i])},getUrl:function(){var t=TVE.ActiveElement,e=t.attr("data-use_custom_url")&&t.attr("data-custom_url")?t.attr("data-custom_url"):window.location.href,i=t.attr("data-url")+"?text="+encodeURIComponent(t.find("p").text())+"&url="+encodeURIComponent(e);return 0<t.attr("data-via").length&&(i+="&via="+t.attr("data-via")),i}})},"cloud-templates.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({controls_init:function(t){t.ModalPicker.openModal=function(){TVE.modal_open("cloud-templates",{element:TVE.ActiveElement})},t.ModalPicker.update=function(t){this.updateValue(t.attr("data-ct-name")||t.attr("data-ct")||"Change...")}}})},"columns.js":function(t,e,i){var n=i("../base"),s=i("../inline/column-options");e.exports=n.component.extend({update_on_expand:!0,needs_update:function(t){return t.hasClass("thrv_columns")},migrate_element:function(t){TVE.drag.convert_old_columns(t),TVE.Editor_Page.blur(),TVE.Editor_Page.focus_element(t.parent())},controls_init:function(n){TVE.add_action("tcb.margin_padding.set",function(t,e){if(t.is(".tcb-col")&&"margin"===e.style&&_.contains(["top","bottom"],e.side)){var i=e.value,n='.tve-input.bottom[data-style="margin"]';"bottom"===e.side&&(n='.tve-input.top[data-style="margin"]'),i+=parseInt(TVE.Components.layout.controls.MarginAndPadding.$el.find(n).val()),t.head_css({height:"calc(100% - "+i+"px)"})}}),n.GutterWidth.input=function(t,e){this.applyElementCss({"padding-left":e.value+"px"},t,this.config.css_suffix,""),this.applyElementCss({"margin-left":-e.value+"px"},t,"","")},n.GutterWidth.update=function(t){this.setValue(t.css("padding-left"))},n.GutterWidth.change=function(t,e){this.input(t,e),TVE.drag.position_resizables(t,e.value)},n.ColumnsOrder.change=function(t,e){switch(TVE.main.device){case"desktop":t.closest(".tve_editor_page").hasClass("preview-desktop")?t.toggleClass("tcb-row-reversed-desktop",e.checked):(t.closest(".tve_editor_page").addClass("preview-desktop"),t.toggleClass("tcb-row-reversed-desktop",e.checked),t.toggleClass("tcb-row-reversed-tablet",e.checked),t.toggleClass("tcb-row-reversed-mobile",e.checked));break;case"tablet":t.toggleClass("tcb-row-reversed-tablet",e.checked);break;case"mobile":t.toggleClass("tcb-row-reversed-mobile",e.checked);break;default:t.toggleClass("tcb-row-reversed-desktop",e.checked)}var i={"flex-direction":(e.checked?"row-reverse":"row")+" !important"};e.checked?0===t.css("flex-wrap").indexOf("wrap")&&(i["flex-wrap"]="wrap-reverse !important"):"wrap-reverse"===t.css("flex-wrap")&&(i["flex-wrap"]="wrap !important"),t.head_css(i)},n.ColumnsOrder.update=function(){var t=this.applyTo(!1,!0),e=t.css("flex-direction"),i=t.css("flex-wrap"),n=e&&-1!==e.indexOf("-reverse")||i&&-1!==i.indexOf("-reverse");this.setChecked(n);var s=!0;t.each(function(){if(!this.classList.contains("v-2"))return s=!1}),"mobile"!==TVE.main.device||s||(t.addClass("v-2"),n&&this.change(t,this.$el.find(".tve-checkbox")[0]))},n.VerticalPosition.applyStyles=function(t,e){t.removeClass("tcb-flex-center tcb-flex-end"),this.applyElementCss({"justify-content":e.getAttribute("data-value")},t," > .tcb-flex-col > .tcb-col","")},n.VerticalPosition.update=function(t){this.setActive(t.head_css("justify-content",null," > .tcb-flex-col > .tcb-col",!0)||"")},n.Wrap.change=function(t,e){var i="tablet"===TVE.main.device?"medium":TVE.main.device;t.toggleClass("tcb-"+i+"-wrap",e.checked),t.toggleClass("tcb-"+i+"-no-wrap",!e.checked),t.children().toggleClass("ui-resizable",!e.checked),t.head_css({"flex-wrap":function(){var t=n.Wrap.getValue(),e=n.ColumnsOrder.getValue();return t?e?"wrap-reverse":"wrap":"desktop"===TVE.main.device?"":"nowrap"}()+" !important"}),n.ColumnWidth.update(t),t.head_css({"flex-basis":e.checked?n.ColumnWidth.value(!0)+" !important":""},!1," .tcb-flex-col"),n.ColumnWidth.$el.slideToggle(),"tablet"!==TVE.main.device||t.hasClass("m-edit")?"mobile"===TVE.main.device&&t.addClass("m-edit"):t.toggleClass("tcb-mobile-no-wrap",!e.checked),TVE.do_action("tcb.columns_wrap.change",t)},n.Wrap.update=function(){var t=this.applyTo().css("flex-wrap"),e=!t||-1===t.indexOf("nowrap");this.setChecked(e),n.ColumnWidth.$el[e?"show":"hide"]()},n.ColumnWidth.input=function(t,e){this.applyElementCss({"flex-basis":e.value+"px !important"},t," .tcb-flex-col","")},n.ColumnWidth.update=function(t){var e=t.find(".tcb-flex-col").css("flex-basis");e&&"auto"!==e||(e=this.model.config.default+"px"),this.setValue(e)},this.placeholder_panel=new s({component:this,minWidth:300,no_buttons:!0}),n.FullWidth.change=function(t,e){t.toggleClass("tcb-window-width",e.checked),e.checked?TVE.inner.window.TCB_Front.resizePageSection(t):t.css({width:"",left:""}),TVE.Editor_Page.reposition_icons(),TVE.Components.layout.toggle_full_width_controls(!e.checked)},n.FullWidth.update=function(t){if("none"===t.closest(".tve_post_lp > div > #tve_editor").css("max-width"))return this.$el.hide(),void this.$el.prev("hr").hide();this.$el.show(),this.$el.prev("hr").show();var e=t.hasClass("tcb-window-width");this.isChecked()!==e&&this.setChecked(e)},n.MinHeight.input=function(t,e){this.applyElementCss({"min-height":"inherit"},t,"",""),this.applyElementCss({"min-height":e.value+this.getUM()},t,this.config.css_suffix,"")},n.MinHeight.update=function(t){var e=t.head_css("min-height",!1,"",!0);e=e||t.height(),this.setValue(e)}},placeholder_action:function(){this.placeholder_panel.open(TVE.ActiveElement,TVE.ActiveElement.find(".tcb-inline-placeholder-action"))}})},"comments-disqus.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({controls_init:function(t){var a=this;this.controls.ForumName.update=function(t){this.setValue(t.find("#disqus_thread").attr("data-disqus_shortname"))},this.controls.ForumName.change=function(t,e){var i=t.find("#disqus_thread"),n=e.value,s=i.attr("data-disqus_shortname");i.attr("data-disqus_shortname",n),TVE.ajax("update_option","post",{option_name:"tve_comments_disqus_shortname",option_value:n}),a.undo_manager_api(i,"data-disqus_shortname",s,n)},this.controls.URL.update=function(t){this.setValue(t.find("#disqus_thread").attr("data-disqus_url"))},this.controls.URL.change=function(t,e){var i=TVE.addHttp(e.value),n=t.find("#disqus_thread"),s=n.attr("data-disqus_url");this.setValue(i),TVE.isValidUrl(i)||""===i?(n.attr("data-disqus_url",i),a.undo_manager_api(n,"data-disqus_url",s,i)):TVE.page_message(TVE.t.UrlInvalid,!0,5e3)}},undo_manager_api:function(t,e,i,n){TVE.UndoManager.add({undo:function(){t.attr(e,i)},redo:function(){t.attr(e,n)}})}})},"comments-facebook.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({nrOfPosts:null,controls_init:function(){var a=this;this.controls.moderators.update=function(t){var e=t.find(".tve-fb-comments").attr("data-fb-moderator-ids"),i=[];e&&e.split(";").forEach(function(t){i.push({value:t})}),this.resetCollection(i)},this.controls.moderators.change=function(t,e){var i,n=[];e.forEach(function(t){n.push(t.value)}),i=n.join(";"),t.find(".tve-fb-comments").attr("data-fb-moderator-ids",i),TVE.ajax("update_option","post",{option_name:"tve_comments_facebook_admins",option_value:i})},this.controls.color_scheme.update=function(t){this.setValue(t.find(".tve-fb-comments").attr("data-colorscheme"))},this.controls.color_scheme.input=function(t,e){var i=t.find(".tve-fb-comments"),n=t.attr("data-colorscheme"),s=e.value;i.attr("data-colorscheme",s),a.undo_manager_api(i,"data-colorscheme",n,s)},this.controls.order_by.update=function(t){this.setValue(t.find(".tve-fb-comments").attr("data-order-by"))},this.controls.order_by.input=function(t,e){var i=t.find(".tve-fb-comments"),n=t.attr("data-order-by"),s=e.value;i.attr("data-order-by",s),a.undo_manager_api(i,"data-order-by",n,s)},this.controls.nr_of_comments.input=function(t,e){t.find(".tve-fb-comments").attr("data-numposts",e.value)},this.controls.nr_of_comments.update=function(t){var e=t.find(".tve-fb-comments").attr("data-numposts");this.setValue(e),this.nrOfPosts=e},this.controls.nr_of_comments.change=function(t,e){t.find(".tve-fb-comments").attr("data-numposts",e.value),a.undo_manager_api(t,"data-numposts",this.nrOfPosts,e.value)},this.controls.URL.update=function(t){this.setValue(t.find(".tve-fb-comments").attr("data-href"))},this.controls.URL.change=function(t,e){var i=TVE.addHttp(e.value),n=t.find(".tve-fb-comments"),s=n.attr("data-href");this.setValue(i),TVE.isValidUrl(i)||""===i?(n.attr("data-href",i),a.undo_manager_api(n,"data-href",s,i)):TVE.page_message(TVE.t.UrlInvalid,!0,5e3)}},undo_manager_api:function(t,e,i,n){TVE.UndoManager.add({undo:function(){t.attr(e,i)},redo:function(){t.attr(e,n)}})}})},"contact-form.js":function(t,o,r){!function(h){function i(t){return TVE.Base64.encode(TVE.serialize(t))}TVE.CFErrorMessages=r("../modals/cf-error-messages");var e=r("./../base"),n=r(".././controls/contact-form/edit-cf-item"),u=r("../../models/base"),s=r("./../modals/cf-settings"),p=new Backbone.Collection({}),a=Backbone.Model.extend({defaults:function(){return{error_messages:{email:TVE.t.cf_errors.email.text,phone:TVE.t.cf_errors.phone.text,url:TVE.t.cf_errors.url.text,required:TVE.t.cf_errors.required.text},to_email:{to:TVE.CONST.current_user.email,subject:TVE.t.cf_defaults.email_subject},submit:{action:"reload",send_confirmation_email:!1,sender_personalized:!1,confirmation_subject:TVE.t.cf_defaults.confirmation_subject,confirmation_message:TVE.t.cf_defaults.confirmation_email,from_name:TVE.CONST.site_title,from_email:TVE.CONST.current_user.email,reply_to:TVE.CONST.current_user.email,url:"",notification:TVE.t.cf_defaults.notification}}},input_config_name:"config",input_selector:'input[name="config"]',$element:null,write:function(){if(this.$element){var t=this.$element.find(this.input_selector);t.length<=0&&(t=h('<input type="hidden" name="'+this.input_config_name+'"/>'),this.$element.find("form").append(t)),t.attr("value",i(this.attributes))}},read:function(){this.clear({silent:!0}),this.attributes=this.defaults();var t=this.$element.find(this.input_selector);t.length&&t.val()&&this.set(function(t){return TVE.unserialize(TVE.Base64.decode(t))}(t.val()),{silent:!0})},update:function(){this.$element=TVE.ActiveElement,this.$element.is(".thrv-contact-form")&&(this.read(),0===this.$element.find(this.input_selector).length&&this.write())}});o.exports=e.component.extend({settings:null,default_item:TVE.tpl("controls/contact-form/default-cf-item"),recaptcha_item:TVE.tpl("controls/contact-form/recaptcha-cf-item"),default_item_params:{input_css:"",label_css:"",wrapper_css:"",label:"First Name",item_type:"first_name"},recaptcha_item_params:{theme:"light",size:"normal"},used_form_fields:[],show_required_marks:!1,initialize:function(t){this.config=t.config,this.cf_item_dropdown=new n({config:this.config.FieldsControl.config,collection:p}),this.settings=new a,this.settings.on("change",function(t,e){this.write()}),e.component.prototype.initialize.apply(this,arguments),TVE.add_filter("selectors_no_clone",function(t){return t+=", .tve-cf-item label, .tve-cf-input"}),TVE.add_filter("selectors_no_delete",function(t){return t+=", .tve-cf-item label, .tve-cf-input"}),TVE.add_filter("selectors_no_save",function(t){return t+=", .tve-cf-item label, .tve-cf-input"})},controls_init:function(){var n=this,r=this;this.controls.FieldsControl.attach_collection(p),this.listenTo(p,"change",_.bind(function(){var i=[];p.each(function(t){i.push(t.get("item").clone())},this),TVE.ActiveElement.find(".tve-cf-item").each(function(t,e){h(e).html(i[t].html()).attr("class",i[t].attr("class")).attr("data-css",i[t].attr("data-css"))},this),this.controls.FieldsControl.update(TVE.ActiveElement)},this)),this.listenTo(p,"remove",_.bind(function(t){var e=t.get("item");e instanceof jQuery&&e.remove(),this.used_form_fields=_.without(this.used_form_fields,t.get("type")),this.check_collection_length(),this.check_all_fields_added()},this)),this.controls.FieldsControl.update=function(t){t=t||TVE.ActiveElement;var o=[],e=t.find(".tve-cf-item");r.used_form_fields=[],_.each(e,function(t,e){var i=jQuery(t),n=i.find(".thrv-cf-input-wrapper"),s=n.length?n.attr("data-type"):null,a=this.config.config.types[s].shortcode||"";r.used_form_fields.push(s),o.push({item:i,type:s,label:"g-recaptcha-response"===s?"reCAPTCHA":i.find("label").text().substring(0,20),shortcode:a})},this),p.reset(o),r.check_collection_length(),r.check_all_fields_added()},this.controls.FieldsControl.on("item_click",_.bind(function(t,e){var i=this.cf_item_dropdown,n=!!t.get("__new"),s=t.get("item");if(i.isOpen())return i.onCancel(),!1;var a=new u(i.get_data(s,n));return this.listenTo(a,"change",function(t){this.change_cf_item(t,s,i.config.types[a.get("type")])}),a.saveState(),i.reset(a),i.open(null,e),!1},this)),this.controls.AddRemoveLabels.change=function(t,e){e.checked?t.head_css({display:""},!1,this.config.css_suffix,!1,this.config.css_prefix):t.head_css({display:"none !important"},!1,this.config.css_suffix,!1,this.config.css_prefix),this.component.$(".tcb-cf-add-remove-req-mark-control").toggleClass("tcb-hidden",!e.checked)},this.controls.AddRemoveLabels.update=function(t){var e="none"!==this.applyTo().head_css("display",!1,this.config.css_suffix,!0,this.config.css_prefix);this.setChecked(e),this.component.$(".tcb-cf-add-remove-req-mark-control").toggleClass("tcb-hidden",!e)},this.controls.AddRemoveRequiredMarks.change=_.bind(function(t,e){this.show_required_marks=e.checked,this.show_required_marks?this.show_hide_required_marks():t.find("label").removeClass("tve-cf-item-required-mark")},this),this.controls.AddRemoveRequiredMarks.update=function(t){r.show_required_marks=!!t.find("label.tve-cf-item-required-mark").length,this.setChecked(r.show_required_marks)},this.controls.ZapierConnection.change=function(t,e){var i=t.find("form");n.$el.find(".tve-cf-zapier-connection").toggleClass("tcb-hidden",!e.checked),n.$el.find(".tve-cf-email-setup").toggleClass("tcb-hidden",e.checked),e.checked?i.append(r.hiddenInput({name:"__tcb_cf_conn",value:TVE.Base64.encode("zapier")})).append(r.hiddenInput({name:"zapier_send_ip",value:0})).append(r.hiddenInput({name:"zapier_tags",value:""})):i.find("#__tcb_cf_conn, #zapier_tags, #zapier_send_ip").remove()},this.controls.ZapierConnection.update=function(t){var e=!!t.find("#__tcb_cf_conn").length;n.controls.ZapierConnection.setChecked(e),n.$el.find(".tve-cf-zapier-connection").toggleClass("tcb-hidden",!e),n.$el.find(".tve-cf-email-setup").toggleClass("tcb-hidden",e)},this.controls.ZapierIp.change=function(t,e){t.find("#zapier_send_ip").val(this.isChecked()?1:0)},this.controls.ZapierIp.update=function(t){var e=t.find("#zapier_send_ip"),i=!(!e.length||"1"!==e.val());this.setChecked(i)},this.controls.ZapierTags.input=function(t,e){t.find("#zapier_tags").val(this.getValue())},this.controls.ZapierTags.update=function(t){var e=t.find("#zapier_tags"),i=e.length?e.val():"";this.setValue(i)},TVE.add_action("tcb_after_cloud_template",_.bind(function(t){var e=t.find(this.input_selector);e.length&&(e.attr("value",i(this.defaults())),this.update())},this.settings))},get_fields_control:function(){return r("./../controls/preview-list")},add_cf_item:function(t,e){var i="first_name";if(_.some(this.config.FieldsControl.config.types,function(t,e){if(!_.contains(this.used_form_fields,e))return i=e,!0},this),"g-recaptcha-response"===i&&!TVE.CONST.api_connections.recaptcha){var n=new u({type:i});return n.saveState(),this.cf_item_dropdown.reset(n),this.cf_item_dropdown.open(null,e),!1}var s=TVE.ActiveElement.find("label:not(.tcb-excluded-from-group-item)")?TVE.ActiveElement.find("label:not(.tcb-excluded-from-group-item)").first().attr("data-css"):"",a=TVE.ActiveElement.find(".tve-cf-input:not(.tcb-excluded-from-group-item)")?TVE.ActiveElement.find(".tve-cf-input:not(.tcb-excluded-from-group-item)").first().attr("data-css"):"",o=TVE.ActiveElement.find(".tve-cf-item:not(.tcb-excluded-from-group-item)")?TVE.ActiveElement.find(".tve-cf-item:not(.tcb-excluded-from-group-item)").first().attr("data-css"):"",r=this.config.FieldsControl.config.types[i],l=h(this.default_item(_.defaults({label:r.label,item_type:i,label_css:s,input_css:a,wrapper_css:o},this.default_item_params))),c=TVE.ActiveElement.find(".tve-cf-item-wrapper"),d=new Backbone.Model({item:l,label:r.label.substring(0,20),shortcode:r.shortcode,__new:!0});return c.append(l),TVE.drag.bind_draggable(l),p.add(d),this.controls.FieldsControl.trigger("item_click",d,e),!1},change_cf_item:function(t,e,i){var n=null,s=i.tag_name,a={};if("input"===s||"textarea"===s){a=_.defaults({input_css:e.find(".tve-cf-input").attr("data-css"),label_css:e.find("label").attr("data-css"),label:t.get("label"),item_type:t.get("type")},this.default_item_params),n=h(this.default_item(a)),"input"!==s?n.find("input").replaceWith(h(document.createElement(s))):n.find("input").attr("type",i.type);var o=n.find(s);o.attr("placeholder",t.get("placeholder")).attr("data-placeholder",t.get("placeholder")).attr("name",t.get("type")),"true"===t.get("required")?o.attr("required","required"):o.removeAttr("required"),this.cf_item_dropdown.changeCallback(o)}else"recaptcha"===s&&(a=_.defaults({theme:t.get("recaptcha_style"),size:t.get("recaptcha_size")},this.recaptcha_item_params),n=h(this.recaptcha_item(a)));e.html(n.html()),this.show_required_marks&&this.show_hide_required_marks()},check_collection_length:function(){1===p.length&&this.controls.FieldsControl.$('.click[data-fn="item_remove"]').addClass("tcb-hidden")},check_all_fields_added:function(){var t=this.$("#tcb-add-contact-form-item");t.removeAttr("disabled"),_.isEqual(this.used_form_fields.sort(),Object.keys(this.config.FieldsControl.config.types).sort())&&t.attr("disabled","disabled")},show_hide_required_marks:function(){p.each(function(t){var e=t.get("item");e.find("input,textarea").attr("required")?e.find("label").addClass("tve-cf-item-required-mark"):e.find("label").removeClass("tve-cf-item-required-mark")})},before_update:function(){this.settings.update()},manage_error_messages:function(){var t=this,e=new TVE.CFErrorMessages({el:TVE.modal.get_element("cf-error-messages"),model:new Backbone.Model(this.settings.get("error_messages"))});e.render_errors(),e.before_save=function(){var n=[];this.invalid_inputs=n,this.is_valid=function(t){var e=!0;for(var i in t.attributes)t.get(i).length<=0&&(n.push(i),e=!1);return e}(this.model),t.settings.set("error_messages",this.model.toJSON())},e.open()},manage_settings:function(){var t,e,i=new s({model:this.settings,form_shortcodes:(t=this.controls.FieldsControl.collection,e=_.filter(t.pluck("shortcode"),function(t){return 0<t.length}),["[form_url_slug]"].concat(e))});i.before_save=function(){this.model.set("to_email",this.step_instances[0].model.toJSON()),this.model.set("submit",this.step_instances[1].model.toJSON())},i.open()},hiddenInput:function(t){return'<input id="'+(t=_objectSpread({},{name:"",value:"",className:""},{},t)).name+'" type="hidden" name="'+t.name+'"'+(t.className?' class="'+t.className+'"':"")+' value="'+t.value+'">'}})}(jQuery)},"content-block.js":function(t,e,i){var o=i("../../models/base"),n=i("../controls/background/solid"),s=i("../controls/background/gradient"),r=i("../../libs/gradient-parser"),u=i("../../libs/tinycolor"),p=i("../../libs/gradient-builder"),a=".thrv-content-block,.thrv-lp-block",c=null;TVE.ContentBlockModal=i("../modals/content-blocks"),e.exports=i("../base").component.extend({collection:new Backbone.Collection({}),color_var_tpl:TVE.tpl("content-blocks/color-var-item"),controls_init:function(){var l=this;TVE.add_action("tcb.element.duplicate",function(t,e){e.find(".thrv-content-block").addBack().filter(".thrv-content-block").each(function(){TVE.inner_$(this).head_css_clone()})}),TVE.add_action("tcb.dragstart",function(t){!t.is(a)&&0<t.parents(a).length&&(c=t.closest(a))}),TVE.add_action("tcb.element.dropped",function(t){if(c&&TVE.FLAGS.$dragged_element&&0===t.$destination.parents(a).length){var e=[],i=TVE.FLAGS.$dragged_element.find('[data-css*="tve-u-"]');e.push({oldDataCss:TVE.FLAGS.$dragged_element[0].dataset.css,newDataCss:TVE.CSS_Rule_Cache.generate_id(),element:TVE.FLAGS.$dragged_element[0]}),_.each(i,function(t){e.push({oldDataCss:t.dataset.css,newDataCss:TVE.CSS_Rule_Cache.generate_id(),element:t})}),e.forEach(function(r){TVE.CSS_Rule_Cache.getRulesForSelector('[data-css="'.concat(r.oldDataCss,'"]')).forEach(function(t){var e=t.cssText.match(new RegExp("var\\(".concat(TVE.CONST.colors.local_prefix,"[0-9a-zA-Z]*(,(.+?)\\(.+?\\))\\)"),"g")),i=t.selectorText.replace(r.oldDataCss,r.newDataCss);if(Array.isArray(e)&&0<e.length){var n=t.parentRule,s=t.cssText.split("{");s.shift(),s.unshift(i);var a=s.join("{"),o=n.style_by_selector(i,!1);e.forEach(function(t){a=a.split(t).join(l._unlinkBlockLocalVariable(t))}),o?_.mapObject(TVE.CSS_Rule_Cache.cssToObject(a),function(t,e){var i=t.includes("important")?"important":"";t=t.replace("!important","").replace("! important","").trim(),o.setProperty(e,t,i)}):n.insertRule(a,n.cssRules.length)}else TVE.CSS_Rule_Cache.copyCssRule(t,i,!1)}),r.element.setAttribute("class",r.element.getAttribute("class").replace(TVE.Components.group.dynamic_group_item_class_prf,"")),r.element.dataset.css=r.newDataCss})}c=null}),this.controls.ModalPicker.setModal(TVE.ContentBlockModal.get_instance(TVE.modal.get_element("content-blocks"))),this.controls.ModalPicker.input=function(t,e){},this.controls.ModalPicker.update=function(t){this.updateValue(t.attr("tcb-template-name"))},this.controls.color=new n({collection:this.collection}),this.controls.gradient=new s({collection:this.collection}),this.listenTo(this.collection,"reset",function(){l.$(".tve-local-variables").html(l.build_preview())}),this.listenTo(this.collection,"change",this.change_local_variable),TVE.main.on("element_selected",function(t,e){"contentblock"===e&&l._refreshLocalVariables()})},_unlinkBlockLocalVariable:function(t){var e="";if(c.is('.thrv-lp-block[data-match-lp-colors="1"]')){var i="--tcb-local-related-".concat(TVE.getRawCssVariableName(t).replace(TVE.CONST.colors.local_prefix,"")),n=TVE.getCssVariableValue(i,c).trim();TVE.getCssVariableValue(n).length&&(e="var(".concat(n,")"))}return 0===e.length&&(e=TVE.getCssVariableValue(t,c)),e},_refreshLocalVariables:function(t){var e=0<arguments.length&&void 0!==t?t:this.collection,s=[],i=this.get_colors_config(TVE.ActiveElement),n=this.getLocalVariablesSelector(),a=TVE.CSS_Rule_Cache.stylesheet_rule().style_by_selector(n,!1);a&&(_.each(i.colors,function(t,e){var i,n=a.getPropertyValue(TVE.CONST.colors.local_prefix+e).trim();0!==n.length&&((i=r("linear-gradient("+n+", "+n+")")[0]).local_variable=TVE.CONST.colors.local_prefix+e,i.local_variable_name=t,i.local_variable_code=new u(TVE.isCssVariable(n)?TVE.getCssVariableValue(n):n).toHexString(),s.push(new o(i)))}),_.each(i.gradients,function(t,e){var i,n=a.getPropertyValue(TVE.CONST.gradients.local_prefix+e);0!==n.length&&((i=r(n)[0]).local_variable=TVE.CONST.gradients.local_prefix+e,i.local_variable_name=t,i.local_variable_code=i.type.replace("-"," ").replace(/\b\w/g,function(t){return t.toUpperCase()}),s.push(new o(i)))})),e.reset(s)},build_preview:function(t){var e=0<arguments.length&&void 0!==t?t:this.collection,i="";return e.each(function(t,e){i+=this.color_var_tpl({model:t,bg:p(t.toJSON()),index:e})},this),i},change_local_variable:function(t){var e,i,n={},s=p(t.toJSON()),a=this.$('.tve-local-variables span[data-var="'+t.get("local_variable")+'"]'),o=a.siblings("input");if(0<t.get("local_variable").indexOf("color")){var r=t.get("colorStops")[0].value;e=TVE.isCssVariable(r)?(i=t.get("colorStops")[0].css_variable,new u(TVE.getCssVariableValue(r)).toHexString()):(i=r.toRgbString(),r.toHexString())}else i=s,e=t.get("type").replace("-"," ").replace(/\b\w/g,function(t){return t.toUpperCase()});n[t.get("local_variable")]=i;var l=TVE.ActiveElement.attr("data-css"),c=TVE.ActiveElement.closest(".thrv_symbol").length?"."+TVE.getClassThatContains(TVE.ActiveElement.closest(".thrv_symbol"),"thrv_symbol_")+' [data-css="'+l+'"]':'[data-css="'+l+'"]',d=TVE.inner_$(c);if("input"===this.controls.color.color.currentEventType)d.tcbCss(n);else{var h={};Object.keys(n).forEach(function(t){return h[t]=""}),d.tcbCss(h),TVE.write_css(c,n,null)}o.val(e),a.find("span").css("background-image",s)},getLocalVariablesSelector:function(){var t=TVE.ActiveElement.attr("data-css");return TVE.ActiveElement.closest(".thrv_symbol").length?"."+TVE.getClassThatContains(TVE.ActiveElement.closest(".thrv_symbol"),"thrv_symbol_")+' [data-css="'+t+'"]':'[data-css="'+t+'"]'},edit_local_variable:function(t,e){var i=e.getAttribute("data-var"),n=e.getAttribute("data-index"),s=this.controls[0<i.indexOf("color")?"color":"gradient"];if(s.isOpen())return s.onCancel(),!1;var a=this.collection.at(n);return a.saveState(),s.reset(a),s.open(null,e),!1},get_colors_config:function(t){return TVE.shortcode_manager(t.find(".thrive-local-colors-config"),"local_colors").get()},prepareLocalVariablesForTemplates:function(t,e){var i=1<arguments.length&&void 0!==e?e:"";return this.getLocalVariablesValues(t).forEach(function(t){var e="var(".concat(t.variable,")");0<t.default_val.length&&(e="var(".concat(t.variable,",").concat(t.default_val,")")),i=i.split(e).join(t.current_val)}),i},getLocalVariablesValues:function(r){var t=this.get_colors_config(r),l=[];return _.each(t,function(t,o){_.each(t,function(t,e){var i=TVE.CONST[o].local_prefix+e,n="--tcb-local-default-".concat(e),s=TVE.getCssVariableValue(i,r).trim(),a=TVE.getCssVariableValue(n,r).trim();s.length&&l.push({variable:i,current_val:s,default_val:a})})}),l},placeholder_action:function(){this.controls.ModalPicker.openModal()}})},"content-templates.js":function(t,e,i){var n=i("../base"),s=i("../inline/content-templates");e.exports=n.component.extend({controls_init:function(){this.placeholder_panel=new s({component:this,minWidth:250,no_buttons:!0}),TVE.main.on("insert_element",function(t){"ct"!==t.type||TVE.CONST.content_templates.length||(t.prevent_insert=!0,TVE.modal_open("base","no-content-templates"))})},placeholder_action:function(){this.placeholder_panel.open(TVE.ActiveElement,TVE.ActiveElement.find(".tcb-inline-placeholder-action"))}})},"contentbox.js":function(t,e,i){var n,a=i("../base"),o=i("../controls/global/style-picker"),r=i("../controls/jumplinks/element-link"),l=i("../../libs/file-picker"),c=i("../controls/tooltip-base"),s="-cb",d="-bg",h=!1;e.exports=a.component.extend({update_on_expand:!0,cache:{},controls_init:function(t){var s=this;this.imgTooltipPanel=new c({tooltipPosition:"top",no_buttons:!0,template:TVE.tpl("controls/contentbox/image-tooltip"),anim_duration:300,apply:function(){s.imgTooltipCallback()},validate:function(){return!s.imgTooltipPanel.FORCE_CLOSE}}),this.controls.cbLink=new r({el:this.$(".cb-link")[0],model:{config:{label:TVE.t.cb_link,class:"thrv-content-box"}},component:this}),this.controls.ToggleURL.update=function(t){this.setChecked(!!t.filter(".edit_mode").parent("a[href]").length),this.component.$(".cb-link").toggle(this.isChecked())},this.controls.ToggleURL.input=function(t,e){s.$(".cb-link").toggle(!!e.checked),s.controls.cbLink.toggleURL(e.checked)},this.stylepicker=new o({model:{config:this.config.style.config},component:this}),t.BoxHeight.input=function(t,e){this.prepareValue(e.value,this.getUM()),this.applyElementCss({"min-height":e.value+this.getUM()},t,"","")},t.BoxHeight.update=function(t){var e=t.head_css("min-height",!1,"",!0);e=e||t.height(),this.setValue(e)},t.BoxHeight.change=function(t,e){a.control.prototype.change.call(this,t,e),TVE.do_action("tcb.contentbox.resized_height",t)},t.BoxWidth.input=function(t,e){this.prepareValue(e.value,this.getUM()),this.applyElementCss({"max-width":e.value+this.getUM()},t,"","")},t.BoxWidth.update=function(t){var e=t.head_css("max-width",null,null,!0),i=t.parent();e&&!isNaN(parseInt(e))||(e=t.outerWidth()),i.is("a")&&(i=i.parent()),this.model.config.max=parseInt(i.width()),this.setValue(e)},t.BoxWidth.change=function(t,e){a.control.prototype.change.call(this,t,e),TVE.do_action("tcb.contentbox.resized_width",t)},t.VerticalPosition.applyStyles=function(t,e){var i;t.removeClass("tcb-flex-center tcb-flex-end"),i=""===e.getAttribute("data-value")?{"justify-content":"",display:"block","flex-direction":""}:{"justify-content":e.getAttribute("data-value"),display:"flex","flex-direction":"column"},this.applyElementCss(i,t," > .tve-cb","")},t.VerticalPosition.update=function(t){this.setActive(t.head_css("justify-content",null," > .tve-cb",!0)||"")},this.picker=(new l).on_select(this.changeImage,this),TVE.main.on("after-element-removed",function(t){if(t.is(".tve-cb:empty")&&!s.isSmallCB(t)&&!t.siblings(".tve-content-box-background").attr("data-css")){var e=TVE.inner_$('<div class="tcb-replaceable-placeholder">'+TVE.t.placeholder_text+"</div>");t.append(e),t.addClass("tcb-parent-placeholder-empty"),TVE.do_action("tcb.contentbox_placeholder.render",t)}return t}),TVE.add_filter("tcb_filter_html_before_save",function(t,e){return TVE.compat.removePlaceholders(t)}),TVE.add_action("tcb.width_slider.change",function(t,e){if(TVE.ActiveElement.is(TVE.identifier("contentbox"))){var i=TVE.ActiveElement.find("> .tve-cb");if(s.isSmallCB(i)&&i.hasClass("tcb-parent-placeholder-empty"))i.removeClass("tcb-parent-placeholder-empty").empty();else if(i.is(":empty")&&!i.siblings(".tve-content-box-background").attr("data-css")){var n=TVE.inner_$('<div class="tcb-replaceable-placeholder">'+TVE.t.placeholder_text+"</div>");i.addClass("tcb-parent-placeholder-empty").append(n)}}}),TVE.add_action("tcb.post_list.template_changed",function(t){TVE.compat.removePlaceholders(t)}),TVE.add_action("tcb.after-insert",function(t,e){e&&e.is(".tcb-replaceable-placeholder")&&(e.closest(".tve-cb").removeClass("tcb-parent-placeholder-empty"),e.hasClass("tve-dragged-over")||e.remove())})},isSmallCB:function(t){return!!t.hasClass("tve-cb")&&t.outerWidth()<=150},needs_update:function(t){return!t.hasClass("thrv-content-box")},migrate_element:function(t){var e,i,n,s,a=t.find(".tve_cb"),o=a.find(".tve_hd");t.addClass("thrv-content-box"),t.prepend('<div class="tve-content-box-background"></div>'),a.find("hr").remove(),n=a.css(["background-color","border-width","border-style","border-color","border-image","border-radius"]),s=a.css(["padding"]),a.css({"background-color":"transparent","border-width":"0px","border-style":"none","border-color":"transparent","border-image":"none","border-radius":"0px","box-sizing":"border-box !important"}),t.find(">.tve-content-box-background").head_css(n),t.head_css(s);var r=t.find("h1, h2, h3").css(["color","margin-top","margin-bottom"]),l=t.find("p").css(["color","margin-top","margin-bottom"]);o.length&&o.find("h1, h2, h3").length&&(o.addClass("thrv-content-box").addClass("thrv_wrapper"),i=o.html(),o.html('<div class="tve-content-box-background"></div><div class="tve-cb" ></div>'),o.find(".tve-cb").html(i).css({"background-color":"transparent","background-image":"none"}),n=o.css(["background-color","border-width","border-style","border-color","border-image","border-radius"]),(e=o.css(["padding","margin"])).margin+=" !important",a.hasClass("tve_cb1")&&(e.margin=0),e["min-height"]="0px",o.css({"background-color":"transparent","border-width":"0px","border-style":"none","border-color":"transparent","border-image":"none","border-radius":"0px","box-sizing":"border-box !important",margin:"0px",width:"auto"}),o.find(">.tve-content-box-background").head_css(n),o.head_css(e)),t.head_css(r,null," .tve-cb h3"),t.head_css(l,null," .tve-cb p"),a.removeClass("tve_cb").removeClass("tve_cb1 tve_cb2 tve_cb3 tve_cb4 tve_cb5").addClass("tve-cb")},_get_box_background_div:function(t){return(t=t||TVE.ActiveElement).children(".tve-content-box-background")},_get_box_inner_div:function(t){return(t=t||TVE.ActiveElement).children(".tve-cb")},global_style_input:function(t,e){this._get_box_background_div().removeAttr("data-css").removeClass(t+d).addClass(e+d),this._get_box_inner_div().removeAttr("data-css").removeClass(t+s).addClass(e+s)},global_style_sub_elements:function(){return[this._get_box_background_div(),this._get_box_inner_div()]},add_global_style:function(t,e){var i=1<arguments.length&&void 0!==e?e:TVE.ActiveElement;this._get_box_background_div(i).removeAttr("data-css").removeAttr("data-selector").addClass(t+d),this._get_box_inner_div(i).removeAttr("data-css").removeAttr("data-selector").addClass(t+s)},unlink_global_style:function(t){this._get_box_background_div().removeClass(t+d),this._get_box_inner_div().removeClass(t+s)},delete_global_style:function(t){TVE.inner_$("."+t+d).removeClass(t+d),TVE.inner_$("."+t+s).removeClass(t+s)},add_global_style_transfer_data:function(t,e,i,n){t.find(".tve-content-box-background").attr("data-css")&&(i.push('[data-css="'+this._get_box_background_div(t).attr("data-css")+'"]'),n.push("."+e+d)),t.find(".tve-cb").attr("data-css")&&(i.push('[data-css="'+this._get_box_inner_div(t).attr("data-css")+'"]'),n.push("."+e+s))},unlink_global_style_transfer_data:function(t,e,i,n){i.push("."+e+d),n.push('[data-css="'+TVE.CSS_Rule_Cache.uniq_id(this._get_box_background_div(t))+'"]'),i.push("."+e+s),n.push('[data-css="'+TVE.CSS_Rule_Cache.uniq_id(this._get_box_inner_div(t))+'"]')},get_default_style_css:function(t){var e={"background-color":"",border:"","border-bottom":"","border-top":"","border-left":"","border-right":"","border-radius":"","box-shadow":"","background-image":"","background-size":"","background-attachment":"","background-position":"","background-repeat":""},i=[],n="rgb(0,0,0)";switch(t){case"cb_style_1":e={"background-color":"rgb(0, 152, 231) !important"},i.push({rules:e,media:"(min-width: 300px)"}),n="rgb(255, 255, 255)";break;case"cb_style_2":e={"background-color":"rgb(0, 152, 231) !important","background-image":"linear-gradient(150deg, rgba(255, 255, 255, 0) 0%, rgb(0, 105, 231) 100%) !important"},i.push({rules:e,media:"(min-width: 300px)"}),n="rgb(255, 255, 255)";break;case"cb_style_3":e={"border-radius":"20px 20px 0px 0px","box-shadow":"rgba(0, 152, 231, 0.4) 0px 8px 27px 0px, rgb(0, 152, 231) 0px 8px 0px 0px","background-color":"rgba(0, 169, 230, 0) !important"},i.push({rules:e,media:"(min-width: 300px)"}),e={"border-top-left-radius":"10px","border-top-right-radius":"10px"},i.push({rules:e,media:"(max-width: 767px)"});break;case"cb_style_4":e={"border-radius":"20px","box-shadow":"rgba(21, 69, 94, 0.22) 0px 0px 27px 0px","background-color":"rgba(0, 169, 230, 0) !important","border-right":"3px solid rgba(0, 152, 231, 0.6) !important","border-left":"3px solid rgba(0, 152, 231, 0.6) !important","border-image":"initial !important"},i.push({rules:e,media:"(min-width: 300px)"}),e={"border-radius":"10px","border-top":"2px solid rgba(0, 152, 231, 0.6) !important","border-bottom":"2px solid rgba(0, 152, 231, 0.6) !important"},i.push({rules:e,media:"(max-width: 767px)"});break;case"cb_style_5":e={"border-radius":"500px","background-color":"rgba(0, 152, 231, 0.14) !important",border:"4px dashed rgba(0, 152, 231, 0.5) !important"},i.push({rules:e,media:"(min-width: 300px)"}),e={"border-radius":"38px",border:"3px dashed rgba(0, 152, 231, 0.5) !important"},i.push({rules:e,media:"(max-width: 767px)"}),e={"border-radius":"277px"},i.push({rules:e,media:"(max-width: 1023px)"});break;case"cb_style_6":e={"border-radius":"20px","box-shadow":"rgba(9, 105, 155, 0.4) 0px 21px 21px -18px","background-color":"rgba(67, 145, 213, 0) !important",border:"2px solid rgba(0, 152, 231, 0.5) !important"},i.push({rules:e,media:"(min-width: 300px)"});break;case"cb_style_7":e={"border-radius":"59px 0px",border:"2px solid rgba(0, 152, 231, 0.3) !important","background-color":"rgb(255, 255, 255) !important"},i.push({rules:e,media:"(min-width: 300px)"}),e={"border-bottom-right-radius":"40px","border-top-left-radius":"40px"},i.push({rules:e,media:"(max-width: 767px)"});break;case"cb_style_8":e={"border-radius":"300px 0px 300px 300px","background-color":"rgb(0, 152, 231) !important"},i.push({rules:e,media:"(min-width: 300px)"}),e={"border-radius":"20px 0px 20px 20px"},i.push({rules:e,media:"(max-width: 767px)"}),e={"border-bottom-right-radius":"200px","border-bottom-left-radius":"200px","border-top-left-radius":"200px"},i.push({rules:e,media:"(max-width: 1023px)"}),n="rgb(255, 255, 255)";break;case"cb_style_9":e={"box-shadow":"rgba(0, 152, 231, 0.15) 21px 21px 0px -11px","border-right":"13px solid rgb(255, 255, 255) !important","border-bottom":"13px solid rgb(255, 255, 255) !important","background-color":"rgb(0, 152, 231) !important"},i.push({rules:e,media:"(min-width: 300px)"}),e={"border-right":"8px solid rgb(255, 255, 255) !important;","border-bottom":"8px solid rgb(255, 255, 255) !important;"},i.push({rules:e,media:"(max-width: 767px)"}),n="rgb(255, 255, 255)";break;case"cb_style_10":e={"box-shadow":"rgba(10, 40, 56, 0.2) 0px 10px 20px 0px, rgb(0, 152, 231) 11px 0px 0px -5px inset",border:"1px solid rgba(0, 152, 231, 0.14) !important","background-color":"rgba(0, 152, 231, 0) !important"},i.push({rules:e,media:"(min-width: 300px)"});break;case"cb_style_11":e={border:"15px solid rgba(255, 255, 255, 0.2) !important","background-color":"rgb(0, 152, 231) !important"},i.push({rules:e,media:"(min-width: 300px)"}),e={border:"9px solid rgba(255, 255, 255, 0.2) !important"},i.push({rules:e,media:"(max-width: 767px)"}),n="rgb(255, 255, 255)";break;case"cb_style_12":e={"box-shadow":"rgba(0, 152, 231, 0.2) 0px 22px 0px -12px, rgba(0, 152, 231, 0.13) 0px 41px 0px -23px","background-color":"rgb(0, 152, 231) !important"},i.push({rules:e,media:"(min-width: 300px)"}),n="rgb(255, 255, 255)";break;case"cb_style_13":e={"border-width":"5px !important","border-style":"solid !important","border-color":"rgba(0, 152, 231, 0) rgba(0, 152, 231, 0.8) !important","border-image":"initial !important","background-color":"rgba(0, 152, 231, 0.05) !important"},i.push({rules:e,media:"(min-width: 300px)"}),e={"border-right":"3px solid rgba(0, 152, 231, 0.8) !important","border-left":"3px solid rgba(0, 152, 231, 0.8) !important"},i.push({rules:e,media:"(max-width: 767px)"});break;case"cb_style_14":e={"box-shadow":"rgba(0, 152, 231, 0.15) -10px -11px 0px 0px, rgba(0, 152, 231, 0.15) 11px 11px 0px 0px","background-color":"rgb(255, 255, 255) !important"},i.push({rules:e,media:"(min-width: 300px)"}),e={"box-shadow":"rgba(0, 152, 231, 0.15) -8px -9px 0px 0px, rgba(0, 152, 231, 0.15) 8px 8px 0px 0px"},i.push({rules:e,media:"(max-width: 767px)"});break;case"cb_style_15":e={"background-color":"rgba(67, 145, 213, 0) !important",border:"2px solid rgba(0, 152, 231, 0.2) !important"},i.push({rules:e,media:"(min-width: 300px)"});break;default:i.push({rules:e,media:"(min-width: 300px)"}),i.push({rules:e,media:"(max-width: 767px)"}),i.push({rules:e,media:"(max-width: 1023px)"})}return{css:i,font_color:n}},after_update:function(){TVE.Components.background.read_initial_state();var t=TVE.Components.background.hasLayersOfType("url");if(this.$(".tve-bg-img").toggleClass("tcb-hidden",!(t&&!TVE.getClassThatContains(TVE.ActiveElement,TVE.CONST.global_cls_prefix))),t){var e=TVE.Components.background.getCollectionByType("url");n=e[0],this.updateImgPreview(n&&n.get("value")),h=n&&n.get("value").includes("dynamic")}},updateImgPreview:function(t){this.$(".preview").addClass("img").css("background-image","url("+t+")")},replaceBgImage:function(){return h?(TVE.Components.background.toggleDropdown("docked"),TVE.Components.background.openLayer(n)):this.picker.open(),!1},changeImage:function(t){this.updateImgPreview(t.url),TVE.Components.background.getCollectionByType("url")[0].set("value",t.url)},openTooltip:function(){return this.imgTooltipPanel.isOpen()?this.imgTooltipPanel.onCancel():this.imgTooltipPanel.open(null,this.$(".tve-cb-img-info")),!1},imgTooltipCallback:function(){TVE.Components.background.toggleHighlight(!0),setTimeout(function(){TVE.Components.background.toggleHighlight()},3e3)}})},"countdown-evergreen.js":function(t,e,i){var n=i("./countdown"),s=i("../controls/countdown/style");e.exports=n.extend({needs_update:function(t){return!t.find(".t-caption").hasClass("thrv-inline-text")},migrate_element:function(t){t.find(".t-caption").addClass("thrv-inline-text"),t.removeClass("tve_countdown_timer_evergreen tve_cd_timer_plain").addClass("thrv-countdown_timer_evergreen")},controls_init:function(t){var e=this.config.style;this.controls.style.set_drop_panel(new s({model:e,component:this})),this.controls.Color.input=function(s){var a=this,o=this.applyTo(),t=this.config.config.style_default_color;s&&(s+="!important"),_.each(t,function(t,e){for(var i in t){var n={};""===t[i]&&(n[i]=s,a.applyElementCss(n,o,e,""))}}),this.applyElementCss({color:s},o," .t-caption",""),s||this.component.controls.Color.update()},this.controls.Color.update=function(){this.setValue(this.applyTo().head_css("color",!1," .t-caption",!0))},this.controls.CompleteText.change=function(t,e){var i=e.value,n=t.attr("data-text");t.attr("data-text",i),this.component.undo_manager_api_for_attributes(t,"data-text",n,i,!1)},this.controls.CompleteText.update=function(t){this.setValue(t.attr("data-text"))},this.controls.Day.input=function(t,e){this.component.set_date_values(t.find(".tve_t_day .t-digits"),e.value),this.component.change_digits_width(t,".tve_t_day .t-digits",e.value)},this.controls.Day.update=function(t){this.setValue(parseInt(t.attr("data-day")))},this.controls.Day.change=function(t,e){var i=t.attr("data-day");t.attr("data-day",e.value),this.component.time_undo_redo_manager(t,"data-day",i,e.value,t.find(".tve_t_day .t-digits"))},this.controls.Hour.input=function(t,e){this.component.set_date_values(t.find(".tve_t_hour .t-digits"),e.value)},this.controls.Hour.update=function(t){this.setValue(parseInt(t.attr("data-hour")))},this.controls.Hour.change=function(t,e){var i=t.attr("data-hour");t.attr("data-hour",e.value),this.component.time_undo_redo_manager(t,"data-hour",i,e.value,t.find(".tve_t_hour .t-digits"))},this.controls.Minute.input=function(t,e){this.component.set_date_values(t.find(".tve_t_min .t-digits"),e.value)},this.controls.Minute.update=function(t){this.setValue(parseInt(t.attr("data-min")))},this.controls.Minute.change=function(t,e){var i=t.attr("data-min");t.attr("data-min",e.value),this.component.time_undo_redo_manager(t,"data-min",i,e.value,t.find(".tve_t_min .t-digits"))},this.controls.Second.input=function(t,e){this.component.set_date_values(t.find(".tve_t_sec .t-digits"),e.value)},this.controls.Second.update=function(t){this.setValue(parseInt(t.attr("data-sec")))},this.controls.Second.change=function(t,e){var i=t.attr("data-sec");t.attr("data-sec",e.value),this.component.time_undo_redo_manager(t,"data-sec",i,e.value,t.find(".tve_t_sec .t-digits"))},this.controls.ExpDay.input=function(t,e){},this.controls.ExpDay.update=function(t){this.setValue(parseInt(t.attr("data-expday")))},this.controls.ExpDay.change=function(t,e){var i=t.attr("data-expday");t.attr("data-expday",e.value),this.component.undo_manager_api_for_attributes(t,"data-expday",i,e.value,!1)},this.controls.ExpHour.input=function(t,e){},this.controls.ExpHour.update=function(t){this.setValue(parseInt(t.attr("data-exphour")))},this.controls.ExpHour.change=function(t,e){var i=t.attr("data-exphour");t.attr("data-exphour",e.value),this.component.undo_manager_api_for_attributes(t,"data-exphour",i,e.value,!1)},this.controls.StartAgain.update=function(t){var e=t.attr("data-norestart");void 0!==e&&0===parseInt(e)?(this.setChecked(!0),this.component.$el.find(".tcb-start-again-control").removeClass("tcb-hidden")):(this.setChecked(!1),this.component.$el.find(".tcb-start-again-control").addClass("tcb-hidden"))},this.controls.StartAgain.change=function(t,e){e.checked?(t.attr("data-norestart",0),this.component.$el.find(".tcb-start-again-control").removeClass("tcb-hidden")):(t.attr("data-norestart",1),this.component.$el.find(".tcb-start-again-control").addClass("tcb-hidden"))}},trigger_change_date:function(){this.controls.Day.$(".tve-input").trigger("input")},change_digits_width:function(t,e,i){var n=2;99<i&&(n=i.toString().length),t.find(e).css("min-width",n*t.find(".tve_t_sec .t-digits > span").first().outerWidth()+"px")},time_undo_redo_manager:function(t,e,i,n,s){var a=this;TVE.UndoManager.add({undo:function(){t.attr(e,i),a.set_date_values(s,i)},redo:function(){t.attr(e,n),a.set_date_values(s,n)}})}})},"countdown.js":function(t,e,i){var n=i("../base"),s=i("../controls/countdown/style");e.exports=n.component.extend({needs_update:function(t){return!t.find(".t-caption").hasClass("thrv-inline-text")},migrate_element:function(t){t.find(".t-caption").addClass("thrv-inline-text"),t.removeClass("tve_cd_timer_plain").addClass("thrv-countdown_timer_plain")},controls_init:function(t){this.controls.CompleteText.change=function(t,e){var i=e.value,n=t.attr("data-text");t.attr("data-text",i),this.component.undo_manager_api_for_attributes(t,"data-text",n,i,!1)},this.controls.CompleteText.update=function(t){this.setValue(t.attr("data-text"))};var e=this.config.style;this.controls.style.set_drop_panel(new s({model:e,component:this})),this.controls.EndDate.update=function(t){var e=t.attr("data-date").split("-"),i=e[1]-1;this.setValue(e[0],i,e[2])},this.controls.EndDate.input=function(t,e){var i=e.split(" ")[0].split("-").reverse().join("-"),n=t.attr("data-date");t.attr("data-date",i),this.component.compute_time_until(t,i,t.attr("data-hour"),t.attr("data-min")),this.component.undo_manager_api_for_attributes(t,"data-date",n,i,!0)},this.controls.Color.input=function(s){var a=this,o=this.applyTo(),t=this.config.config.style_default_color;s&&(s+="!important"),_.each(t,function(t,e){for(var i in t){var n={};""===t[i]&&(n[i]=s,a.applyElementCss(n,o,e,""))}}),this.applyElementCss({color:s},o,this.config.css_suffix,""),s||this.component.controls.Color.update()},this.controls.Color.update=function(){this.setValue(this.applyTo().head_css("color",!1,this.config.css_suffix,!0))},this.controls.Hour.input=function(t,e){var i=e.value;1===i.toString().length&&(i="0"+i),this.component.compute_time_until(t,t.attr("data-date"),i,t.attr("data-min"))},this.controls.Hour.update=function(t){this.setValue(parseInt(t.attr("data-hour")))},this.controls.Hour.change=function(t,e){var i=e.value,n=i.toString().length,s=t.attr("data-hour");1===n&&(i="0"+i),t.attr("data-hour",i),this.component.undo_manager_api_for_attributes(t,"data-hour",s,i,!0)},this.controls.Minute.input=function(t,e){var i=e.value;1===i.toString().length&&(i="0"+i),this.component.compute_time_until(t,t.attr("data-date"),t.attr("data-hour"),i)},this.controls.Minute.update=function(t){this.setValue(parseInt(t.attr("data-min")))},this.controls.Minute.change=function(t,e){var i=e.value,n=i.toString().length,s=t.attr("data-min");1===n&&(i="0"+i),t.attr("data-min",i),this.component.undo_manager_api_for_attributes(t,"data-min",s,i,!0)}},compute_time_until:function(t,e,i,n){var s,a=new Date,o=new Date(e+"T"+i+":"+n+":00"+t.attr("data-timezone")),r=0,l=0,c=0,d=0;a<o&&(r=Math.floor((o.getTime()-a.getTime())/1e3),l=Math.floor(r/60),c=Math.floor(l/60),d=Math.floor(c/24),s=2,r%=60,l%=60,c%=24,99<d&&(s=d.toString().length)),this.set_date_values(t.find(".tve_t_day .t-digits"),d),this.set_date_values(t.find(".tve_t_hour .t-digits"),c),this.set_date_values(t.find(".tve_t_min .t-digits"),l),this.set_date_values(t.find(".tve_t_sec .t-digits"),r),a<o?t.find(".tve_t_day .t-digits").css("min-width",s*t.find(".tve_t_sec .t-digits > span").first().outerWidth()+"px"):t.find(".tve_t_day .t-digits").css("min-width","")},trigger_change_date:function(){this.controls.EndDate.$(".tve-input-control").trigger("change")},set_date_values:function(t,e){if(t.empty(),e<=99)t.prepend('<span class="part-1">'+e%10+"</span>"),t.prepend('<span class="part-2">'+Math.floor(e/10)+"</span>");else for(var i=0;e;)i++,t.prepend('<span class="part-'+i+'">'+e%10+"</span>"),e=Math.floor(e/10)},countdown_style_control:function(){return i("../controls/style-change")},undo_manager_api_for_attributes:function(t,e,i,n,s){var a=this;s=void 0!==s&&s,TVE.UndoManager.add({undo:function(){void 0===i&&(i=""),t.attr(e,i),s&&this.changeTimer()},redo:function(){t.attr(e,n),s&&this.changeTimer()},changeTimer:function(){a.compute_time_until(t,t.attr("data-date"),t.attr("data-hour"),t.attr("data-min"))}})}})},"credit.js":function(t,e,i){var n=i("../base"),s=i("../controls/credit/style"),a=i("../controls/credit/cards");e.exports=n.component.extend({cardsCollection:new Backbone.Collection({}),controls_init:function(){this.controls.size.update=function(t){var e=t.head_css("font-size",null,null,!0);e=e||t.find("svg").first().width(),this.setValue(e)},this.controls.size.input=function(t){this.applyElementCss({"font-size":this.value("px")},t,"","")},this.controls.monochrome_background.input=function(t){this.applyElementCss({fill:t},this.applyTo(),this.config.css_suffix,"")},this.controls.monochrome_background.update=function(t){var e=this.applyTo().head_css("fill",null,this.config.css_suffix);e=e||this.config.config.default,this.setValue(e)},this.listenTo(this.cardsCollection,"reset-for-preview",_.bind(function(){var t=this.controls.size.applyTo();this.controls.preview.update(t),TVE.Editor_Page.reposition_icons()},this)),this.listenTo(this.cardsCollection,"change",_.bind(function(t){var e=[],i=this.controls.size.applyTo();this.cardsCollection.each(function(t){e.push(t.get("key"))},this),this.renderer.sort_element_cards(e),this.renderer.render_to(i)},this)),this.listenTo(this.cardsCollection,"remove",_.bind(function(t){var e=this.controls.size.applyTo(),i=e.attr("data-cards").split(","),n=i.indexOf(t.get("key"));-1<n&&i.splice(n,1),e.attr("data-cards",i),e.find(".tcb-"+t.get("key")+"-card").remove(),TVE.Editor_Page.reposition_icons()},this)),this.controls.preview.attach_collection(this.cardsCollection),this.controls.preview.update=function(t){var i=[],n=t.attr("data-cards").split(",");_.each(n,function(t,e){i.push({icon:this.component.renderer.get_card_template(n[e],!0),key:n[e],label:this.component.renderer.cards[t]})},this),this.component.cardsCollection.reset(i)};var t=this.config.stylePicker;t.config.items=this.renderer.get_styles(),this.controls.style.set_drop_panel(new s({model:t,renderer:this.renderer,collection:this.cardsCollection}))},credit_style_control:function(){return i("../controls/style-change")},card_preview_control:function(){return i("../controls/preview-list")},open_cards:function(t,e){var i=this.config.cards;i.config.items=this.renderer.get_cards(),this.cards_picker=this.cards_picker||new a({model:i,renderer:this.renderer,collection:this.cardsCollection}),this.cards_picker.open(TVE.ActiveElement,e)}})},"decoration.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({decoration:function(){return i("../controls/decoration/decoration")},check_for_same_background_ids:function(t){var e=t.find(".tve-content-box-background");_.each(e,function(t){var e=TVE.inner_$(t),i=e.attr("data-clip-id");_.isEmpty(i)||1<TVE.Editor_Page.editor.find('*[data-clip-id="'+i+'"]').length&&this.change_ids(i,e)},this)},generate_id:function(){return Math.random().toString(16).slice(2)},change_ids:function(i,t){var e,n,s=this.generate_id();for(var a in t.attr("data-clip-id",s),t.find(".decoration-clip").each(function(t){var e=jQuery(this);e.attr("id",e.attr("id").replace(i,s)),e.attr("class",e.attr("class").replace(i,s)),e.attr("clip-path")&&e.attr("clip-path",e.attr("clip-path").replace(i,s))}),TVE.main.responsive)n="desktop"==a?"":a+"-",(e=t.find('*[data-screen="'+n+'"]').first().attr("id"))&&t.head_css({"clip-path":"url(#"+e+")"},TVE.main.responsive[a].media)}})},"divider.js":function(t,e,i){var n=i("../base"),s=i("../controls/divider/style");e.exports=n.component.extend({oldColor:null,oldThickness:null,needs_update:function(t){return!t.hasClass("thrv-divider")},migrate_element:function(t){t.addClass("thrv-divider"),t.attr("data-color","rgb(217, 217, 217)"),t.attr("data-thickness","10");var e=t.find("hr"),i=e.attr("class").split(" "),n="tve_sep1",s=i.indexOf("tve_sep");-1<s&&i.splice(s,1),1===i.length&&(n=i[0]);var a=n.slice(-1),o="tve_sep-"+a;e.removeClass(n).addClass(o),t.attr("data-style","tve_sep-"+a),this.addDividerHeadCss(t)},controls_init:function(t){this.controls.divider_color.input=function(t){var e=this.applyTo(),i=!1;t?t=TVE.isCssVariable(t)?t:t.toRgbString():(t="rgb(217, 217, 217)",i=!0),e.mediaAttr("data-color",t),i&&this.component.controls.divider_color.update(e),this.component.addDividerHeadCss(e)},this.controls.divider_color.change=function(t){var e=this.applyTo();e.mediaAttr("data-color",TVE.isCssVariable(t)?t:t.toRgbString()),this.component.addDividerHeadCss(e),this.component.undo_manager_api(e,"data-color",this.oldColor,e.mediaAttr("data-color"))},this.controls.divider_color.update=function(t){this.setValue(t.mediaAttr("data-color"))||t.head_css("border-color",null," .tve_sep",!0)||t.attr("data-color"),this.oldColor=t.attr("data-color")},this.controls.thickness.input=function(t,e){t.mediaAttr("data-thickness",e.value),this.component.addDividerHeadCss(t)},this.controls.thickness.update=function(t){this.setValue(t.mediaAttr("data-thickness")?t.mediaAttr("data-thickness"):t.attr("data-thickness")),this.oldThickness=t.attr("data-thickness"),this.component.addDividerHeadCss(t)},this.controls.thickness.change=function(t,e){t.mediaAttr("data-thickness",e.value),this.component.addDividerHeadCss(t),this.component.undo_manager_api(t,"data-thickness",this.oldThickness,e.value)};var e=this.config.style;this.controls.style.set_drop_panel(new s({model:e,component:this}))},constructObject:function(t){var e=t.mediaAttr("data-style")||"tve_sep1",i=t.mediaAttr("data-color")||"rgb(217, 217, 217)",n=t.mediaAttr("data-thickness")||10,s={"background-image":"",height:"","background-size":"","border-width":"","border-color":""};return e&&0<e.length&&this.config.style.config.items[e]&&("tve_sep-1"===e?(s["border-width"]=n+"px !important",s["border-color"]=i+" !important"):(s.height=n+"px !important",s["background-size"]=n+"px "+n+"px",s["background-image"]='url("'+this.config.style.config.items[e].background_image.replace("%thrive%",i)+'")')),s},addDividerHeadCss:function(t){this.controls.thickness.applyElementCss(this.constructObject(t),t," .tve_sep",this.config.thickness.css_prefix)},undo_manager_api:function(t,e,i,n){var s=this;TVE.UndoManager.add({undo:function(){t.mediaAttr(e,i),s.addDividerHeadCss(t)},redo:function(){t.mediaAttr(e,n),s.addDividerHeadCss(t)}})},divider_style_control:function(){return i("../controls/style-change")}})},"fillcounter.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({extra_states:!0,needs_update:function(t){return!t.hasClass("thrv-fill-counter")},migrate_element:function(t){var e=t.find(".tve_fill_text_value").html(),i=t.find(".tve_fill_text_value .tve_fill_text_before").css("color"),n=t.find(".tve_fill_text_value .tve_fill_text").css("color"),s=t.find(".tve_fill_text_value .tve_fill_text_after").css("color");t.head_css(t.css(["margin","padding","border-width","border-width","border-style","border-color","border-image"])),t.attr("style",""),t.find(".tve_fill_text_value").html('<div class="thrv-inline-text tve_fill_text tve_editable">'+e.replace(/(\n|\r)/g,"")+"</div>"),t.find(".tve_fill_text_value .tve_fill_text_before").head_css({color:i+" ! important"}).removeAttr("data-tve-custom-colour"),t.find(".tve_fill_text_value .tve_fill_text").head_css({color:n+" ! important"}).removeAttr("data-tve-custom-colour"),t.find(".tve_fill_text_value .tve_fill_text_after").head_css({color:s+" ! important"}).removeAttr("data-tve-custom-colour"),t.find(".tve_data_element_label").addClass("thrv-inline-text tve_editable"),t.find(".tve_fill_text").head_css({color:t.find(".tve_fill_text").css("color")+" ! important"}),t.find(".tve_fill_text_in").head_css({"background-color":t.find(".tve_fill_text_in").css("background-color")}).removeAttr("data-tve-custom-colour"),t.find(".tve_data_element_label").head_css({color:t.find(".tve_data_element_label").css("color")+" ! important"}),t.find(".tve_data_element_label").head_css({color:t.find(".tve_fill_text_in").css("color")}),t.find(".tve_fill_counter_circle circle").head_css({stroke:t.find(".tve_fill_counter_circle circle").css("stroke")+" ! important"}),t.addClass("thrv-fill-counter").removeClass("thrv_fill_counter")},controls_init:function(t){var n,s,a=this;this.controls.CircleColor.input=function(t){t&&(t+="! important"),this.applyElementCss({"background-color":t},this.applyTo().find(".tve_fill_counter_circle"),"",""),t||this.component.controls.CircleColor.update(this.applyTo())},this.controls.CircleColor.update=function(t){this.setValue(t.find(".tve_fill_counter_circle").head_css("background-color",!1,"",!0))},this.controls.FillColor.input=function(t){t&&(t+="! important"),this.applyElementCss({stroke:t},this.applyTo().find(".tve_fill_counter_circle circle"),"",""),t||this.component.controls.FillColor.update(this.applyTo())},this.controls.FillColor.update=function(t){this.setValue(t.find(".tve_fill_counter_circle circle").head_css("stroke",!1,"",!0))},this.controls.InnerColor.input=function(t){this.applyElementCss({"background-color":t},this.applyTo().find(".tve_fill_text_in"),"",""),t||this.component.controls.InnerColor.update(this.applyTo())},this.controls.InnerColor.update=function(t){this.setValue(t.find(".tve_fill_text_in").head_css("background-color",!1,"",!0))},this.controls.CounterSize.input=function(t,e){a.apply_size(t,e.value),TVE.Editor_Page.reposition_icons()},this.controls.CounterSize.change=function(t,e){var i=e.value;this.input(t,e),TVE.UndoManager.add({undo:function(){TVE.SKIP_CSS_STATE=!0,a.apply_size(t,n),TVE.SKIP_CSS_STATE=!1},redo:function(){TVE.SKIP_CSS_STATE=!0,a.apply_size(t,i),TVE.SKIP_CSS_STATE=!1}})},this.controls.CounterSize.update=function(t){n=t.find(".tve_fill_counter_circle").width(),this.setValue(n)},t.CounterSize.afterConfig=function(){this.model.config.max=parseInt(this.applyTo().parent().width())},this.controls.FillPercent.input=function(t,e){a.apply_fill(t,e.value)},this.controls.FillPercent.change=function(t,e){var i=e.value;this.input(t,e),TVE.UndoManager.add({undo:function(){TVE.SKIP_CSS_STATE=!0,a.apply_fill(t,s),TVE.SKIP_CSS_STATE=!1},redo:function(){TVE.SKIP_CSS_STATE=!0,a.apply_fill(t,i),TVE.SKIP_CSS_STATE=!1}})},this.controls.FillPercent.update=function(t){(s=t.attr("data-fill"))||(s=75,t.attr("data-fill",s),t.head_css({width:s+"%"})),this.setValue(s)}},apply_fill:function(t,e){var i=Number(e),n=t.find(".tve_fill_counter_circle circle").attr("r"),s=Math.PI*(2*n);t.attr("data-fill",i),i<0&&(i=0),100<i&&(i=100);var a=i/100*s;this.controls.FillPercent.applyElementCss({"stroke-dasharray":a+" "+s},t,"","")},apply_size:function(t,e){var i=e/2,n=t.find(".tve_fill_counter_n").attr("data-fill"),s=e/20;t.find(".tve_fill_counter_circle circle").attr("r",i).attr("cx",i).attr("cy",i),t.find(".tve_fill_counter_circle").get(0).setAttribute("viewBox","0 0 "+e+" "+e),this.controls.CounterSize.applyElementCss({width:e+"px !important",height:e+"px !important"},t.find(".tve_fill_counter_circle"),"","",!0),this.controls.CounterSize.applyElementCss({"stroke-width":2*s+1+"px !important"},t.find(".tve_fill_counter_circle circle"),"","",!0),this.controls.CounterSize.applyElementCss({width:e-2*s+"px !important",height:e-2*s+"px !important",top:s+"px !important",bottom:s+"px !important",left:s+"px !important",right:s+"px !important"},t.find(".tve_fill_text_in"),"","",!0),this.controls.CounterSize.applyElementCss({"margin-top":.25*e+"px !important"},t.find(".tve_fill_text_value circle"),"","",!0),this.controls.CounterSize.applyElementCss({"font-size":.3*e+"px !important","line-height":.3*e+"px !important"},t.find(".tve_fill_text circle"),"","",!0),t.find(".tve_fill_text .fr-element span").css("font-size",""),this.controls.CounterSize.applyElementCss({"font-size":.085*e+"px !important","line-height":.085*e+"px !important"},t.find(".tve_data_element_label circle"),"","",!0),this.apply_fill(t.find(".tve_fill_counter_n"),n)}})},"gmap.js":function(t,e,i){var a,o,n=i("../base"),r="https://maps.google.com/maps?q=New%20York&t=m&z=10&output=embed&iwloc=near";e.exports=n.component.extend({controls_init:function(t){this.controls.zoom.input=function(t,e){},this.controls.zoom.update=function(t){if(0<t.find("iframe").length){var e=t.find("iframe").attr("src"),i=this.config.config.default;-1===e.indexOf("!2s")&&-1===e.indexOf("!5e0!")&&(i=TVE.getUrlParam(e,"z")),a=i,this.setValue(i)}},this.controls.zoom.change=function(t,e){var i=t.find("iframe").attr("src"),n=e.value;if(i){var s=TVE.setOrReplaceUrlParam(r,"z",n);s=TVE.setOrReplaceUrlParam(s,"q",o),t.find("iframe").attr("src",s),a=n}},this.controls.address.update=function(t){if(0<t.find("iframe").length){var e=t.find("iframe").attr("src"),i="New York";if(-1!==e.indexOf("!2s")&&-1!==e.indexOf("!5e0!")){var n=e.match(new RegExp("!2s(.*)!5e0!"));n&&n[1]&&(i=decodeURIComponent(n[1]))}else i=TVE.getUrlParam(e,"q");o=i,this.setValue(i)}},this.controls.address.change=function(t,e){if(t.find("iframe").attr("src")){var i=TVE.setOrReplaceUrlParam(r,"z",a);i=TVE.setOrReplaceUrlParam(i,"q",e.value),t.find("iframe").attr("src",i),o=e.value}}}})},"group.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({group_class:"tcb-group-editing",group_item_class:"tcb-group-editing-item",not_group_item_class:"tcb-excluded-from-group-item",dynamic_group_item_class_prf:"dynamic-group-",identifier:null,select_values_base:null,select_values_collection:null,mainElement:null,childElement:null,group_shortcode_classes:".thrv_toggle, .thrv-tabbed-content, .thrv-content-block, .thrv-lp-block, body.tve_lp",group_elements_classes:"",canUnlock:!0,group_elements_selectors:"",controls_init:function(){var t=this,h=this;_.each(TVE.Elements,function(i,t){i.has_group&&(this.group_elements_classes+=i.identifier.trim()+",",_.each(i.has_group.select_values,function(t,e){this.group_elements_selectors+=(i.has_group.elem_selector||i.identifier).trim()+" "+t.selector+","},this))},this),this.group_elements_selectors=this.group_elements_selectors.slice(0,-1),this.group_elements_classes=(this.group_shortcode_classes+","+this.group_elements_classes).slice(0,-1),TVE.add_filter("text_block_element",function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=TVE.ActiveElement.is(TVE.TEXT_BLOCK+","+TVE.TEXT_HEADINGS),n=i?TVE.ActiveElement:t,s=t[0].tagName;return n.hasClass(h.group_item_class)&&!n.hasClass(h.not_group_item_class)&&(t=i?(e&&(n=n.filter(".edit_mode")),n.filter(":not(."+h.not_group_item_class+")").find(TVE.BLOCK_ELEMENTS).filter(s)):h.mainElement.find("."+h.group_item_class+":not(."+h.not_group_item_class+")")),t}),TVE.add_filter("tcb_filter_html_before_save",function(t){return t.find("."+h.group_class).removeClass(h.group_class+" tcb-child-selector-no_title tcb-child-selector-no_icons"),t.find("."+h.group_item_class).removeClass(h.group_item_class),t}),TVE.add_action("tcb.show_icons",function(t,e,i){t.is(h.group_elements_classes)&&0<t.closest(h.group_elements_classes).length&&TVE.ElementIcons.$save.hide(),i.for_edit()&&0===t.closest(h.group_class).length&&(TVE.ElementEditIcons.$lock.hide(),TVE.ElementEditIcons.$unlock.hide())}),TVE.add_action("tcb.editor.undo",function(){TVE.Editor_Page.$body.find(".".concat(t.group_class,",.").concat(t.group_item_class)).removeClass("".concat(t.group_class," ").concat(t.group_item_class," canvas-mode"))}),TVE.add_filter("tcb.generate_new_css_id",_.bind(function(t,e){var i=TVE.inner_$(e);return(!TVE.is_group_editing||!(e.classList.contains(this.group_item_class)&&!e.classList.contains(this.not_group_item_class)||TVE.BLOCK_ELEMENTS.includes(e.tagName.toLowerCase())&&i.closest(".thrv_wrapper")[0].classList.contains(this.group_item_class)&&!i.closest(".thrv_wrapper")[0].classList.contains(this.not_group_item_class)))&&t},this)),TVE.main.states_dropdown.on("state_change",_.bind(function(t){this.$el.toggle("hover"!==t)},this)),TVE.main.states_dropdown.on("done",_.bind(function(t){this.mainElement&&this.$el.show()},this)),TVE.main.on("clear_focus",function(){return t.close_group_options()}),this.controls.preview.update=function(t){var e,i=t.filter(".edit_mode");if(!i.hasClass(h.group_class)){if(h.render_preview(),i.hasClass(h.not_group_item_class)){var n=h.mainElement.find(h.identifier).index(i);e="_"+(h.identifier+n),h.handle_icons(!0)}else e=null,h.select_values_collection.each(function(t){i.is(t.get("selector"))&&(e=t.get("value"))},this),h.handle_icons(!1);this.setValue(e),h.checkUnlocking(e)}},this.controls.preview.change=function(t,e){var i;if("_"!==e.value.charAt(0)){var n=h.select_values_collection.findWhere({value:e.value}).get("selector");i=h.mainElement.find(n+":not(."+h.not_group_item_class+")"),i=TVE.apply_filters("tcb.group_edit.grouped_elements",i),TVE.do_action("tcb_group_edit_preview_change",{selector:n,elements:i,value:e.value})}else{var s=h.select_values_collection.findWhere({value:e.value}).get("selector");i=TVE.inner_$(s),TVE.do_action("tcb_group_edit_preview_change_locked",{element:s})}i[0].click(),i.is(TVE.TEXT_INLINE+","+TVE.TEXT_BLOCK)&&TVE.froala.force_focus(i.first(),!1)},this.controls.ButtonToggle.update=function(t){var e=t.filter(".edit_mode"),i=e.hasClass(h.not_group_item_class);e.hasClass(h.group_class)||this.setActive(i)},this.controls.ButtonToggle.change=function(t,e){var i=t.filter(".edit_mode"),n=!1;if(!i.hasClass(h.group_class)){i.hasClass(h.not_group_item_class)?(i.removeClass(h.not_group_item_class),TVE.ActiveElement=h.mainElement.find("."+h.group_item_class).not("."+h.not_group_item_class),this.setActive(!1),h.handle_icons(!1)):(n=!0,i.addClass(h.not_group_item_class),TVE.ActiveElement=i,TVE.ActiveElement.attr("data-css")&&1<h.mainElement.find('[data-css="'+TVE.ActiveElement.attr("data-css")+'"]').length&&TVE.ActiveElement.head_css_copy(TVE.ActiveElement),this.setActive(!0),h.handle_icons(!0)),e.from_el_icons&&i.is(TVE.TEXT_INLINE+","+TVE.TEXT_BLOCK)&&TVE.froala.force_focus(i,!1),h.controls.preview.update(t);var s={activeElement:i,mainElement:h.mainElement,unlocked:n,not_in_group_class:i.hasClass(h.not_group_item_class)?h.not_group_item_class:""};TVE.do_action("tcb.group_edit.status",s),TVE.do_action("tcb.group_edit."+TVE._type(s.mainElement)+"."+(n?"unlocked":"locked"),s)}},TVE.main.on("element_selected",function(t){var e=t.attr("data-group-editing-parent"),i=t;e&&(i=i.closest(e).parent());var n,s=i.closest(h.group_elements_classes),a=h.group_elements_selectors;if(-1<t.attr("class").indexOf(h.dynamic_group_item_class_prf)){var o=TVE.getClassThatContains(t,h.dynamic_group_item_class_prf).replace(h.dynamic_group_item_class_prf,"");_.each(t.parents(h.group_shortcode_classes),function(t){var e=TVE.inner_$(t),i=h.get_group_config(e);if(i[o]){var n=TVE.Elements[TVE._type(e)].identifier;_.each(i,function(t,e){a+=","+n+" ."+h.dynamic_group_item_class_prf+e}),a=a.trim().replace(/(^,)|(,$)/g,""),s=e}})}if((n=t.is(a))&&s.length&&s.hasClass(h.group_class))r=(r=h.find_elem(t))||h.find_elem(t.parent().closest(h.group_elements_classes)),h.identifier=r.selector,h.mainElement.find("."+h.group_item_class).removeClass(h.group_item_class),h.mainElement.find(h.identifier).addClass(h.group_item_class),t.hasClass(h.group_item_class)&&!t.hasClass(h.not_group_item_class)&&(TVE.ActiveElement=h.mainElement.find("."+h.group_item_class+":not(."+h.not_group_item_class+")")),TVE.ElementEditIcons.show(),h.handle_icons(!1);else if(n&&_.isEmpty(h.mainElement)&&0<s.length&&0===t.closest("."+h.group_class).length){if(t.is(h.group_elements_classes))return;h.childElement=t,TVE.ActiveElement=s,h.open_group_options(TVE._type(TVE.ActiveElement));var r=h.find_elem(t),l=!0;if(h.identifier=r.selector,h.mainElement.find("."+h.group_item_class).removeClass(h.group_item_class),h.mainElement.find(h.identifier).addClass(h.group_item_class),t.hasClass(h.group_item_class)&&!t.hasClass(h.not_group_item_class)?TVE.ActiveElement=h.mainElement.find("."+h.group_item_class+":not(."+h.not_group_item_class+")"):TVE.ActiveElement=t,!h.mainElement.is(".thrv_widget_menu")&&(_.some(TVE.ActiveElement,function(t){if(!_.isEmpty(t.dataset.css))return!(l=!1)}),l)){var c=TVE.CSS_Rule_Cache.uniq_id(TVE.ActiveElement);_.each(TVE.ActiveElement,function(t){t.dataset.css=c})}}else{if(!h.mainElement)return;if(h.close_group_options(),!1===n||0===s.length||t.is(h.group_elements_classes))TVE.main.element_selected(t);else{if(t.is(h.group_elements_classes))return;h.childElement=t,TVE.ActiveElement=s,h.open_group_options(TVE._type(TVE.ActiveElement)),TVE.Editor_Page.selection_manager.show_icons(t);var d=TVE.get_element_identifier(t);h.identifier!==d&&(h.identifier=d,h.mainElement.find("."+h.group_item_class).removeClass(h.group_item_class),h.mainElement.find(h.find_elem(t).selector).addClass(h.group_item_class)),t.hasClass(h.group_item_class)&&!t.hasClass(h.not_group_item_class)?TVE.ActiveElement=h.mainElement.find("."+h.group_item_class+":not(."+h.not_group_item_class+")"):TVE.ActiveElement=t}}})},find_elem:function(e){var i=null;return _.some(this.select_values_base,function(t){if(e.is(t.selector))return i=t,!0}),i},handle_icons:function(t){TVE.ElementEditIcons.$lock.toggle(!t),TVE.ElementEditIcons.$unlock.toggle(t)},render_preview:function(){var a,o=[],e=null,r=0,t=TVE.Components[TVE._type(this.mainElement)];t&&"function"==typeof t.unlockedItemName&&(a=_.bind(t.unlockedItemName,t)),_.each(this.select_values_base,function(n,t){var s=this.mainElement.find(n.selector);e=s.filter("."+this.not_group_item_class),delete n.disabled,e.length===s.length&&(n.disabled="disabled"),o.push(n),_.each(e,function(t,e){var i=TVE.inner_$(t);r=s.index(t),o.push({value:"_"+(n.selector+r),selector:t,name:a?" -- "+a(n,i,r):n.singular.replace("%s",1+r),no_unlock:n.no_unlock||!1})},this)},this),this.controls.preview.build_options(o),this.select_values_collection.reset(o)},enter_group_mode:function(t){var i=this;TVE.is_group_editing=!0,this.mainElement=TVE.ActiveElement,this.identifier=t,this.select_values_base=[],TVE.Elements[t].has_group&&(this.select_values_base=_.clone(TVE.apply_filters("tcb.group_edit.".concat(t,".options"),TVE.Elements[t].has_group.select_values))),this.mainElement.is(this.group_shortcode_classes)&&_.each(this.get_group_config(this.mainElement),function(t,e){i.select_values_base.push({value:"all_"+e,selector:"."+i.dynamic_group_item_class_prf+e,name:t.name,singular:t.singular})}),this.select_values_collection=new Backbone.Collection(this.select_values_base),this.controls.preview.build_options(this.select_values_base),this.mainElement.addClass(this.group_class),TVE.main.$cpanel.find(".tcb-enter-group-editing").addClass("tcb-hidden"),TVE.do_action("tcb.group.enter_group_mode.after",this.mainElement)},exit_group_mode:function(){TVE.is_group_editing=!1,TVE.main.$cpanel.find(".tcb-enter-group-editing").removeClass("tcb-hidden"),this.mainElement&&this.mainElement.removeClass(this.group_class),this.mainElement&&this.mainElement.find("."+this.group_item_class).removeClass(this.group_item_class),delete this.mainElement,delete this.childElement},get_group_config:function(t){return this.shortcode_config=TVE.shortcode_manager(t.find(".thrive-group-edit-config:first"),"group_edit"),this.shortcode_settings=this.shortcode_config.get(),this.shortcode_settings},checkUnlocking:function(t){var e=0<arguments.length&&void 0!==t?t:this.controls.preview.getValue();if(!this.select_values_collection)return this.canUnlock=!0;var i=this.select_values_collection.findWhere({value:e});this.canUnlock=!(i&&i.get("no_unlock")),this.canUnlock||(TVE.ElementEditIcons.$lock.hide(),TVE.ElementEditIcons.$unlock.hide()),this.controls.ButtonToggle.$el.toggleClass("tcb-hidden",!this.canUnlock)}})},"html.js":function(t,e,i){TVE.CustomHTML=i("../modals/custom-html");var n=i("../base");e.exports=n.component.extend({controls_init:function(t){this.customHtmlInstance=TVE.CustomHTML.get_instance(TVE.modal.get_element("custom-html"))},edit_html_content:function(){this.placeholder_action()},placeholder_action:function(){this.customHtmlInstance.open({css:{width:"60%",left:"20%"}})}})},"icon.js":function(t,e,i){var n=i("../base");TVE.IconsModal=i("../modals/icons"),e.exports=n.component.extend({extra_states:!0,group_editing_change_icons_for:".thrv_widget_menu, .thrv-styled_list",controls_init:function(i){var s=this;this.controls.ToggleURL&&(this.controls.ToggleURL.update=function(t){this.$el.toggle(0===t.closest(".tcb-button-icon, .tve_lg_input_container, .tve-cf-submit, button").length),this.setChecked(!!t.filter(".edit_mode").parent("a[href]").length),i.link.$el.toggle(this.isChecked())},this.controls.ToggleURL.input=function(t,e){i.link.$el.toggle(!!e.checked),i.link.toggleURL(e.checked)}),this.controls.Slider.update=function(t){this.$el.toggle(!t.parent().is(".tve_lg_input")),TVE.state_manager.is_default()&&this.setValue(t.head_css("font-size",!1,"",!0,this.config.css_prefix))},this.controls.Slider.getCssProps=function(){return["font-size","width","height"]},this.controls.Slider.input=function(t,e){var i=this,n={};if(this.getCssProps().forEach(function(t){return n[t]=e.value+i.getUM()}),this.applyElementCss(n,t,this.config.css_suffix,this.config.css_prefix),t.siblings('button[type="submit"]').length){var s=t.siblings('button[type="submit"]'),a=parseInt(e.value),o=parseInt(s.css("padding-top")),r=parseInt(s.css("padding-bottom"));this.applyElementCss({height:"".concat(a+r+o,"px")},s,"","",!0)}},this.controls.Slider.onChange=function(t,e){var i=parseInt(e.value);(i=isNaN(i)?0:i)>parseInt(this.model.config.max)&&(e.value=this.model.config.max),i<parseInt(this.model.config.min)&&(e.value=this.model.config.min),this.setValue(e.value+this.getUM()),TVE.SkipUpdate=!1,TVE.Editor_Page.reposition_icons(),TVE.ElementEditIcons.toggle(),this.change(t,e)},this.controls.ColorPicker.update=function(t){this.setValue(this.applyTo().head_css("color",!1,this.config.css_suffix,!0,this.config.css_prefix))},this.controls.ColorPicker.input=function(t){this.applyElementCss({color:t}),t||this.component.controls.ColorPicker.update(this.applyTo())},this.controls.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),this.controls.ModalPicker.input=function(t,e){var i;if(e.icon.is(".tve-svg-icon")){var n=jQuery("symbol#"+e.icon.data("cls"));i=TVE.svg_icon({path:n.html(),viewBox:n[0].getAttribute("viewBox"),name:n.find("> title").first().text(),id:n.attr("id")})}else i='<span data-id="'+e.icon.attr("id")+'" data-name="'+e.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+e.icon.data("cls")+'"></span>';TVE.is_group_editing&&0===t.closest(TVE.apply_filters("tcb.group.editing.change.icons.for",s.group_editing_change_icons_for)).length&&((t=t.filter(".edit_mode")).length||(t=TVE.ActiveElement)),t.head_css("font-size").length<=0&&!t.hasClass("tcb-icon-inherit-style")&&t.head_css({"font-size":"60px","margin-left":"auto","margin-right":"auto"}),t.html(i),TVE.do_action("icon_element_changed",t,e.icon.data("cls")),this.update(t)},this.controls.ModalPicker.update=function(t){var e=t.children().first(),i=e.attr("data-name")||e.attr("data-id");i=(i=i||(e.attr("data-tve-icon")?e.attr("data-tve-icon").replace("icon-",""):"")).replace("icon-",""),this.updateValue(i)}},placeholder_action:function(){this.controls.ModalPicker.openModal()},update:function(){n.component.prototype.update.apply(this,arguments);var t=this.controls.ModalPicker.applyTo().attr("data-not-changeable");this.$(".tve-choose-icon, .hide-hr").toggle(!t)},elementLink:function(){return i("../controls/jumplinks/element-link")}})},"image-effects.js":function(t,e,i){var s,n;s=jQuery,n=i("../base"),e.exports=n.component.extend({extra_states:!0,cache:{},deps:["animation"],before_update:function(){this.cache={}},controls_init:function(n){function i(t,e,i){var n=0<arguments.length&&void 0!==t?t:TVE.ActiveElement,s=1<arguments.length&&void 0!==e?e:"",a=2<arguments.length?i:void 0,o=l.cache.filter||n.css("filter")||"",r=o.match(new RegExp(s+"\\(([^)]+)"));return l.cache.filter||(l.cache.filter=o),parseFloat(Array.isArray(r)&&r[1]||parseInt(a))}var l=this;this.controls.ImageGreyscale.input=function(t){l.applyEffects()},this.controls.ImageGreyscale.update=function(t){var e=i(t,"grayscale",this.config.config.default);this.setValue(e<=1?100*e:e)},this.controls.ImageBlur.input=function(t){l.applyEffects()},this.controls.ImageBlur.update=function(t){this.setValue(i(t,"blur",this.config.config.default))},this.controls.ImageBrightness.input=function(t){l.applyEffects()},this.controls.ImageBrightness.update=function(t){var e=i(t,"brightness",1);this.setValue(100*e)},this.controls.ImageSepia.input=function(t){l.applyEffects()},this.controls.ImageSepia.update=function(t){var e=i(t,"sepia",this.config.config.default);this.setValue(e<=1?100*e:e)},this.controls.ImageSaturate.input=function(t){l.applyEffects()},this.controls.ImageSaturate.update=function(t){var e=i(t,"saturate",1);this.setValue(100*e)},this.controls.ImageInvert.input=function(t){l.applyEffects()},this.controls.ImageInvert.update=function(t){var e=i(t,"invert",this.config.config.default);this.setValue(e<=1?100*e:e)},this.controls.ImageContrast.input=function(t){l.applyEffects()},this.controls.ImageContrast.update=function(t){var e=i(t,"contrast",1);this.setValue(100*e)},this.controls.ImageHueRotate.input=function(t){l.applyEffects()},this.controls.ImageHueRotate.update=function(t){var e=i(t,"hue-rotate",this.config.config.default);this.setValue(e<=1?100*e:e)},this.controls.ImageOpacity.input=function(t,e){this.applyElementCss({opacity:e.value/100},t,this.config.css_suffix,"")},this.controls.ImageOpacity.update=function(t){var e=t.css("opacity");this.setValue(100*e)},this.controls.ImageOverlaySwitch.change=function(t,e){switch(this.config.strategy){case"pseudo-element":t.head_css({display:e.checked?"block":"none",content:"''",position:"absolute",top:0,left:0,width:"100%",height:"100%"},null,this.config.css_suffix||"::after");break;case"element":default:e.checked?s('<span class="tve-image-overlay"></span>').insertAfter(t.find("img")):t.find(".tve-image-overlay").remove(),TVE.do_action("tcb.image.overlay.change",t)}n.ImageOverlay.$el.toggle(e.checked),n.ImageOverlay.update()},this.controls.ImageOverlaySwitch.update=function(){var t=!1;switch(this.config.strategy){case"pseudo-element":t="block"===this.applyTo().filter(".edit_mode").head_css("display",null,this.config.css_suffix||"::after",!0);break;case"element":default:t=!!this.applyTo().find(".tve-image-overlay").length}n.ImageOverlay.$el.toggle(t),this.setChecked(t)},this.controls.ImageOverlay.input=function(t){var e=this.applyTo(),i=e.find(".tve-image-overlay");"element"===n.ImageOverlaySwitch.config.strategy&&0===i.length&&s('<span class="tve-image-overlay"></span>').insertAfter(e.find("img")),this.applyElementCss({"background-color":t},e,this.config.css_suffix,""),TVE.Components.animation.is_visible()&&TVE.Components.animation.bg_color_changed({css:{"background-color":t?TVE.isCssVariable(t)?TVE.getCssVariableValue(t):t.toRgbString():""},control:this})},this.controls.ImageOverlay.update=function(){this.setValue(this.applyTo().head_css("background-color",null,this.config.css_suffix,!0)||null)}},set_default:function(){this.resetControls()},applyEffects:function(t){var e=0<arguments.length&&void 0!==t&&t,i={},n=this.controls.ImageBlur,s=this.controls.ImageGreyscale.value(),a=this.controls.ImageBlur.value(),o=this.controls.ImageBrightness.value(),r=this.controls.ImageSepia.value(),l=this.controls.ImageContrast.value(),c=this.controls.ImageInvert.value(),d=this.controls.ImageSaturate.value(),h=this.controls.ImageHueRotate.value();i.filter="grayscale(".concat(s,"%) blur(").concat(a,"px) brightness(").concat(o,"%) sepia(").concat(r,"%) invert(").concat(c,"%) saturate(").concat(d,"%) contrast(").concat(l,"%) hue-rotate(").concat(h,"deg)"),e&&(i.opacity="1"),n.applyElementCss(i,n.applyTo(),n.config.css_suffix,"")},resetControls:function(){var e=this;["ImageGreyscale","ImageBrightness","ImageSepia","ImageContrast","ImageBlur","ImageSaturate","ImageInvert","ImageHueRotate"].forEach(function(t){e.controls[t].setValue(e.controls[t].getDefault())}),this.applyEffects(!0),this.controls.ImageOpacity.setValue(100)}})},"image.js":function(t,e,i){var s,u,p,f,m,o,g,n=i("../base"),a=i("../controls/jumplinks/element-link"),v="tve-image-drag-",b=/tve-image-drag-\w+/g;e.exports=n.component.extend({update_on_expand:!0,deps:["animation"],placeholder_action:function(){this.controls.ImagePicker.change_placeholder()},after_update:function(){var t=TVE.apply_filters("tcb.image.show_dynamic_controls",!1,TVE.ActiveElement);this.controls.ImageSourceType.$el.toggle(t)},controls_init:function(){var n=this,r=this;this.$(".image-link").length&&(this.controls.imageLink=new a({el:this.$(".image-link")[0],model:{config:{label:TVE.t.img_link,class:"tve_image_caption"}},component:this})),this.controls.ImageSize.input=function(t,e){var i={};s.is(":visible")&&(s[0].style.display="none"),i[this.config.config.css]=e.value+this.getUM(),this.applyElementCss(i,t,"",""),r.controls.ImageHeight.getValue()<100?r.controls.ImageHeight.input(t,{value:r.controls.ImageHeight.getValue()}):(r._getSizes(t),r._handleImageMargins(this.currentEventType),"change"===this.currentEventType&&r.afterSizeChanges(t))},this.controls.ImageSize.update=function(t){var e=t.head_css(this.config.config.css);e=e||t.css("width"),this.setValue(e)},this.controls.ImageHeight.update=function(t){var e=0,i=g.filter(":visible"),n=t.filter(":visible");n.find(".wp-caption-text").length&&(e=n.find(".wp-caption-text").outerHeight());var s=!1,a=(n.height()-e)/i.filter(":visible").height();1===a?a=i.width()/n.width():1.01<a&&"mobile"===TVE.main.device&&(s="change"),r.checkImageSize(n),this.setValue(Math.round(100*a),s)},this.controls.ImageHeight.input=function(t,e){s.is(":visible")&&(s[0].style.display="none");var i=e.value,n="100%";i<100&&(n="".concat(g.filter(":visible").outerHeight()*i/100,"px"),i=100),this.applyElementCss({height:"".concat(n)},t," .tve_image_frame",""),this.applyElementCss({width:"".concat(i,"% !important"),"max-width":"none !important"},g,"","",!0),r._getSizes(t),r._handleImageMargins(this.currentEventType),"change"===this.currentEventType&&(r.afterSizeChanges(t),TVE.PostList.utils.checkForPostListSync(t))},this.controls.ImageHeight.prepareValue=function(t,e){return t},this.controls.ImageTitle.update=function(){var t=this.applyTo().filter(".edit_mode").find("img").attr("title");this.setValue(t)},this.controls.ImageTitle.change=function(){var t=r.stripHtml(this.$("input").val());this.applyTo().filter(".edit_mode").find("img").attr("title",t)},this.controls.ImageAltText.update=function(){var t=this.applyTo().filter(".edit_mode").find("img").attr("alt");this.setValue(t)},this.controls.ImageAltText.change=function(){var t=r.stripHtml(this.$("input").val());this.applyTo().filter(".edit_mode").find("img").attr("alt",t)},this.controls.ImageCaption&&(this.controls.ImageCaption.update=function(){this.setChecked(0<this.applyTo().find(".wp-caption-text").length)},this.controls.ImageCaption.change=function(t,e){e.checked?t.append('<p class="wp-caption-text thrv-inline-text">'+TVE.t.EditImageCaption+"</p>"):(t.find(".wp-caption-text").remove(),t.find(".thrv_wrapper").remove()),r._getSizes(t),r.resizeHandler(),TVE.do_action("tcb.image.caption_change",t)}),this.controls.ImageFullSize&&(this.controls.ImageFullSize.update=function(){this.setChecked(TVE.Components.animation.has_action("click","thrive_zoom"))},this.controls.ImageFullSize.change=function(t,e){if(e.checked){var i=this.applyTo().find("img"),n={};return i.attr("data-id")&&(n.id=i.attr("data-id"),n.size="full"),void TVE.Components.animation.add_action("click","thrive_zoom",n)}TVE.Components.animation.remove_action("click","thrive_zoom")}),this.controls.ImagePicker.update=function(){this.update_preview()},this.controls.ImagePicker.on("change",function(t){if(t.link_url)if(r.$(".image-link").length)r.controls.imageLink.setLink(t.link_url);else{var e=TVE.ActiveElement.find("a");e.is("a")?e.attr("href",t.link_url):TVE.ActiveElement.find("img").data("link-wrap",!0).wrap('<a href="'+t.link_url+'" rel=""></a>')}if(!TVE.ActiveElement.head_css("width")){var i=t.width+"px";t.width>=TVE.inner.$window.width()&&(i="100%"),TVE.ActiveElement.head_css({width:i})}TVE.do_action("tcb.image.change",t),TVE.ActiveElement.find("img").load(function(){r.update(),TVE.Components.animation.update(),TVE.drag.refresh(),r._getSizes(TVE.ClickedElement),r.resizeHandler()}),this.update_preview()}),this.controls.StyleChange&&this.controls.StyleChange.set_drop_panel(this.controls.StylePicker),this.controls.ToggleURL&&(this.controls.ToggleURL.update=function(t){t=t.filter(".edit_mode"),this.setChecked(!!t.find("a").length),r.$(".image-link").toggle(this.isChecked())},this.controls.ToggleURL.input=function(t,e){n.$(".image-link").toggle(!!e.checked),n.controls.imageLink.toggleURL(e.checked)}),this.controls.ImageSourceType.input=function(t,e){r.toggleImagePicker(e.dataset.value),"dynamic"!==e.dataset.value||t.attr("data-dynamic")?"static"===e.dataset.value&&(t.removeAttr("data-dynamic"),setTimeout(function(){r.controls.ImagePicker.change_placeholder()},200)):r.controls.DynamicSourceType.setValue("featured",!0)},this.controls.ImageSourceType.update=function(t){var e=t.attr("data-dynamic")?"dynamic":"static";this.setValue(e),r.toggleImagePicker(e)},this.controls.DynamicSourceType.change=function(t,e){var i=e.value,n=TVE.PostList.utils.getArticleID(t),s=t.find(".tve_image"),a={alt:"".concat(TVE.ucFirst(i)," Image"),title:"",caption:""};if(t.attr("data-dynamic",i),"featured"===i){var o=TVE.PostList.posts[n].featured_image_sizes_data;_.isEmpty(o)||(a=o.full)}a.url=TVE.PostList.dynamicImage.getImage(n,i),a.width&&a.height||s.load(function(){s.attr({height:t.height(),width:t.width()})}),r.controls.ImagePicker.change_image(a,a)},this.controls.DynamicSourceType.update=function(t){this.setValue(t.attr("data-dynamic")||"featured")},TVE.add_filter("tcb.link_element_wrap",function(t){return t.hasClass("tve_image_caption")&&(t=t.find("img")),t}),TVE.add_action("tcb.focus.clear",this.removeResizeOverlay),TVE.add_action("tcb.dragstart",this.removeResizeOverlay),TVE.add_action("tcb.dragstart.main",this.removeResizeOverlay),TVE.add_action("tcb.dragend",function(){TVE.ActiveElement&&TVE.ActiveElement.is(".tve_image_caption:not(.tcb-mm-image)")&&TVE.Editor_Page.blur()}),TVE.add_filter("tcb_filter_html_before_save",function(t){return t.find(".tve-image-resize").remove(),t}),TVE.add_action("tcb.element.selected.image",function(t){(g=t.find(".tve_image")).css({width:""}),n.initImageCrop()});function e(t){TVE.ClickedElement&&TVE.ClickedElement.is(".tve_image_caption:not(.tcb-mm-image)")&&(n._getSizes(t),n.resizeHandler())}TVE.add_action("tcb.image.style_change",e),TVE.add_action("tcb.image.style_cancel",e),TVE.add_action("tve.reposition.icons.image",e),TVE.add_action("tve.parallax.preview.exit.".concat(this.key),function(t){setTimeout(function(){e(t)},500)}),TVE.add_filter("tcb.drag.disable",function(t,e){var i=TVE.ClickedElement&&TVE.ClickedElement.hasClass("tve_image_caption");return!e.hasClass("tve-drag-handle")&&i&&e.hasClass("tve-drag-image")&&n.checkImageSize()&&(t=!0),t}),TVE.add_filter("tve.dragged.element",function(t){return t.hasClass("tve-drag-image")&&(t=TVE.ClickedElement),t}),TVE.add_filter("tcb.click_blur",function(t,e){return TVE.ActiveElement&&TVE.ActiveElement.hasClass("tve_image_caption")&&e.is(".tve-drag-image, .tve-image-resize-control")&&(t=!1),t}),TVE.main.on("before_device_change",function(){s&&(s[0].style.display="none")}),TVE.main.on("device_change",function(){TVE.ActiveElement&&TVE.ActiveElement.hasClass("tve_image_caption")&&(n._getSizes(TVE.ClickedElement),n.afterSizeChanges(),n._handleImageMargins())}),TVE.add_action("tve.icons.custom_action.image",function(t,e){TVE.ActiveElement&&1<TVE.ActiveElement.length&&TVE.ActiveElement.is(t)&&(t=TVE.ActiveElement),n.resetToDefaultSize(t,e)}),TVE.add_filter("tve.change.icon.custom_action.image",function(t){return t.empty().html(TVE.icon("undo","svg","editor")),t}),TVE.main.on("stylesheet_loaded",function(){TVE.Editor_Page.editor.find(".tve_image_caption[data-css]").each(function(t,e){var i=TVE.CSS_Rule_Cache.getRulesForSelector('[data-css="'.concat(e.dataset.css,'"]'));i.length&&i[0].style.height&&TVE.head_css_copy('[data-css="'.concat(e.dataset.css,'"]'),'[data-css="'.concat(e.dataset.css,'"] .tve_image_frame'),"height")})}),TVE.add_action("tcb.text.clear_formatting",function(t){t.jquery&&t.hasClass("wp-caption-text")&&t.removeData("froala.editor")}),TVE.inner.window.TCB_Front.add_scroll_callback(this.onScroll)},style_picker_control:function(){return i("../controls/image/style")},stripHtml:function(t){var e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""},get_link:function(t){return(TVE.ClickedElement||t.filter(".edit_mode")).find("img").closest("a[href]")},toggleImagePicker:function(t){this.controls.ImagePicker.toggle("dynamic"!==t),this.controls.DynamicSourceType.toggle("dynamic"===t)},initImageCrop:function(){TVE.inner.$body.append(TVE.tpl("controls/image/resize")),s=TVE.inner_$(".tve-image-resize");var t=TVE.inner_$(".tve-corner-resize"),e=TVE.inner_$(".tve-central-resize"),i={width:parseInt(g.attr("width")),height:parseInt(g.attr("height")),ratio:g.attr("width")/g.attr("height")};this._getSizes(TVE.ClickedElement),t.each(function(){TVE.inner_$(this).tveElementDrag({wrapper:TVE.ClickedElement,imgData:i,start:function(){TVE.FLAGS.drag=!0,this.addClass("tve-active")},move:function(t){var e,i=this.data("tve_draggable.options"),n=i.wrapper,s=TVE.Components.image.controls.ImageSize.getUM(),a=s.includes("px");e=t.x&&t.y?Math.round(Math.sign(t.x)*Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))):t.x||t.y,this.data("reverse")&&(e*=-1),e=i.wrapper.outerWidth()+e,"%"===s&&(e=100*e/n.parent().outerWidth()),a&&e<30||!a&&e<5||TVE.Components.image.controls.ImageSize.setValue(e+s,"input")},stop:function(){this.removeClass("tve-active"),TVE.FLAGS.drag=!1,TVE.Components.image.controls.ImageSize.trigger_change()}})});var r=0;e.each(function(){TVE.inner_$(this).tveElementDrag({wrapper:TVE.ClickedElement,imgData:i,start:function(){this.addClass("tve-active"),TVE.FLAGS.drag=!0},move:function(t){var e,i,n=this.data("tve_draggable.options"),s=n.imgData.height,a=n.wrapper.outerWidth();if(t.y){this.data("reverse")&&(t.y*=-1),i=Math.sign(t.y),e=parseFloat(TVE.Components.image.controls.ImageHeight.getValue())+100*t.y/g.filter(":visible").outerHeight();var o=Math.abs(a-e*s/100);1<=o&&o<=25&&i!==r&&(e=100*a/s,r=i),300<e||e<5||TVE.Components.image.controls.ImageHeight.setValue(e,"input")}},stop:function(){this.removeClass("tve-active"),TVE.FLAGS.drag=!1,TVE.Components.image.controls.ImageHeight.trigger_change()}})}),this.resizeHandler()},resizeHandler:function(){if(TVE.ClickedElement&&TVE.ClickedElement.hasClass("tve_image_caption")&&s.length){var t=TVE.ClickedElement.offset();s.css({height:"".concat(m,"px"),width:"".concat(u,"px"),top:"".concat(t.top,"px"),left:"".concat(t.left,"px")}),TVE.inner_$(".tve-image-drag-middle-horiz").addClass("tcb-permanently-hidden"),this.checkImageSize()}},resetToDefaultSize:function(t,e){var i=0<arguments.length&&void 0!==t?t:TVE.ActiveElement,n=!(1<arguments.length&&void 0!==e)||e;i.jquery||(i=TVE.ActiveElement);var s=this._getImage(i);i.head_css({width:"".concat(s.attr("width"),"px")}),i.head_css({height:""},!1," .tve_image_frame"),s.head_css({width:"",height:"","margin-top":0,"margin-left":0}),n&&(this.controls.ImageSize.update(i),this.controls.ImageHeight.update(i),this._getSizes(i,s),this.resizeHandler())},checkImageSize:function(t){var e=0<arguments.length&&void 0!==t?t:TVE.ActiveElement,i=e.outerWidth()!=g.attr("width");return i=i||e.outerHeight()!=g.attr("height"),this.$(".reset-size").toggleClass("tcb-hidden",!i),i&&this._handleImageMove(),i},_handleImageMove:function(){var t={width:parseInt(g.attr("width")),height:parseInt(g.attr("height")),ratio:g.attr("width")/g.attr("height")};TVE.inner_$(".tve-drag-image").tveElementDrag({wrapper:TVE.ActiveElement,imgData:t,currentImg:g,start:function(){TVE.FLAGS.drag=!1,this.data("tve_draggable.options").wrapper.attr("draggable",!1),this.removeClassContaining(b)},move:function(t){function e(t){return 1.95<=t&&t<=2.05}var i=this,n=parseInt(g.css("margin-top"))||0,s=parseInt(g.css("margin-left"))||0,a=n+t.y,o=s+t.x,r=Math.round(u-f),l=Math.round(m-p),c=TVE.Components.image.controls.ImageHeight.getValue();if(this.removeClassContaining(b),TVE.inner_$(".tve-drag-helper").addClass("tcb-permanently-hidden"),100<c)if(r<=o&&o<=0){var d=e(r/o);TVE.inner_$(".tve-image-drag-middle-vert").toggleClass("tcb-permanently-hidden",!d),g.css({"margin-left":o+"px"}),g.mediaAttr("ml",o),g.mediaAttr("center-h",d)}else this.addClass(v+(o<r?"right":"left"));else if(c<100)if(a<=0&&l<=a){var h=e(l/a);TVE.inner_$(".tve-image-drag-middle-horiz").toggleClass("tcb-permanently-hidden",!h),g.css({"margin-top":a+"px"}),g.mediaAttr("mt",a),g.mediaAttr("center-v",h)}else this.addClass(v+(a<l?"bottom":"top"));setTimeout(function(){i.removeClassContaining(b),TVE.inner_$(".tve-drag-helper").addClass("tcb-permanently-hidden")},3e3)},stop:function(){this.data("tve_draggable.options").wrapper.attr("draggable",!0),g.tcbCss({"margin-top":"","margin-left":""}),TVE.FLAGS.drag=!1,g.head_css({"margin-top":g.mediaAttr("mt")+"px","margin-left":g.mediaAttr("ml")+"px"})}})},_handleImageMargins:function(t){if("input"===(0<arguments.length&&void 0!==t?t:"input")){var e=u-f,i=parseInt(g.mediaAttr("ml"))||0,n=parseInt(g.mediaAttr("mt"))||0,s=o-p,a=TVE.Components.image.controls.ImageHeight.getValue();a<100?("true"===g.mediaAttr("center-v")?s=Math.round(s/2):n&&(s=Math.max(n,s)),e=0):100<a&&("true"===g.mediaAttr("center-h")?e=Math.round(e/2):i&&(e=Math.max(i,e)),s=0),e=Math.min(0,e),s=Math.min(0,s),e!==i?(this.controls.ImageSize.applyElementCss({"margin-left":"".concat(e,"px")},g,"","",!0),g.mediaAttr("ml",e)):s!==n&&(this.controls.ImageSize.applyElementCss({"margin-left":"".concat(e,"px")},g,"","",!0),g.mediaAttr("mt",s))}else this.controls.ImageSize.applyElementCss({"margin-top":"".concat(g.mediaAttr("mt"),"px"),"margin-left":"".concat(g.mediaAttr("ml"),"px")},g,"","",!0)},removeResizeOverlay:function(){TVE.inner_$(".tve-image-resize").remove(),g=s=""},_getSizes:function(t){t=t.filter(":visible"),o=t.find(".tve_image_frame").height(),u=t.outerWidth(),m=t.outerHeight(),g=g||t.find("img").filter(":visible"),p=g.outerHeight(),f=g.outerWidth()},_getImage:function(t){return(g||t.find("img")).filter(":visible")},afterSizeChanges:function(){this.resizeHandler(),s[0].style.display="block"},onScroll:TVE._.debounce(function(){s&&TVE.ClickedElement&&s.css("top","".concat(TVE.ClickedElement.offset().top,"px"))},50)})},"landing-page":{"lp-advanced.js":function(t,e,i){var n=i("../../base"),s=i("../../controls/checkbox");e.exports=n.component.extend({controls_init:function(){var t=new s({el:this.$el.find(".checkbox"),model:{config:{label:"Do not strip CSS from <b>&lt;head&gt;</b>"}}});t.change=function(){TVE.CONST.tve_globals.do_not_strip_css=this.isChecked()?1:0},t.update=function(){this.setChecked(TVE.CONST.tve_globals.do_not_strip_css)},t.update()}})},"lp-base.js":function(t,e,i){var n=i("../../base"),a=".tve_post_lp > div > "+TVE.CONST.global_css_prefix;e.exports=n.component.extend({controls_init:function(i){var n=this;function s(t,e){n.$(".width-setting")[t?"show":"hide"](),n.$(".max-width-settings")[t?"hide":"show"](),void 0!==e&&e&&i.ContentFullWidth.setChecked(!t)}i.ContentWidth.input=function(t,e){var i=TVE.inner_$(a),n=e.value+this.getUM(),s={"max-width":n,"--lp-layout-max-width":n,padding:"0 20px"};"input"===this.currentEventType?this.applyElementCss(s,i,"","",!0):(TVE.head_css(a,s),TVE.head_css(a,{padding:"0 10px"},TVE.main.media_query_tpl("mobile")),i.removeAttr("style"))},i.ContentWidth.update=function(t){var e=TVE.head_css_get(a,"max-width",null,!0);"none"===e||"100%"===e?s(!1,!0):(s(!0,!0),this.model.config.max=parseInt(t.parent().width()),this.setValue(e))},i.ContentMaxWidth.input=function(t,e){var i=TVE.inner_$(a),n={"--page-section-max-width":e.value+this.getUM()};"input"===this.currentEventType?(this.applyElementCss(n,i,"","",!0),i.removeAttr("style")):TVE.head_css(a,n),this.applyElementCss({"max-width":e.value+this.getUM()},TVE.inner_$('.thrv-page-section[data-inherit-lp-settings="1"] .tve-page-section-in'),"","",!0)},i.ContentMaxWidth.update=function(){var t=TVE.head_css_get(a,"--page-section-max-width",null,!0);this.setValue(t)},i.ContentFullWidth.change=function(t,e){var i={"margin-left":"","margin-right":"","max-width":"",padding:"","--lp-layout-max-width":""};s(!e.checked,!1),e.checked?(TVE.inner_$(".tcb-window-width").removeClass("tcb-window-width").css({width:"",left:""}),TVE.head_css(a,{padding:""},TVE.main.media_query_tpl("mobile"))):(i["margin-left"]="auto",i["margin-right"]="auto",i.padding="0 20px",i["max-width"]=i["--lp-layout-max-width"]=n.controls.ContentWidth.value(!0),TVE.head_css(a,{padding:"0 10px"},TVE.main.media_query_tpl("mobile"))),TVE.head_css(a,i)},i.ContentFullWidth.update=function(t){}}})},"lp-fonts.js":function(t,e,i){var n=i("../../base"),s=i("../typography/util");e.exports=n.base_view.extend({get_value:function(t,e){var i=(e=e||"h1, h2, h3, h4, h5, h6, p, li, .tcb-plain-text").split(",").shift();e=TVE.buildLandingPageSelector(e,"");var n=TVE.head_css_get(TVE.buildLandingPageSelector(e,""),t);if(!n){var s=TVE.inner_$("<"+i+"></"+i+">").appendTo("#tcb_landing_page");n=s.css(t),s.remove()}return n},edit_font_options:function(t){TVE.Editor_Page.editor.append(TVE.tpl("landing-pages/lp-typography")()),s.init(),TVE.main.sidebar_extra.toggle_disabled(!0),TVE.main.$("#tcb-editor-settings").addClass("tcb-disabled"),TVE.body_overlay(),TVE.prevent_blur=!0,TVE.inner_$(".tcb-close-lp-fonts").off("click").on("click",jQuery.proxy(this.close_font_options,this)),this.edit_options=t},close_font_options:function(){s.done(),TVE.main.sidebar_extra.toggle_disabled(!1),TVE.main.$("#tcb-editor-settings").removeClass("tcb-disabled"),TVE.inner_$(".tve-landing-page-text-preview").remove(),TVE.remove_body_overlay(),TVE.prevent_blur=!1,TVE.main.toggle_navigation(!1),TVE.Editor_Page.blur(),"function"==typeof this.edit_options.on_close&&this.edit_options.on_close()}})},"lp-scripts.js":function(t,e,i){e.exports=i("../../base").base_view.extend({after_initialize:function(){this.$("textarea").each(function(){this.value=TVE.CONST.tve_global_scripts[this.getAttribute("data-location")]||""}).on("blur",function(){TVE.CONST.tve_global_scripts[this.getAttribute("data-location")]=this.value})}})}},"layout.js":function(t,e,i){var n=i("../base"),s=i("../controls/margin-padding"),a=i("../controls/button-group"),o=i("../controls/input"),r=i("../controls/layout/position-absolute"),l=i("../controls/layout/position-relative"),c=i("../controls/layout/width");e.exports=n.component.extend({template:TVE.tpl("controls/layout"),update_on_expand:!0,initialize:function(){this.key="layout",this.render(),this.hide(),this.controls={MarginAndPadding:new s({el:this.$('.tve-control[data-view="MarginAndPadding"]')}),Width:new c({el:this.$('[data-prop="width"]')}),Height:new c({el:this.$('[data-prop="height"]')}),Alignment:new a({el:this.$('.tve-control[data-view="Alignment"]'),model:{config:{name:"Alignment",is_advanced:!0,buttons:[{icon:"none",value:"none",default:!0,data:{tooltip:"No Alignment"}},{icon:"a_left",value:"left",data:{tooltip:"Align Left"}},{icon:"a_center",value:"center",data:{tooltip:"Align Center"}},{icon:"a_right",value:"right",data:{tooltip:"Align Right"}}]}}}),Display:new a({el:this.$('.tve-control[data-view="Display"]'),model:{config:{name:"Display",is_advanced:!0,buttons:[{text:"Inline",value:"inline-block"},{text:"Block",value:"block"}]}}}),Float:new a({el:this.$('.tve-control[data-view="Float"]'),model:{config:{name:TVE.t.Float,buttons:[{icon:"none",value:"both"},{icon:"check",value:"none",default:!0}]}}}),Position:new TVE.Views.Controls.Tabs({el:this.$('.tve-control[data-view="Position"]')[0],css_class:"",render_function:"prepend",model:{config:{target:".layout-position",name:TVE.t.Position,info_text:TVE.t.floating_relative,buttons:[{icon:"",text:"Auto",value:"auto",default:!0},{icon:"",text:"Relative",value:"relative"},{icon:"",text:"Absolute",value:"absolute"}]}}}),Overflow:new TVE.Views.Controls.Tabs({el:this.$('.tve-control[data-view="Overflow"]'),css_class:"",render_function:"prepend",model:{config:{target:".layout-overflow",name:TVE.t.Overflow,buttons:[{icon:"",text:"Auto",value:"auto",default:!0},{icon:"",text:"Visible",value:"visible"},{icon:"",text:"Hidden",value:"hidden"},{icon:"",text:"Scroll",value:"scroll"}]}}}),zIndex:new o({el:this.$('.tve-control[data-view="zIndex"]'),model:{config:{important:!0,name:TVE.t.Zindex,type:"number",min:0}}}),PositionAbsolute:new r({el:this.$(".position-absolute")[0]}),PositionRelative:new l({el:this.$(".position-relative")[0]})},this.controls_init(this.controls)},controls_init:function(t){var l=this;l.controls.Alignment.change=function(i,t){var e,n=t.getAttribute("data-value"),s=i.parent(),a=!1,o=s.hasClass("tcb-clear");if(-1!==["left","right"].indexOf(n))e={float:n,"z-index":3,position:"relative"},i.head_css("z-index")&&delete e["z-index"],i.head_css(e),s.hasClass("tcb-clear")||(i.wrap('<div class="tcb-clear"></div>'),s=i.parent()),i.attr("data-float")||s.head_css({clear:"both"},null,"::after");else if("center"===n)i.head_css({"margin-left":"auto !important","margin-right":"auto !important"}),e={float:"none"},i.head_css(e),a=!0;else{var r=TVE.main.get_inherited_media().some(function(t){var e=i.head_css("float",t);return e&&"none"!==e})?"none":"";e={float:r,position:"","z-index":"","margin-left":"","margin-right":""},i.head_css(e),r||TVE.main.get_smaller_media().forEach(function(t){"none"===i.head_css("float",t)&&i.head_css({float:""},t)}),a=!0}a&&(i.removeMediaAttr("data-float"),o&&(TVE.main.all_media().some(function(t){var e=i.head_css("float",t);if(-1!==["left","right"].indexOf(e))return!0})||i.unwrap()));l.controls.Float.update(),l.controls.MarginAndPadding.update(l.controls.MarginAndPadding.readFrom()),l.controls.Position.update(i),l.controls.Overflow.update(i),l.controls.zIndex.update(),TVE.Editor_Page.reposition_icons()},l.controls.Alignment.update=function(){var t=this.applyTo(),e=t.head_css("float",null,"",!0),i="none";if(-1!==["left","right"].indexOf(e))i=e;else if((t.hasClass("thrv_icon")||t.hasClass("thrv-button"))&&""==t.head_css("margin-left")&&""==t.head_css("margin-left"))i="center";else{var n=l.controls.MarginAndPadding.getValue("margin","left"),s=l.controls.MarginAndPadding.getValue("margin","right");"auto"===n&&"auto"===s&&(i="center")}this.setActive(i),"center"===i&&(l.controls.MarginAndPadding.setValue("margin","auto","left",!1),l.controls.MarginAndPadding.setValue("margin","auto","right",!1))},l.controls.Position.applyStyles=function(t,e){var i=e.getAttribute("data-value"),n={};i="auto"===i?"static":i,n.position=i+(i&&this.config.important?" !important":""),"relative"===i&&(n.right="",n.bottom=""),this.applyElementCss(n,t,"",""),"change"===this.currentEventType&&(l.controls.PositionRelative.update(),l.controls.PositionAbsolute.update())},l.controls.Position.update=function(t){var e=!1,i=!!(t=t||this.applyTo()).attr("data-float")&&-1!==["left","right"].indexOf(t.css("float")),n=t.css("position");this.config.disabled_positions&&(e=0<=this.config.disabled_positions.indexOf("auto")),n="static"===n?"auto":n,this.toggleDisabled("auto",i||e).toggleInfoText(i).setActive(n)},l.controls.Overflow.applyStyles=function(t,e){var i=e.getAttribute("data-value"),n={};n.overflow=i+(i&&this.config.important?" !important":""),this.applyElementCss(n,t,this.config.css_suffix,this.config.css_prefix)},l.controls.Overflow.update=function(t){var e=(t=t||this.applyTo()).head_css("overflow");this.setActive(e)},l.controls.Display.applyStyles=function(t,e){var i=e.getAttribute("data-value");this.applyElementCss({display:i},t,"","")},l.controls.Display.update=function(){var t=this.applyTo().css("display");t="block"===t?"block":"inline-block",this.setActive(t)},l.controls.Float.change=function(t,e){var i=e.getAttribute?e.getAttribute("data-value"):e,n=t.parent().hasClass("tcb-clear");"none"===i?(t.mediaAttr("data-float",1),t.head_css({position:"relative"}),n&&t.parent().head_css({clear:""},null,"::after")):(t.removeMediaAttr("data-float"),n||-1===["left","right"].indexOf(t.css("float"))||t.wrap('<div class="tcb-clear"></div>'),t.parent().head_css({clear:"both"},null,"::after")),l.controls.Position.update(t),l.controls.zIndex.update(),TVE.Editor_Page.reposition_icons()},l.controls.Float.update=function(){var t=this.applyTo().parent();if(t.hasClass("tcb-clear")){var e=getComputedStyle(t[0],"::after").clear;this.setActive(this.applyTo().mediaAttr("data-float")||"both"!==e?"none":"both")}else{var i=this.readFrom().css("float");this.setActive("left"===i||"right"===i?i:"both")}},l.controls.zIndex.input=function(t,e){this.applyElementCss({"z-index":"auto"===e.value?"":this.cssImportant(e.value)},t,"","")},l.controls.zIndex.update=function(){var t=this.applyTo().head_css("z-index")||this.applyTo().css("z-index");"auto"!==t&&!isNaN(t)||(t=0),this.setValue(t)},l.controls.zIndex.validate=function(t){return!(t=String(t).trim()).length||"auto"===t||"none"===t||(t=parseFloat(t),!isNaN(t)&&0<=t)}},render:function(){this.$el.html(this.template())},disable_extra_controls:function(t){var e=t.map(function(t){return t.match(/^(margin|padding)(-([a-z]+))?/)?{style:RegExp.$1,side:RegExp.$3}:null}).filter(function(t){return null!==t});this.controls.MarginAndPadding.disable_controls(e)},after_update:function(){this.toggle_full_width_controls(!TVE.ActiveElement.hasClass("tcb-window-width"))},toggle_full_width_controls:function(t){t=void 0===t||t,this.$(".full-width-hidden").css("display",t?"":"none")}})},"lead-generation":{"checkbox.js":function(t,e,i){var n=i("../../base");e.exports=n.component.extend({$active_element:null,state:"regular",controls_init:function(){this.controls.columns_number.update=function(t){var e=t.attr("data-column")?t.attr("data-column"):"";if(e.length<=0)for(var i=1;i<=10;i++)if(t.is(".tve_lg_column"+i)){e=i,t.attr("data-column",i);break}this.setValue(e)},this.controls.columns_number.input=function(t,e){t.removeClass("tve_lg_column"+t.attr("data-column")),t.addClass("tve_lg_column"+e.value),t.attr("data-column",e.value)},this.controls.required.update=function(t){var e=t.find("input")[0].dataset.required;this.setChecked(e&&"1"===e)},this.controls.required.input=function(t,e){t.find("input").attr("data-required",e.checked?1:0)}},before_update:function(){this.state=TVE.ActiveElement.hasClass("tcb-lg-consent")?"consent":"regular",this.$(".control-toggle").hide().filter(".c-"+this.state).show()}})},"general-inputs.js":function(t,e,i){var n=i("../../base");e.exports=n.component.extend({update_menu:function(t){this.$('[data-icon="'+(t?"true":"false")+'"]').show(),this.$('[data-icon="'+(t?"false":"true")+'"]').hide()}})},"input.js":function(t,e,i){var n=i("./general-inputs");e.exports=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments)},controls_init:function(){var e=this;this.controls.icon_side.update=function(t){var e=this.applyTo(!1,!1,!0);if(e.find(".thrv_icon").length<=0)return this.$el.hide(),void this.$el.next().hide();this.$el.show(),this.$el.next().show();var i=e.head_css("right",null,this.config.css_suffix,!0,this.config.css_prefix),n=0===(i=parseInt(i))?"right":"left";this.setActive(n),this.padding_control=TVE.Components.layout.controls.MarginAndPadding,this["padding-left"]||(this["padding-left"]=this.padding_control.getValue("padding","left")),this["padding-right"]||(this["padding-right"]=this.padding_control.getValue("padding","right"))},this.controls.icon_side.applyStyles=function(t,e){var i=this.applyTo(!1,!1,!0),n=e.dataset.value,s="left"===n?{left:0,right:"auto",transform:"translate(50%, -50%)"}:{right:0,left:"auto",transform:"translate(-50%, -50%)"};this.applyElementCss(s,i,this.config.css_suffix,this.config.css_prefix);var a=void 0!==this.padding_control?this.padding_control.config:this.config,o=parseInt(i.head_css("width",null,this.config.css_suffix,!0,this.config.css_prefix)),r={};r["padding-"+n]=2*this["padding-"+n]+o+"px !important",r["padding-"+("left"===n?"right":"left")]=this["padding-"+("left"===n?"right":"left")]+"px !important",this.applyElementCss(r,i,a.css_suffix,a.css_prefix),void 0!==this.padding_control?this.padding_control.update():this.update()},this.controls.placeholder.update=function(t){this.setValue(t.filter(".edit_mode").find("input").attr("placeholder"))},this.controls.placeholder.input=function(t,e){t.filter(".edit_mode").find("input").attr("placeholder",this.getValue()).attr("data-placeholder",this.getValue())},this.controls.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),this.controls.ModalPicker.input=function(t,e){var i;if((t=t.removeClass("aligncenter").filter(".edit_mode")).find(".thrv_icon").remove(),e.icon.is(".tve-svg-icon")){var n=jQuery("symbol#"+e.icon.data("cls"));i=TVE.svg_icon({path:n.html(),viewBox:n[0].getAttribute("viewBox"),name:n.find("> title").text(),id:n.attr("id")})}else i='<span data-name="'+e.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+e.icon.data("cls")+'"></span>';t.prepend('<div class="thrv_wrapper thrv_icon">'+i+"</div>"),this.update();var s={dataset:{}};s.dataset.value="right",this.component.controls.icon_side.applyStyles(t,s),this.component.controls.icon_side.update()},this.controls.ModalPicker.update=function(){var t=this.applyTo().filter(".edit_mode").find(".thrv_icon");t.length||this.updateValue("none"),e.update_menu(0<t.length)},this.controls.required.update=function(t){var e=t.filter(".edit_mode").find("input");if(e.length){var i=e[0].dataset.required;this.enable(),"email"===e[0].type&&(i="1",e.attr("data-required","1"),this.disable()),this.setChecked(i&&"1"===i)}},this.controls.required.input=function(t,e){t.filter(".edit_mode").find("input").attr("data-required",e.checked?1:0)}},remove_icon:function(){this.controls.ModalPicker.applyTo().head_css({"padding-left":"15px","padding-right":"15px"},null,this.controls.icon_side.config.rem_ic_css_suf,!0,this.controls.icon_side.config.css_prefix),this.controls.ModalPicker.applyTo().find(".thrv_icon").remove(),this.controls.ModalPicker.update()}})},"option-edit.js":function(t,e,i){var n=i("../../controls/drop-panel"),s=i("../../controls/switch");e.exports=n.extend({template:TVE.tpl("controls/lead-generation/edit-option"),after_initialize:function(t){var i=this;this.initialModel=this.model.toJSON(),this.checkedDefault=new s({el:this.$el.find(".tve-edit-option-default-switch"),model:{config:{label:TVE.t.set_as_default,default:this.model.setDefault}}}),this.checkedDefault.input=function(t,e){i.model.set("default",e.checked)},this.checkedDefault.update=function(){this.setChecked(i.model.get("default"))}},render:function(){this.$(".popup-content").html(this.template())},changeLabel:function(t,e){this.model.set("label",e.value),this.model.get("labelAsValue")&&this.model.set("value",e.value)},changeLabelAsValue:function(t,e){this.$(".tve-lg-radio-value-input").toggleClass("tcb-hide",e.checked),this.model.set("labelAsValue",e.checked),this.model.set("value",e.checked?this.model.get("label"):""),this.$(".tve-lg-radio-value-input input").val(this.model.get("value"))},changeValue:function(t,e){this.model.set("value",e.value)},onCancel:function(){this.hide(),this.model.set(this.initialModel)},onOpen:function(){this.checkedDefault.update()},onApply:function(){if(!this.collection.contains(this.model)){var t=TVE.CSS_Rule_Cache.generate_id("tve-lg-radio-"),e=TVE.ActiveElement.find(".tve_lg_radio_wrapper").first().clone();e.find("label").attr("for",t),e.find("input").attr("id",t),this.model.set({$option:e}),this.collection.add(this.model),this.list.trigger("add_item"),TVE.ActiveElement.find(".tve-radio-column").last().append(e)}var i=this.model.get("$option"),n=this;this.model.get("default")&&(this.collection.each(function(t){t!==n.model&&t.set("default",!1)}),i.closest(".tve_lg_radio").find(".tve_lg_radio_wrapper input").removeAttr("data-default")),i.find(".tve-input-option-text").html(this.model.get("label")),i.find("input").attr("value",this.model.get("value")).attr("data-label-value",this.model.get("labelAsValue")?1:"").attr("data-default",this.model.get("default")?1:""),this.collection.trigger("change"),this.hide()}})},"radio-option.js":function(t,e,i){var n=i("../../base"),s=i("../../../libs/tinycolor");e.exports=n.component.extend({controls_init:function(){var n=this;this.controls.RadioSize.input=function(t,e){this.applyElementCss({width:e.value+this.getUM()+" !important",height:e.value+this.getUM()+" !important"},t,"","")},this.controls.RadioSize.update=function(t){this.setValue(this.applyTo().head_css("width",!1,this.config.css_suffix,!0,this.config.css_prefix))},this.controls.StyleChange.set_drop_panel(this.controls.RadioStylePicker),this.controls.RadioStyleColor.update=function(t){var e=TVE.getComputedStyle(t,"--radio-style-color",!0)||null;n.controls.RadioStylePicker.setStyleColor(e),this.setValue(e)},this.controls.RadioStyleColor.input=function(e){if("string"==typeof e)if(-1===(e=TVE.getRawCssVariableName(e)).indexOf(TVE.CONST.colors.global_prefix)){e=parseInt(e.replace(TVE.CONST.colors.lp_set_prefix,"").trim());var t=_.findIndex(TVE.CONST.colors.templates,function(t){return t.id==e});TVE.ActiveElement.attr("data-smart-color-id",t),e=new s(TVE.CONST.colors.templates[t].color)}else{e=parseInt(e.replace(TVE.CONST.colors.global_prefix,"").trim());var i=_.findIndex(TVE.CONST.colors.globals,function(t){return t.id==e});TVE.ActiveElement.attr("data-global-color-id",i),e=new s(TVE.CONST.colors.globals[i].color)}else TVE.ActiveElement.removeAttr("data-smart-color-id").removeAttr("data-global-color-id");n.controls.RadioStylePicker.setStyleColor(e),n.setColor(e,TVE.ActiveElement)},TVE.add_action("tcb.template_palette_changed",function(t,e,i){TVE.inner_$(".tve_lg_radio_wrapper[data-smart-color-id]").each(function(){var t=TVE.inner_$(this),e=parseInt(t.attr("data-smart-color-id")),i=new s(TVE.CONST.colors.templates[e].color);n.setColor(i,t)})}),TVE.add_action("tcb.update_css_color_variable",function(){TVE.inner_$(".tve_lg_radio_wrapper[data-global-color-id]").each(function(){var t=TVE.inner_$(this),e=parseInt(t.attr("data-global-color-id")),i=new s(TVE.CONST.colors.globals[e].color);n.setColor(i,t)})}),TVE.add_action("tcb.element.remove",function(t,e){if(t.is(".tve_lg_radio_wrapper")){var i=e.closest(".tve_lg_radio");0===i.find(".tve_lg_radio_wrapper").length&&(i.remove(),TVE.Editor_Page.blur())}})},setColor:function(i,n){var s=this;this.controls.RadioStyleColor.applyElementCss({"--radio-style-color":i+"!important"},n);[{id:"hover-color",value:.1},{id:"hover-checkmark-hover",value:.25},{id:"hover-checkmark",value:.1},{id:"hover-checkmark-fill",value:.75}].forEach(function(t){TVE.isCssVariable(i)||i.setAlpha(t.value);var e=String("--radio-"+t.id);s.controls.RadioStyleColor.applyElementCss(_defineProperty({},e,i),n)})},radioStylePicker:function(){return i("../../controls/lead-generation/radio-style-picker")}})},"radio.js":function(t,e,i){var n=i("../../base"),s=i("../../../libs/element-snapshot"),a=i("../../controls/preview-list"),o=i("./option-edit"),r=a.extend({_sortable:!0,_clickable:!0,get_items:function(t){var i=[];return t.find(".tve_lg_radio_wrapper").each(function(){var t=jQuery(this),e=t.find("input");i.push({label:t.find(".tve-input-option-text").text(),$option:t,labelAsValue:e.attr("data-label-value"),default:e.attr("data-default"),value:e.attr("value")})}),i}});e.exports=n.component.extend({$active_element:null,controls_init:function(){var n=this;this.controls.ShowLabel.update=function(t){this.setChecked(t.find(".tve_lg_radio_label").is(":visible"))},this.controls.ShowLabel.input=function(t,e){s(function(){t.find(".tve_lg_radio_label").toggle(e.checked)},t)},this.controls.ColumnNumber.input=function(t,e){n.spreadRadioOptions(t,e.value),n.controls.HorizontalSpace.$el.toggle(1<e.value),t.attr("data-columns",parseInt(e.value))},this.controls.ColumnNumber.update=function(t){var e=t.attr("data-columns"),i=t.find(".tve_lg_radio_wrapper").length;n.controls.HorizontalSpace.$el.toggle(1<e),i<=this.config.config.limit&&this.setMax(i),this.setValue(e)},this.controls.HorizontalSpace.input=function(t,e){n.apply(t,this)},this.controls.HorizontalSpace.update=function(t){this.setValue(t.find(".tve-radio-column").css("margin-left"))},this.controls.VerticalSpace.input=function(t,e){this.applyElementCss({"margin-top":e.value/2+this.getUM(),"margin-bottom":e.value/2+this.getUM(),"--radio-vertical-space":e.value},t,this.config.css_suffix,"")},this.controls.VerticalSpace.update=function(t){this.setValue(TVE.getComputedStyle(t,"--radio-vertical-space",!0)||0)},this.controls.OptionsList=new r({el:this.$("#option-list")[0],model:this.config.OptionsList}),this.controls.OptionsList.on("order_changed",function(){TVE.ActiveElement.find(".tve_lg_radio_label");s(function(){n.spreadRadioOptions(TVE.ActiveElement,"")},TVE.ActiveElement,this)}).on("item_remove",function(t){s(function(){TVE.ActiveElement.find(".tve_lg_radio_wrapper").eq(t).remove(),n.controls.OptionsList.update(),n.spreadRadioOptions(TVE.ActiveElement,"")},TVE.ActiveElement)}).on("item_click",function(t,e){n.settings&&n.settings.isOpen()?n.settings.hide():n.editOption(t,e)}).on("add_item",function(){setTimeout(function(){n.controls.OptionsList.update(),n.spreadRadioOptions(TVE.ActiveElement,"")})}),TVE.add_action("tcb.element.remove",function(t,e){t.is(".tve_lg_radio_wrapper")&&(TVE.ActiveElement=e.closest(".tve_lg_radio"),n.controls.OptionsList.update(),n.spreadRadioOptions(TVE.ActiveElement,""))})},spreadRadioOptions:function(i,t){t=t||i.find(".tve-radio-column").length;var e=this.controls.OptionsList.collection.length,n=e/t,s=i.find(".tve-radio-grid");if(0===e)return i.remove(),TVE.Editor_Page.blur(),!1;var a=n;s.empty(),i.attr("data-columns",t);for(var o=1;o<=t;o++)s.append('<div class="tve-radio-column" data-index="'+o+'"></div>');var r=i.find(".tve-radio-column").first();this.controls.OptionsList.collection.each(function(t,e){r.append(t.get("$option")),a<=e+1&&(a+=n,r=i.find('.tve-radio-column[data-index="'+(Number(r.attr("data-index"))+1)+'"]'))}),t&&this.apply(i)},apply:function(t){var e=parseInt(this.controls.ColumnNumber.getValue()),i=this.controls.HorizontalSpace.getValue(!0);this.controls.ColumnNumber.applyElementCss({width:"calc("+100/e+"% - "+i+")","margin-left":i+"!important"},t," .tve-radio-column",""),this.controls.ColumnNumber.applyElementCss({"margin-left":"-"+i+"!important"},t," .tve-radio-grid","")},editOption:function(t,e){this.settings=new o({collection:this.controls.OptionsList.collection,model:t}),this.settings.open(null,e)},cancel:function(){},addOption:function(t,e){this.settings=new o({collection:this.controls.OptionsList.collection,model:new Backbone.Model({labelAsValue:!0}),list:this.controls.OptionsList}),this.settings.open(null,e)}})},"select.js":function(t,e,i){var s;s=jQuery,e.exports=i("./general-inputs").extend({controls_init:function(){var e=this;this.controls.icon_side.update=function(t){var e=this.applyTo(!1,!1,!0);if(e.find(".thrv_icon").length<=0)return this.$el.hide(),void this.$el.next().hide();this.$el.show(),this.$el.next().show();var i=e.head_css("right",null,this.config.css_suffix,!0,this.config.css_prefix),n=0===(i=parseInt(i))?"right":"left";this.setActive(n),this.padding_control=TVE.Components.layout.controls.MarginAndPadding,this["padding-left"]||(this["padding-left"]=this.padding_control.getValue("padding","left")),this["padding-right"]||(this["padding-right"]=this.padding_control.getValue("padding","right"))},this.controls.icon_side.applyStyles=function(t,e){var i=this.applyTo(!1,!1,!0),n=e.dataset.value,s="left"===n?{left:0,right:"auto",transform:"translate(50%, -50%)"}:{right:0,left:"auto",transform:"translate(-50%, -50%)"};this.applyElementCss(s,i,this.config.css_suffix,this.config.css_prefix);var a=void 0!==this.padding_control?this.padding_control.config:this.config,o=i.head_css("width",null,this.config.css_suffix,!0,this.config.css_prefix),r={};o=parseInt(o),r["padding-"+n]=2*this["padding-"+n]+o+"px !important",r["padding-"+("left"===n?"right":"left")]=this["padding-"+("left"===n?"right":"left")]+"px !important",this.applyElementCss(r,i,a.css_suffix,a.css_prefix),void 0!==this.padding_control?this.padding_control.update():this.update()},this.controls.placeholder.update=function(t){t=t.filter(".edit_mode").find("select"),this.setValue(t.attr("data-placeholder")||t.attr("placeholder"))},this.controls.placeholder.input=function(t,e){var i=t.filter(".edit_mode").find("select"),n=s('<option value="'+this.getValue()+'" disabled selected hidden>'+this.getValue()+"</option>");i.attr("data-placeholder",this.getValue()),n.prependTo(i)},this.controls.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),this.controls.ModalPicker.input=function(t,e){var i;if((t=t.removeClass("aligncenter").filter(".edit_mode")).find(".thrv_icon").remove(),e.icon.is(".tve-svg-icon")){var n=jQuery("symbol#"+e.icon.data("cls"));i=TVE.svg_icon({path:n.html(),viewBox:n[0].getAttribute("viewBox"),name:n.find("> title").text(),id:n.attr("id")})}else i='<span data-name="'+e.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+e.icon.data("cls")+'"></span>';t.prepend('<div class="thrv_wrapper thrv_icon">'+i+"</div>"),this.update(),this.component.controls.icon_side.update()},this.controls.ModalPicker.update=function(){var t=this.applyTo().filter(".edit_mode").find(".thrv_icon");t.length||this.updateValue("none"),e.update_menu(0<t.length)},this.controls.required.update=function(t){var e=t.find("select")[0].dataset.required;this.setChecked(e&&"1"===e)},this.controls.required.input=function(t,e){t.find("select").attr("data-required",e.checked?1:0)}},remove_icon:function(){this.controls.ModalPicker.applyTo().head_css({"padding-left":"15px","padding-right":"15px"},null,this.controls.icon_side.config.rem_ic_css_suf,!0,this.controls.icon_side.config.css_prefix),this.controls.ModalPicker.applyTo().find(".thrv_icon").remove(),this.controls.ModalPicker.update()}})},"submit.js":function(t,e,i){var n=i("../../base"),s=i("../../controls/lead-generation/submit-style"),r=function(t){return jQuery('<button type="submit">'+t+"</button>")},l=function(t){var e={};return 0<t.find("strong").length&&(e["font-weight"]="bold"),0<t.find("u").length&&(e["text-decoration"]="underline"),0<t.find("s").length&&(e["text-decoration"]="line-through"),0<t.find("em").length&&(e["font-style"]="italic"),e};e.exports=n.component.extend({extra_states:!0,deps:["background","shadow"],controls_init:function(){var n=this;this.controls.ButtonWidth.input=function(t,e){var i={"max-width":e.value+this.getUM(),width:e.value+this.getUM()};this.applyTo().head_css(i,!1,this.config.css_suffix,!0,this.config.css_prefix)},this.controls.ButtonWidth.update=function(){var t=this.applyTo().head_css("max-width",null,this.config.css_suffix,!0,this.config.css_prefix),e=parseFloat(t);!e||isNaN(e)?this.$(".tve-input").val("auto"):this.setValue(t)},this.controls.ButtonAlign.input=function(t,e){var i=e.dataset.value;"left"!==i&&"right"!==i&&"center"!==i||TVE.Components.layout.controls.Alignment.change(this.applyTo(),e),"justify"===i&&(this.applyTo().head_css({float:"none","margin-left":0,"margin-right":0,"max-width":"100%"}),n.controls.ButtonWidth.setValue(100,!0),t.parent().hasClass("tcb-clear")&&t.unwrap());TVE.Components.layout.controls.MarginAndPadding.update()},this.controls.ButtonAlign.update=function(){var t=this.applyTo().head_css("float");if("left"===t||"right"===t)return this.setActive(t);var e=this.applyTo().css("max-width");return 100===(e=parseInt(e))||isNaN(e)?this.setActive("justify"):void 0},this.controls.icon_side.update=function(t){if(t.length<=0)return this.$el.hide(),void this.$el.next().hide();this.$el.show(),this.$el.next().show();var e=this.applyTo().head_css("right",null,this.config.css_suffix,!0,this.config.css_prefix),i=(this.applyTo().head_css("left",null,this.config.css_suffix,!0,this.config.css_prefix),0===(e=parseInt(e))?"right":"left");this.setActive(i)},this.controls.icon_side.input=function(t,e){var i="left"===e.dataset.value?{left:0,right:"auto",transform:"translate(50%, -50%)"}:{right:0,left:"auto",transform:"translate(-50%, -50%)"};this.applyTo().head_css(i,null,this.config.css_suffix,!0,this.config.css_prefix)},this.controls.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),this.controls.ModalPicker.input=function(t,e){var i;if((t=t.removeClass("aligncenter").filter(".edit_mode")).find(".thrv_icon").remove(),e.icon.is(".tve-svg-icon")){var n=jQuery("symbol#"+e.icon.data("cls"));i=TVE.svg_icon({path:n.html(),viewBox:n[0].getAttribute("viewBox"),name:n.find("> title").text(),id:n.attr("id")})}else i='<span data-name="'+e.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+e.icon.data("cls")+'"></span>';t.prepend('<div class="thrv_wrapper thrv_icon">'+i+"</div>"),this.update(),this.component.controls.icon_side.update(t),TVE.do_action("tcb.submit_element_icon.input",t)},this.controls.ModalPicker.update=function(){var t=this.applyTo().find(".thrv_icon");if(t.length){var e=t.children().first(),i=e.data("tve-icon")||e.data("name");this.updateValue(i)}else this.updateValue("none");n.update_menu(0<t.length)};var t=this.config.style;this.stylepicker=new s({model:t,component:this}),this.controls.style.set_drop_panel(this.stylepicker),this.controls.style.panel.input=function(t){if(t.removeClass(function(t,e){return(e.match(new RegExp("\\S*"+TVE.CONST.global_cls_prefix+"\\S*","g"))||[]).join(" ")}),-1!==this.model.selected.indexOf("tcb-saved-button-template-")){var e=parseInt(this.model.selected.replace("tcb-saved-button-template-",""));n.convert_custom_button(t,e),TVE.Editor_Page.reposition_icons()}else if(-1!==this.model.selected.indexOf(TVE.CONST.global_styles.prefix_button))t.addClass(this.model.selected).removeAttr("data-css").removeAttr("data-selector");else{var i=this.constructObject(this.model.selected);t.removeAttr("data-css"),t.head_css(i.default,null,this.model.css_suffix,!0,this.model.css_prefix),TVE.state_manager.set_state("hover"),t.head_css(i.hover,null,this.model.css_suffix,!0,this.model.css_prefix),TVE.state_manager.set_state("")}t.attr("data-button-style",this.model.selected),TVE.Components.typography.update()}},button_style_control:function(){return i("../../controls/style-change")},remove_icon:function(){this.controls.ModalPicker.applyTo().find(".thrv_icon").remove(),this.controls.ModalPicker.update(),TVE.do_action("tcb.submit_element_icon.remove")},update_menu:function(t){this.$('[data-icon="'+(t?"true":"false")+'"]').show(),this.$('[data-icon="'+(t?"false":"true")+'"]').hide()},convert_custom_button:function(t,e){var i=TVE.CONST.content_templates.find(function(t){return t.id===e}),n=TVE.$(TVE.Editor_Page.content_manager.process_saved_template("",TVE.$(i.content),this.prepare_template_item_media(_.extend({},i.media)))),s=n.is(".thrv-button")?n:n.find(".thrv-button"),a=t.find("button").text(),o=TVE.getClassThatContains(s,TVE.CONST.global_styles.prefix_button);t.html(""),t.append(r(a)),t.attr("data-css",s.attr("data-css")),t.head_css(l(s),null," button"),t.head_css({position:"",float:"","z-index":"",top:"",left:"",bottom:"",right:""}),t.head_css({"max-width":"100%",width:"100%"},null,"",!0,TVE.CONST.global_css_prefix+" "),o.length&&t.addClass(o)},prepare_template_item_media:function(t){var e=t["(min-width: 300px)"];if(void 0!==e){var i=e.match(/[^{}]+(?=\})/g),n=e.match(/([^\r\n{}]+)(,(?=[^}]*{)|\s*){/g),s="",a="";_.each(n,function(t,e){0<=t.indexOf(".tcb-button-link")&&-1===t.indexOf(":hover")&&(s+=i[e]+" ")});var o=!1;_.each(n,function(t,e){0<=t.indexOf(".tcb-button-link")&&-1===t.indexOf(":hover")&&!1===o?(-1===(t=t.replace(/.tcb-button-link/g,"button")).indexOf(TVE.CONST.global_css_prefix)&&(t=TVE.CONST.global_css_prefix+" "+t),a+=t+s+"} ",o=!0):(-1===t.indexOf(".tcb-button-link")||0<=t.indexOf(".tcb-button-link")&&0<=t.indexOf(":hover"))&&(t=t.replace(/.tcb-button-link/g,"button"),a+=t+i[e]+"} ")}),t["(min-width: 300px)"]=a}return t}})},"textarea.js":function(t,e,i){var n=i("../../base");e.exports=n.component.extend({controls_init:function(){var e=this;this.controls.icon_side.update=function(t){if(this.applyTo().filter(".edit_mode").find(".thrv_icon").length<=0)return this.$el.hide(),void this.$el.next().hide();this.$el.show(),this.$el.next().show();var e=this.applyTo().head_css("right",!0,this.config.css_suffix,!0,this.config.css_prefix),i=this.applyTo().head_css("left",!0,this.config.css_suffix,!0,this.config.css_prefix);e=parseInt(e),i=parseInt(i);var n=0===e?"right":"left";this.setActive(n)},this.controls.icon_side.input=function(t,e){var i="left"===e.dataset.value?{left:0,right:"auto",transform:"translate(50%, -50%)"}:{right:0,left:"auto",transform:"translate(-50%, -50%)"};this.applyTo().head_css(i,null,this.config.css_suffix,!0,this.config.css_prefix)},this.controls.placeholder.update=function(t){this.setValue(t.filter(".edit_mode").find("textarea").attr("placeholder"))},this.controls.placeholder.input=function(t,e){t.filter(".edit_mode").find("textarea").attr("placeholder",this.getValue()).attr("data-placeholder",this.getValue())},this.controls.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),this.controls.ModalPicker.input=function(t,e){var i;if((t=t.removeClass("aligncenter").filter(".edit_mode")).find(".thrv_icon").remove(),e.icon.is(".tve-svg-icon")){var n=jQuery("symbol#"+e.icon.data("cls"));i=TVE.svg_icon({path:n.html(),viewBox:n[0].getAttribute("viewBox"),name:n.find("> title").text(),id:n.attr("id")})}else i='<span data-name="'+e.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+e.icon.data("cls")+'"></span>';t.prepend('<div class="thrv_wrapper thrv_icon">'+i+"</div>"),this.update(),this.component.controls.icon_side.update()},this.controls.ModalPicker.update=function(){var t=this.applyTo().filter(".edit_mode").find(".thrv_icon");0==t.length&&this.updateValue("none"),e.update_menu(0<t.length)},this.controls.required.update=function(t){var e=t.find("textarea")[0].dataset.required;this.setChecked(e&&"1"===e)},this.controls.required.input=function(t,e){t.find("textarea").attr("data-required",e.checked?1:0)}},remove_icon:function(){this.controls.ModalPicker.applyTo().find(".thrv_icon").remove(),this.controls.ModalPicker.update()},update_menu:function(t){this.$('[data-icon="'+(t?"true":"false")+'"]').show(),this.$('[data-icon="'+(t?"false":"true")+'"]').hide()}})}},"lead-generation.js":function(t,u,p){!function(o){function t(t,e){return t&&e.is(".thrv_icon")&&(t=!1),t}var a=".tve_lg_input_container",e=p("../base"),i=p("../../views/controls/lead-generation/submit-options"),s=p("../../views/controls/lead-generation/apis"),r=p("../../views/controls/lead-generation/fields"),n=p("../../models/lead-generation"),l=p("../../views/controls/link"),c=p("../../views/controls/checkbox");TVE.add_action("drag_pre_init",function(){TVE.add_filter("draggable_elements",function(t){return t+", "+a}),TVE.add_filter("non_draggable",function(t){return t+", .tve_lead_generated_inputs_container .thrv-columns"}),TVE.add_filter("droppable_targets",function(t){return t+", "+a})}),TVE.LGErrorMessages=p("../modals/lg-error-messages");var d=new Backbone.Collection({}),h=new Backbone.Collection({});u.exports=e.component.extend({leadGenerationView:null,initialize:function(){var n=this;e.component.prototype.initialize.apply(this,arguments),this.submitOptions=new i({el:this.$("#lg-submit-options"),component:this,class:"tve-lg-submit-panel"}),this.apiOptions=new s({component:this,class:"tve-lg-api-panel"}),this.fieldOptions=new r({collection:d,component:this,class:"tve-lg-api-panel"}),this.$successMessageArea=this.$el.find("#lg-success-message"),this.$successMessageInput=this.$successMessageArea.find("input"),this.$customUrlArea=this.$el.find("#lg-custom_url"),this.customUrlAutocomplete=new l({hide_preview:!0,ignore_settings:!0}),this.customUrlAutocomplete.on("directurl",function(t){n.leadGenerationModel.set("back_url",t.term),n.updateSubmitOptions()}),this.customUrlAutocomplete.on("select",function(t){n.leadGenerationModel.set("back_url",t.url),n.updateSubmitOptions()}),this.customUrlAutofill=new c({el:this.$customUrlArea,model:{config:{label:TVE.t.redirect_autofill}}}),this.$customUrlArea.append(this.customUrlAutocomplete.$el),this.customUrlAutofill.change=function(t,e){n.leadGenerationModel.set("autofill",Number(e.checked)),n.updateSubmitOptions()},TVE.add_action("tve.lg.submit-option-changed",function(){n.$successMessageInput.val(n.leadGenerationModel.get("custom_messages").success),n.customUrlAutocomplete.set_link(n.leadGenerationModel.get("back_url")),n.customUrlAutofill.setChecked(n.leadGenerationModel.get("autofill")),n.updateSubmitOptions()}),TVE.add_filter("tve_form_submit_options",function(t){return Object.keys(TVE.ActiveElement.data("lg").get("apis")).includes("klicktipp")&&(t=[].concat(_toConsumableArray(t),[{key:"klicktipp-redirect",label:TVE.t.klicktipp_thank_you_url,icon:"klick-tip"}])),t}),TVE.main.on("lgRenderOptionForm",function(t,e,i){i.includes("klick")&&n.updateSubmitOptions()})},check_form_exists:function(){TVE.ActiveElement.find("form").length||TVE.ActiveElement.find(".thrv_lead_generation_container").children().wrapAll(o("<form>",{action:"#",method:"post",novalidate:!0})),TVE.ActiveElement.attr("data-connection")||TVE.ActiveElement.attr("data-connection","api")},migrate_element:function(t){var e=t.find(".tve_lead_generated_inputs_container"),i=o('<div class="thrv_wrapper thrv-columns"><div class="tcb-flex-row"></div></div>'),n=i.find(".tcb-flex-row"),s=e.find(a);s.each(function(){var t=o(this),e=t.clone();n.append(e),e.wrap('<div class="tcb-flex-col"></div>').wrap('<div class="tcb-col"></div>'),t.remove()}),n.addClass("tcb--cols--"+s.length),e.append(i),t.removeClass("thrv_lead_generation_horizontal")},needs_update:function(t){return t.hasClass("thrv_lead_generation_horizontal")},getFieldsControl:function(){return p("./../controls/preview-list")},addConnection:function(){return this.apiOptions.isOpen()?this.apiOptions.onCancel():this.apiOptions.open(null,this.$(".tve-add-lg-connection")),!1},addLGField:function(){return this.fieldOptions.isOpen()?this.fieldOptions.onCancel():(this.fieldOptions.update(),this.fieldOptions.open(null,this.$(".tve-lg-add-field"))),!1},changeSubmitOption:function(){return this.submitOptions.isOpen()?this.submitOptions.onCancel():this.submitOptions.open(null,this.$(".tve-lg-submit-options-wrapper")),!1},generateForm:function(){this.apiOptions.parseHTML(),this.controls.FieldsControl.update(TVE.ActiveElement),this.controls.HiddenFieldsControl.update(TVE.ActiveElement)},getApiFields:function(){var t=TVE.ActiveElement.find('.tve_lg_input_container:not(.tcb-lg-consent,.tve_submit_container), input[data-field="mapping_hidden"]'),s=[];return _.each(t,function(t,e){var i=o(t),n=i.is("div")?i.find("input,select,textarea"):i;s.push({item:i,label:n.attr("placeholder")||n.attr("name"),fieldType:n.attr("data-field")||n.attr("name"),defaultValue:n.attr("default-value")||n.attr("value"),autofillType:n.attr("data-complete-type")||"",autofillValue:n.attr("data-complete-value")||""})}),s},getCustomhtmlFields:function(){var t=TVE.ActiveElement.find(".tve_lg_input_container:not(.tcb-lg-consent,.tve_submit_container)"),a=[];return _.each(t,function(t,e){var i=o(t),n=i.find("input,select,textarea");if(!n.data("placeholder")&&!n.attr("placeholder")){var s=n.attr("name");if(n.attr("data-placeholder",s),n.attr("placeholder",s),n.is("select"))o('<option value="'+s+'" disabled selected hidden>'+s+"</option>").prependTo(n)}a.push({item:i,label:n.attr("data-placeholder")||n.attr("placeholder")||n.attr("name"),fieldType:n.attr("data-field")||n.attr("name")||n.attr("placeholder"),defaultValue:n.attr("default-value")||n.val(),autofillType:n.attr("data-complete-type")||"",autofillValue:n.attr("data-complete-value")||""})}),a},getHiddenInput:function(){var n=[];if(!this.leadGenerationModel.get("custom_html_code"))return n;var t=TVE.ActiveElement.find('input[type="hidden"]');return _.each(t,function(t,e){var i=o(t);(i.attr("id")||i.attr("name"))&&n.push({item:i,label:i.attr("id")||i.attr("name"),defaultValue:i.attr("default-value")||i.attr("value"),autofillType:i.attr("data-complete-type")||"",autofillValue:i.attr("data-complete-value")||"",hidden:!0})}),n},controls_init:function(){var s=this,n=this.$el;this.controls.connectionType.update=function(t){var e=t.attr("data-connection");n.find(".connection-controls").addClass("tcb-hidden").filter(function(){return o(this).attr("data-connection")===e}).removeClass("tcb-hidden"),s.updateApiUI(e),s.controls.connectionType.setActive(e)},this.controls.connectionType.input=function(t,e){var i=e.dataset.value;"api"===i&&t.data("lg").get("custom_html_code")&&TVE.ActiveElement.html(o(TVE.main.$('#tve-static-elements [data-elem="lead_generation"] .thrv_wrapper').html())),t.attr("data-connection",i),n.find(".connection-controls").addClass("tcb-hidden"),n.find('.connection-controls[data-connection="'+i+'"]').removeClass("tcb-hidden"),TVE.ActiveElement.data("lg").set("type",i),TVE.ActiveElement.data("lg").set("write","type"),s.updateApiUI(i),s.controls.FieldsControl.update(t)},this.controls.FieldsControl.attach_collection(d),this.controls.HiddenFieldsControl.attach_collection(h),this.controls.FieldsControl.on("item_click",function(t,e){s.fieldOptions.isOpen()?s.fieldOptions.hide():(s.fieldOptions.update(),s.fieldOptions.editField(t,e))}),this.controls.FieldsControl.on("item_remove",function(t,e){e instanceof Backbone.Model&&e.get("item")?e.get("item").remove():TVE.ActiveElement.find(".tve_lg_input_container ").eq(t).remove(),s.controls.FieldsControl.update(TVE.ActiveElement),s.fieldOptions.update()}),this.listenTo(d,"change",function(){var i=[];d.each(function(t){i.push(t.get("item").clone())},s),TVE.ActiveElement.find(".tve_lg_input_container:not(.tcb-lg-consent,.tve_submit_container)").each(function(t,e){o(e).html(i[t].html()).attr("class",i[t].attr("class")).attr("data-css",i[t].attr("data-css"))},s),s.controls.FieldsControl.update(TVE.ActiveElement)}),this.controls.FieldsControl.update=function(t){var e=t.attr("data-connection").replace("-",""),i=[],n="get"+TVE.ucFirst(e)+"Fields";"function"==typeof s[n]&&(i=s[n]()),d.reset(i)},this.controls.HiddenFieldsControl.update=function(t){h.reset(s.getHiddenInput())},this.controls.HiddenFieldsControl.on("item_click",function(t,e){s.fieldOptions.isOpen()?s.fieldOptions.hide():(s.fieldOptions.update(),s.fieldOptions.editField(t,e))});var a=this;TVE.add_action("tcb.show_icons",function(t,e,i){t.closest(".thrv_lead_generation").length&&t.hasClass("tcb-col")&&i.$delete.show()}),this.controls.Captcha.update=function(){var t=this.config.config.site_key;if(this.$el.next().toggleClass("tcb-hidden",0<t.length),0<!t.length)return this.disable(),this;var e="1"===a.leadGenerationModel.get("captcha")._use_captcha;a.leadGenerationModel.get("captcha").site_key=t,this.setChecked(e),this.$el.parent().find("#tcb-lg-captcha-controls").toggleClass("tcb-hidden",!e)},this.controls.Captcha.input=function(t,e){var i=e.checked?1:0,n=a.leadGenerationModel.get("captcha");n=o.extend(n,{_use_captcha:i}),this.$el.parent().find("#tcb-lg-captcha-controls").toggleClass("tcb-hidden",!e.checked),a.leadGenerationModel.set("captcha",n),a.leadGenerationView.write("captcha")},this.controls.CaptchaTheme.update=function(){var t=a.leadGenerationModel.get("captcha")._captcha_theme;this.setValue(t)},this.controls.CaptchaTheme.input=function(t,e){var i=a.leadGenerationModel.get("captcha");i._captcha_theme=e.value,a.leadGenerationModel.set({captcha:i,write:"captcha"})},this.controls.CaptchaType.update=function(){var t=a.leadGenerationModel.get("captcha")._captcha_type;this.setValue(t)},this.controls.CaptchaType.input=function(t,e){var i=a.leadGenerationModel.get("captcha");i._captcha_type=e.value,a.leadGenerationModel.set({captcha:i,write:"captcha"})},this.controls.CaptchaSize.update=function(){var t=a.leadGenerationModel.get("captcha")._captcha_size;this.setValue(t)},this.controls.CaptchaSize.input=function(t,e){var i=a.leadGenerationModel.get("captcha");i._captcha_size=e.value,a.leadGenerationModel.set({captcha:i,write:"captcha"})},this.controls.Consent.update=function(){a.check_consent_control()&&this.setChecked(a.leadGenerationModel.get("consent").enabled)},this.controls.Consent.input=function(){var t=a.leadGenerationModel.get("consent");t.enabled=this.isChecked(),a.leadGenerationModel.set("consent",t),a.leadGenerationView.write("consent")}},check_consent_control:function(){var t=!1,e=this.leadGenerationModel.get("consent");return t=!("api"!==this.leadGenerationModel.get("type")||!this.has_api_connected())||this.has_asset_delivery(),this.controls.Consent.$el[t?"show":"hide"](),!t&&e.enabled&&(e.enabled=!1,this.leadGenerationView.write("consent"),this.controls.Consent.setChecked(!1)),t&&!e.enabled&&this.controls.Consent.setChecked(!1),t},has_asset_delivery:function(){var t=this.leadGenerationModel.get("asset_delivery");return t&&t._asset_option},placeholder_action:function(){this.before_update()},before_update:function(){if(this.check_form_exists(),this.leadGenerationModel)this.leadGenerationModel.clear({silent:!0}).set(this.leadGenerationModel.defaults(),{silent:!0});else{this.leadGenerationModel=new n.model;var t=function(){this.check_consent_control(),this.leadGenerationView.write("consent")};this.leadGenerationModel.on("write.asset_delivery",_.bind(t,this)),this.leadGenerationModel.on("write.apis",_.bind(t,this))}TVE.ActiveElement.data("lg",this.leadGenerationModel),this.leadGenerationView?(this.leadGenerationView.setElement(TVE.ActiveElement[0]),this.leadGenerationView.read()):this.leadGenerationView=new n.view({el:TVE.ActiveElement[0],model:this.leadGenerationModel}),this.submitOptions.reset(this.leadGenerationModel),this.fieldOptions.update(),TVE.ActiveElement&&this.controls.HiddenFieldsControl.update(TVE.ActiveElement),TVE.ActiveElement&&this.controls.FieldsControl.update(TVE.ActiveElement)},has_api_connected:function(){return 0<Object.keys(this.leadGenerationModel.get("apis")).length},manage_error_messages:function(){var i=this,t=this.leadGenerationModel.get("error_messages"),n=TVE.LGErrorMessages.get_instance(TVE.modal.get_element("lg-error-messages"),new Backbone.Model(t));n.type=this.leadGenerationModel.get("type"),n.display_editor=this.leadGenerationModel.get("display_custom_error_message"),n.custom_messages=this.leadGenerationModel.get("custom_messages"),n.render_errors(),n.before_save=function(){var t=this.model.toJSON();i.leadGenerationModel.set({error_messages:t,write:"error_messages"});var e={success:n.custom_messages.success||"",error:this.get_editor_content()};i.writeCustomMessage(e),i.leadGenerationModel.set({display_custom_error_message:n.display_editor,write:"display_custom_error_message"})},n.open()},updateApiUI:function(t){var e="api"===t,i=this.has_api_connected()||!1,n=this.has_asset_delivery()||!1;this.$el.find("#lg-submit-options").toggleClass("tcb-hidden",!e),this.$el.find(".tve-lg-prevention").toggleClass("tcb-hidden",!e),this.$el.find(".tve-lg-hidden-fields").toggleClass("tcb-hidden",e),t.includes("custom")&&this.$el.find("#tve_lead_generation_code").val(TVE.ActiveElement.data("lg").get("custom_html_code")),this.$("#api-controls").children().not(".skip-api").each(function(){this.style.display=i||this.classList.contains("no-api")?"block":"none"}),this.$("#api-controls").children(".no-service")[i||n?"show":"hide"]()},getWrapper:function(t,e){var i=TVE.ActiveElement.find(t).first();return 0===i.length&&void 0!==e&&e instanceof o&&(i=o("<div>").attr("#"===t[0]?"id":"class",t.substring(1)).appendTo(e)),i},generateHiddenInput:function(t){return'<input id="'+(t=_.extend({name:"",value:"",className:""},t)).name+'" type="hidden" name="'+t.name+'"'+(t.className?' class="'+t.className+'"':"")+' value="'+t.value+'">'},writeCustomMessage:function(t){try{var e=t||this.leadGenerationModel.get("custom_messages"),i=TVE.ActiveElement.find("#__tcb_lg_msg");if(e=TVE.serialize(e),e=TVE.Base64.encode(e),0<i.length)return i.val(e),this;var n=this.generateHiddenInput({name:"__tcb_lg_msg",value:e});return this.getWrapper("form").append(n),this}catch(t){console.log(t)}},updateSubmitOptions:function(){if(!this.leadGenerationModel.get("custom_html_code")){var t=this.leadGenerationModel,e=TVE.ActiveElement,i=e.find("#_submit_option"),n=e.find("#_back_url"),s=e.find("#_autofill");return 0<i.length?i.val(t.get("submit_option")):this.getWrapper("form").append(this.generateHiddenInput({name:"_submit_option",value:t.get("submit_option")})),0<n.length?n.val(t.get("back_url")):this.getWrapper("form").append(this.generateHiddenInput({name:"_back_url",value:t.get("back_url")})),0<s.length?s.val(t.get("autofill")):this.getWrapper("form").append(this.generateHiddenInput({name:"_autofill",value:t.get("autofill")})),"message"===t.get("submit_option")?(this.writeCustomMessage(),e.find("#_back_url").remove(),this):void 0}},previewSuccessMsg:function(t,e){var i=this.$successMessageInput.val();i.length&&TVE.page_message(i)},changeSuccessMsg:function(t,e){var i=this.leadGenerationModel.get("custom_messages");i.success=e.value,this.leadGenerationModel.set("custom_messages",i),this.updateSubmitOptions()},edit_mode_enter:function(){var i=this;TVE.add_filter("allow_dragenter",t),TVE.add_action("tcb.froala.blur",function(t,e){i.setValueFromLabel(t,e,i)}),TVE.ActiveElement.find(".thrv_icon").each(function(t,e){if(!this.getAttribute("data-css")){var i=TVE.inner.jQuery(this),n=i.children().first(),s=n.head_css(["padding","border-radius","font-size","width","height","color"],!1,"",!0),a=i.head_css(["border-style","border-radius","border-width","border-color","margin"],!1,"",!0);a.padding=s.padding,delete s.padding,a.width=s.width,delete s.width,a.height=s.height,delete s.height,a["font-size"]=s["font-size"],delete s["font-size"],n.removeAttr("style"),i.removeAttr("style"),i.head_css(a,null,"",!1,TVE.CONST.global_css_prefix+" ")}})},edit_mode_exit:function(){var i=this;TVE.remove_filter("allow_dragenter",t),TVE.remove_action("tcb.froala.blur",function(t,e){i.setValueFromLabel(t,e,i)}),TVE.Editor_Page.focus_element(this.LG)},edit_form_elements:function(){this.LG=TVE.ActiveElement,this.edit_mode_enter(),TVE.main.EditMode.enter(TVE.ActiveElement,{extra_element_class:"canvas-mode",blur:!0,show_default_message:!0,restore_state:!0,element_selectable:!1,callbacks:{exit:_.bind(this.edit_mode_exit,this)}})},setValueFromLabel:function(t,e,i){if(t.target){var n=TVE.inner_$(t.target),s=n.text(),a=n.closest(".tve_lg_radio_wrapper, .tve_lg_checkbox_wrapper").find(" > input");if(a.length&&a.attr("data-label-value")&&a.val(s),n.is(".tve_lg_radio_label, .tve_lg_checkbox_label"))n.closest(".tve_lg_radio, .tve_lg_checkbox").find("input").attr("data-placeholder",n.text()).attr("placeholder",n.text()),i.fieldOptions.update(),i.update()}}})}(jQuery)},"lightbox.js":function(t,e,i){var n=i("../base"),s=i("../../libs/remove-border-classes"),a=i("../../libs/tinycolor"),o="data-tve-custom-colour";e.exports=n.component.extend({before_update:function(){this.auto_update_overlay(),(TVE.ActiveElement.attr("style")||TVE.ActiveElement.attr(o))&&(this.auto_update(TVE.ActiveElement).auto_update(TVE.ActiveElement.children(".tve_p_lb_close")),TVE.ActiveElement.children(".tve_p_lb_close").head_css({"border-style":"inherit !important","border-width":"inherit !important"}),this.update_globals(TVE.ActiveElement))},auto_update:function(t){var e={};return t[0].style.borderWidth&&(e["border-width"]=t[0].style.borderWidth+" !important"),t[0].style.maxWidth&&(e["max-width"]=t[0].style.maxWidth+" !important"),t[0].style.backgroundImage&&(e["background-image"]=t[0].style.backgroundImage+" !important"),e["border-style"]=t.css("border-style")+" !important",e["background-color"]=t.css("background-color")+" !important",e["border-color"]=t.css("border-color")+" !important",t.hasClass("tve_p_lb_close")&&(e.color=t.css("color")+" !important",e["border-width"]=e["border-style"]="inherit !important"),s(t),t.removeAttr(o).removeAttr("style").head_css(e),this},auto_update_overlay:function(){var t=TVE.inner_$(".tve_p_lb_overlay");if(t[0].style.opacity||t.attr(o)){var e=a(t.css("background-color")),i=parseFloat(t.css("opacity")||1);e.setAlpha(i),t.head_css({"background-color":e.toString()+" !important"}),t.removeAttr("style").removeAttr(o)}},update_globals:function(t){if(t.length){var e,i=TVE.CONST.tve_globals;(e=t.attr("data-css"))&&(i.content_css=e,delete i.l_cb,delete i.l_cbs,delete i.l_cmw,delete i.l_ccls,delete i.l_cimg,delete i.l_cbw),(e=t.children(".tve_p_lb_close").attr("data-css"))&&(i.close_css=e,delete i.l_ccc),(e=TVE.inner_$(".tve_p_lb_overlay").attr("data-css"))&&(i.overlay_css=e,delete i.l_ob,delete i.l_oo)}},controls_init:function(t){var e=this;function i(t){e.$(".close-controls")[t?"show":"hide"]()}TVE.add_filter("tcb_save_post_data_before",function(t){return e.update_globals(TVE.inner_$(".tve_p_lb_content")),t}),t.Switch.update=function(t){var e=t.is(":visible");this.setChecked(e),i(e)},t.Switch.change=function(t){t.head_css({display:(this.isChecked()?"block":"none")+" !important"}),i(this.isChecked())},t.CloseColor.update=function(t){this.setValue(t.css("color"))},t.CloseColor.input=function(t){this.applyTo().head_css({color:t+" !important"})},t.BorderColor.update=function(t){this.setValue(t.css("border-color"))},t.BorderColor.input=function(t){this.applyTo().head_css({"border-color":t+" !important"})},t.IconBg.update=function(t){this.setValue(t.css("background-color"))},t.IconBg.input=function(t){this.applyTo().head_css({"background-color":t+" !important"})},t.OverlayColor.update=function(t){this.setValue(t.css("background-color"))},t.OverlayColor.input=function(t){this.applyTo().head_css({"background-color":t+" !important"})}}})},"link.js":function(t,e,i){var n,s,o;n=jQuery,s=i("./text"),o=function(){function i(t,e){_classCallCheck(this,i),this.value=t,this._computed=void 0!==e?e:!t}return _createClass(i,[{key:"toString",value:function(){return this.value}},{key:"isComputed",value:function(){return this._computed}}]),i}(),e.exports=s.extend({extra_states:!0,controls_init:function(i){var n=this;i.ToggleColor.update=function(){var t=n._read("color");this.setActive(t.toString().includes("inherit")||t.toString()===TVE.ActiveElement.parent().css("color")?"inherit":"specific")},i.ToggleColor.change=function(){n._write("color",this.isActive("inherit")?"inherit":""),i.FontColor.update()},i.FontColor.update=function(){this.setValue(n._read("color").toString())},i.FontColor.input=function(t){n._write("color",t?t.toString():"")},i.FontColor.clear=function(t){this.applyTo().head_css({color:""},null,this.config.css_suffix,!1,this.config.css_prefix)},i.FontColor.change=function(t){this.input(t),i.EffectColor.update()},i.FontFace.update=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.ActiveElement;n.refresh();var e=n._read("--tve-font-family").toString();e?e=new o(e,!1):(e=n._read("font-family"),TVE.state_manager.is_hover()&&0===e.toString().indexOf("var(")&&(e.value=t.css("font-family")));var i=e.toString();this.seems_custom=-1!==String(t.attr("class")).indexOf("ttfm"),this.inherited=e.isComputed()||i.includes("inherit"),this.initial_font=i,this.initial_weight=t.css("font-weight"),this.readFont(t),this.setInputValue(this.initial_font)},i.ToggleFont.update=function(){var t=n._read("font-family");this.setActive(t.isComputed()||t.toString().includes("inherit")?"inherit":"specific")},i.ToggleFont.change=function(){n._write("font-family",this.isActive("inherit")?"inherit":TVE.ActiveElement.css("font-family")),i.FontFace.update()},i.ToggleSize.update=function(){var t=n._read("font-size");this.setActive(t.isComputed()||t.toString().includes("inherit")?"inherit":"specific")},i.ToggleSize.change=function(){n._write("font-size",this.isActive("inherit")?"inherit":TVE.ActiveElement.css("font-size")),n.controls.FontSize.update()},i.FontSize.update=function(){this.setValue(String(n._read("font-size")))},i.FontSize.input=function(){n._write("font-size",this.value(!0))},i.FontSize.clear=function(){this.applyTo().head_css({"font-size":""},null,this.config.css_suffix,!1,this.config.css_prefix)},i.BgColor.update=function(){this.setValueOrNull(n._read("background-color").toString())},i.BgColor.input=function(t){n._write("background-color",t?t.toString():"initial")},i.BgColor.clear=function(){this.applyTo().head_css({"background-color":""},null,this.config.css_suffix,!1,this.config.css_prefix)},i.TextStyle.writeStyle=function(t,e){"text-decoration-line"!==e||"thin"!==i.EffectPicker.model.selected&&"none"!==i.EffectPicker.model.selected||(t["--eff"]=this.isActive("underline")?"thin":"none",t["text-decoration-color"]="var(--eff-color, currentColor)"),n._write(t),!TVE.editingTypogrpahy&&TVE.state_manager.is_default()&&TVE.froala.editor&&TVE.froala.editor.events.focus(),n.update("TextStyle")},i.TextStyle.clear=function(){this.applyTo().head_css({"text-decoration-color":"","text-decoration-line":""},null,this.config.css_suffix,!1,this.config.css_prefix)},i.Effect.set_drop_panel(i.EffectPicker),i.EffectColor.update=function(){this.setValue(TVE.getComputedStyle(TVE.ActiveElement,"--eff-color",!0)||TVE.ActiveElement.css("color"))},i.EffectColor.input=function(t){i.EffectPicker.setEffectColor(t,!0)},i.EffectSpeed.update=function(){this.setValue(TVE.getComputedStyle(TVE.ActiveElement,"--eff-speed",!0)||this.model.config.default+this.model.config.um[0])},i.EffectSpeed.input=function(t){n._write("--eff-speed",this.value(!0))},this.bindEvents()},before_update:function(){this.refresh()},refresh:function(){this.elementCSS?this.elementCSS.setElement(TVE.ActiveElement):this.elementCSS=new TVE.CSS(TVE.ActiveElement),TVE.FLAGS.hover_element&&this.elementCSS.setComputedHover(TVE.ActiveElement.css(["text-decoration-line"]))},_read:function(t,e){var i=TVE.state_manager.is_hover()||TVE.FLAGS.hover_element?":hover":"",n=this.elementCSS.getComputed(t,i,e,!0),s=n.value,a=!n.pristine;return s||(s=TVE.ActiveElement.css(t),a=!0),new o(s,a)},_write:function(t,e,i){var n=1<arguments.length&&void 0!==e?e:null,s=2<arguments.length&&void 0!==i?i:"",a={};null===n?a=t:a[t]=n;var o=TVE.editingTypogrpahy?"":" !important",r=TVE.editingTypogrpahy?"":TVE.CONST.global_css_prefix+" ";_.each(a,function(t,e){a[e]=t?t.replace("!important","")+o:""}),this.controls.FontColor.applyElementCss(a,TVE.ActiveElement,s,r)},effectPicker:function(){return i("../controls/link/effect-picker")},clearFormatting:function(){if(void 0===TVE.ActiveElement.data("froala.editor"))n.each(this.controls,function(t,e){e.clear()});else{if(TVE.froala.has_selection())return TVE.Components.text.clear_formatting();TVE.ActiveElement.removeAttr("data-css").removeClassContaining(TVE.CONST.global_styles.prefix_link),TVE.ActiveElement.children().each(function(){var t=n(this),e=t.find(".thrive-inline-shortcode");if(t.hasClass("thrive-inline-shortcode"))return!0;if(e.length){for(;!e.parent().is("a");)e.unwrap();return!0}t.replaceWith(t.text())})}this.update()},bindEvents:function(){var n=this,s={strong:"bold",em:"italic",u:"underline",s:"line-through"};TVE.add_filter("tcb.link.format.apply",function(t,e,i){return e.format.remove(i),n.controls.TextStyle.$('[data-value="'.concat(s[i],'"]')).removeClass("tve-active").click(),!1}),TVE.add_filter("tcb.link.format.remove",function(t,e,i){return n.controls.TextStyle.$('[data-value="'.concat(s[i],'"]')).addClass("tve-active").click(),!1})}})},logo:{"_includes.js":function(t,e,i){var n=i("./hooks");_.each(n.actions,function(t,e){TVE.add_action(e,t)}),_.each(n.filters,function(t,e){TVE.add_filter(e,t)}),e.exports=i("./component/main")},"collection.js":function(t,e,i){var n=Backbone.Collection.extend({model:i("./model")});e.exports=new n(TVE.CONST.logo.sources)},component:{"item.js":function(t,e,i){var n=i("../../../base"),s=i("../content"),a=!1;e.exports=n.base_view.extend({className:"tcb-logo-row click",tagName:"li",template:TVE.tpl("logo/item"),events:{"mouseenter .tcb-logo-preview":"showImageTooltip","mouseleave .tcb-logo-preview":"hideImageTooltip"},before_initialize:function(t){_.extend(this.events,n.base_view.prototype.events),this.optionsTooltip=t.optionsTooltip},after_initialize:function(){this.listenTo(this.model,"change:id",this.render),this.listenTo(this.model,"change:name",this.render),this.listenTo(this.model,"change:src",this.render),this.listenTo(this.model,"change:selected",this.selectLogo)},after_render:function(){var t=this.model.get("id");1===t&&this.$(".tcb-logo-image-tooltip").addClass("tcb-logo-image-tooltip-dark"),this.$el.attr({"data-id":t,"data-fn":"selectHandler"})},selectLogo:function(){this.$el.toggleClass("tcb-logo-selected",1===this.model.get("selected"))},deleteLogo:function(){confirm("Are you sure you want to delete this logo?")&&(this.model.destroy({success:function(){TVE.page_message("Logo deleted successfully.")},error:function(){TVE.page_message("Error on deleting logo.",!0)}}),s.updateAllLogosOnPage(this.model.get("id")))},renameHandler:function(){if(0===this.$("input").length){this.$(".tcb-logo-name").after('<input type="text" class="tcb-logo-name-input keydown blur" data-fn="saveName" value="'+this.model.get("name")+'"/>');var t=this.$("input"),e=t.val();setTimeout(function(){t.focus().val("").val(e)},100),this.$el.addClass("tcb-logo-edit")}},saveName:function(t){if(27===t.keyCode)return a=!0,this.$el.removeClass("tcb-logo-edit"),void this.render();if(a)a=!1;else if("keydown"!==t.type||13===t.keyCode){this.$el.removeClass("tcb-logo-edit");var e=this.$("input").val().trim();e!==this.model.get("name")?e&&0!==e.length?this.model.save({name:e},{url:TVE.CONST.logo.routes.rename_logo+"/"+this.model.get("id"),success:function(){TVE.page_message("Logo renamed successfully.")},error:function(){TVE.page_message("Error on renaming the logo.",!0)}}):TVE.page_message("Error - invalid logo name!",!0):this.render()}},showImageTooltip:function(){this.$(".tcb-logo-image-tooltip").css({visibility:"visible",opacity:1,bottom:"calc(100% + 10px)"})},hideImageTooltip:function(){this.$(".tcb-logo-image-tooltip").css({visibility:"hidden",opacity:0,bottom:"calc(100% + 5px)"})},showOptionsTooltip:function(){this.$el.append(this.optionsTooltip.$el.css({top:25})),this.$el.toggleClass("tooltip-open")}})},"list.js":function(t,e,i){var n=i("../../../base"),s=i("../content"),a=i("../collection"),o=n.base_view.extend({tagName:"div",className:"tcb-logo-options-tooltip",template:TVE.tpl("logo/tooltip")}),r=i("../model"),l=i("./item"),c=i("../../../../libs/file-picker"),d=".tcb-user-logos";e.exports=n.base_view.extend({before_initialize:function(){var e=this;this.imagePicker=(new c).on_select(this.onMediaSelect,this),this.optionsTooltip=new o,this.renderLogos(a.where({default:1}),this.$(".tcb-default-logos")),this.listenTo(a,"remove",this.render),this.listenTo(a,"add",function(t){return e.appendLogo(t,e.$(d))})},selectHandler:function(t){var e=jQuery(t.target);if(e.is(".tcb-logo-row, .tcb-logo-preview, .tcb-logo-cell, .tcb-logo-name")){a.each(function(t){return t.set("selected",0)});var i=e.closest(".tcb-logo-row"),n=a.findWhere({id:parseInt(i.attr("data-id"))});n.set("selected",1),s.updateLogo(n)}},hideOptionsTooltip:function(){this.$(".tooltip-open").removeClass("tooltip-open")},after_initialize:function(){this.optionsTooltip=new o},render:function(){this.renderLogos(a.where({default:0,active:1}),this.$(d))},renderLogos:function(t,e){var i=this;e.empty(),_.each(t,function(t){i.appendLogo(t,e)})},appendLogo:function(t,e){e.append(new l({model:t,optionsTooltip:this.optionsTooltip}).$el)},addClickHandler:function(){this.imagePicker.operation="add",this.imagePicker.open()},openMediaLibrary:function(t){this.imagePicker.id=t.currentTarget.dataset.id,this.imagePicker.operation="edit",this.imagePicker.open()},onMediaSelect:function(t,e){"add"===this.imagePicker.operation?this.addLogo(e):"edit"===this.imagePicker.operation&&this.editLogoSrc(e)},addLogo:function(t){var i=new r({attachment_id:t.id,src:t.url,name:"Logo "+(a.length+1)});a.add(i),i.save(null,{success:function(t,e){i.set("id",e.id),TVE.page_message("Logo added successfully.")},error:function(){TVE.page_message("Error on adding a new logo.",!0)}})},editLogoSrc:function(t){var e=a.get(this.imagePicker.id);e?(e.set({attachment_id:t.id,src:t.url}),s.updateAllLogosOnPage(e.get("id"),e.get("src")),e.save(null,{success:function(){TVE.page_message("Logo image changed successfully.")},error:function(){TVE.page_message("Error on changing the logo image.",!0)}})):TVE.page_message("Error on changing the logo image.",!0)}})},"main.js":function(t,e,i){var n=i("../../../base"),s=i("./list"),a=i("../content"),o=i("../../../controls/jumplinks/element-link"),r=i("../collection");e.exports=n.component.extend({after_init:function(){this.list=new s({el:this.$(".tcb-logo-selection-container")})},toggleDropdown:function(t,e){n.component.prototype.toggleDropdown.call(this,t,e),TVE.Components.logo&&TVE.Components.logo.list.hideOptionsTooltip()},after_update:function(){var t=TVE.ActiveElement.mediaAttr("data-id");if(r.each(function(t){return t.set("selected",0)}),t){var e=r.get(t);e&&e.set("selected",1)}},controls_init:function(t){var n=this;this.hooks(),TVE.add_filter("tcb.link_removed",function(t){return TVE.ActiveElement.is("a.tcb-logo")&&(t="#"),t}),t.logoLink=new o({el:this.$(".logo-link")[0],model:{config:{label:TVE.t.logo_link,class:"tcb-logo",keep_links:!0}},component:this}),t.ToggleURL.update=function(t){var e=t.attr("href");this.setChecked(e.length),this.component.$(".logo-link").toggle(this.isChecked())},t.ToggleURL.input=function(t,e){var i=!!e.checked;i||t.attr("href","").removeAttr("rel").removeAttr("target"),n.$(".logo-link").toggle(i),n.controls.logoLink.toggleURL(i,TVE.CONST.site_url)},t.ImageSize.input=function(t,e){var i={};"auto"===e.value&&(e.value=this.model.config.max),i[this.config.config.css]=e.value+this.getUM(),this.applyElementCss(i,t,"",""),t.find("img").css("width","100%")},t.ImageSize.update=function(t){var e=t.head_css(this.config.config.css,null,null,!0);e=e||t.css("width"),this.setValue(e)},t.ImageSize.change=function(t,e){var i={};i[this.config.config.css]=e.value+this.getUM(),this.applyElementCss(i,t,"",""),t.find("img").css("width","100%")}},get_link:function(){return TVE.ClickedElement},hooks:function(){var e=this;this.$el.on("click",function(t){0===TVE.inner_$(t.target).closest(".tcb-logo-options-tooltip, .tcb-logo-dots").length&&e.list.hideOptionsTooltip()}),TVE.main.on("device_change",function(){a.updateAllLogosOnPage()})}})}},"content.js":function(t,e,i){var r=i("./collection"),n={saveLogo:function(a){var o=["tcb-logo","thrv_wrapper"];a.find(TVE.identifier("logo")).each(function(t,e){var i=a.find(e),n="";["id","rel","target","href","jump-animation"].forEach(function(t){i.attr(t)&&(n+=" ".concat(t,"='").concat(i.attr(t),"'"))}),_.each(TVE.PostList.utils.elementAttributes(i,["data-shortcode","data-selector","id"],!0,!0),function(t,e){n+=" data-".concat(e,"='").concat(t,"'")});var s="";s+=TVE.PostList.content.getResponsiveClasses(i).join(" ")+" ",i[0].classList.forEach(function(t){o.includes(t)||-1!==s.indexOf(t)||(s+=t+" ")}),n+=s?" class='".concat(s.trim(),"'"):"";i.replaceWith("[".concat("tcb_logo").concat(n,"]").concat("","[/").concat("tcb_logo","]"))})},updateLogo:function(t){var e=TVE.ActiveElement;e.mediaAttr("data-id",t.get("id")),e.find("img").attr("src",t.get("src"))},updateAllLogosOnPage:function(t,e){var a=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==e?e:null;TVE.inner.$body.find(TVE.identifier("logo")).each(function(t,e){var i=TVE.inner_$(e).mediaAttr("data-id");if(null===a||parseInt(a)===parseInt(i)){var n;if(null===o){var s=r.get(i);n=s?s.get("src"):TVE.CONST.logo.deleted_placeholder}else n=o;TVE.inner_$(e).find("img").attr("src",n)}})}};e.exports=n},"hooks.js":function(t,e,i){var n=i("./content"),s=i("./collection"),a={actions:{"tcb.after-insert":function(t){var e=TVE.Elements[TVE._type(t)];if(e){if(e.identifier===TVE.identifier("logo")&&(!TVE.FLAGS.$dragged_element||TVE.FLAGS.$dragged_element.static_element)){var i=s.get(0);if(i){var n=i.get("src");n.length&&t.find("img").attr("src",n)}}}else console.warn("Corresponding element not found inside TVE.Elements for:"+t)}},filters:{tcb_filter_html_before_save:function(t,e){return e.is(TVE.identifier("contentbox"))||n.saveLogo(t),t}}};e.exports=a},"model.js":function(t,e,i){var n=Backbone.Model.extend({urlRoot:TVE.CONST.logo.routes.base,idAttribute:"id",defaults:function(){return{active:1,default:0,selected:0}},sync:function(t,e,i){(i=i||{}).cache=!1;var n=i.beforeSend;return i.beforeSend=function(t){if(t.setRequestHeader("X-WP-Nonce",TVE.CONST.rest_nonce),"function"==typeof n)return n.apply(this,arguments)},Backbone.sync(t,e,i)}});e.exports=n}},"lpblock.js":function(t,e,i){var n=i("./section"),a=i("../controls/background/solid"),o=i("../controls/background/gradient"),r=".thrv-lp-block";e.exports=n.extend({collection:new Backbone.Collection({}),controls_init:function(t){var s=this;n.prototype.controls_init.call(this,t),TVE.add_action("tcb.element.duplicate",function(t,e){e.find(".thrv-lp-block").addBack().filter(".thrv-lp-block").each(function(){TVE.inner_$(this).head_css_clone()})}),TVE.add_filter("tcb.global_variable_color",function(t){if(!TVE.ActiveElement)return t;var e=TVE.ActiveElement.closest(".thrv-lp-block");if(0<e.length&&"1"===e.attr("data-match-lp-colors")){var i=TVE.getRawCssVariableName(t).replace(TVE.CONST.colors.local_prefix,""),n=TVE.getCssVariableValue("--tcb-local-related-"+i);n&&window.getComputedStyle(TVE.inner.document.body).getPropertyValue(TVE.getRawCssVariableName(n))&&(t=TVE.buildCssVariable(n))}return t}),TVE.add_filter("tcb.elem.type",function(t,e){return"section"===t&&e.is(r)&&(t="lpblock"),t}),TVE.add_action("tcb.symbol.before_save_logic",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;(t=t||TVE.ActiveElement).find(r).addBack().removeClass(r.replace(".",""))}),TVE.add_filter("tcb.symbol.before_save",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(0<t.symbol_css.length&&TVE.ActiveElement){var e=TVE.ActiveElement.find(r).addBack().filter(r);0===e.length&&(e=TVE.ActiveElement.closest(r)),0<e.length&&(t.symbol_css=TVE.Components.contentblock.prepareLocalVariablesForTemplates(e,t.symbol_css))}return t}),TVE.add_filter("tcb.templates.before_save",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=TVE.ActiveElement.find(r).addBack().filter(r);if(0===e.length&&(e=TVE.ActiveElement.closest(r)),0<e.length){var i=t.get("template_content");i=i.split(r.replace(".","")).join(""),t.set("media_rules",TVE.Components.contentblock.prepareLocalVariablesForTemplates(e,t.get("media_rules"))),t.set("template_content",i)}return t}),TVE.add_action("tcb_after_cloud_template_css_inserted",function(t){if(t.is(r)){var e=TVE.LpBlockModal.get_instance().matchLpColors,i=t.attr("data-inherit-lp-settings");if(i&&1===parseInt(i)&&s.setLpPageSectionWidth(t),s.is_full_width()&&t.find(".tve-page-section-in").outerWidth()===t.parent().width()&&t.removeAttr("data-inherit-lp-settings"),!e){t.attr("data-match-lp-colors",0),s.controls.MatchColors.setChecked(!1),s.$(".tve-local-variables").show();var o=TVE.Components.contentblock.getLocalVariablesSelector(),n=TVE.Components.contentblock.get_colors_config(t);_.each(n,function(t,a){_.each(t,function(t,e){var i="--tcb-local-default-"+e,n={},s=TVE.getCssVariableValue(i);i.length&&(n[TVE.CONST[a].local_prefix+e]=s,TVE.write_css(o,n,null))})})}}}),TVE.main.on("element_selected",function(t,e){"lpblock"===e&&TVE.Components.contentblock._refreshLocalVariables(s.collection)}),this.controls.color=new a({collection:this.collection}),this.controls.gradient=new o({collection:this.collection}),this.listenTo(this.collection,"reset",function(){s.$(".tve-local-variables").html(TVE.Components.contentblock.build_preview(s.collection))}),this.listenTo(this.collection,"change",function(t){TVE.Components.contentblock.change_local_variable.call(s,t)}),this.controls.MatchColors.update=function(t){var e="1"===t.attr("data-match-lp-colors");this.setChecked(e),this.component.$(".tve-local-variables").toggle(!e)},this.controls.MatchColors.change=function(t,r){t.attr("data-match-lp-colors",Number(r.checked)),s.$(".tve-local-variables").toggle(!r.checked);var e=TVE.Components.contentblock.get_colors_config(t);_.each(e,function(t,o){_.each(t,function(t,e){var i="--tcb-local-related-"+e,n={},s=TVE.getCssVariableValue(i),a=TVE.Components.contentblock.getLocalVariablesSelector();s&&(n[TVE.CONST[o].local_prefix+e]=r.checked?TVE.buildCssVariable(s):TVE.getCssVariableValue(TVE.CONST[o].local_prefix+e),TVE.write_css(a,n,null))})}),r.checked||TVE.Components.contentblock._refreshLocalVariables(s.collection)}},edit_local_variable:function(t,e){return TVE.Components.contentblock.edit_local_variable.call(this,t,e)},placeholder_action:function(t){if(TVE.BlockBelow)TVE.BlockBelow.domAddBlock(null,{});else{TVE.main.overlay();var e=setInterval(function(){TVE.BlockBelow&&(clearInterval(e),TVE.BlockBelow.$target=t,TVE.BlockBelow.domAddBlock(null,{}),TVE.main.overlay(!0))},100)}}})},"megamenu-column.js":function(t,e,i){var s,n,a;s=jQuery,n=i("../base"),i("../../elements/menu-element"),a=i("../../libs/element-snapshot"),e.exports=n.component.extend({controls_init:function(t){var n=this;t.Description.update=function(t){this.setChecked(!!t.filter(".edit_mode").children(TVE.TEXT_BLOCK).length)},t.Description.input=function(e,i){e=e.filter(".edit_mode"),a(function(){if(e.children(TVE.TEXT_BLOCK).remove(),i.checked){var t=s(TVE.CONST.custom_menu.mega_desc_tpl.replace("%s","<p>Click to edit menu description</p>")).addClass("tve_editable").attr("data-selector",n.menu.getSelectorSpec("mega_desc"));e.children("a").after(t),t.find("p").attr("data-selector",n.menu.getSelectorSpec("mega_desc")+" p")}},e)}},before_update:function(){TVE.Components.menu.before_update(TVE.ActiveElement.closest(".thrv_widget_menu")),this.menu=TVE.Components.menu.menuView}})},"megamenu-dropdown.js":function(t,e,i){var n;jQuery,n=i("../base"),e.exports=n.component.extend({controls_init:function(s){var n=this;function i(t,e){var i=parseInt(s.ColumnsNumber.getValue()),n=s.HorizontalSpace.getValue(!0);e.applyElementCss({"max-width":"calc("+100/i+"% - "+n+")",width:"calc("+100/i+"% - "+n+")","margin-left":n},t," li.lvl-1",""),e.applyElementCss({"margin-left":"-"+n},t," > ul",""),t.children(".tcb-masonry").masonry()}s.Type.change=function(t,e){var i=t.find("> ul");n.menu.groupConfig("layout",e.dataset.value,t,"drop-{ID}"),"masonry"===e.dataset.value?i.masonry():i.data("masonry")&&i.masonry("destroy"),i.toggleClass("tcb-masonry","masonry"===e.dataset.value)},s.Type.update=function(t){this.setActive(t.find("> ul").hasClass("tcb-masonry")?"masonry":"grid")},s.ColumnsNumber.input=function(t,e){this.applyElementCss({"--cols-number":parseInt(e.value)},t,"",""),i(t,this)},s.ColumnsNumber.update=function(t){this.setValue(t.head_css("--cols-number")||4)},s.HorizontalSpace.input=function(t,e){i(t,this)},s.HorizontalSpace.update=function(t){this.setValue(t.find("li.lvl-1").css("margin-left")||"30px")},s.VerticalSpace.input=function(t,e){this.applyElementCss({"margin-top":e.value+"px !important"},t," li.lvl-1"),this.applyElementCss({"margin-top":"-".concat(e.value,"px !important")},t," > ul"),t.children("ul.tcb-masonry").masonry()},s.VerticalSpace.update=function(t){this.setValue(t.find("li.lvl-1").css("margin-top")||"10px")}},before_update:function(){TVE.Components.menu.before_update(TVE.ActiveElement.closest(".thrv_widget_menu")),this.menu=TVE.Components.menu.menuView}})},"megamenu-image.js":function(t,e,i){!function(){i("../../elements/menu-element");var t=i("../../views/base");e.exports=t.component.extend({placeholder_action:function(){this.controls.ImagePicker.change_placeholder()},controls_init:function(t){t.ImagePicker.change_image=function(t){this.image_selected=!0;var e,i=this.placeholder?TVE.ActiveElement:TVE.ActiveElement.filter(".edit_mode");this.placeholder&&(e=i.outerHeight()),i.empty().css("background-image",'url("'.concat(this.picker.clean_url(t.url),'")')),this.placeholder&&(TVE.Editor_Page.selection_manager.select_element(i.removeClass("tcb-elem-placeholder edit_mode")),delete this.placeholder,i.head_css({"flex-basis":"".concat(e,"px"),height:"".concat(e,"px")}))},t.ImagePicker.update=function(t){this.$(".preview").addClass("img").css("background-image",t.css("background-image"))},t.Height.update=function(t){this.setValue(t.head_css("height",!1,"",!0))},t.Height.input=function(t){var e=this.getValue(!0);e.includes("auto")&&(e=""),this.applyElementCss({height:e,"flex-basis":e},t,"",""),setTimeout(function(){return TVE.ActiveElement.parents(".tcb-mega-drop-inner > ul").filter(".tcb-masonry").masonry()})}}})}(jQuery)},"megamenu-item.js":function(t,e,i){var n;jQuery,n=i("./menu-item"),e.exports=n.extend({controls_init:function(s){TVE.Views.Components.Icon.prototype.controls_init.apply(this,arguments),s.Slider.getCssProps=function(){return["font-size"]};var a=this;s.HasIcon.update=function(t){this.setChecked(t.find(".m-icon").length),delete this.$cachedIcon},s.HasIcon.input=function(t,e){var i=s.ModalPicker.get_value();e.checked&&"None"!==i&&this.$cachedIcon.length&&s.ModalPicker.input(t,"icon-"+i,this.$cachedIcon),!e.checked&&i&&(this.$cachedIcon=a.menu.$("symbol#"+t.find("> .m-icon, > .tcb-mm-text > .m-icon").data("icon")).clone(),a.menu.removeIcon(t)),a.updateDom(),TVE.Editor_Page.reposition_icons()},s.HasImage.update=function(t){this.$el.toggle(t.parent().is(".lvl-1")),this.setChecked(t.find(".tcb-mm-image").length)},s.HasImage.input=function(t,e){e.checked||a.menu.$el.data("saved-images",a.menu.gatherMenuImages()),a.menu.toggleImage(t,e.checked),a.update(["ImageSide"]),a.updateDom(),TVE.Editor_Page.reposition_icons()},s.ImageSide.input=function(t,e){t.hasClass(TVE.Components.group.not_group_item_class)||a.menu.setImageSettings("o",e.dataset.value),a.setImageSide(t,e.dataset.value)},s.ImageSide.update=function(t){this.setValue(a.getImageSide(t.filter(".edit_mode")))},s.ModalPicker.setModalProp("icon_sets","fontawesome"),s.ModalPicker.update=function(t){var e=t.find(".m-icon").first().data("icon");this.updateValue(a.menu.getIconName(e)||"None")},s.ModalPicker.input=function(t,e,i){var n=_.isString(e)?e:e.icon.find("use").attr("xlink:href").replace("#","");a.menu.addSvgIcon(n,t,i),TVE.Editor_Page.reposition_icons(),this.updateValue(n.replace(/icon-/g,"")),a.updateDom(),s.Slider.update(t),s.ColorPicker.update(t)}},before_update:function(){var t=TVE.ActiveElement.filter(".edit_mode");t.find("> .m-icon, > .tcb-mm-text > .m-icon").length,TVE.Components.menu.before_update(t.closest(".thrv_widget_menu")),this.menu=TVE.Components.menu.menuView},after_update:function(){this.updateDom()},updateDom:function(){var t=this.controls.HasImage.isChecked();this.$(".if-image").toggle(t),n.prototype.updateDom.apply(this,arguments)},__config_ImageSide:function(t){return t.buttons=TVE.Views.Components.MegamenuItem.imageSideButtons,t},setImageSide:function(t,e){t.removeClassContaining(/tcb--\w+([^\s]+)/g).addClass("tcb--".concat(e)),TVE.Editor_Page.reposition_icons()},getImageSide:function(t){return t.css("flex-direction")||"row"}},{imageSideButtons:[{value:"row",icon:"position-left",tooltip:"Left",icon_cls:"w-36 h-21"},{value:"row-reverse",icon:"position-right",tooltip:"Right",icon_cls:"w-36 h-21"},{value:"column",icon:"position-top",tooltip:"Top",icon_cls:"w-26 h-21"},{value:"column-reverse",icon:"position-bottom",tooltip:"Bottom",icon_cls:"w-26 h-21"}]})},"menu-item.js":function(t,e,i){var n;jQuery,n=i("./icon"),e.exports=n.extend({controls_init:function(s){n.prototype.controls_init.apply(this,arguments),s.Slider.getCssProps=function(){return["font-size"]};var a=this;s.HasIcon.update=function(t){this.setChecked(t.find("> a .m-icon, > .m-icon").length),delete this.$cachedIcon},s.HasIcon.input=function(t,e){var i=s.ModalPicker.get_value();e.checked&&"None"!==i&&this.$cachedIcon.length&&s.ModalPicker.input(t,"icon-"+i,this.$cachedIcon),!e.checked&&i&&(this.$cachedIcon=a.menu.$("symbol#"+t.find("> a .m-icon, > .m-icon").data("icon")).clone(),a.menu.removeIcon(t)),a.updateDom(),TVE.Editor_Page.reposition_icons()},s.ModalPicker.setModalProp("icon_sets","fontawesome"),s.ModalPicker.update=function(t){var e=t.find("> .m-icon, > a .m-icon").first().data("icon");this.updateValue(a.menu.getIconName(e)||"None")},s.ModalPicker.input=function(t,e,i){var n=_.isString(e)?e:e.icon.find("use").attr("xlink:href").replace("#","");a.menu.addSvgIcon(n,t,i),TVE.Editor_Page.reposition_icons(),this.updateValue(n.replace(/icon-/g,"")),a.updateDom(),s.Slider.update(t),s.ColorPicker.update(t)},this.controls.HoverEffect.update=function(t){var e,i="";if(e=/tve-menu-style-(\S+)/g.exec(t.closest(".thrv_widget_menu").attr("class")))i={style_1:"c-underline",style_2:"c-double",style_3:"c-brackets"}[e[1]];else{var n=t.attr("class");Object.keys(this.model.config.options).some(function(t){if(t&&n.includes(t))return i=t,!0})}this.setValue(i)},this.controls.HoverEffect.input=function(t,e){t.closest(".thrv_widget_menu").removeClass(function(t,e){return(e.match(/tve-menu-style-(\S+)/g)||[""])[0]}),t.removeClass(Object.keys(this.model.config.options).join(" ")).addClass(e.value);var i=a.menu.config();i.top_cls=_.isEmpty(i.top_cls)?{}:i.top_cls,t.hasClass(TVE.Components.group.not_group_item_class)?i.top_cls[a.menu.constructor.groupUnlinkedSelector(t)]=e.value:i.top_cls.main=e.value,a.menu.saveConfig(i)},TVE.add_filter("tcb.edit_icons.coords.menu_item",function(t,e){return"LI"===e.parent().parent()[0].tagName&&(t.left+=1+parseInt(e.css("border-left-width")||0),t.top+=parseInt(e.css("border-top-width"))),t}),this.controls.StyleChange.set_drop_panel(this.controls.StylePicker),this.controls.StyleChange.update=function(){},TVE.add_action("component.update.layout.menu_item",function(t){var e=TVE.ActiveElement.filter(".edit_mode"),i=!TVE.ActiveElement.closest(".tve-regular").length,n="LI"!==TVE.ActiveElement.parent().parent()[0].tagName,s=[];!i&&n?(0===e.index()?s.push("margin-left"):e.is(":last-child")&&s.push("margin-right"),t.controls.Height.$el.addClass("control-hide")):(s.push("margin-left","margin-right"),t.controls.Width.$el.addClass("control-hide")),t.disable_extra_controls(s)}),TVE.add_action("component.update.layout.menu_dropdown",function(t){TVE.ActiveElement.closest(".tve-regular").length||t.controls.Width.$el.addClass("control-hide")})},before_update:function(){var t=TVE.ActiveElement.filter(".edit_mode");t.find("> a > .m-icon").length,TVE.Components.menu.before_update(t.closest(".thrv_widget_menu")),this.menu=TVE.Components.menu.menuView;var e="LI"!==TVE.ActiveElement.parent().parent()[0].tagName;this.controls.StylePicker.menu=this.menu,this.controls.StyleChange.isVisible=e&&!TVE.CONST.custom_menu.use_positional_selectors,this.controls.StyleChange.toggle(this.controls.StyleChange.isVisible),this.controls.HoverEffect.toggle(e)},after_update:function(){this.updateDom()},updateDom:function(){this.controls.link.$el.toggle(this.menu.isCustom());var t=this.controls.HasIcon.isChecked();this.$(".i-enabled").toggle(t),this.$(".i-selected").toggle(t&&"None"!==this.controls.ModalPicker.get_value()),this.$(".hide-hamburger").toggle(!this.menu.isHamburger());var e=_.some(this.$(".dropdown-content > div"),function(t){return"none"!==getComputedStyle(t).display});this.$el.toggleClass("tcb-hide",!e)},style:function(){return i("../controls/custom-menu/menu-item-style")},after_init:function(){var e=this;TVE.add_action("tcb.state.change.".concat(this.key),function(t){return e.update()}),TVE.add_filter("tcb.animation.element.".concat(this.key),function(t){return"LI"===(t=t.filter(".edit_mode"))[0].tagName&&(t=t.children("a").first()),t}),TVE.add_filter("tcb.animation.events.".concat(this.key),function(t){return t.filter(function(t){return"link"!==t.a})}),TVE.add_action("tcb.animation.show_hide.".concat(this.key),function(t){var e=t.tabs.popup;["thrive_zoom","thrive_video"].forEach(function(t){return e.$('.action-settings[data-action="'+t+'"]').closest(".action-item").hide()}),e.$(".animation-popup-trigger").hide()}),TVE.add_action("tcb.element.selected.".concat(this.key),function(t){e.isOpen()||"desktop"===TVE.main.device&&TVE.state_manager.is_default()&&!t.closest(".thrv_widget_menu.tve-dropdown").length||e.update()}),TVE.add_filter("tcb.state.hide.animation.".concat(this.key),function(t,e){return"default"!==e}),TVE.add_action("tcb.typography.".concat(this.key,".clear_formatting"),function(){TVE.ActiveElement.each(function(){TVE.inner_$("LI"===this.tagName?this.children.item(0):this).find(".tve-disabled-text-inner span").each(function(){TVE.inner_$(this).replaceWith(this.textContent)})}),e.focusFroalaEditor()}),TVE.add_action("tcb.text_style_change.".concat(this.key),this.focusFroalaEditor.bind(this,TVE.ActiveElement))},focusFroalaEditor:function(t){var e=(0<arguments.length&&void 0!==t?t:TVE.ActiveElement).filter(".edit_mode").closest("li").find("> a .tve-disabled-text-inner");e.data("froala.editor")&&TVE.froala.force_focus(e,!1)},get_link:function(t){return(0<arguments.length&&void 0!==t?t:TVE.ActiveElement).filter(".edit_mode").closest("li").children("a")},__config_link:function(t){return Object.assign(t,{label:TVE.t.link,class:"menu-item",keep_links:!0}),t}})},"menu.js":function(t,e,i){var n=i("../base"),a=i("../../elements/menu-element"),o=i("../../libs/element-snapshot");function r(){return TVE.inner.window.TCB_Front.menu}TVE.MenuModal=i("../modals/menu"),e.exports=n.component.extend({hideCloudTemplatesComponent:!0,templatesModal:"menu",menuView:null,controls_init:function(){var s=this;this.bindEvents(),this.controls.MenuSource.update=function(){this.setValue(s.menuView.config("menu_id"))},this.controls.MenuSource.input=function(t,e){var i=this.$(".input").addClass("loader tcb-disabled");o(function(){return s.menuView.changeSource(e.value).then(function(){i.removeClass("loader tcb-disabled"),"custom"===e.value&&s.controls.OrderList.update()})},t),s.toggleMenuSource()},this.controls.HorizontalSpacing.input=function(t,e){this.applyElementCss({"padding-left":e.value+this.getUM()+" !important","padding-right":e.value+this.getUM()+" !important"},t)},this.controls.HorizontalSpacing.update=function(){this.setValue(this.applyTo().head_css("padding-left",!1,this.config.css_suffix,!0,this.config.css_prefix))},this.controls.VerticalSpacing.input=function(t,e){this.applyElementCss({"padding-top":e.value+this.getUM()+" !important","padding-bottom":e.value+this.getUM()+" !important"},t)},this.controls.VerticalSpacing.update=function(){this.setValue(this.applyTo().head_css("padding-top",!1,this.config.css_suffix,!0,this.config.css_prefix))},this.controls.BetweenSpacing.input=function(t,e){var i;i="tve_horizontal"!==s.menuView.config("dir")||s.menuView.isHamburger()?{"margin-top":e.value+this.getUM()+"!important"}:{"margin-left":e.value+this.getUM()+" !important","margin-right":e.value+this.getUM()+" !important"},this.applyElementCss(i,t)},this.controls.BetweenSpacing.update=function(){s.menuView.isHamburger()?this.setValue(this.applyTo().head_css("margin-top",!1,this.config.css_suffix,!0,this.config.css_prefix)):this.setValue(this.applyTo().head_css("margin-right",!1,this.config.css_suffix,!0,this.config.css_prefix))},this.controls.MenuState.input=function(t,e){var i=r().toggleState(t,"open"===e.dataset.value);setTimeout(function(){s.refreshEditModeOverlay(i.find("ul.tve_w_menu"))},400),this.component.controls.IconSize.update(t),this.component.controls.IconColor.update(t),"open"===e.dataset.value&&(s.$openMenu=t)},this.controls.MenuState.update=function(t){this.setActive(t.find(".tve-triggered-icon").length?"open":"closed")},this.controls.MenuDisplay.update=function(t){var e,i=t.attr("data-tve-switch-icon");i||t.attr("data-tve-allhoriz")||t.attr("data-tve-switch-icon",i="tablet,mobile"),e=-1!==i.indexOf(TVE.main.device),s.$(".if-hamburger").toggle(e),s.$(".if-not-hamburger").toggle(!e),this.setChecked(e)},this.controls.MenuDisplay.input=function(t,e){var i=t.attr("data-tve-switch-icon").split(","),n=i.indexOf(TVE.main.device);s.$(".if-hamburger").toggle(e.checked),s.$(".if-not-hamburger").toggle(!e.checked),e.checked&&-1===n&&i.push(TVE.main.device),e.checked||-1===n||i.splice(n,1),i.length||t.attr("data-tve-allhoriz","1"),t.attr("data-tve-switch-icon",i.filter(function(t){return t}).join(",")),r().customMenuSwitchIcon(t),s.update(),TVE.Editor_Page.reposition_icons(),s.setDataSelectors(t)},this.controls.ModalPicker.openModal=function(){TVE.modal_open("menu",{element:TVE.ActiveElement,modal_element_id:"cloud-templates"})},this.controls.ModalPicker.update=function(t){t.data("keep-css_id",1),this.updateValue(s.menuView.config("template_name"))},this.controls.MobileIcon.getIcon=function(t){return this.model.icons[t||_.first(Object.keys(this.model.icons))]},this.controls.MobileIcon.update=function(){this.setValue(s.menuView.config("mobile_icon")||"style_1")},this.controls.MobileIcon.input=function(t,e){var i=this.getIcon(e.value);t.find(".tcb-icon-open").html(i.open),t.find(".tcb-icon-close").html(i.close),s.menuView.config("mobile_icon",e.value)},this.controls.IconSize.update=function(){this.setValue(this.applyTo().head_css("font-size",!1,"",!0,""))},this.controls.IconSize.input=function(t,e){var i=this.cssImportant(this.value(!0));this.applyElementCss({"font-size":i,width:i,height:i},t)},this.controls.IconSize.onChange=function(t,e){var i=parseInt(e.value);(i=isNaN(i)?0:i)>parseInt(this.model.config.max)&&(e.value=this.model.config.max),i<parseInt(this.model.config.min)&&(e.value=this.model.config.min),this.setValue(e.value+this.getUM()),TVE.SkipUpdate=!1,this.change(t,e)},this.controls.IconColor.update=function(){this.setValue(this.applyTo().head_css("color",null,this.config.css_suffix,!0,this.config.css_prefix))},this.controls.IconColor.input=function(t){this.applyElementCss({color:t}),t||this.component.controls.IconColor.update(this.applyTo())},this.controls.MobileSide.update=function(t){var e=new RegExp("("+Object.keys(this.model.config.options).join("|")+")","g");this.setValue((t.attr("class").match(e)||["tve-mobile-dropdown"])[0])},this.controls.MobileSide.input=function(t,e){t.removeClass(Object.keys(this.model.config.options).join(" ")).addClass(e.value),t.find(".tve_w_menu").removeClass("tve-m-expanded"),r().toggleState(t,"open"===s.controls.MenuState.getValue())},this.controls.DropdownAnimation.update=function(t){var e=new RegExp("("+Object.keys(this.model.config.options).filter(function(t){return""!==t}).join("|")+")","g");this.setValue((t.attr("class").match(e)||[""])[0])},this.controls.DropdownAnimation.input=function(t,e){var i=this;o(function(){t.removeClass(Object.keys(i.model.config.options).join(" ")).addClass(e.value)},t)},this.controls.DisableActiveLinks.input=function(t,e){t.toggleClass("tve-active-disabled",e.checked)},this.controls.DisableActiveLinks.update=function(t){this.setChecked(t.hasClass("tve-active-disabled"))}},before_update:function(t){this.$element=t||TVE.ActiveElement,this.$element.removeClass("tve-menu-style-none").removeClass(function(t,e){return(e.match(/tve-dropdown-icon-(\S+)/g)||[]).join(" ")}).removeClass(function(t,e){return(e.match(/tve-mobile-icon-(\S+)/g)||[]).join(" ")}),this.getMenuView(this.$element),this.toggleMenuSource(this.menuView.config("menu_id"))},getMenuView:function(t){return t=t||TVE.ActiveElement,this.menuView?this.menuView.setElement(t):this.menuView=new a({el:t[0]}),this.menuView},change_display:function(){if(TVE.ActiveElement){var t=TVE.ActiveElement.closest(".thrv_widget_menu.tve-custom-menu-upgrade");t.length&&(TVE.Editor_Page.focus_element(t),TVE.state_manager.is_default()||TVE.main.states_dropdown.done())}},setDataSelectors:function(t,e){var i=1<arguments.length&&void 0!==e&&e,n=".thrv_widget_menu:not(.tcb-elem-placeholder)";(t=t||TVE.Editor_Page.editor).find(n).add(t.filter(n)).each(function(){new a({el:this}).refreshSelectors(i)})},toggleMenuSource:function(){var t=this.menuView.isCustom();this.$(".only-custom,.only-wp").hide().filter(t?".only-custom":".only-wp").show(),t||this.$(".tve-wpmenu-info").attr("href",this.$(".tve-edit-menu").attr("href").replace(/&menu=(\d+)/,"&menu="+this.menuView.config("menu_id")))},addMenuItem:function(){for(var t=this.ul(),e={id:parseInt(t.attr("data-iid")||t.find("li").length+1),label:"Item "+(1+t.children().length),level:0};this.controls.OrderList.collection.findWhere({id:e.id});)e.id++;t.attr("data-iid",e.id+1),this.controls.OrderList.collection.add(e,{silent:!0}),this.controls.OrderList.collection.trigger("change",{op:"add",item:e})},after_insert_symbol:function(t){t&&t.find(".thrv_widget_menu").length&&this.setDataSelectors()},unlockedItemName:function(t,e,i){return"LI"===e[0].tagName?e.children(":not(ul)").text():"UL"===e[0].tagName?e.parent().children(":not(ul)").text()+" Dropdown":option.singular.replace("%s",1+i)},onElementSelected:function(t){var e=(t=t.filter(".edit_mode")).closest(".thrv_widget_menu");TVE.main.EditMode.refresh(),e.length&&(r().isHamburger(t)&&t.is("li,a")&&(this.openMenu(t),t.closest("li").addClass("expand-children")),t.parents("li").addClass("expand-children").length&&t.closest("li").addClass("expand-children"),TVE.Editor_Page.reposition_icons(t),this.refreshEditModeOverlay(t.closest(e.hasClass("tve-regular")?".tcb-mega-drop":"ul.tve_w_menu")))},openMenu:function(t){var e=r().toggleState(t,!0);this.$openMenu=e,this.controls.MenuState.update(e)},onBlur:function(){TVE.inner_$(".expand-children").removeClass("expand-children"),TVE.$will_focus&&this.$openMenu&&TVE.$will_focus.closest(this.$openMenu).length||(this.$openMenu&&!this.$openMenu.hasClass("tve-regular")&&r().toggleState(this.$openMenu,!1),delete this.$openMenu)},ul:function(t){return(t||this.$element).find(".thrive-shortcode-html > ul")},bindEvents:function(){var i=this;TVE.main.on("stylesheet_loaded",this.setDataSelectors.bind(this)),TVE.main.on("device_change",this.change_display.bind(this)),TVE.add_action("tcb.element.duplicate",function(t,e){i.setDataSelectors(e,!0),r().zIndexOrder()}),TVE.add_action("tcb.group_edit.menu.locked",function(t){return i.getMenuView(t.mainElement).groupElementLocked(t)}),TVE.add_action("tcb.group_edit.megamenu.locked",function(t){return i.getMenuView(t.mainElement).groupElementLocked(t)}),TVE.add_action("tcb.group_edit.menu.unlocked",function(t){return i.getMenuView(t.mainElement).groupElementUnlocked(t)}),TVE.add_action("tcb.group_edit.megamenu.unlocked",function(t){return i.getMenuView(t.mainElement).groupElementUnlocked(t)}),TVE.add_filter("tcb.group_edit.megamenu.options",function(){return TVE.Elements[TVE.ActiveElement.hasClass("tve-regular")?"megamenu":"menu"].has_group.select_values}),TVE.add_action("tcb.after_insert_symbol",this.setDataSelectors.bind(this)),TVE.add_action("tcb.after-insert",this.setDataSelectors.bind(this)),TVE.add_action("tcb_after_cloud_template_css_inserted",this.setDataSelectors.bind(this)),TVE.add_action("tcb.element.selected",this.onElementSelected.bind(this)),TVE.add_action("tcb.placeholder.selected",this.onElementSelected.bind(this)),TVE.add_action("tcb.focus.clear",this.onBlur.bind(this)),TVE.add_filter("head_css_selector",function(t){return i.headCssSelector(t)});function t(t){var o={};("UL"===t[0].tagName?t.children("li"):t.siblings().addBack()).each(function(){var t,e=this.dataset.selector+(TVE.state_manager.is_hover()?":hover":"")+" > ul";if(o[e]||!(t=this.querySelector(":scope > ul")))return!0;o[e]=!0;var i="LI"!==this.parentNode.parentNode.tagName,n={},s=TVE.inner.window.getComputedStyle(this),a=TVE.inner.window.getComputedStyle(this.parentElement);i?(n["margin-left"]=-parseInt(s.borderLeftWidth||"0"),n["margin-top"]=parseInt(s.borderBottomWidth||"0"),n["min-width"]="calc(100% + "+(parseInt(s.borderLeftWidth||"0")+parseInt(s.borderRightWidth||"0"))+"px)"):(n["margin-left"]=parseInt(s.borderRightWidth||"0"),n["margin-top"]=-parseInt(s.borderTopWidth||"0")-parseInt(a.borderTopWidth||"0")),n["margin-top"]+="px !important",n["margin-left"]+="px !important",TVE.head_css(e,n,null,t)})}TVE.add_action("tcb.border_update.menu_item",t),TVE.add_action("tcb.border_update.menu_dropdown",t),TVE.add_filter("tcb.blocked_controls.borders.menu_dropdown",function(t){return TVE.ActiveElement.hasClass("tcb-mega-drop")&&delete t.Corners,t}),TVE.main.on("device_change",function(){return _.delay(i.setDataSelectors.bind(i,null),200)});var n=!1,s=!1;TVE.add_action("tcb.element.selected",function(t,e){s=n=!1,"menu_item"!==e&&"megamenu_item"!==e||!t.parents(".thrive-shortcode-html.tve-custom-menu-type").length?"text"===e&&t.closest(".tcb-mega-drop").length&&(n=!0,TVE.ElementEditIcons.$delete.show(),TVE.Components.animation.hide(),TVE.Components.responsive.hide(),TVE.Components["styles-templates"].hide(),TVE.Components.layout.disable_controls(["Width","Height","Alignment","Display",".tve-advanced-controls","hr"])):s=!0}),TVE.add_action("tcb.focus.clear",function(){return n=s=!1}),TVE.add_action("tcb.element.remove",function(t,e){e.closest(".tcb-mega-drop").length&&TVE.Editor_Page.selection_manager.select_element(e)}),TVE.add_action("tcb.clean_content.before",function(t){t.find(".thrv_widget_menu").each(function(){try{new a({el:this}).prepareSave()}catch(t){}})}),TVE.add_filter("tcb.text.read_font",function(t,e){return n&&(t=TVE.head_css_get(e.attr("data-selector"),"font-family",!1,!1,!0)),t}),TVE.add_action("tcb.text.clear_formatting",function(t){n&&TVE.head_css_remove(t.attr("data-selector"),"_ALL",!0)}),TVE.add_filter("tcb_filter_html_before_save",function(t){return t.find(".tcb-mega-std ul.masonry").each(function(t,e){e.removeAttribute("style"),e.classList.remove("masonry"),Array.from(e.children).forEach(function(t){t.removeAttribute("style"),t.classList.remove("masonry-brick")})}).end().find(".thrv_widget_menu [data-selector]").removeAttr("data-selector"),t}),TVE.add_filter("tcb.froala.options",function(t,e,i){return e.parent().is(".tcb-mega-std li.lvl-1")&&(t.toolbarButtons=i.with_link),t}),TVE.add_filter("tcb.css.save.blacklist",function(t){return t.concat([".thrv_widget_menu",".tve-regular #",".tcb-mega-drop",".tcb-mm-image"])}),TVE.add_action("tcb.froala.refresh",function(t){return s&&TVE.Editor_Page.reposition_icons()})},getWPMenus:function(t){return!(0<arguments.length&&void 0!==t)||t?this.controls.MenuSource.model.config.options:this.controls.MenuSource.model.config.options.filter(function(t){return"custom"!==t.value})},headCssSelector:function(t){return TVE.inner_$(t.element).closest(".thrv_widget_menu").length&&"P"===t.element.tagName&&(t.addPrefix=!1),t},orderItems:function(){return i("../controls/custom-menu/preview-list")},dropdownIcon:function(){return i("../controls/custom-menu/dropdown-icon")},refreshEditModeOverlay:function(t){if(t.length&&TVE.main.EditMode.in_edit()){var e=TVE.main.EditMode.element().add(t).tveBoundingBox();TVE.main.EditMode.element().tve_overlay("no-bg",e)}}})},"numbered-list.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({numberedListItemsCollection:new Backbone.Collection({}),cursorAtEnd:null,controls_init:function(){var n=this;TVE.main.on("ctrl-enter-pressed",function(t){TVE.ActiveElement.hasClass("tcb-numbered-list-text")&&TVE.froala.editor.cursor.enter()}),TVE.main.on("enter-pressed",_.bind(function(t){TVE.ActiveElement.hasClass("tcb-numbered-list-text")&&this.add_list_item_after(TVE.ActiveElement.filter(".edit_mode"))},this)),TVE.main.on("backspace-pressed",function(t){if(TVE.ActiveElement.hasClass("tcb-numbered-list-text")&&TVE.froala.editor.selection.info(TVE.froala.editor.el).atStart){var e=TVE.ActiveElement.filter(".edit_mode").closest(".thrv-styled-list-item"),i=e.is(":first-child")?e.next():e.prev(),n=i.find(".tcb-numbered-list-text");if(!e.is(":first-child")){var s=TVE.froala.editor.html.get();e.remove(),TVE.froala.force_focus(n,!1),i.trigger("click.tcb"),i.froalaEditor("events.focus"),TVE.froala.editor.selection.setAtEnd(TVE.froala.editor.$el.get(0)),TVE.froala.editor.selection.restore();var a=TVE.froala.editor.selection.endElement(),o=TVE.froala.editor.doc.createRange(),r=a.childElementCount,l=TVE.froala.editor.html.get().length;TVE.froala.editor.html.set(TVE.froala.editor.html.get()+s),r?o.setStartAfter(a.childNodes[r]):(o.setStart(a.childNodes[r],l),o.setEnd(a.childNodes[r],l)),TVE.froala.editor.selection.get().removeAllRanges(),TVE.froala.editor.selection.get().addRange(o),this.renderer.reset_list_numbers(TVE.ActiveElement.closest(".thrv-numbered_list"))}}}),TVE.main.on("before-delete-pressed",_.bind(function(t){TVE.ActiveElement.hasClass("tcb-numbered-list-text")&&(this.cursorAtEnd=TVE.froala.editor.selection.info(TVE.froala.editor.el).atEnd)},this)),TVE.main.on("delete-pressed",_.bind(function(t){if(TVE.ActiveElement.hasClass("tcb-numbered-list-text")&&this.cursorAtEnd){var e=TVE.ActiveElement.filter(".edit_mode").closest(".thrv-styled-list-item"),i=e.is(":last-child")?e.prev():e.next(),n=i.find(".tcb-numbered-list-text"),s=e.find(".tcb-numbered-list-text ");if(!e.is(":last-child")){i.remove(),TVE.froala.force_focus(s,!1),s.trigger("click.tcb"),s.froalaEditor("events.focus"),TVE.froala.editor.selection.setAtEnd(TVE.froala.editor.$el.get(0)),TVE.froala.editor.selection.restore();var a=TVE.froala.editor.selection.endElement(),o=TVE.froala.editor.doc.createRange(),r=a.childNodes.length,l=TVE.froala.editor.html.get().length;void 0===a.childNodes[r]&&r--,void 0!==n.find(".fr-element").html()?TVE.froala.editor.html.set(TVE.froala.editor.html.get()+n.find(".fr-element").html()):TVE.froala.editor.html.set(TVE.froala.editor.html.get()+n.html()),r?o.setStartAfter(a.childNodes[r]):(o.setStart(a.childNodes[r],l),o.setEnd(a.childNodes[r],l)),TVE.froala.editor.selection.get().removeAllRanges(),TVE.froala.editor.selection.get().addRange(o),this.renderer.reset_list_numbers(TVE.ActiveElement.closest(".thrv-numbered_list"))}delete this.cursorAtEnd}},this)),TVE.main.on("after-element-cloned",function(t,e){t.is("li.thrv-styled-list-item")&&n.renderer.reset_list_numbers(t.closest(".thrv-numbered_list"))}),TVE.main.on("after-element-removed",function(t){(t.is("ul.tcb-numbered-list")||t.is("ol.tcb-numbered-list"))&&n.renderer.reset_list_numbers(t.closest(".thrv-numbered_list"))}),this.controls.FontFace.writeCSS=function(t,e,i,n){var s={"font-family":e,"font-weight":""};i&&(s["font-weight"]=i),t.head_css(s,null,this.config.css_suffix),n&&t.head_css({"font-weight":n}," strong",this.config.css_suffix)},this.controls.starting_number.input=function(t,e){},this.controls.starting_number.update=function(t){this.setValue(parseInt(t.attr("data-start-number")))},this.controls.starting_number.change=function(t,e){t.attr("data-start-number",e.value),n.renderer.reset_list_numbers(t),n.controls.preview.update(t)},this.controls.increment_number.input=function(t,e){},this.controls.increment_number.update=function(t){this.setValue(parseInt(t.attr("data-number-increment")))},this.controls.increment_number.change=function(t,e){t.attr("data-number-increment",e.value),n.renderer.reset_list_numbers(t),n.controls.preview.update(t)},this.controls.item_spacing.update=function(){var t=this.applyTo().head_css("margin-bottom",null,this.config.css_suffix,!0,this.config.css_prefix);t=t||0,this.setValue(t)},this.controls.item_spacing.input=function(t,e){this.applyElementCss({"margin-bottom":e.value+this.getUM()+" !important"})},this.controls.preview.attach_collection(this.numberedListItemsCollection),this.controls.preview.update=function(t){var n=[],e=t.find("li");_.each(e,function(t,e){var i=jQuery(t);n.push({icon:i.find(".tcb-numbered-list-index").text(),key:i,label:this.component.renderer.get_text(i)})},this),this.component.numberedListItemsCollection.reset(n)},this.listenTo(this.numberedListItemsCollection,"remove",_.bind(function(t){var e=t.get("key");e instanceof jQuery&&e.remove(),n.renderer.reset_list_numbers(this.controls.preview.applyTo())},this)),this.listenTo(this.numberedListItemsCollection,"change",_.bind(function(t){var e=this.controls.preview.applyTo(),i=e.find("ul, ol");i.empty(),this.numberedListItemsCollection.each(function(t){i.append(t.get("key"))},this),n.renderer.reset_list_numbers(e),this.controls.preview.update(e)},this))},add_list_item_after:function(t){TVE.froala.editor.cursor.enter(),TVE.froala.editor.cursor.enter(),TVE.froala.editor.cursor.enter(),TVE.froala.editor.html.cleanEmptyTags();var e,i=t.find(".fr-element").get(0).innerHTML,n=i.substring(i.lastIndexOf("<br><br><br>")),s=t.closest(".thrv-styled-list-item"),a=s.find(".tcb-numbered-list-text").hasClass(TVE.Components.group.group_item_class),o=t.closest(".thrv-numbered_list");t.find(".fr-element").get(0).innerHTML=i.replace(n,"<thrive_list_element_enter>"+n+"</thrive_list_element_enter>"),s.after(this.renderer.create_default_list_item(o,0,TVE.inner_$("thrive_list_element_enter").html().replace("<br><br><br>",""))),TVE.inner_$("thrive_list_element_enter").remove(),e=s.next().find(".tcb-numbered-list-text"),a&&e.addClass(TVE.Components.group.group_item_class),TVE.froala.force_focus(e,!1),e.trigger("click.tcb"),e.froalaEditor("events.focus"),"<br>"===e.find(".fr-element").html().replace(/ style=""/g,"")?TVE.froala.editor.selection.setAtStart(TVE.froala.editor.$el.get(0)):TVE.froala.editor.selection.setAtEnd(TVE.froala.editor.$el.get(0)),TVE.froala.editor.selection.restore(),this.renderer.reset_list_numbers(t.closest(".thrv-numbered_list"))},add_list_item:function(){var t=this.controls.preview.applyTo(),e=this.renderer.get_next_list_number(t.attr("data-start-number"),t.attr("data-number-increment"),t.find(".thrv-styled-list-item").length);t.find("ul, ol").append(this.renderer.create_default_list_item(t,e)),this.controls.preview.update(t)},list_preview_control:function(){return i("../controls/preview-list")},openFonts:function(t,e){return e=e.parentElement.getElementsByClassName("tcb-icon-edit")[0],this.controls.FontFace.open(t,e),this.controls.FontFace.readFont(t),!1}})},"pagination-button.js":function(t,e,i){var s="data-button_layout",a=TVE.tpl("elements/button-icon");e.exports=i("./button").extend({controls_init:function(n){TVE.Views.Components.Button.prototype.controls_init.call(this,n),n.icon_layout.update=function(t){var e=t.attr(s)||this.config.config.default;this.setActive(e),n.icon_side.$el.toggleClass("tcb-hidden","text_plus_icon"!==e||!t.hasClass("tcb-with-icon"))},n.icon_layout.input=function(t,e){if(t.toggleClass("tcb-with-icon","text"!==e.dataset.value).attr(s,e.dataset.value),"text"!==e.dataset.value&&!t.find(" .tcb-button-icon").length){var i=TVE.apply_filters("tcb.button.default_icon",a);t.find(" .tcb-button-link").prepend(i)}n.icon_side.$el.toggleClass("tcb-hidden","text_plus_icon"!==e.dataset.value),TVE.Editor_Page.reposition_icons()}}})},"pagination-label.js":function(t,e,i){var n=i("../base").component.extend({controls_init:function(t){t.Format.change=function(t,e){var i=e.value;t.attr("data-format",i).find(".tcb-pagination-label-content").replaceWith(TVE.CONST.post_list_pagination.label_formats[i])},t.Format.update=function(t){var e=t.attr("data-format")||"pages";this.setValue(e)}}});e.exports=n},"pagination.js":function(t,e,i){var n=i("../base").component.extend({controls_init:function(t){var n=this;TVE.main.on("element_selected",function(t,e){"pagination"===e&&(n.currentList=t.attr("data-list"))}),TVE.add_action("tcb_after_cloud_template_css_inserted",function(t){t.is(".tcb-pagination")&&(t.attr("data-list",n.currentList).removeClass("tcb-permanently-hidden"),TVE.PostList.content.renderPaginationForPostList(TVE.PostList.utils.getPostListForPagination(t)))}),TVE.main.on("tve.tve_save_post",function(){return n.cleanFroalaContent(TVE.inner.$body)}),t.Type.change=function(t,e){var i=TVE.PostList.utils.getPostListForPagination(t);t.attr("data-type",e.value).html(TVE.CONST.post_list_pagination[e.value]),i.attr("data-pagination-type",e.value),"numeric"===e.value?TVE.PostList.content.renderPaginationForPostList(i):t.removeAttr("data-css data-ct"),TVE.Components.cloud_templates.toggle("numeric"===e.value),t.removeClass("tcb-permanently-hidden"),n.toggleControlVisibility(e.value),TVE.Components.pagination.update()},t.Type.update=function(t){this.render();var e=t.attr("data-type")||"none";this.setValue(e),TVE.Components.pagination.toggleControlVisibility(e),TVE.Components.cloud_templates.toggle("numeric"===e)},t.Type.get_options=function(){var t=TVE.PostList.utils.getPostListForPagination(TVE.ActiveElement),e=TVE._type(t);return TVE.Elements[e].components[e].config.PaginationType.config.options},t.PagesNearCurrent.input=function(t,e){var i=TVE.PostList.utils.getPostListForPagination(t);i.attr("data-pages_near_current",e.value),TVE.PostList.content.renderPaginationForPostList(i)},t.PagesNearCurrent.update=function(t){var e=TVE.PostList.utils.getPostListForPagination(t);this.setValue(e.attr("data-pages_near_current"))};_.each({PageNumbersToggle:".tcb-pagination-numbers-wrapper",NextPreviousToggle:".tcb-pagination-prev-next-button",FirstLastToggle:".tcb-pagination-first-last-button",LabelToggle:".tcb-pagination-label"},function(i,n){t[n].change=function(t,e){switch(n){case"PageNumbersToggle":TVE.Components.pagination.toggleDisabledControls(["NextPreviousToggle"],!e.checked),TVE.Components.pagination.toggleHiddenControls(["PagesNearCurrent","PageSpacing"],!e.checked),TVE.Components.pagination.$(".tve-pagination-separator").toggle(e.checked);break;case"LabelToggle":break;case"NextPreviousToggle":TVE.Components.pagination.toggleDisabledControls(["PageNumbersToggle"],!e.checked)}t.find(i).toggleClass("tcb-permanently-hidden",!e.checked)},t[n].update=function(t){var e=t.find(i).is(":visible");switch(this.setChecked(e),n){case"PageNumbersToggle":TVE.Components.pagination.toggleDisabledControls(["NextPreviousToggle"],!e),TVE.Components.pagination.toggleHiddenControls(["PagesNearCurrent","PageSpacing"],!e),TVE.Components.pagination.$(".tve-pagination-separator").toggle(e);break;case"NextPreviousToggle":TVE.Components.pagination.toggleDisabledControls(["PageNumbersToggle"],!e)}}}),t.PageSpacing.input=function(t,e){this.applyElementCss({"margin-left":e.value+"px"},t," .tcb-pagination-number:not(:first-child)","")},t.PageSpacing.update=function(t){this.setValue(t.find(".tcb-pagination-number:not(:first-child)").css("margin-left"))},t.Alignment.change=function(t,e){t.head_css({"justify-content":e.value+"!important"})},t.Alignment.update=function(t){var e=t.head_css("justify-content")||"space-between";this.setValue(e)}},toggleControlVisibility:function(t){this.$('.tve-control:not([data-view="Type"])').toggle("numeric"===t)},toggleDisabledControls:function(t,e){var i=this;t.forEach(function(t){return i.controls[t].$el.toggleClass("tcb-disabled",e)})},toggleHiddenControls:function(t,e){var i=this;t.forEach(function(t){return i.controls[t].$el.toggleClass("tcb-hidden",e)})},cleanFroalaContent:function(t){t.find("".concat(TVE.identifier("pagination"),'[data-type="numeric"] .tcb-button-text')).each(function(t,e){var i=TVE.inner_$(e);i.html(i.text()).removeData("froala.editor")})}});e.exports=n},"post-grid-filter.js":function(t,e,i){var n=i("./post-grid");e.exports=n.extend({before_update:jQuery.noop,controls_init:function(t){this.controls.categories.update=function(t){var e=this.component.get_config(),i=[];"string"==typeof e.filters.category&&1<e.filters.category.length&&(e.filters.category=e.filters.category.split(",")),_.each(e.filters.category,function(t){i.push({id:t,text:t})},this),this.setValueRemote(i)},this.controls.categories.input=function(t,e){var i=this.component.get_config();i.filters.category=_.pluck(e,"id"),this.component.update_config(i.filters,"filters"),this.component.generate_post_grid(t)},this.controls.tags.update=function(t){var e=this.component.get_config(),i=[];"string"==typeof e.filters.tag&&1<e.filters.tag.length&&(e.filters.tag=e.filters.tag.split(",")),_.each(e.filters.tag,function(t){i.push({id:t,text:t})},this),this.setValueRemote(i)},this.controls.tags.input=function(t,e){var i=this.component.get_config();i.filters.tag=_.pluck(e,"id"),this.component.update_config(i.filters,"filters"),this.component.generate_post_grid(t)},this.controls.authors.update=function(t){var e=this.component.get_config(),i=[];"string"==typeof e.filters.author&&1<e.filters.author.length&&(e.filters.author=e.filters.author.split(",")),_.each(e.filters.author,function(t){i.push({id:t,text:t})},this),this.setValueRemote(i)},this.controls.authors.input=function(t,e){var i=this.component.get_config();i.filters.author=_.pluck(e,"id"),this.component.update_config(i.filters,"filters"),this.component.generate_post_grid(t)},this.controls.custom_taxonomies.update=function(t){var e=this.component.get_config(),i=[];"string"==typeof e.filters.tax&&1<e.filters.tax.length&&(e.filters.tax=e.filters.tax.split(",")),_.each(e.filters.tax,function(t){i.push({id:t,text:t})},this),this.setValueRemote(i)},this.controls.custom_taxonomies.input=function(t,e){var i=this.component.get_config();i.filters.tax=_.pluck(e,"id"),this.component.update_config(i.filters,"filters"),this.component.generate_post_grid(t)},this.controls.individual_post_pages.update=function(t){var e=this.component.get_config(),i=[];"string"==typeof e.filters.posts&&(e.filters.posts=e.filters.posts.split(",")),_.each(e.filters.posts,function(t){t&&"string"==typeof t?i.push({id:t,text:t}):i.push({id:t.id,text:t.text})},this),this.setValueRemote(i)},this.controls.individual_post_pages.input=function(t,e){var i=this.component.get_config();i.filters.posts=_.map(e,function(t){return{id:t.id,text:t.text}}),this.component.update_config(i.filters,"filters"),this.component.generate_post_grid(t)}}})},"post-grid-layout.js":function(t,e,i){var n=i("./post-grid");e.exports=n.extend({teaserLayoutCollection:new Backbone.Collection({}),before_update:jQuery.noop,controls_init:function(t){var n=this;this.controls.number_of_columns.input=function(t,e){},this.controls.number_of_columns.update=function(t){var e=this.component.get_config();this.setValue(e.columns)},this.controls.number_of_columns.change=function(t,e){this.component.update_config(e.value,"columns"),this.component.generate_post_grid(t)},this.controls.display.update=function(t){var e=this.component.get_config();this.setValue(e.display)},this.controls.display.input=function(t,e){this.component.update_config(e.value,"display"),this.component.generate_post_grid(t)},this.controls.grid_layout.update=function(t){var e=this.component.get_config();"vertical"===e.grid_layout?(this.component.$(".post-grid-layout-number-of-columns").hide(),this.component.$(".post-grid-layout-display").hide()):(this.component.$(".post-grid-layout-number-of-columns").show(),this.component.$(".post-grid-layout-display").show()),this.setValue(e.grid_layout)},this.controls.grid_layout.input=function(t,e){this.component.update_config(e.value,"grid_layout"),"vertical"===e.value?(this.component.update_config("grid","display"),this.component.update_config(1,"columns"),this.component.$(".post-grid-layout-number-of-columns").hide(),this.component.$(".post-grid-layout-display").hide()):(this.component.update_config("grid","display"),this.component.update_config(2,"columns"),this.component.controls.display.update(t),this.component.controls.number_of_columns.update(t),this.component.$(".post-grid-layout-number-of-columns").show(),this.component.$(".post-grid-layout-display").show()),this.component.generate_post_grid(t)},this.controls.featured_image.update=function(t){var e=this.component.get_config();this.setChecked("true"===e.teaser_layout.featured_image)},this.controls.featured_image.change=function(t,e){var i=this.component.get_config();i.teaser_layout.featured_image=e.checked?"true":"false",this.component.update_config(i.teaser_layout,"teaser_layout"),this.component.generate_post_grid(t),n.controls.preview.update()},this.controls.title.update=function(t){var e=this.component.get_config();this.setChecked("true"===e.teaser_layout.title)},this.controls.title.change=function(t,e){var i=this.component.get_config();i.teaser_layout.title=e.checked?"true":"false",this.component.update_config(i.teaser_layout,"teaser_layout"),this.component.generate_post_grid(t),n.controls.preview.update()},this.controls.read_more_lnk.update=function(t){var e=this.component.get_config();this.setChecked("true"===e.teaser_layout.read_more)},this.controls.read_more_lnk.change=function(t,e){var i=this.component.get_config();i.teaser_layout.read_more=e.checked?"true":"false",this.component.update_config(i.teaser_layout,"teaser_layout"),this.component.generate_post_grid(t),n.controls.preview.update()},this.controls.text.update=function(t){var e=this.component.get_config();this.setChecked("true"===e.teaser_layout.text)},this.controls.text.change=function(t,e){var i=this.component.get_config();i.teaser_layout.text=e.checked?"true":"false",this.component.update_config(i.teaser_layout,"teaser_layout"),this.component.generate_post_grid(t),n.controls.preview.update()},this.controls.text_type.update=function(t){var e=this.component.get_config();this.setValue(e.text_type)},this.controls.text_type.input=function(t,e){this.component.update_config(e.value,"text_type"),this.component.generate_post_grid(t),n.controls.preview.update()};var s=this.config.preview.config;this.controls.preview.attach_collection(this.teaserLayoutCollection),this.controls.preview.update=function(t){var i=[],e=this.component.get_config();_.each(e.layout,function(t,e){i.push({icon:"",key:t,label:s.labels[t]})},this),this.component.teaserLayoutCollection.reset(i)},this.listenTo(this.teaserLayoutCollection,"change",_.bind(function(t){var e=[];this.teaserLayoutCollection.each(function(t){e.push(t.get("key"))},this),this.update_config(e,"layout"),this.generate_post_grid()},this))},order_control:function(){return i("../controls/preview-list")}})},"post-grid-query.js":function(t,e,i){var n=i("./post-grid");e.exports=n.extend({before_update:jQuery.noop,controls_init:function(t){this.controls.content.update=function(t){var e=this.component.get_config();if(!e.content_types&&e.post_types&&0<Object.keys(e.post_types).length){var i=[];for(var n in e.post_types)"true"===e.post_types[n]&&i.push(n);e.content_types=i}this.setValue(e.content_types)},this.controls.content.input=function(t,e){this.component.update_config(_.pluck(e,"id"),"content_types");var i=this.component.get_config();i.post_types&&delete i.post_types,this.component.generate_post_grid(t)},this.controls.order_by.update=function(t){var e=this.component.get_config();this.setValue(e.orderby)},this.controls.order_by.input=function(t,e){this.component.update_config(e.value,"orderby"),this.component.generate_post_grid(t)},this.controls.order_mode.update=function(t){var e=this.component.get_config();this.setValue(e.order)},this.controls.order_mode.input=function(t,e){this.component.update_config(e.value,"order"),this.component.generate_post_grid(t)},this.controls.number_of_posts.update=function(t){var e=this.component.get_config();this.setValue(e.posts_per_page)},this.controls.number_of_posts.input=function(t,e){this.component.update_config(e.value,"posts_per_page"),this.component.generate_post_grid(t)},this.controls.recent_days.input=function(t,e){},this.controls.recent_days.update=function(t){var e=this.component.get_config();this.setValue(e.recent_days)},this.controls.recent_days.change=function(t,e){this.component.update_config(e.value,"recent_days"),this.component.generate_post_grid(t)},this.controls.start.input=function(t,e){},this.controls.start.update=function(t){var e=this.component.get_config();this.setValue(e.posts_start)},this.controls.start.change=function(t,e){this.component.update_config(e.value,"posts_start"),this.component.generate_post_grid(t)}}})},"post-grid.js":function(t,e,i){var n=i("../base"),s=i("../../libs/shortcode-manager"),a=null,o=null;e.exports=n.component.extend({postGridElement:null,before_update:function(){o=a=null},controls_init:function(t){TVE.main.on("device_change",function(){TVE.inner.window.TCB_Front.postGridLayout()}),this.controls.read_more.update=function(t){var e=this.component.get_config();e["read-more-text"]||(e["read-more-text"]="Read More"),this.setValue(e["read-more-text"])},this.controls.read_more.change=function(t,e){this.component.update_config(e.value,"read-more-text"),t.find(".tve_pg_more a").text(e.value)},this.controls.read_more_color.change=function(t){this.applyTo().head_css({color:t+"!important"},!1," .tve_pg_container .tve_pg_more a")},this.controls.read_more_color.input=function(t){var e=this.applyTo();e.head_css({color:t+"!important"},!1," .tve_pg_container .tve_pg_more a"),t||(e.head_css({color:""},!1," .tve_pg_container .tve_pg_more a"),this.component.controls.read_more_color.update(e))},this.controls.read_more_color.update=function(t){this.setValue(this.applyTo().head_css("color",!1," .tve_pg_container .tve_pg_more a",!0))},this.controls.img_height.input=function(t,e){t.find(".tve_post_grid_image_wrapper").css("height",e.value),this.component.after_generate(t)},this.controls.img_height.change=function(t,e){t.find(".tve_post_grid_image_wrapper").css("height",e.value),this.component.update_config(e.value,"image-height")},this.controls.img_height.update=function(t){this.setValue(t.find(".tve_post_grid_image_wrapper").css("height"))},this.controls.title_font_size.input=function(t,e){t.head_css({"font-size":e.value+"px !important"},!1,this.config.css_suffix),this.component.after_generate(t)},this.controls.title_font_size.change=function(t,e){t.head_css({"font-size":e.value+"px !important"},!1,this.config.css_suffix),this.component.update_config("","font-size")},this.controls.title_font_size.update=function(t){this.setValue(t.css("font-size"))},this.controls.title_line_height.input=function(t,e){t.head_css({"line-height":e.value+"px !important"},!1,this.config.css_suffix),this.component.after_generate(t)},this.controls.title_line_height.change=function(t,e){t.head_css({"line-height":e.value+"px !important"},!1,this.config.css_suffix),this.component.update_config("","text-line-height")},this.controls.title_line_height.update=function(t){this.setValue(t.css("line-height"))}},get_config:function(){return null===a&&(a=s(TVE.ActiveElement.find(".thrive-shortcode-config"),"post_grid")),null===o&&(o=a.get()),o},update_config:function(t,e){null===a&&(a=s(TVE.ActiveElement.find(".thrive-shortcode-config"),"post_grid")),o[e]=t,a.update(t,e)},edit_grid_options:function(){this.postGridElement=TVE.ActiveElement,TVE.main.switch_menu_to("custom","postgrid"),TVE.prevent_blur=!0,TVE.main.EditMode.enter(TVE.ActiveElement,{extra_element_class:"canvas-mode",show_default_message:!0,callbacks:{exit:function(){TVE.prevent_blur=!1}}})},placeholder_action:function(){this.generate_post_grid()},generate_post_grid:function(t){var e=void 0===t?TVE.ActiveElement:t,i={},n=this;e.find(".thrive-shortcode-config").length&&(i=n.get_config()),delete i.action,delete i.tve_lb_type,delete i.nonce,e.addClass("tcb-el-loading"),TVE.ajax("post_grid","post",i).success(function(t){e.children().not(".resize-sensor").remove(),e.prepend(t.html),n.after_generate(e),e.trigger("click")}).always(function(){e.removeClass("tcb-el-loading")})},after_generate:function(t){t.removeClass("tcb-elem-placeholder"),t.find(".tve_post_grid_masonry").length?t.find(".tve_post_grid_masonry").masonry():(t.find(".tve_pg_row").css("height",""),t.find(".tve_pg_row").each(function(){var i=0,t=jQuery(this);t.find(".tve_post").each(function(){var t=jQuery(this),e=parseInt(t.outerHeight());i<e&&(i=e),t.css("height","100%")}),t.css("height",i-1+"px")}))}})},"post-list":{"_includes.js":function(t,e,i){TVE.PostList={baseSelector:TVE.apply_filters("tcb.post_list.base.selector",TVE.CONST.global_css_prefix),cloudModal:i("./cloud/cloud-modal"),constants:i("./constants"),content:i("./content"),component:i("./component"),layout:i("./layout"),dynamicImage:i("./dynamic-image"),inlineShortcodes:i("./inline-shortcodes"),utils:i("./utils"),Taxonomies:{},FLAGS:{IS_SYNCING:!1},getComponent:function(t){var e=0<arguments.length&&void 0!==t?t:"";return TVE.apply_filters("tcb.post_list.component",TVE.Components.post_list,e)}};var n={cloud:i("./hooks/cloud"),css:i("./hooks/css"),general:i("./hooks/general"),sync:i("./hooks/sync"),inlineShortcodes:i("./hooks/inline-shortcodes")},s={"tcb.edit_mode.exit":9,"tcb.after-insert":9,tcb_head_css_prefix:9,hover_prefix_selector:9,allow_dragenter:9,"tcb.post_list_article.sync.tcb_post_content":9};_.each(n,function(t){TVE.addHooks(t,s)}),e.exports=TVE.PostList.component},cloud:{"cloud-modal.js":function(t,e,i){var h={apply_cloud_template:function(t){if((TVE.PostList.utils.isPostList(TVE.ActiveElement)||TVE.PostList.utils.isFeaturedList(TVE.ActiveElement))&&(TVE.inner_$(t.content).is(TVE.identifier("post_list"))||TVE.inner_$(t.content).is(TVE.identifier("post_list_featured")))){var e=TVE.ActiveElement,i=h.getCloudAttributes(t),n=(e[0],TVE.inner_$(t.content)),s=e.attr("data-query"),a=e.hasClass("tcb-featured-list"),o=e.attr("data-css");if(TVE.PostList.utils.getPaginationForPostList(e).remove(),e.hasClass("tcb-ct-placeholder")){var r=h.getBlankPostList(n.clone(),a?1:6);e.replaceWith(r).removeClass("edit_mode"),e=TVE.ActiveElement=r,a&&(e.addClass("tcb-featured-list tve_no_drag tve_no_duplicate tve-draggable tve-droppable"),i["data-element-name"]="Featured Content List")}else i=_objectSpread({},h.getTemplateAttributes(e,n,t),{},i),e.removeAttr("data-article-tcb-events data-article-class"),a&&(e.addClass("tcb-featured-list tve_no_drag tve_no_duplicate tve-draggable tve-droppable"),i["data-element-name"]="Featured Content List");if(i["data-css"]=TVE.CSS_Rule_Cache.generate_id(),!a&&o){var l=e.prev();l&&e.attr("data-featured-list",l.attr("data-css")).attr("data-featured-content",1)}if(a||(i["data-query"]=s),e.attr(i),TVE.PostList.utils.updateFeaturedIdentifiers(e),i=TVE.apply_filters("tcb_post_list_attr",i,e,a),e.attr(i),a){var c=TVE.PostList.utils.getPostListForFeatured(e),d=TVE.PostList.utils.readQueryFromElement(c[0]);d.posts_per_page=i["data-posts_per_page"]?i["data-posts_per_page"]:1,TVE.PostList.utils.applyQuery(e,d)}h.articlesSync(t,e,n),TVE.Editor_Page.focus_element(e.removeClass("edit_mode tcb-selector-no_save"))}else console.warn("Error - The ActiveElement is not a Post List, or the template imported from the cloud is not a Post List!")},articlesSync:function(t,e,i){var n=e.find(TVE.identifier("article")),s=n.first(),a=i.find(TVE.identifier("article"));n.removeAttr("data-class"),TVE.PostList.content.articleEventSync(a,e,!1),s.html(a.html());var o=h.regenerateCss(e);o[i.attr("data-css")]=e.attr("data-css");var r=t.head_css;_.each(o,function(t,e){r=r.replace(new RegExp("(".concat(e,")"),"g"),t)}),r=TVE.apply_filters("tcb.post_list.import.before_css_insert",r,e),TVE.Editor_Page.content_manager.insert_head_css(r).done(function(){TVE.PostList.content.syncArticle(s[0],s,!0),TVE.PostList.content.syncPostList(s,e),"masonry"!==TVE.PostList.utils.readValue(e,"type")&&TVE.PostList.layout.applyLayout(e),TVE.PostList.utils.updateFeaturedIdentifiers(e),TVE.PostList.dynamicImage.regeneratePostListStyleNodes(e),TVE.Components.cloud_templates.controls.ModalPicker.update(e),TVE.do_action("tcb.post_list.template_changed",e)})},getBlankPostList:function(i,t){var e=1<arguments.length&&void 0!==t?t:6;i.html("");var n=Object.keys(TVE.PostList.posts).map(function(t){return parseInt(t)}).filter(function(t){return parseInt(TVE.CONST.post_id)!==t}).sort(function(t,e){return e-t}).slice(0,e);return _.each(n,function(t){var e=TVE.PostList.posts[t];i.append(TVE.inner_$("<article>",{id:"post-"+e.ID,"data-id":e.ID,class:e.className,"data-selector":TVE.identifier("article")}))}),i},regenerateCss:function(t){var i={};return t.find("[data-css]").each(function(t,e){e.dataset.css&&(void 0===i[e.dataset.css]?i[e.dataset.css]=TVE.CSS_Rule_Cache.uniq_id(e,!0):e.dataset.css=i[e.dataset.css])}),i},getTemplateAttributes:function(t,e,i){var n=TVE.PostList.utils.elementAttributes(e,["data-css","class","data-query"]);return n.style="",n},getCloudAttributes:function(t){return{"data-ct":t.type+"-"+t.id,"data-ct-name":t.name}}};e.exports=h}},"component.js":function(t,e,i){var n,s=i("../../base"),a=i("../../controls/tooltip-base"),o=s.component.extend({controls_init:function(s){var t=this;this.featuredTooltip=new a({tooltipPosition:"top",no_buttons:!0,template:TVE.tpl("post-list/post-featured-tooltip"),anim_duration:300,no_callback:!0,validate:function(){return!t.featuredTooltip.FORCE_CLOSE}}),s.Type.change=function(t,e){var i=e.dataset.value,n=parseInt(t.mediaAttr("data-columns"));switch(i){case"grid":case"masonry":n=1===n?3:n;break;case"list":default:n=1}s.HorizontalSpace.$el.toggle("list"!==i),t.mediaAttr("data-columns",n),s.ColumnsNumber.update(t),t.attr("data-type",i),s.Type.update(t),TVE.PostList.layout.resetSpaceCss(t,"_ALL"),TVE.PostList.layout.applyLayout(t),TVE.Components.layout.controls.Alignment.$('[data-value="none"]').click(),TVE.Editor_Page.reposition_icons()},s.Type.update=function(t){TVE.PostList.utils.readValue(t,"type",!0,s.Type)},s.ColumnsNumber.input=function(t,e){t.mediaAttr("data-columns",e.value),1<e.value&&"list"===TVE.PostList.utils.readValue(t,"type")?t.attr("data-type","grid"):1===parseInt(e.value)&&t.attr("data-type","list"),s.Type.update(t),TVE.PostList.layout.resetSpaceCss(t),TVE.PostList.layout.applyLayout(t),"change"===this.currentEventType&&TVE.Components.layout.controls.Alignment.$('[data-value="none"]').click()},s.ColumnsNumber.change=function(t,e){s.ColumnsNumber.input(t,e),s.HorizontalSpace.setConfig(),s.HorizontalSpace.update(t)},s.ColumnsNumber.update=function(t){this.setValue(t.mediaAttr("data-columns"))},s.HorizontalSpace.change=s.VerticalSpace.change=function(t,e){var i=this;setTimeout(function(){TVE.SkipUpdate=!0,i.input(t,e),TVE.SkipUpdate=!1},10)},s.VerticalSpace.input=_.throttle(function(t,e){t.mediaAttr("data-vertical-space",e.value),TVE.PostList.layout.applyLayout(t,!1)},50),s.VerticalSpace.update=function(t){this.setValue(t.mediaAttr("data-vertical-space"))},s.HorizontalSpace.input=_.throttle(function(t,e){t.mediaAttr("data-horizontal-space",e.value),TVE.PostList.layout.applyLayout(t,!1)},50),s.HorizontalSpace.update=function(t){this.$el.toggle("list"!==TVE.PostList.utils.readValue(t,"type")&&1!==parseInt(t.mediaAttr("data-columns"))),this.setValue(t.mediaAttr("data-horizontal-space"))},s.HorizontalSpace.setConfig=function(t,e,i){var n=TVE.ActiveElement;if(n&&n.length){var s=parseInt(n.mediaAttr("data-columns")),a=n.width()/((s-1)*(s+1))-1;this.originalConfig.max=a,parseInt(n.mediaAttr("data-horizontal-space"))>a&&n.mediaAttr("data-horizontal-space",a)}TVE.Views.Base.control.prototype.setConfig.call(this,t,e,i)},s.ContentSize.change=function(t,e){TVE.PostList.content.updatePostContent(t)},s.ContentSize.update=function(t){var e=t.find(TVE.identifier("post_content")).attr("data-size");void 0===e&&(e="words"),this.setValue(e)},s.WordsTrim.input=function(t){TVE.PostList.content.updatePostContent(t)},s.WordsTrim.update=function(t){var e=t.find(TVE.identifier("post_content")).attr("data-words");void 0===e&&(e=TVE.PostList.constants.DEFAULT_EXCERPT_WORDS),this.setValue(e)},s.ReadMoreText.onInput=function(t){TVE.PostList.content.updatePostContent(t)},s.ReadMoreText.change=function(){},s.ReadMoreText.update=function(t){var e=t.find(TVE.identifier("post_content")).attr("data-read_more");void 0===e&&(e=TVE.PostList.constants.DEFAULT_READ_MORE),this.setValue(e)},s.PaginationType.change=function(t,e){var i=TVE.PostList.utils.getPaginationForPostList(t);if(0===i.length){i=TVE.inner_$(TVE.CONST.post_list_pagination.pagination_wrapper).insertAfter(t);var n=TVE.apply_filters("tcb.post_list.identifier",t.attr("data-css"),t);i.attr("data-list",n)}t.attr("data-pagination-type",e.value),i.attr("data-type",e.value),i.html(TVE.CONST.post_list_pagination[e.value]),"numeric"===e.value?TVE.PostList.content.renderPaginationForPostList(t):i.removeAttr("data-css data-ct"),i.removeClass("tcb-permanently-hidden")},s.PaginationType.update=function(t){var e=TVE.PostList.utils.getPaginationForPostList(t);this.setValue(e.attr("data-type")||"none"),TVE.PostList.utils.toggleControlsForFeature(this.$el)},s.Linker.change=function(t,i){t.attr("data-disabled-links",i.checked?"1":"0").find(TVE.identifier("article")).each(function(t,e){i.checked?e.setAttribute("data-permalink","[tcb-article-permalink]"):e.removeAttribute("data-permalink")})},s.Linker.update=function(t){this.setChecked("1"===t.attr("data-disabled-links"))},s.Featured.change=function(t,e){var i=TVE.PostList.utils.getFeaturedPostList(t),n=i.length,s=t.prev().hasClass("tcb-featured-list");if(e.checked){var a=TVE.outer.$document.find("#tve-post-list-featured-placeholder").html();n||s||(t.before(a),TVE.Editor_Page.reposition_icons())}else!n&&s&&(n=(i=t.prev()).length),n&&(i.remove(),TVE.Editor_Page.reposition_icons());t.attr("data-featured-content",e.checked?1:0)},s.Featured.update=function(t){var e=TVE.PostList.utils.getFeaturedPostList(t);0===e.length&&(e=t.prev()),e.hasClass("tcb-featured-list")||t.attr("data-featured-content",0),this.setChecked(1===parseInt(t.attr("data-featured-content"))),TVE.PostList.utils.toggleControlsForFeature(this.$el)},s.Featured.openTooltip=function(){return t.featuredTooltip.isOpen()?t.featuredTooltip.onCancel():t.featuredTooltip.open(null,t.$(".tve-switch-info")),!1},s.NumberOfItems.input=function(t,e){t.attr("data-posts_per_page",e.value)},s.NumberOfItems.change=function(i,t){var e=TVE.PostList.utils.readQueryFromElement(i[0]);e.posts_per_page=t.value,TVE.PostList.utils.fetchPosts(e,function(t){var e=[];_.each(t.posts,function(t){e[parseInt(t.order)]=t}),e.length&&(TVE.PostList.content.syncPostList(i.find(TVE.identifier("article")).first(),i,e),TVE.PostList.dynamicImage.regeneratePostListStyleNodes(i))}),TVE.PostList.utils.applyQuery(i,e)},s.NumberOfItems.update=function(t){this.setValue(t.attr("data-posts_per_page")||t.find(TVE.identifier("article")).length)},TVE.main.on("device_change",function(){return TVE.inner.$body.find(TVE.identifier("post_list")).each(function(t,e){TVE.PostList.layout.applyLayout(TVE.inner_$(e))})}),TVE.PostList.utils.togglePostListElements(!1)},after_update:function(){var t=this.controls.ContentSize.getValue();this.controls.WordsTrim.$el.toggle("words"===t),TVE.PostList.utils.toggleControlsForFeature(this.controls.Featured.$el),TVE.PostList.utils.toggleControlsForFeature(this.controls.PaginationType.$el),TVE.PostList.utils.toggleFilterForMainList(this.$('.tve-button[data-fn="filterPosts"]'))},stateChange:function(){},getStates:function(){return[]},editMode:function(){TVE.ActiveElement&&TVE.PostList.getComponent(TVE.ActiveElement).$(".post-list-actions").addClass("edit-mode-hidden"),TVE.Views.Controls.DropPanel.close_all(),TVE.main.EditMode.enter(!1,{show_overlay:!0,show_default_message:!0,can_insert_elements:!0,states:this.getStates(),callbacks:{before_exit:TVE.Views.Controls.DropPanel.close_all,state_change:this.stateChange}}),TVE.add_action("tcb.show_icons",TVE.PostList.utils.preventSymbolSave),TVE.CONST.update_customfields=!0,TVE.PostList.utils.togglePostListElements(!0)},filterPosts:function(){this.q_modal.open()},after_init:function(){void 0===n&&(n=i("./query-builder/query-modal"),this.q_modal=new n({el:TVE.modal.get_element("post-list-query")}))}});e.exports=o},"constants.js":function(t,e,i){e.exports={POST_LIST_SHORTCODE:"tcb_post_list",FEATURED_LIST_CLASS:"tcb-featured-list",TCB_SHORTCODE_CLASS:"tcb-shortcode",POST_LIST_SHORTCODE_CLASS:"tcb-post-list-shortcode",SIMILAR_EDIT_CLASS:"tcb_similar_edit",DEFAULT_READ_MORE:"...",DEFAULT_EXCERPT_WORDS:12,dynamicStyles:[{type:"featured",regex:'url\\("[^\\#](.*)\\?dynamic_featured=1\\&size=([^"]*)"\\)',replacement:"[tcb_featured_image_url size=$2]"},{type:"author",regex:'url\\("[^\\#](.*)\\&dynamic_author=1"\\)',replacement:"[tcb_author_image_url]"}]}},"content.js":function(t,e,i){var n={parseMainShortcodes:function(d){d.find(TVE.identifier("post_list")).each(function(t,e){var i=d.find(e),n=i.find(TVE.identifier("article")).first(),s=TVE.apply_filters("tcb.post_list.shortcode_tag",TVE.PostList.constants.POST_LIST_SHORTCODE,i),a="[tcb_post_list_dynamic_style]".concat(TVE.PostList.dynamicImage.getDynamicStylesForSave(),"[/tcb_post_list_dynamic_style]"),o="";TVE.PostList.content.parsePaginationShortcode(i,d),n.find("style").remove(),TVE.PostList.dynamicImage.saveDynamicImageSources(n),i.attr("id")&&(o="id='".concat(i.attr("id"),"' "));var r=TVE.PostList.utils.elementAttributes(i,["data-shortcode","data-selector","data-class","data-id"],!0,!0);_.each(r,function(t,e){-1===t.indexOf('"')?o+="".concat(e,'="').concat(t,'" '):o+="".concat(e,"='").concat(t,"' ")});var l=TVE.PostList.content.getResponsiveClasses(i);if(i.hasClass("tcb-featured-list")&&(l.push("tcb-featured-list"),l.push("tve-draggable "),l.push("tve-droppable")),o+=l?" class='".concat(l.join(" "),"' "):"",n.length){TVE.do_action("tcb.post_list.before_save",n),a+=n.html();var c=TVE.PostList.utils.elementAttributes(n,["data-id","data-selector"],!0,!0);_.each(c,function(t,e){o+="article-".concat(e,"='").concat(t,"' ")})}i.replaceWith("[".concat(s," ").concat(o,"]").concat(a,"[/").concat(s,"]"))})},parsePaginationShortcode:function(t,e){var i=TVE.PostList.utils.getPaginationForPostList(t,!1,e);if(i.length){var n="tcb_pagination",s="";_.each(TVE.PostList.utils.elementAttributes(i,["data-class"],!0,!0),function(t,e){s+=" data-".concat(e,"='").concat(t,"'")});var a,o=TVE.PostList.content.getResponsiveClasses(i);s+=o.length?" class='".concat(o.join(" "),"' "):"",i.parent().hasClass("tcb-clear")&&(i=i.parent()),a="none"===i.attr("data-type")?"":(i.find(".tcb-pagination-numbers-wrapper").empty(),i.html()),i.replaceWith("[".concat(n," ").concat(s,"]").concat(a,"[/").concat(n,"]"))}},getResponsiveClasses:function(i){var n=[];return Object.keys(TVE.main.responsive).forEach(function(t){var e="tcb-".concat(t,"-hidden");i.hasClass(e)&&n.push(e)}),n},setElementClasses:function(t){var e=[".post-wrapper.tve_evt_manager_listen",".".concat(TVE.PostList.constants.POST_LIST_SHORTCODE_CLASS,".tve_evt_manager_listen"),".".concat(TVE.PostList.constants.POST_LIST_SHORTCODE_CLASS," .tve_evt_manager_listen")];t.find(e.join(", ")).each(function(t,e){e.setAttribute("data-class",TVE.PostList.utils.getEventClasses(e.className)),e.getAttribute("data-tcb-events")&&e.setAttribute("data-tcb-events",e.getAttribute("data-tcb-events").replace(/\[/g,"|{|").replace(/\]/g,"|}|"))})},articleEventSync:function(s,t,a){var o=s[0],r=TVE.PostList.utils.getEventClasses(o.className);t.find(TVE.identifier("article")).each(function(t,e){var i=TVE.PostList.utils.getEventClasses(e.className),n=TVE.inner_$(e);a||n.removeClass(i).removeAttr("data-class"),n.is(s)||(n.addClass(r),o.getAttribute("data-tcb-events")?e.setAttribute("data-tcb-events",o.getAttribute("data-tcb-events")):e.removeAttribute("data-tcb-events"))})},parseArticleElementsShortcodes:function(t){t.find(".".concat(TVE.PostList.constants.POST_LIST_SHORTCODE_CLASS)).each(function(t,e){var i=e.dataset.shortcode,n=TVE.PostList.utils.elementAttributes(e,["data-shortcode","data-selector"],!0,!0);_.each(n,function(t,e){i+=" "+e+"='"+t+"'"}),TVE.inner_$(e).replaceWith("[".concat(i,"]"))}),t.find(TVE.identifier("post_read_more")).each(function(t,e){TVE.inner_$(e).find(".tcb-button-link").attr("href","[tcb_post_the_permalink]")})},initShortcode:function(t,e,i){var n=t.find(e);if(n.length){var s=["thrv_wrapper","".concat(TVE.PostList.constants.TCB_SHORTCODE_CLASS),"".concat(TVE.PostList.constants.POST_LIST_SHORTCODE_CLASS)];n.addClass(s.join(" ")).attr("data-shortcode",i)}},initAllShortcodes:function(e){_.each(tcb_main_const.elements,function(t){t.shortcode&&TVE.PostList.content.initShortcode(e,t.identifier,t.shortcode)})},replaceShortcodeWithData:function(t,e,i){if(t&&i&&TVE.PostList.posts&&TVE.PostList.posts[i]&&TVE.PostList.posts[i][t]){var n=TVE.apply_filters("tcb.post_list_article.sync."+t,TVE.PostList.posts[i][t],TVE.PostList.posts[i],e);e.html(TVE.inner_$(n).html())}},syncPostList:function(i,t,e){i.find(".tve-dropped").removeClass("tve-dropped"),t=void 0===t?i.parents(TVE.identifier("post_list")):t,void 0!==e&&TVE.PostList.content.generatePostList(t,i,e),TVE.froala.disable(t.find(TVE.identifier("article")).not(i)),t.find(TVE.identifier("article")).each(function(t,e){TVE.PostList.content.syncArticle(e,i)}),TVE.drag.editorActions(),TVE.PostList.content.initAllShortcodes(t),TVE.do_action("tcb.post_list_article.sync",t)},generatePostList:function(i,n,t){i.empty();var s=n.prop("tagName").toLowerCase();t.forEach(function(t){var e={id:"post-"+t.ID,"data-id":t.ID,class:t.className+" "+TVE.PostList.utils.getEventClasses(n.attr("class")),"data-selector":".post-wrapper"};i.append(TVE.inner_$("<".concat(s,">"),e))})},syncArticle:function(t,e,i){var n=2<arguments.length&&void 0!==i&&i;if(!e.is(t)||n){var s=TVE.inner_$(t),a=e.clone(),o=parseInt(t.dataset.id);o&&(_.each(TVE.Elements,function(t){t.shortcode&&TVE.PostList.content.syncElement(t,a,o)}),TVE.PostList.dynamicImage.syncDynamicImageElements(a,o),TVE.do_action("tcb.post_list.before_article_sync",a,o)),a.find(".tve-element-overlay").removeClass("tve-element-overlay"),a.find(".edit_mode").removeClass("edit_mode"),a.find("style").replaceWith(s.find("style")),s.html(a.html())}},syncElement:function(t,e,a){var o=t.shortcode;e.find(t.identifier).each(function(t,e){var i=TVE.inner_$(e);if(i.length){var n=TVE.PostList.posts[a],s=TVE.inner_$(TVE.apply_filters("tcb.post_list_article.sync.".concat(o),n[o],n,i));i.html(s.html())}})},updatePostContent:function(t,e){void 0===e&&(e=TVE.PostList.getComponent(t));var n=e.controls.ContentSize.getValue(),s=e.controls.WordsTrim.getValue(),a=e.controls.ReadMoreText.getValue(),o=' <a href="#">'.concat(a,"</a>");e.controls.WordsTrim.$el.toggle("words"===n),t.find(TVE.identifier("article")).each(function(t,e){var i=e.dataset.id;i&&TVE.inner_$(e).find(TVE.identifier("post_content")).html(TVE.PostList.content.getPostContent(i,n,s,o)).attr({"data-size":n,"data-read_more":a,"data-words":s}).removeClass("tcb-post-content-placeholder")}),setTimeout(function(){TVE.PostList.layout.masonryRedo(t)},50)},getPostContent:function(t,e,i,n){var s,a=2<arguments.length&&void 0!==i?i:0,o=3<arguments.length&&void 0!==n?n:"";switch(e){case"excerpt":s="<p>"+TVE.inner_$(TVE.PostList.posts[t].tcb_post_excerpt).text()+o+"</p>";break;case"content":(s=TVE.inner_$(TVE.PostList.posts[t]["tcb_post_".concat(e)])).find(".more-link").html(o),s=s.html();break;case"words":default:s=TVE.inner_$(TVE.PostList.posts[t].tcb_post_words).text(),s="<p>"+TVE.PostList.utils.truncate(s,a)+o+"</p>"}return s},getPostListInstance:function(t){return new TVE.inner.window.TCB_Front.PostList(t)},renderPaginationForPostList:function(t){this.getPostListInstance(t).renderPagination()},getPaginationInstanceForPostList:function(t){return this.getPostListInstance(t).getPaginationInstance()}};e.exports=n},"dynamic-image.js":function(t,e,i){var n={isDynamicCss:function(t){return t.includes("dynamic_")},updateDynamicImages:function(t,e){(e?e.replace(" !important",""):"").length&&this.regeneratePostListStyleNodes(t.closest(TVE.identifier("post_list")))},saveDynamicImageSources:function(t){t.find("".concat(TVE.identifier("image"),"[data-dynamic]")).each(function(t,e){var i=TVE.inner_$(e);i.find(".tve_image").removeAttr("src").attr("data-shortcode-src","[tcb_".concat(i.attr("data-dynamic"),"_image_url]"))})},replaceImageShortcodeSrc:function(t){return t.replace(/(data-shortcode-src)=\"\[[^\"]*\]\"/g,function(t,e){return t.replace(e,"src")})},syncDynamicImageElements:function(t,l){t.find("".concat(TVE.identifier("image"),"[data-dynamic]")).each(function(t,e){var i=TVE.inner_$(e),n=i.find(".tve_image"),s=i.attr("data-dynamic"),a=TVE.PostList.dynamicImage.getImage(l,s),o={alt:"".concat(TVE.ucFirst(s)," Image")};if("featured"===s){var r=TVE.PostList.posts[l].featured_image_sizes_data;_.isEmpty(r)||_.isEmpty(r.full)||((o=_.pick(r.full,["alt","caption","title","width","height"]))["data-id"]=r.full.ID)}o.src=TVE.Components.image.controls.ImagePicker.picker.clean_url(a),o.width||n.load(function(){n.attr({height:i.height(),width:i.width()})}),n.attr(o)})},regeneratePostListStyleNodes:function(t){var c=this,d=this.getDynamicRules(t);t.find(TVE.identifier("article")).each(function(t,e){var i=TVE.inner_$(e),n=i.attr("data-id"),s="#post-".concat(n),a={};_.each(d,function(t,e){_.each(t,function(t){t.includes(TVE.identifier("article"))?t=t.replace(new RegExp(TVE.identifier("article"),"g"),s+TVE.identifier("article")):t.includes(TVE.identifier("post_list"))&&(t=t.replace(new RegExp(TVE.identifier("post_list"),"g"),TVE.identifier("post_list")+" "+s)),t=TVE.apply_filters("tcb.dynamic_image.change_selector",t,s),t=c.replaceDynamicImage(n,t),void 0===a[e]&&(a[e]=""),a[e]+=t})});var o="";for(var r in a)o+="@media "+r+"{"+a[r]+"}";var l=i.find("style");0===l.length?l=TVE.inner_$('<style type="text/css"></style>').prependTo(i):l.empty(),l.html(o)})},getDynamicRules:function(r){var l=this,c={};return _.each(TVE.stylesheet.cssRules,function(t){var o=TVE.compat.conditionText(t);t.type===CSSRule.MEDIA_RULE&&o&&o.length&&_.each(t.cssRules,function(t){var e=t.selectorText.replace(TVE.PostList.utils.pseudoSelectorsRegex(),""),i=TVE.inner.$document.find(e);if(t.style.length&&i.length&&i.closest(r).length){var n=t.cssText;if(l.isDynamicCss(n)){var s=n.match(/background-image: .[^;]*;/gm);if(s){var a=t.selectorText;void 0===c[o]&&(c[o]=[]),c[o].push(a+"{"+s[0]+"}")}}}})}),c},replaceDynamicImage:function(s,a){var o=this;return _.each(TVE.PostList.constants.dynamicStyles,function(t){var e,i,n=a.match(new RegExp(t.regex));n&&(i=2<n.length?n[2]:"full",e=o.getImage(s,t.type,i),a=a.replace(new RegExp(t.regex,"g"),'url("'+e+'")'))}),a},getImage:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:"full",s="get"+TVE.ucFirst(e)+"Image",a=TVE.CONST.post_image[e];return"function"==typeof this[s]&&(a=this[s](t,n)),a},getFeaturedImage:function(t,e){var i;return void 0!==TVE.PostList.posts[t]&&(i=this.getFeaturedImageBySize(TVE.PostList.posts[t].featured_image_sizes_data,e)),""===(i=TVE.apply_filters("tcb.default_featured_image.change",i,e))&&(i=TVE.CONST.post_image.featured+"?dynamic_featured=1&size=full"),i},getFeaturedImageBySize:function(t,e){var i="";return _.isEmpty(t)||(i=_.isEmpty(t[e])?t.full.url:t[e].url+"?dynamic_featured=1&size="+e),i},getAuthorImage:function(t){var e;return void 0!==TVE.PostList.posts[t]&&(e=TVE.PostList.posts[t].author_picture),e&&0!==e.length||(e=TVE.CONST.post_image.author),TVE.setOrReplaceUrlParam(e,"dynamic_author",1)},getDynamicStylesForSave:function(){var l=this,c={};_.each(TVE.stylesheet.cssRules,function(t){var r=TVE.compat.conditionText(t);t.type===CSSRule.MEDIA_RULE&&r&&r.length&&_.each(t.cssRules,function(t){var e=t.selectorText.replace(TVE.PostList.utils.pseudoSelectorsRegex(),""),i=TVE.inner.$document.find(e).first();if(t.style.length&&i.length&&i.closest(TVE.identifier("article")).length){var n=t.cssText;if(l.isDynamicCss(n)){_.each(TVE.PostList.constants.dynamicStyles,function(t){n=n.replace(new RegExp(t.regex,"g"),'url("'+t.replacement+'")')});var s=n.match(/background-image: .[^;]*;/gm);if(s){var a="#post-[tcb_the_id]",o=t.selectorText;o.includes(TVE.identifier("article"))?o=o.replace(TVE.identifier("article"),a+TVE.identifier("article")):o.includes(TVE.identifier("post_list"))&&(o=o.replace(TVE.identifier("post_list"),TVE.identifier("post_list")+" "+a)),o=TVE.apply_filters("tcb.dynamic_image.change_selector",o,a),void 0===c[r]&&(c[r]=""),c[r]+=o+"{"+s[0]+"}"}}}})});var t="";for(var e in c)t+="@media "+e+"{"+c[e]+"}";return t}};e.exports=n},hooks:{"cloud.js":function(t,e,i){var n={actions:{},filters:{"tcb.cloud_templates.apply_callback":function(t){var e=TVE.ActiveElement;return e&&e.length&&(TVE.PostList.utils.isPostList(e)||TVE.PostList.utils.isFeaturedList(e))&&(t=TVE.PostList.cloudModal.apply_cloud_template),t},"tcb.cloud_templates.post_list":function(t){var e={id:-1,name:"Default Post List",local:!0,thumb:"".concat(TVE.CONST.plugin_url,"editor/css/images/post_list_default.jpg"),v:1};return t.unshift(e),t},"tcb.cloud_template.post_list":function(t,e){return e<0&&{content:TVE.outer.$document.find("#tve-post-list-post-list-default-template").html(),custom_css:"",head_css:"",id:-1,name:"Default Post List",type:"post_list",v:1}}}};e.exports=n},"css.js":function(t,e,i){var n={actions:{"tcb.write_css":function(t,e){if(t=t.replace(TVE.PostList.utils.pseudoSelectorsRegex(),""),!TVE.FLAGS.drag&&TVE.apply_filters("tcb.write_css.has_post_list_selector",t.includes(TVE.identifier("post_list")),t)){var i=TVE.inner.$document.find(t),n=i.closest(TVE.identifier("article"));if(n.length){var s=TVE.state_manager.get_parent(),a=!1;s&&1===TVE.inner.$body.find('[data-css="'+s.attr("data-css")+'"]').length&&(a=!0),!a&&1!==TVE.inner.$body.find('[data-css="'+i.attr("data-css")+'"]').length||i.is(n)||TVE.PostList.utils.checkForPostListSync(n),e["background-image"]&&TVE.PostList.dynamicImage.updateDynamicImages(i,e["background-image"])}}}},filters:{regenerate_css_id:function(t,e){var i=TVE.inner.$body.find('[data-css="'+e+'"]');if(i.length){var n=(1===i.length?i:i.first()).closest(TVE.identifier("article"));n.length&&1===n.find('[data-css="'+e+'"]').length&&(t=!1)}return t},"tcb.head_css_new_id":function(t){var e=TVE.inner.$body.find('[data-css="'+t+'"]'),i=e.closest(TVE.identifier("article"));return 1===e.length&&i.length&&!TVE.FLAGS.drag&&TVE.PostList.utils.checkForPostListSync(i),t},hover_prefix_selector:function(t,e,i){var n=TVE.inner_$(e);if(n.hasClass("tve-content-box-background")){var s=n.parents(TVE.identifier("post_list"));if(s.length)t='[data-css="'+TVE.CSS_Rule_Cache.uniq_id(s)+'"]'+TVE.identifier("post_list")}return t},tcb_head_css_prefix:function(t,e){var i=e.parents(TVE.identifier("post_list"));if(i.length){var n=TVE.PostList.utils.getPostListSelector(i),s=".thrv-content-box";-1!==(t=(t=-1!==t.indexOf(s)||e.is(".tve-cb")?t.replace(s+" ","")+n+s+" ":(t=0===TVE.inner.$body.find(t+n).length?n+" "+t:t+" "+n).replace(/([ ]{2,})/g," ")).trimStart()).indexOf(TVE.PostList.baseSelector)&&(t=TVE.PostList.baseSelector+" "+t.replace(TVE.PostList.baseSelector,""))}else if(e.is(TVE.identifier("pagination_number_item"))){var a=TVE.CSS_Rule_Cache.uniq_id(e.closest(TVE.identifier("pagination")));t=t.trimStart()+'[data-css="'.concat(a,'"]').concat(TVE.identifier("pagination")," ")}return t},"tcb.css.save.whitelist_rule":function(t,e){return e.includes(TVE.identifier("post_list"))&&e.includes(":nth-child")&&(e=(e=e.replace(/:not\((:nth-child\(.*\))\)/g,"")).replace(/(:nth-child\(.*\))/g,""),TVE.inner.$body.find(e).length&&(t=!0)),t},"tcb.button_default_style.css":function(t,e,i){if(i.is("".concat(TVE.identifier("post_read_more"),", ").concat(TVE.identifier("pagination_load_more")))){var n=t.default,s=t.hover;n.border="unset",s.color="#FFF !important","ghost"!==e&&(n["background-color"]="rgba(26, 188, 156, 100) !important",n.color="#FFF !important",s["background-color"]="#15a288 !important"),t={default:n,hover:s}}return t}}};e.exports=n},"general.js":function(t,e,i){var n={actions:{"tcb-ready":function(){TVE.PostList.utils.fetchExistingPosts()},"tcb.edit_mode.exit":function(t){t.is(TVE.identifier("post_list"))&&(TVE.PostList.utils.togglePostListElements(!1),TVE.PostList.getComponent(t).$(".post-list-actions").removeClass("edit-mode-hidden"),TVE.remove_action("tcb.show_icons",TVE.PostList.utils.preventSymbolSave),TVE.Editor_Page.focus_element(t),setTimeout(function(){TVE.ElementEditIcons.show_icons(t),t.hasClass("tcb-featured-list")&&t.addClass("tve_no_drag")},50))},"tcb.element.selected":function(t){if(t.is(TVE.identifier("post_list")))TVE.main.EditMode.in_edit()&&TVE.ElementEditIcons.hide_icons(),"masonry"===TVE.PostList.utils.readValue(t,"type")&&(TVE.Components.layout.disable_extra_controls(["top","right","bottom","left"].map(function(t){return"padding-"+t})),TVE.Components.layout.disable_controls(["Alignment"].concat(_toConsumableArray(TVE.Elements.post_list.components.layout.disabled_controls)))),void 0===TVE.PostList.Taxonomies.post&&TVE.Components.post_list.q_modal.postTypeChange("post");else if(t.is(TVE.identifier("article"))){var e=["right","bottom","left"];"list"!==TVE.PostList.utils.readValue(t.closest(TVE.identifier("post_list")),"type")&&e.push("top"),TVE.Components.layout.disable_extra_controls(e.map(function(t){return"margin-"+t}))}},"tcb.contentbox.resized_height":function(t){var e=t.closest(TVE.identifier("post_list"));e.length&&TVE.PostList.layout.masonryRedo(e)},"tcb.contentbox.resized_width":function(t){var e=t.find(TVE.identifier("post_list"));e.length&&TVE.PostList.layout.masonryRedo(e)},"tcb.section.resized":function(t){var e=t.find(TVE.identifier("post_list"));e.length&&TVE.PostList.layout.masonryRedo(e)},"tcb.columns_rendered_after_insert":function(t,e){t.is(TVE.identifier("post_list"))&&!e.is(TVE.identifier("pagination"))&&TVE.PostList.utils.moveElementsNearPostList(t)},"tcb.width_slider.change":function(t,e){var i=t.closest(TVE.identifier("post_list"));i.length||(i=t.find(TVE.identifier("post_list"))),i.length&&TVE.PostList.layout.masonryRedo(i)},"tcb.symbol.new_ids":function(o,t){_.each(TVE.stylesheet.cssRules,function(a){var t=TVE.compat.conditionText(a);if(a.type===CSSRule.MEDIA_RULE&&t&&t.length)for(var e=function(n){var s=a.cssRules[n];s&&s.style.length&&s.selectorText.includes(".tcb-post-list")&&s.cssText.includes("dynamic_")&&_.each(o,function(t,e){if(s.cssText.match(e)){var i=s.cssText.replace(e,t);a.deleteRule(0===n?n:n--),a.insertRule(i,a.cssRules.length),s=a.cssRules[n]}}),i=n},i=0;i<a.cssRules.length;i++)e(i)}),TVE.PostList.utils.updatePaginationIdentifiers(t),TVE.PostList.utils.updateFeaturedIdentifiers(t)},"tcb.insert_content_template":function(t){var e=t.hasClass("tcb-post-list")?t:t.find(".tcb-post-list");return TVE.PostList.utils.fetchExistingPosts(),e.length&&setTimeout(function(){TVE.PostList.layout.applyLayout(e),TVE.PostList.dynamicImage.regeneratePostListStyleNodes(e)},100),e},"tcb.unlink_symbol":function(){var t=TVE.inner_$(".tcb-post-list");t&&setTimeout(function(){TVE.PostList.dynamicImage.regeneratePostListStyleNodes(t)},50)},"tcb.after_insert_symbol":function(t){TVE.PostList.utils.updatePostListIdentifiers(t),TVE.PostList.utils.refreshPostList(t);var e=t.find("".concat(TVE.identifier("post_list"),":not(.tcb-featured-list)"));e.length&&TVE.PostList.content.renderPaginationForPostList(e)}},filters:{before_editor_events:function(){TVE.inner.$body.find(".tcb-post-list").each(function(t,e){TVE.PostList.content.initAllShortcodes(TVE.inner_$(e))})},tcb_filter_html_before_save:function(t,e,i){if(!e.is(TVE.identifier("contentbox"))&&!i.render_post_list){var n=TVE.apply_filters("wrapper_selector","#tve_editor"),s=n?"".concat(n,",.thrive-symbol-shortcode"):".thrive-symbol-shortcode",a=!e.is(s)&&t.children().is(TVE.identifier("post_list"));if(a=TVE.apply_filters("tcb.post_list.add_linked_elements",a,e)){var o=t.find("".concat(TVE.identifier("post_list"),":not(.tcb-featured-list)"));if(o.length){var r=TVE.PostList.utils.getPaginationForPostList(o),l=TVE.PostList.utils.getFeaturedPostList(o);r.length&&t.append(r),l.length&&t.prepend(l)}}TVE.PostList.content.setElementClasses(t),TVE.PostList.content.parseArticleElementsShortcodes(t),TVE.PostList.content.parseMainShortcodes(t)}return t},tcb_save_post_data_after:function(t){return t.tve_content=TVE.PostList.dynamicImage.replaceImageShortcodeSrc(t.tve_content),t},allow_dragenter:function(t,e){if(TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is(TVE.identifier("post_list")))if(e.is(TVE.identifier("article")))t=!1;else if(!TVE.FLAGS.$dragged_element.static_element){var i=TVE.FLAGS.$dragged_element.parents(TVE.identifier("article")).attr("id"),n=e.parents(TVE.identifier("article")).attr("id");t=t&&i===n}return t},"tcb.shared_style.element_type":function(t,e){return e.is("".concat(TVE.identifier("post_read_more"),", ").concat(TVE.identifier("pagination_load_more")))&&(t="button"),t},"tcb.get_dropzone_target":function(t){return TVE.PostList.utils.getDropzoneTarget(t)},"tcb.change_target":function(t){return TVE.PostList.utils.getDropzoneTarget(t)},"tcb.extend-image-control":function(){return i("../sub-components/extra-image")},"tcb.image.show_dynamic_controls":function(t,e){return TVE.PostList.utils.isInsidePostList(e)&&(t=!0),t},"tcb.elem.selected.undefined_type":function(t){return void 0===TVE.Elements[t]&&"post_list_featured"!==t},"tcb.cloud_templates.element_name":function(t){return"post_list_featured"===t?"Featured Content List":TVE.t.elements[t]},tcb_insert_content_template:function(t){return TVE.PostList.content.initAllShortcodes(t),TVE.PostList.utils.syncAuthorImages(t)},"tcb.symbol.before_save":function(t){return t.symbol_content=TVE.PostList.dynamicImage.replaceImageShortcodeSrc(t.symbol_content),t}}};e.exports=n},"inline-shortcodes.js":function(t,e,i){var n={actions:{"tcb.post_list.before_article_sync":function(t,l){t.find(".thrive-shortcode-content").each(function(t,e){var i=TVE.inner_$(e),n=i.attr("data-shortcode"),s=TVE.PostList.posts[l],a=TVE.apply_filters("tcb.post_list_article.sync.".concat(n),s[n],s,i),o=TVE.inner_$(a);if(o.length){var r=o.text();["tcb_post_tags","tcb_post_categories"].includes(i.attr("data-shortcode"))&&"1"===i.attr("data-attr-link")?i.find("a").html(r):i.html(r)}})},"tcb.froala.after_shortcode_select":TVE.PostList.inlineShortcodes.initializePostDateDropdown,"tve.froala.inline.shortcodes.before.save":function(t){["tcb_post_categories","tcb_post_tags"].includes(t.getAttribute("data-shortcode"))&&"1"===t.getAttribute("data-attr-link")&&t.setAttribute("data-attr-css",jQuery(t).find("a").attr("data-css")||"")}},filters:{"tcb.inline_shortcodes.insert":function(t){if(t.options.push({key:"inline",value:1}),t.extra_key)return t;var e=TVE.PostList.inlineShortcodes.getShortcodeName(t);return e&&(t.name=e),t},"tcb.inline_shortcodes.afterInsert":function(t,e){var i="tcb_post_published_date",n=e.key;if(n===i){var s=t.find(".thrive-shortcode-content"),a=TVE.PostList.utils.getArticleID(t),o=TVE.PostList.posts[a],r=TVE.apply_filters("tcb.post_list_article.sync.".concat(i),o[n],o,s),l=TVE.inner_$(r);l.length&&s.html(l.text())}TVE.PostList.utils.checkForPostListSync(t)}}};e.exports=n},"sync.js":function(t,e,i){var n={actions:{"tcb.after-insert":function(t){var e=TVE.Elements[TVE._type(t)];if(e){t.parents(".thrv_symbol").length&&TVE.PostList.utils.syncAuthorImages(t);var i=t.closest(TVE.identifier("article"));if(i.length){if("post_read_more"===e.tag&&TVE.PostList.utils.wrapPostReadMore(t),e.shortcode){var n=i.attr("data-id");TVE.PostList.content.replaceShortcodeWithData(e.shortcode,t,n)}t.hasClass("tcb-post-author-picture")&&TVE.PostList.content.syncArticle(i[0],i,!0),TVE.PostList.utils.checkForPostListSync(i)}else t.is(TVE.identifier("post_list"))&&TVE.FLAGS.$dragged_element&&!TVE.FLAGS.$dragged_element.static_element&&TVE.PostList.utils.moveElementsNearPostList(t);setTimeout(function(){TVE.PostList.layout.masonryRedo()},100)}else console.warn("Corresponding element not found inside TVE.Elements for:"+t)},"tcb.element.duplicate":function(t,e){if(t.is(TVE.identifier("post_list"))){var i=TVE.CSS_Rule_Cache.uniq_id(e,!0);TVE.head_css_copy(t.attr("data-css"),i),TVE.PostList.dynamicImage.regeneratePostListStyleNodes(e),TVE.PostList.utils.cloneElementsWithPostList(t,e)}else TVE.PostList.utils.checkForPostListSync(t)},"tcb.element.remove":function(t){if(TVE.PostList.$articleToSync&&(TVE.PostList.utils.checkForPostListSync(TVE.PostList.$articleToSync),delete TVE.PostList.$articleToSync),t.hasClass("thrv_symbol")){var e=t.find(".tcb-post-list:not(.tcb-featured-list)");t=e.length?e:t}t.is(TVE.identifier("post_list"))&&(TVE.PostList.utils.removeElementsWithPostList(t),t.hasClass("tcb-featured-list")&&TVE.PostList.utils.getPostListForFeatured(t).attr("data-featured-content",0)),TVE.PostList.layout.masonryRedo()},"tcb.element.focus":function(t){var i=TVE.identifier(TVE._type(t)),e=t.closest(TVE.identifier("article")),n=e.closest(TVE.identifier("post_list"));if(e.length){var s=e.find(i).index(t);-1!==s&&n.find(TVE.identifier("article")).each(function(t,e){jQuery(e).find(i).eq(s).addClass(TVE.PostList.constants.SIMILAR_EDIT_CLASS)})}},"tcb.focus.clear":function(){TVE.inner.$body.find(".".concat(TVE.PostList.constants.SIMILAR_EDIT_CLASS)).removeClass(TVE.PostList.constants.SIMILAR_EDIT_CLASS)},"tcb.froala.blur":function(t,e){void 0!==TVE.ActiveElement&&TVE.ActiveElement.is(TVE.TEXT_ALL)&&TVE.PostList.utils.checkForPostListSync(e.$el)},"tcb.columns.resized":function(t){TVE.inner.$body.find('[data-css="'+t.left_column.data("css")+'"]').length&&TVE.PostList.utils.checkForPostListSync(t.left_column),TVE.PostList.layout.masonryRedo()},icon_element_changed:TVE.PostList.utils.checkForPostListSync,"tcb.button_icon.change":TVE.PostList.utils.checkForPostListSync,"tcb.button_icon_side.change":TVE.PostList.utils.checkForPostListSync,"tcb.button_secondary_text.change":TVE.PostList.utils.checkForPostListSync,"tcb.image.change":function(){return TVE.PostList.utils.checkForPostListSync(TVE.ActiveElement)},"tcb.image.overlay.change":function(){return TVE.PostList.utils.checkForPostListSync(TVE.ActiveElement)},"tcb.image.caption_change":TVE.PostList.utils.checkForPostListSync,"tcb.image.style_change":TVE.PostList.utils.checkForPostListSync,"tcb.image.style_cancel":TVE.PostList.utils.checkForPostListSync,"tcb.columns_wrap.change":TVE.PostList.utils.checkForPostListSync,"tcb.columns.render":TVE.PostList.utils.checkForPostListSync,"tcb.contentbox_placeholder.render":TVE.PostList.utils.checkForPostListSync,"tcb.button_style_change":TVE.PostList.utils.checkForPostListSync,"tcb.button_style_cancel":TVE.PostList.utils.checkForPostListSync,"tcb.divider_style.input":TVE.PostList.utils.checkForPostListSync,"tcb.divider_style.cancel":TVE.PostList.utils.checkForPostListSync,"tcb.change_decoration":TVE.PostList.utils.checkForPostListSync,"tcb.responsive_visibility_changed":TVE.PostList.utils.checkForPostListSync,"tcb.button_global_style_extra":function(t){if(t.is(TVE.identifier("post_read_more"))){var e={color:"#fff"};t.head_css(e,null," .tcb-button-link"),TVE.state_manager.set_state("hover"),t.head_css(e,null," .tcb-button-link"),TVE.state_manager.set_state("")}},"tcb.post_list_article.sync":function(t){"masonry"===TVE.PostList.utils.readValue(t,"type")&&setTimeout(function(){TVE.PostList.layout.applyLayout(t)},100)},"tcb.animations.after_apply":function(){var t=TVE.ActiveElement;t.is(TVE.identifier("article"))?TVE.PostList.content.articleEventSync(t,t.closest(TVE.identifier("post_list")),!0):TVE.PostList.utils.checkForPostListSync(t)},"tcb.animations.after_remove":function(){var t=TVE.ActiveElement;t.is(TVE.identifier("article"))?TVE.PostList.content.articleEventSync(t,t.closest(TVE.identifier("post_list")),!1):TVE.PostList.utils.checkForPostListSync(t)}},filters:{"tcb.post_list_article.sync.tcb_post_content":function(t,e,i){var n=i.attr("data-size")||"content",s=i.attr("data-words")||TVE.PostList.constants.DEFAULT_EXCERPT_WORDS,a=void 0===i.attr("data-read_more")?TVE.PostList.constants.DEFAULT_READ_MORE:i.attr("data-read_more"),o=' <a href="#">'.concat(a,"</a>");return t=TVE.PostList.content.getPostContent(e.ID,n,s,o),t=i.clone().html(t)},"tcb.post_list_article.sync.tcb_post_author_bio":function(t,e,i){var n=TVE.inner_$(t);return""===n.html()&&n.html(TVE.t("post_list_no_author_description")),n[0].outerHTML},allow_remove:function(t,e){var i=e[0].closest(TVE.identifier("article"));return i.length&&(TVE.PostList.$articleToSync=i),t},"tcb.after-social-render":function(t){return TVE.PostList.utils.checkForPostListSync(t),t},"tve.read.shortcode":function(t){return t.each(function(){["tcb_post_tags","tcb_post_categories"].includes(this.dataset.shortcode)&&void 0===this.dataset.attrLink&&this.setAttribute("data-attr-link","0")}),t}}};e.exports=n}},"inline-shortcodes.js":function(t,e,i){var r="fr-dropdown-list",l=r+"-date-format",c=r+"-time-format",d="CFG",h="CFP",u={areShortcodesAvailableForKey:function(t,e){for(var i in t)if(t[i].extra_param===e)return 0<Object.keys(t[i].input.id.value).length;return!1},areShortcodesVisibleForGroup:function(t){return 0<t.find('option:not([style*="display: none"])').length},toggleInlineShortcodes:function(t,e,n){var i=e.is(TVE.identifier("pagination_label")),s=t.find('optgroup[label="Meta Data"]'),a=TVE.PostList.utils.isInsidePostList(e),o=TVE.apply_filters("tcb.show_post_inline_shortcodes",a);t.find('optgroup[label="Post"]').toggle(o),s.find('option:not([data-param1="Custom Fields"])').toggle(o),[d,h].forEach(function(t){var e,i=u.areShortcodesAvailableForKey(n["Meta Data"],t);e=t===h?a:!a,s.find('option[data-param2="'+t+'"]').toggle(e&&i)}),s.toggle(u.areShortcodesVisibleForGroup(s)),t.find('optgroup[label="Post List Pagination"]').toggle(i),i&&t.find('optgroup[label!="Post List Pagination"]').hide()},isCustomFormat:function(t){return"custom"===t},initializePostDateDropdown:function(t){if("tcb_post_published_date"===t.find("#".concat(r)).val()){var i=t.find("#".concat(l,"-select")),n=t.find("#".concat(l)),s=t.find("#".concat(c,"-select")),a=t.find("#".concat(c)),e=t.find(".".concat(r,"-show-time")),o=u.isCustomFormat;u.toggleDateInput(n,o(i.val())),u.toggleTimeInput(o(s.val())),u.toggleTimeCheckbox(s,0<a.val().length),e.find("input").prop("checked",0<a.val().length),e.on("change",function(t){var e=t.target.checked;u.toggleTimeCheckbox(s,e),a.val(e?TVE.CONST.time_format:"")}),i.on("change",function(){var t=i.val(),e=o(t);e||n.val(t),u.toggleDateInput(n,e)}),s.on("change",function(){var t=s.val(),e=o(t);e||a.val(t),u.toggleTimeInput(e)})}},toggleDateInput:function(t,e){t.toggle(e),TVE.froala.editor.$tb.find('label[for="'.concat(l,'"]')).toggle(e)},toggleTimeInput:function(t){TVE.froala.editor.$tb.find("#".concat(c,', label[for="').concat(c,'"]')).toggle(t)},toggleTimeCheckbox:function(t,e){t.toggle(e),TVE.froala.editor.$tb.find('label[for="'.concat(c,'-select"]')).toggle(e),u.toggleTimeInput(e&&u.isCustomFormat(t.val()))},getShortcodeName:function(t){var e,i=TVE.ActiveElement,n=i.closest(TVE.identifier("pagination")),s=t.key;if(n.length){var a=TVE.PostList.utils.getPostListForPagination(n);e=TVE.PostList.content.getPaginationInstanceForPostList(a).getLabelValue(s)}else{var o=TVE.PostList.utils.getArticleID(i),r=TVE.PostList.posts[o];if(!_.isEmpty(r)){var l=TVE.apply_filters("tcb.post_list_article.sync.".concat(s),r[s],r),c=TVE.inner_$(l);c&&(e=c.text())}if(["tcb_post_tags","tcb_post_categories"].includes(s))"1"===t.configOptions.find(function(t){return"link"===t.key}).value&&(e="<a>".concat(e||t.name,"</a>"))}return e}};e.exports=u},"layout.js":function(t,e,i){var n={applyLayout:function(t,e){var i=!(1<arguments.length&&void 0!==e)||e;if(0!==t.length&&!TVE.state_manager.is_hover()){var n=parseInt(t.mediaAttr("data-columns")),s=parseInt(t.mediaAttr("data-vertical-space")),a=parseInt(t.mediaAttr("data-horizontal-space")),o=("masonry"===TVE.PostList.utils.readValue(t,"type")&&1<n?"masonry":"grid")+"Layout",r=TVE.Components.post_list.controls.ColumnsNumber;i&&this.resetLayout(t,r),"function"==typeof this[o]&&this[o](t,n,s,a,r),t.is(TVE.ActiveElement)&&"change"===r.currentEventType&&TVE.PostList.getComponent(t).update()}},resetLayout:function(t,e){TVE.ActiveElement&&TVE.ActiveElement.is(TVE.identifier("post_list"))&&"change"===e.currentEventType&&(TVE.Components.layout.controls.MarginAndPadding.disable_controls(),TVE.Components.layout.disable_controls(TVE.Elements.post_list.components.layout.disabled_controls)),t.hasClass("masonry")&&(t.masonry("destroy"),t.removeAttr("data-masonry"),e.applyElementCss({padding:0},t,"",""),t.find(TVE.identifier("article")).css({left:"",top:"",position:""})),e.applyElementCss({width:"","min-width":"","margin-left":"","margin-bottom":"","margin-top":""},t," "+TVE.identifier("article"),"")},resetSpaceCss:function(t,e){var i=1<arguments.length&&void 0!==e?e:"",n='[data-css="'+TVE.CSS_Rule_Cache.uniq_id(t)+'"]',s=(n=TVE.apply_filters("tcb.post_list.identifier",n,t))+" ".concat(TVE.identifier("article"),".thrv_wrapper");TVE.head_css_remove(s+":nth-child(",i,!0),TVE.head_css_remove(s+":not(:nth-child",i,!0)},gridLayout:function(t,e,i,n,s){var a=TVE.identifier("article"),o="calc((100% - ".concat(1===e?0:(e-1)*n,"px)/").concat(e," )"),r=TVE.apply_filters("tcb.post_list.prefix",TVE.identifier("post_list"),t);s.applyElementCss({width:o},t," ".concat(a,".thrv_wrapper"),r),s.applyElementCss({"margin-top":i+"px!important"},t," ".concat(a,".thrv_wrapper:nth-child(n+").concat(e+1,")"),r),s.applyElementCss({"margin-top":"0!important"},t," ".concat(a,".thrv_wrapper:not(:nth-child(n+").concat(e+1,"))"),r),s.applyElementCss({"margin-right":n+"px!important"},t," ".concat(a,".thrv_wrapper:not(:nth-child(").concat(e,"n))"),r),s.applyElementCss({"margin-right":"0!important"},t," ".concat(a,".thrv_wrapper:nth-child(")+(1===e?"":e)+"n)",r)},masonryLayout:function(t,e,i,n,s){TVE.ActiveElement&&TVE.ActiveElement.is(TVE.identifier("post_list"))&&(TVE.Components.layout.disable_extra_controls(["top","right","bottom","left"].map(function(t){return"padding-"+t})),TVE.Components.layout.disable_controls(["Alignment"].concat(_toConsumableArray(TVE.Elements.post_list.components.layout.disabled_controls))));var a=TVE.identifier("article"),o={itemSelector:a,columnWidth:a,gutter:n},r=TVE.apply_filters("tcb.post_list.prefix",TVE.identifier("post_list"),t);s.applyElementCss({width:"calc((100% - "+(e-1)*n+"px)/"+e+")",padding:0},t," ".concat(a,".thrv_wrapper"),r),s.applyElementCss({"margin-top":i+"px!important"},t," ".concat(a,".thrv_wrapper:nth-child(n+").concat(e+1,")"),r),s.applyElementCss({"margin-top":"0!important"},t," ".concat(a,".thrv_wrapper:not(:nth-child(n+").concat(e+1,"))"),r),_.delay(function(){try{t.data("masonry",!1).masonry(o)}catch(t){console.log(t)}t.attr("data-masonry",JSON.stringify(o))},42)},masonryRedo:function(t){if(void 0===t&&(t=TVE.inner.$body.find("".concat(TVE.identifier("post_list"),'[data-type="masonry"]'))),t.length&&t.data("masonry")&&t.data("masonry").$element)try{t.masonry("layout")}catch(t){console.log(t)}}};e.exports=n},"query-builder":{"query-modal.js":function(t,e,i){function n(t){return void 0!==TVE.CONST.post_types[t]}var o,a,r,l,c,d;o=jQuery,a=i("./select"),r={},l=TVE.Views.Base.base_view.extend({className:"query-rule",before_initialize:function(){this.model.on("destroy",this.remove.bind(this));var t=this.model.get("taxonomy");"author"===t?this.template="post-list/author-query-rule":n(t)?this.template="post-list/post-query-rule":this.template="post-list/query-rule"},after_render:function(t){var e=this,i=[{value:"IN",label:0===t.index?"Display":"but only"},{value:"NOT IN",label:0===t.index?"Don't display":"but exclude"}];TVE.ActiveElement.hasClass("tcb-featured-list")||i.push({value:"ALWAYS",label:0===t.index?"":"always show"}),this.relationSelect=new a({el:this.$(".q-s-relation"),model:new Backbone.Model({list:i,className:"small no-search",default_value:this.model.get("relation")}),on_select:function(t){e.model.set("relation",t),"NOT IN"===t?(e.operatorSelect.disable(!0),e.operatorSelect.set_value("OR"),e.model.set("operator","OR")):e.operatorSelect.disable(!1),e.$(".q-s-relation .tth-elem-selected").toggleClass("bad-color","NOT IN"===t),e.model.get("terms").length&&e.model.collection.trigger("ruleChange")}}),this.operatorSelect=new a({el:this.$(".q-s-operator"),model:new Backbone.Model({list:[{value:"AND",label:"all"},{value:"OR",label:"at least one"}],className:"small no-search",default_value:this.model.get("operator")}),on_select:function(t){e.model.set("operator",t),e.model.get("terms").length&&e.model.collection.trigger("ruleChange")}}),"NOT IN"===this.model.get("relation")&&(this.operatorSelect.disable(!0),this.operatorSelect.set_value("OR")),this.termsSelect=new a({el:this.$(".q-s-terms"),defaultSelected:"+ Add",model:new Backbone.Model({list:this.model.getTerms(!1,function(t){e.termsSelect.model.set("list",t)}),className:"small select-plus"}),on_select:function(t){e.manageTerms(t),e.termsSelect.model.set("list",r[e.model.get("taxonomy")])},on_search:function(t){e.model.set("search",t),0===t.length?(e.termsSelect.model.set("list",r[e.model.get("taxonomy")]),e.termsSelect.loading(!1)):e.model.getTerms(!0,function(t){0===t.length&&(t=[{value:0,label:"No results"}]),e.termsSelect.model.set("list",t),e.termsSelect.loading(!1)})}}),_.any(this.model.get("terms"),function(t){return 0===e.model.getTermLabel(t).length})?(this.model.set("specific",1),this.model.getTerms(!0,this.renderTerms.bind(this)),this.model.set("specific",0)):this.renderTerms(),"NOT IN"===this.model.get("relation")&&this.$(".q-s-relation .tth-elem-selected").addClass("bad-color")},ruleRemove:function(){this.model.destroy()},renderTerms:function(){var i=this,t=this.model.get("terms");this.$(".q-selected-term").remove(),t.forEach(function(t){var e=i.model.getTermLabel(t);o(TVE.tpl("post-list/query-term")({label:e,term:t})).insertBefore(i.termsSelect.$el)})},manageTerms:function(t,e){var i,n=this.model.get("terms");i="string"==typeof t?t:e.dataset.value,-1===n.indexOf(i)?n.push(i):n=n.filter(function(t){return t!==i}),this.model.set("terms",n),this.renderTerms(),this.termsSelect.set_value(""),this.model.collection.trigger("ruleChange")}}),c=Backbone.Model.extend({defaults:function(){return{operator:"OR",relation:"IN",taxonomy:"",terms:[],post_type:"post",search:""}},getPostTypeLabel:function(){return TVE.CONST.post_types[this.get("post_type")]},getTaxonomyLabel:function(){var e,i=this.get("taxonomy");return _.each(TVE.PostList.Taxonomies[this.get("post_type")],function(t){t.value===i&&(e=t.label)}),e||'<span data-no-label="'+i+'">'+i+"</span>"},getTermLabel:function(t){var e=this.get("taxonomy");return r[e]&&r[e][t]?r[e][t].label:""},getTerms:function(t,e){var i=0<arguments.length&&void 0!==t&&t,n=1<arguments.length?e:void 0,s=this.get("taxonomy"),a=[];return i||void 0===r[s]?(r[s]=r[s]?r[s]:{},o.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:this.termsUrl(),method:"GET",data:this.toJSON(),success:function(t){t.forEach(function(t){r[s][t.value]=t}),"function"==typeof n&&n(t)},error:function(){return TVE.page_message("Error fetching terms. Reload the page and try again!",!0,5e3)}})):a=r[s],a},termsUrl:function(){var t=this.get("taxonomy"),e=TVE.CONST.routes.posts;return"author"===t?e+="/authors":n(t)||(e+="/terms"),e}}),d=Backbone.Collection.extend({model:c,getRules:function(){var s=[];return this.each(function(t){var e=t.get("relation"),i=t.get("operator"),n="";switch(e){case"IN":n="AND"===i?"AND":"IN";break;case"NOT IN":n="NOT IN";break;case"ALWAYS":n="ALWAYS ".concat("AND"===i?"AND":"IN")}t.get("terms").length&&s.push({taxonomy:t.get("taxonomy"),terms:t.get("terms"),operator:n})}),s},setRules:function(t,n){var s=this;_.each(t,function(t){var e=t.operator.replace("ALWAYS ",""),i=t.operator.includes("ALWAYS")?"ALWAYS":t.operator;s.add(new c({post_type:n,taxonomy:t.taxonomy,terms:t.terms,relation:"AND"===t.operator?"IN":i,operator:"AND"===e?"AND":"OR"}))})}}),e.exports=TVE.modal.base.extend({after_initialize:function(){var n=this;if(this.$modalContent=this.$(".tcb-modal-content"),this.$el.on("click",function(t){var e=o(t.target).closest(".tth-dropdown-container");n.$(".tth-visible").not(e).removeClass("tth-visible")}),this.$el.addClass("medium"),this.$("#post-list-query-options").html(TVE.tpl("post-list/query-options")),TVE.apply_filters("tcb.post_list.query_builder.show_related_taxonomies",!0)){var e=this.$(".q-related-taxonomies"),t=_.map(TVE.CONST.taxonomies,function(t){return Object({value:t.name,label:t.label})});t.push({value:"author",label:"Author"}),_.each(t,function(t){e.append('<li><label><input type="checkbox" class="query-arg click" data-arg="related" value="'+t.value+'">'+t.label+"</label></li>")})}this.queryRulesCollection=new d;var s=this.$(".query-rules");this.queryRulesCollection.on("reset",function(i){s.empty(),i.each(function(t){var e=new l({model:t,index:i.indexOf(t)});s.append(e.$el)}),n.checkNoRules()}).on("add",function(t,e){var i=new l({model:t,index:e.indexOf(t)});s.append(i.$el),n.checkNoRules()}).on("ruleChange update",function(){n.refreshQueryCount(),n.checkNoRules()}).on("remove",function(t,i,e){0===e.index&&(s.empty(),i.each(function(t){var e=new l({model:t,index:i.indexOf(t)});s.append(e.$el)})),n.refreshQueryCount(),n.checkNoRules()}),this.postTypeSelect=new a({el:this.$(".query-post-type-select"),model:new Backbone.Model({list:_.map(TVE.CONST.post_types,function(t,e){return new Object({label:t,value:e})}),className:"no-search small"}),on_select:this.postTypeChange.bind(this)}),this.taxonomiesSelect=new a({el:this.$(".new-rule-taxonomies"),model:new Backbone.Model({list:TVE.PostList.Taxonomies.post,className:"no-search"}),on_select:this.createNewRule.bind(this)}),this.orderbySelect=new a({el:this.$(".tth-dropdown-container.orderby-arg"),model:new Backbone.Model({list:[{label:"Date Published",value:"date"},{label:"Date Modified",value:"modified"},{label:"Title",value:"title"},{label:"Author",value:"author"},{label:"Comments",value:"comment_count"},{label:"Random",value:"rand"}],className:"no-search small"}),on_select:function(t){n.$('.query-arg[data-arg="orderby"]').val(t),n.refreshQueryCount()}}),this.orderSelect=new a({el:this.$(".tth-dropdown-container.order-arg"),model:new Backbone.Model({list:[{label:"Ascending",value:"ASC"},{label:"Descending",value:"DESC"}],className:"no-search small"}),on_select:function(t){n.$('.query-arg[data-arg="order"]').val(t),n.refreshQueryCount()}})},before_open:function(){this.$element=TVE.ActiveElement,this.$(".query-title > div > div:nth-child(1)").html(this.$element.hasClass("tcb-featured-list")?TVE.t.featured_list_query_title:TVE.t.post_list_query_title);var t=TVE.PostList.utils.readQueryFromElement();this.q_filter({},this.$('[data-filter="'+t.filter+'"]')[0]),this.setQueryInModal(t),this.refreshQueryCount()},setQueryInModal:function(s){"custom"===s.filter&&this.$('button[data-arg="post_type"][value="'+s.post_type+'"]').trigger("click"),this.$(".query-arg").each(function(t,e){var i=e.dataset.arg,n=s[i];if(n&&n.length)switch(e.type){case"radio":case"checkbox":e.checked=-1!==n.indexOf(e.value);break;default:e.value=n}}),this.orderSelect.set_value(s.order),this.orderbySelect.set_value(s.orderby),this.postTypeSelect.set_value(s.post_type||"post"),this.queryRulesCollection.setRules(s.rules,s.post_type),this.queryRulesCollection.setRules(s.sticky,s.post_type)},getQueryFromModal:function(){var n={paged:1};if(this.$(".query-arg").each(function(t,e){var i=e.dataset.arg;switch(e.type){case"checkbox":case"radio":void 0===n[i]&&(n[i]=[]),e.checked&&n[i].push(e.value);break;default:n[i]=e.value}}),n.queried_object=this.getQueriedObject(),"related"===n.filter)delete n.post_type;else{var t=this.queryRulesCollection.getRules();n.sticky=t.filter(function(t){return t.operator.includes("ALWAYS")}),n.rules=t.filter(function(t){return!t.operator.includes("ALWAYS")})}return TVE.Components.post_list.controls.NumberOfItems.setValue(n[this.$('.query-arg[data-arg="posts_per_page"]').attr("data-arg")]),n},save:function(){var t=this;this.$modalContent.addClass("loading"),TVE.PostList.utils.applyQuery(this.$element,this.getQueryFromModal(),function(){t.$modalContent.removeClass("loading"),t.close()})},before_close:function(){this.$('button[data-fn="q_filter"]').removeAttr("data-query"),this.$(".query-arg").each(function(t,e){switch(e.type){case"radio":case"checkbox":e.checked=!1;break;default:e.value=""}})},refreshQueryCount:_.debounce(function(){var t=this.getQueryFromModal(),e=this.$(".post-list-count").empty();t.posts_per_page=-1,TVE.PostList.utils.fetchPosts(t,function(t){e.html(parseInt(t.count)).toggleClass("red",!parseInt(t.count))})},3e3),q_filter:function(t,e){if(this.keepQueryData(e),this.$(".q-filter").hide().filter('[data-view="'+e.dataset.filter+'"]').show(),this.$('.query-arg[data-arg="filter"]').val(e.dataset.filter),this.$('button[data-fn="q_filter"]').removeClass("active"),e.classList.add("active"),this.queryRulesCollection.reset(),e.dataset.query){var i=TVE.PostList.utils.readQueryFromElement(e);this.setQueryInModal(i)}},keepQueryData:function(t){var e=this.getQueryFromModal();o(t).siblings('button[data-filter="'+e.filter+'"]').attr("data-query",JSON.stringify(e).replace(/"/g,"'"))},postTypeChange:function(t){var e=this;this.$(".post-list-count").html("~"),this.$('.query-arg[data-arg="post_type"]').val(t),this.queryRulesCollection.reset(),this.newRule(!1),this.post_type=t,void 0===TVE.PostList.Taxonomies[this.post_type]?o.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:TVE.CONST.routes.posts+"/taxonomies",method:"GET",data:{post_type:this.post_type},success:function(t){t.push({value:"author",label:"Authors"}),t.push({value:e.post_type,label:TVE.CONST.post_types[e.post_type]}),TVE.PostList.Taxonomies[e.post_type]=t,e.renderTaxonomies(t)},error:function(){TVE.page_message("Error fetching taxonomies. Reload the page and try again!",!0,5e3)}}):this.renderTaxonomies(TVE.PostList.Taxonomies[this.post_type])},renderTaxonomies:function(t){var e=this,i=this.$(".q-custom-container");t&&t.length?(i.show(),this.taxonomiesSelect.model.set("list",t),_.each(t,function(t){e.$('[data-no-label="'+t.value+'"]').replaceWith(t.label)})):i.hide()},newRule:function(t){this.$(".tth-add-rule").toggle(!t),this.$(".new-rules").toggle(!!t),this.taxonomiesSelect.set_value("")},checkNoRules:function(){this.$(".no-rules").toggle(0===this.queryRulesCollection.length)},createNewRule:function(t,e){this.queryRulesCollection.add(new c({post_type:this.post_type,taxonomy:t})),this.refreshQueryCount(),this.newRule(!1)},getQueriedObject:function(){return _.pick(TVE.CONST.queried_object,["ID","data","post_author","post_type","taxonomy","term_id"])}})},"select.js":function(t,e,i){e.exports=TVE.Views.Base.base_view.extend({template:"post-list/select",before_initialize:function(t){"function"==typeof t.on_select&&(this.on_select=t.on_select),"function"==typeof t.on_search&&(this.on_search=t.on_search),this.defaultSelected=t.defaultSelected?t.defaultSelected:"Choose",this.listenTo(this.model,"change",this.renderList.bind(this))},after_render:function(){var t=this.model.get("className"),e="";t&&this.$el.addClass(t),this.model.get("default_value")&&(e=this.model.get("default_value")),this.set_value(e),this.selectClose(),this.renderList()},renderList:function(){var e=this.$(".tth-dropdown"),t=this.model.get("list");0!==e.length&&(e.empty(),t&&Object.values(t).length?_.each(t,function(t){e.append('<li class="click" data-fn="set_value" data-value="'+t.value+'">'+t.label+"</li>")}):e.append('<li><div class="loading-when-empty"></div></li>'),this.searchSize())},searchSize:function(){var t=this.$(".tth-dropdown"),e=t[0].scrollHeight>t[0].clientHeight,i=parseInt(t.css("width"))-6-(e?15:0);this.$(".tth-dropdown-search").css({width:i+"px","max-width":i+"px"})},set_value:function(t){var e,i=this.defaultSelected;"string"==typeof t?e=t:void 0!==t&&(e=t.currentTarget.dataset.value),0!==parseInt(e)&&(_.each(this.model.get("list"),function(t){String(t.value)===String(e)&&(i=t.label)}),this.$(".tth-dropdown-search").val(""),this.selectClose(),this.$(".tth-elem-selected").html(i),"object"===_typeof(t)&&this.on_select(e,i,t))},get_value:function(){return this.$(".tth-elem-selected").html()},is_open:function(){return this.$el.hasClass("tth-visible")},selectOpen:function(){this.is_disabled()||(this.$el.addClass("tth-visible"),this.searchSize())},selectClose:function(){this.$el.removeClass("tth-visible")},selectToggle:function(){this.is_open()?this.selectClose():this.selectOpen()},disable:function(t){this.$el.toggleClass("disabled",t)},is_disabled:function(){return this.$el.hasClass("disabled")},search:_.debounce(function(t,e){this.loading(!0),this.on_search(e.value)},400),loading:function(t){this.$(".tth-dropdown").toggleClass("loading",t)},on_select:function(){},on_search:function(t){}})}},"sub-components":{"extra-image.js":function(t,e,i){e.exports={imageType:function(t,e){var i=this.$(".dynamic-image-select").val(),n=this.getImageSizeFromUrl(),s=null===i?"author":i,a="";switch(e.value){case"dynamic":var o=TVE.PostList.utils.getArticleID(t);a=TVE.PostList.dynamicImage.getImage(o,s);break;case"static":a=this.picker.get().url}this.model.set("value",a),TVE.do_action("tcb.dynamic_image.source_changed",t,"dynamic"===e.value),this.showImageTypeSection(e.value),this.model.set("image-size",n),this.change()},dynamicImage:function(t,e){var i=TVE.PostList.utils.getArticleID(t),n=TVE.PostList.dynamicImage.getImage(i,e.value,this.model.get("image-size"));this.$(".size-select").toggle("featured"===e.value),this.model.set("value",n),TVE.do_action("tcb.dynamic_image.source_changed",t,!0),this.change()},dynamicImageSize:function(t,e){var i=this.$(".dynamic-image-select").val(),n=TVE.PostList.utils.getArticleID(t),s=TVE.PostList.dynamicImage.getImage(n,i,e.value);this.model.set("image-size",e.value),s=-1===s.indexOf("size")?s+"?size="+e.value:s.replace(new RegExp(TVE.CONST.featured_image.default_sizes.join("|")),e.value),this.model.set("value",s),this.change()},onOpen:function(){var t=this.$(".tve-background-image-type"),e=TVE.PostList.dynamicImage.isDynamicCss(this.model.get("value"));this.$(".dynamic-image-select").val(""),TVE.apply_filters("tcb.dynamic_image.show_tab",0<TVE.ActiveElement.closest(TVE.identifier("article")).length,TVE.ActiveElement)?t.show():(e=!1,t.hide()),this.showImageTypeSection(e?"dynamic":"static")},showImageTypeSection:function(i){if(this.$(".bg-dynamic-image, .bg-static-image").hide(),this.$(".bg-"+i+"-image").show(),this.$(".bg-img-type").each(function(t,e){e.checked=e.value===i}),"dynamic"===i){var t=this.model.get("value");t=t.length?this.model.get("value").includes("dynamic_author")?"author":"featured":"author";var e=this.getImageSizeFromUrl();this.$(".dynamic-image-select").val(t),this.$(".dynamic-image-size-select").val(e),this.$(".size-select").toggle("featured"===t),this.model.set("image-size",e)}},after_render:function(){this.$(".image-picker-wrapper").replaceWith(TVE.tpl("post-list/extra-image")())},getImageSizeFromUrl:function(){var t,e=this.model.get("value");return e&&(t=e.match(new RegExp(TVE.CONST.featured_image.default_sizes.join("|")))),t&&t.length?t[0]:"full"}}},"post-content.js":function(t,e,i){var n=i("../../../base");e.exports=n.component.extend({controls_init:function(t){var e=this;t.ContentSize.change=function(t){TVE.PostList.content.updatePostContent(t.parents(TVE.identifier("post_list")),e)},t.ContentSize.update=function(t){var e=t.attr("data-size");void 0===e&&(e="words"),this.setValue(e)},t.WordsTrim.input=function(t){TVE.PostList.content.updatePostContent(t.parents(TVE.identifier("post_list")),e)},t.WordsTrim.update=function(t){var e=t.attr("data-words");void 0===e&&(e=TVE.PostList.constants.DEFAULT_EXCERPT_WORDS),this.setValue(e)},t.ReadMoreText.onInput=function(t){TVE.PostList.content.updatePostContent(t.parents(TVE.identifier("post_list")),e)},t.ReadMoreText.change=function(){},t.ReadMoreText.update=function(t){var e=t.attr("data-read_more");void 0===e&&(e=TVE.PostList.constants.DEFAULT_READ_MORE),this.setValue(e)}},after_update:function(){var t=this.controls.ContentSize.getValue();this.controls.WordsTrim.$el.toggle("words"===t)}})},"post-date.js":function(t,e,i){function n(t){var e={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:"o",w:"e",z:"DDD",W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:"",L:"",o:"YYYY",Y:"YYYY",y:"YY",a:"a",A:"A",B:"",g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"SSS",e:"zz",I:"",O:"",P:"",T:"",Z:"",c:"",r:"",U:"X"};return t.split("").map(function(t){return t in e?e[t]:t}).join("")}function o(t,e){return moment(t,n(TVE.CONST.date_format+" "+TVE.CONST.time_format)).format(n(e))}var s=i("../../../base"),a=i("../../../controls/tooltip-base"),r=".tcb-date-format-input",l=".tcb-time-format-input";e.exports=s.component.extend({getType:function(t){var e=0<arguments.length&&void 0!==t?t:"";return e&&(e.attr("data-type")||e.attr("data-attr-type"))||"published"},getFormat:function(t,e){var i=1<arguments.length&&void 0!==e?e:"date",n=t.attr("data-".concat(i,"-format"))||t.attr("data-attr-".concat(i,"-format"));return void 0===n?"":n},getDate:function(t,e){var i=1<arguments.length&&void 0!==e?e:null;if(!i){var n=TVE.PostList.utils.getArticleID(t);i=TVE.PostList.posts[n]}return i["tcb_post_".concat(this.getType(t),"_date")]},setDate:function(t,e){var i=this.getDate(e);e.find("time").text(o(i,t))},isCustomFormat:function(e,t){return void 0===t.find(function(t){return t.value===e})},controls_init:function(s){this.hooks(),s.Type.change=function(t,e){t.attr("data-type",e.value),s.DateFormatInput.$("input").trigger("input"),TVE.PostList.utils.checkForPostListSync(t)},s.Type.update=function(t){this.setValue(this.component.getType(t))},s.DateFormatSelect.change=function(t,e){var i=e.value,n=""===i;this.component.$(r).toggle(n),n||s.DateFormatInput.setValue(i,!0)},s.DateFormatSelect.update=function(t){var e=this.component.getFormat(t),i=this.component.isCustomFormat(e,this.config.config.options);this.setValue(i?"":e),this.component.$(r).toggle(i)},s.DateFormatInput.onInput=s.DateFormatInput.input=function(t,e){var i=e.value,n=this.component.getFormat(t,"time");this.component.setDate(i+" "+n,t),t.attr("data-date-format",i),TVE.PostList.utils.checkForPostListSync(t)},s.DateFormatInput.update=function(t){this.setValue(this.component.getFormat(t))},s.ShowTimeFormat.change=function(t,e){var i=e.checked;if(i){var n=s.TimeFormatSelect.config.config.options[0].value;s.TimeFormatSelect.setValue(n,!0)}else s.TimeFormatInput.setValue("",!0);s.TimeFormatSelect.toggle(i).update(t)},s.ShowTimeFormat.update=function(t){var e=0<this.component.getFormat(t,"time").length;this.setChecked(e),s.TimeFormatSelect.toggle(e)},s.TimeFormatSelect.change=function(t,e){var i=e.value,n=""===i;this.component.$(l).toggle(n),n||s.TimeFormatInput.setValue(i,!0)},s.TimeFormatSelect.update=function(t){var e=this.component.getFormat(t,"time"),i=this.component.isCustomFormat(e,this.config.config.options);this.setValue(i?"":e),this.component.$(l).toggle(i)},s.TimeFormatInput.onInput=s.TimeFormatInput.input=function(t,e){var i=e.value,n=this.component.getFormat(t,"date");this.component.setDate(n+" "+i,t),t.attr("data-time-format",i),TVE.PostList.utils.checkForPostListSync(t)},s.TimeFormatInput.update=function(t){this.setValue(this.component.getFormat(t,"time"))},this.dateTooltipPanel=new a({class:"tcb-post-date-tooltip-panel",no_buttons:!0,template:TVE.tpl("post-list/post-date-tooltip"),no_callback:!0,anim_duration:300})},hooks:function(){TVE.add_filter("tcb.post_list_article.sync.tcb_post_published_date",this.syncPostDate)},syncPostDate:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:"",s=0<n.length,a="";return s&&(a=TVE.Components.post_date.getFormat(n,"date")+" "+TVE.Components.post_date.getFormat(n,"time")),a&&0!==a.trim().length||(a=TVE.CONST.date_format,s&&n.attr("data-date-format",a)),t=TVE.Components.post_date.getDate(n,e),"<div><time>"+o(t,a)+"</time></div>"},openTooltip:function(t){return this.dateTooltipPanel.isOpen()?this.dateTooltipPanel.onCancel():this.dateTooltipPanel.open(null,TVE.inner_$(t.target).closest(".tcb-post-date-tooltip-icon")),!1}})},"post-thumbnail.js":function(t,e,i){var n=i("../../../base");e.exports=n.component.extend({controls_init:function(t){var i=this;this.hooks();t.type_url.update=function(t){var e=TVE.PostList.utils.hasLinkedArticles(t);TVE.PostList.utils.toggleLinkedArticlesNotice(this.$el,this.component,e),this.setActive(e?"none":t.attr("data-type-url"))},t.type_url.input=function(t,e){t.attr("data-type-url",e.dataset.value),TVE.PostList.utils.checkForPostListSync(t)},t.type_display.update=function(t){this.setActive(t.attr("data-type-display"))},t.type_display.input=function(t,e){t.attr("data-type-display",e.dataset.value),TVE.PostList.utils.checkForPostListSync(t)},t.size.change=function(t,e){t.attr("data-size",e.value),i.updateImageAttributes(t,e.value),TVE.PostList.utils.checkForPostListSync(t)},t.size.update=function(t){var e=t.attr("data-size");e=e||"full",this.setValue(e)}},hooks:function(){var a=this;TVE.add_filter("tcb.post_list_article.sync.tcb_post_featured_image",function(t,e,i){var n=i.attr("data-size"),s=TVE.inner_$(t);return a.updateImageAttributes(s,n),i.attr("data-post_id",e.ID),s.get(0).outerHTML})},updateImageAttributes:function(t,e){var i=t.attr("data-post_id");if(i){var n=TVE.PostList.posts[i].featured_image_sizes_data;if(n=TVE.apply_filters("tcb.default_featured_image.change_sizes",n,t),!_.isEmpty(n)){var s=this.getImageAttributes(n[e||"full"]);t.find("img").attr(s)}}},getImageAttributes:function(t){return t?{width:t.width,height:t.height,src:t.url,srcset:""}:{}}})}},"utils.js":function(t,e,i){var n={elementAttributes:function(t,e,i,n){var s=1<arguments.length&&void 0!==e?e:[],a=2<arguments.length&&void 0!==i&&i,o=3<arguments.length&&void 0!==n&&n;t.jquery&&(t=t[0]);var r={};return _.each(t.attributes,function(t){if(-1===s.indexOf(t.name)){var e=t.value;o&&(e=e.replace(/\[/g,"|{|").replace(/\]/g,"|}|")),a?0===t.name.indexOf("data-")&&(r[t.name.replace("data-","")]=e):r[t.name]=e}}),r},readValue:function(t,e,i,n,s){var a=2<arguments.length&&void 0!==i&&i,o=3<arguments.length&&void 0!==n?n:null,r=4<arguments.length&&void 0!==s?s:"",l=t.attr("data-"+e);return void 0===l&&(l=o&&""===r?o.model.config.default:r,t.attr("data-"+e,l)),a&&o&&o.setValue(l),l},checkForPostListSync:function(t,e){var i=!(1<arguments.length&&void 0!==e)||e,n=t.closest(TVE.identifier("article")),s=0<n.length&&!TVE.PostList.utils.isSyncing();return s&&i&&(TVE.PostList.FLAGS.SYNC=!0,TVE.PostList.content.syncPostList(n),TVE.PostList.FLAGS.SYNC=!1),s},isSyncing:function(){return TVE.PostList.FLAGS.SYNC},togglePostListElements:function(t){TVE.main.sidebar_toggle_elements(_.map(TVE.Elements,function(t){return t.tag}),!t),TVE.main.sidebar_toggle_elements(this.extraPostListElements(),!0),TVE.main.sidebar_toggle_elements(_.map(_.filter(TVE.Elements,function(t){return"Article Components"===t.category}),function(t){return t.tag}),t),this.onlyPostListElements(t)},extraPostListElements:function(){var t=_.map(_.filter(TVE.Elements,function(t){return"Foundation"===t.category&&![TVE.Elements.section,TVE.Elements.ct_symbol,TVE.Elements.logo].includes(t)}),function(t){return t.tag});return t.push(TVE.Elements.divider.tag,TVE.Elements.icon.tag,TVE.Elements.social.tag,TVE.Elements.styledlist.tag),TVE.apply_filters("tcb.post_list_extra_elements",t)},onlyPostListElements:function(t){TVE.main.sidebar_toggle_elements([TVE.Elements.post_read_more.tag],t)},getDropzoneTarget:function(t){if(void 0!==TVE.FLAGS.$dragged_element)return t;if(TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is(TVE.identifier("post_list"))){var e=TVE.main.EditMode.element().find(TVE.identifier("article")).first();t=e.length?e.children().last():t}return t},fetchPosts:function(t,e){jQuery.ajax({url:TVE.CONST.routes.posts+"/html",method:"POST",data:{args:{query:t}},success:function(t){TVE.PostList.posts=Object.assign(TVE.PostList.posts,t.posts),"function"==typeof e&&e(t)},error:console.warn})},pseudoSelectorsRegex:function(){return new RegExp([":hover",":active",":after",":focus","::after",":before","::before","::placeholder"].join("|"),"gi")},getEventClasses:function(t){var e=[];if(-1!==t.indexOf("tve_evt_manager_listen")){e.push("tve_evt_manager_listen","tve_ea_thrive_animation");var i=t.match(/tve_et_\S*|tve_ea_\S*|tve_anim_\S*/g);null!==i&&e.push.apply(e,_toConsumableArray(i))}return _.uniq(e).join(" ")},replaceElementTag:function(t,e){var i=TVE.inner_$(e,{html:t.html()});return jQuery.each(t[0].attributes,function(){i.attr(this.name,this.value)}),t.replaceWith(i),i},truncate:function(t,e,i){return(!(2<arguments.length&&void 0!==i)||i)&&(t=t.replace(/(\n|\s\s+)/g," ")),t.trim().split(" ").splice(0,e).join(" ")},removePostListPrefix:function(t,e){var i=e.parents(TVE.identifier("post_list"));if(i.length){var n=TVE.CSS_Rule_Cache.uniq_id(i),s='data-css="'.concat(n,'"'),a=new RegExp("\\[".concat(s,"\\]").concat(TVE.identifier("post_list")," "),"g");t=t.replace(a,"")}return t},getPostListSelector:function(t){var e;t.attr("data-selector")?e=t.attr("data-selector"):e='[data-css="'+TVE.CSS_Rule_Cache.uniq_id(t)+'"]'+TVE.identifier("post_list");return e+" "},isInPostListEditMode:function(){return TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is(TVE.identifier("post_list"))},shouldShowDynamicLinks:function(){return TVE.apply_filters("tcb.show_dynamic_links",TVE.PostList.utils.isInPostListEditMode())},isInsidePostList:function(t){return 0<(0<arguments.length&&void 0!==t?t:TVE.ActiveElement).closest(TVE.identifier("post_list")).length},hasLinkedArticles:function(t){return void 0!==t.closest(TVE.identifier("article")).attr("data-permalink")},toggleLinkedArticlesNotice:function(t,e,i){t.toggleClass("tcb-disabled",i),e.$(".tve-post-list-link-info").toggleClass("tcb-hidden",!i)},wrapPostReadMore:function(t){TVE.FLAGS.$dragged_element&&!TVE.FLAGS.$dragged_element.static_element||t.wrap('<div class="tcb-clear tcb-post-read-more-clear"></div>')},preventSymbolSave:function(t){t.closest(TVE.identifier("post_list").length)&&(TVE.ElementIcons.$save.hide(),TVE.ElementEditIcons.$save.hide())},getArticleID:function(t){var e=t.closest(TVE.identifier("article")),i=e.length?e.attr("data-id"):TVE.CONST.post_id;return TVE.apply_filters("tcb.post_list.article_id",i,t)},isPostList:function(t){var e=t.is(TVE.identifier("post_list"))||"post_list"===t.attr("data-tcb-elem-type");return TVE.apply_filters("tcb.element.is_post_list",e,t)},isFeaturedList:function(t){var e=t.is(TVE.identifier("post_list_featured"))||"post_list_featured"===t.attr("data-tcb-elem-type");return TVE.apply_filters("tcb.element.is_featured_list",e,t)},getPaginationForPostList:function(t,e,i){var n=1<arguments.length&&void 0!==e&&e,s=2<arguments.length&&void 0!==i?i:TVE.inner.$document,a=TVE.apply_filters("tcb.post_list.identifier",t.attr("data-css"),t),o=s.find("".concat(TVE.identifier("pagination"),'[data-list="').concat(a,'"]')).first();return n&&o.parent().hasClass("tcb-clear")&&(o=o.parent()),o},getPostListForPagination:function(t,e){var i=1<arguments.length&&void 0!==e?e:TVE.inner.$document,n=t.attr("data-list");return n=n.includes("tve-u-")?"".concat(TVE.identifier("post_list"),"[data-css=").concat(n,"]"):n,i.find(n).first()},updatePaginationIdentifiers:function(t){var e=t.next();t.parents(".thrv_symbol")&&!e.hasClass("tcb-pagination")&&(e=t.parents(".thrv_symbol").next()),t=t.is(TVE.identifier("post_list"))?t:t.find(TVE.identifier("post_list")),e.hasClass("tcb-pagination")&&"none"!==t.attr("data-pagination-type")&&e.attr("data-list",t.attr("data-css"))},moveElementsNearPostList:function(t){var e=TVE.PostList.utils.getPaginationForPostList(t,!0),i=TVE.PostList.utils.getFeaturedPostList(t);e.length&&e.insertAfter(t),i.length&&i.insertBefore(t)},cloneElementsWithPostList:function(t,e){var i=TVE.PostList.utils.getPaginationForPostList(t,!0),n=TVE.PostList.utils.getFeaturedPostList(t);if(i.length){var s=i.clone();i.insertAfter(t),s.insertAfter(e),s.hasClass("tcb-clear")&&(s=s.find(TVE.identifier("pagination"))),s.attr("data-list",e.attr("data-css"))}if(n.length){var a=n.clone(),o=TVE.CSS_Rule_Cache.uniq_id(a,!0);n.insertBefore(t),a.insertBefore(e),TVE.head_css_copy(n.attr("data-css"),o),TVE.PostList.dynamicImage.regeneratePostListStyleNodes(a),e.attr("data-featured-list",a.attr("data-css"))}},removeElementsWithPostList:function(t){var e=TVE.PostList.utils.getPaginationForPostList(t,!0),i=TVE.PostList.utils.getFeaturedPostList(t);if(0<e.length&&e.remove(),0<i.length)i.remove();else{var n=TVE.inner_$(".tcb-elem-placeholder.tcb-featured-list");0<n.length&&n.remove()}},getFeaturedPostList:function(t){return TVE.inner.$document.find(".tcb-featured-list[data-css=".concat(t.attr("data-featured-list"),"]")).first()},getPostListForFeatured:function(t){var e=TVE.apply_filters("tcb.post_list.identifier",TVE.identifier("post_list"),t);return TVE.inner_$("".concat(e,"[data-featured-list=").concat(t.attr("data-css"),"]")).first()},toggleControlsForFeature:function(t){var e=TVE.ActiveElement;t.toggle(e&&!e.hasClass("tcb-featured-list")).toggleClass("sep-bottom",e&&!e.hasClass("tcb-featured-list"))},toggleFilterForMainList:function(t){var e=TVE.PostList.utils.getPostListForFeatured(TVE.ActiveElement).attr("id");t.toggle(!(e&&e.includes("main")))},updateFeaturedIdentifiers:function(t){var e=t[t.hasClass("tcb-featured-list")?"next":"prev"]();t.hasClass("tcb-featured-list")&&e.attr("data-featured-list",t.attr("data-css"))},readQueryFromElement:function(t){void 0===t&&(t=TVE.ActiveElement[0]);var e=t.dataset.query;try{e=JSON.parse(e.replace(/'/g,'"'))}catch(t){console.error(t)}return e},applyQuery:function(t,e,i){var n=this,s=0<arguments.length&&void 0!==t?t:this.$element,a=1<arguments.length&&void 0!==e?e:null,o=2<arguments.length&&void 0!==i?i:null;a=a||this.readQueryFromElement(s[0]);var r=JSON.parse(JSON.stringify(a));if(s.addClass("tve-loading"),s.attr("data-featured-list")){var l=[];this.getFeaturedPostList(s).find("article").each(function(t,e){l.push(e.dataset.id)}),Array.isArray(r.rules)||(r.rules=[]),r.rules.push({taxonomy:a.post_type,terms:l,operator:"NOT IN"})}s.attr("data-no_posts_text",""),this.fetchPosts(r,function(t){var e=[];if(_.each(t.posts,function(t){e[parseInt(t.order)]=t}),s.toggleClass("empty-list",0===e.length),e.length){if(TVE.PostList.content.syncPostList(s.find(TVE.identifier("article")).first(),s,e),s.hasClass("tcb-featured-list")){var i=TVE.PostList.utils.getPostListForFeatured(s);n.applyQuery(i)}TVE.PostList.dynamicImage.regeneratePostListStyleNodes(s)}else TVE.page_message("Current query did not return any posts!",!0,5e3),s.attr("data-no_posts_text",a.no_posts_text);s.removeClass("tve-loading"),s.attr("data-query",JSON.stringify(a).replace(/"/g,"'")),"function"==typeof o&&o(t)})},syncAuthorImages:function(t){return t.find(TVE.identifier("article")).each(function(t,e){var i=TVE.inner_$(e),n=i.attr("data-id");n&&i.length&&i.find(".tcb-post-author-picture")&&TVE.PostList.dynamicImage.syncDynamicImageElements(i,n)}),t},fetchExistingPosts:function(){new Promise(function(t,e){if(TVE.PostList.posts&&TVE.PostList.posts.length)t({posts:TVE.PostList.posts});else{TVE.PostList.posts={};var i=TVE.inner.$body.find(TVE.identifier("article")),n=_.uniq(i.map(function(t,e){return parseInt(e.dataset.id)}));n=TVE.apply_filters("tcb.post_data.existing_post_ids",n),TVE.PostList.utils.fetchPosts({get_initial_posts:!0,post_ids:n},t)}}).then(function(t){TVE.PostList.posts=t.posts,TVE.do_action("tcb.post_list.posts_loaded"),setTimeout(function(){var t=TVE.ActiveElement;TVE.inner.$body.find(TVE.identifier("post_list")).each(function(t,e){var i=TVE.inner_$(e);"numeric"!==i.attr("data-pagination-type")&&"load_more"!==i.attr("data-pagination-type")||TVE.PostList.content.renderPaginationForPostList(i),TVE.ActiveElement=i,TVE.PostList.getComponent(i).update(),TVE.PostList.content.updatePostContent(i),TVE.PostList.utils.syncAuthorImages(i)}),TVE.ActiveElement=t},500)})},refreshPostList:function(t){return t.find(".tcb-post-list").each(function(){var t=TVE.inner_$(this);TVE.PostList.content.initAllShortcodes(t),setTimeout(function(){TVE.PostList.layout.applyLayout(t),TVE.PostList.dynamicImage.regeneratePostListStyleNodes(t)},100)}),t},updatePostListIdentifiers:function(t){var e=t.find(".tcb-featured-list").length?t.find(".tcb-featured-list"):t.prev(".tcb-post-list.tcb-featured-list"),i=t.hasClass("tcb-post-list")?t:t.find(".tcb-post-list:not(.tcb-featured-list)");this.updateFeaturedIdentifiers(e),this.updatePaginationIdentifiers(i)}};e.exports=n}},"post-options.js":function(t,e,i){TVE.PostOptionsConfirm=i("../modals/post-options-confirm"),e.exports=i("../base").component.extend({controls_init:function(t){var e=this,i=TVE.PostOptionsConfirm.get_instance(TVE.modal.get_element("post-options-confirm")),a=this;this.model=new Backbone.Model(TVE.CONST.post),this.listenTo(this.model,"change:post_status",function(){a.exteriorChange?a.exteriorChange=!1:a.savePost()}),this.listenTo(this.model,"cancel_changes",function(){a.resetChanges()}),a.toggleVisibilityDropdown(!0),TVE.add_action("tcb.state.change",_.bind(this.toggleBreadcrumb,this)),TVE.add_action("tcb.edit_mode.enter",function(){e.toggleBreadcrumb("normal",!1)}),TVE.add_action("tcb.edit_mode.exit",function(){e.toggleBreadcrumb("normal",!0)}),i.setModel(this.model),this.resetChanges(),this.change(),TVE.StorageManager.on("tve_post_options_change",function(t){t.id===TVE.CONST.post.ID&&(TVE.CONST.post.post_status=t.status,TVE.CONST.post.post_password=t.password,a.exteriorChange=!0,a.model.set({post_status:TVE.CONST.post.post_status,post_password:TVE.CONST.post.post_password}),a.resetChanges(),a.change())}),t.VisibilityOptions.changeVisibility=function(t,e){a.$("#tve-editor-post-password-input").addClass("tcb-hide"),"private"===e.value?(i.changeModal(e.value),i.open()):"password"===e.value&&a.displayPassword()},t.PublishOptions.update=t.UnpublishOptions.update=jQuery.noop,t.VisibilityOptions.update=function(){a.resetChanges()},t.VisibilityOptions.saveVisibility=function(t,e){var i=this.$('input[type="radio"]:checked').val(),n=this.$("#tve-editor-post-password-input").val();if("private"!==i){if("password"===i){if(!n)return void a.resetChanges();a.model.set("post_password",n)}else"public"===i&&a.model.set("post_password","");var s="private"===TVE.CONST.post.post_status;a.model.set("post_status",s?"publish":TVE.CONST.post.post_status),s||a.model.trigger("change:post_status",a.model)}else a.toggleVisibilityDropdown(!1)},t.VisibilityOptions.showVisibilityOptions=function(t,e){a.toggleVisibilityDropdown()},t.VisibilityOptions.hideVisibilityOptions=function(t,e){a.toggleVisibilityDropdown(!1)},t.PublishOptions.publish=function(t,e){i.changeModal("publish"),i.open()},t.UnpublishOptions.unpublish=function(t,e){i.changeModal("unpublish"),i.open()}},toggleBreadcrumb:function(t,e){var i=["hover","active","expanded"].includes(t)||TVE.main.EditMode.in_edit()&&!e;TVE.main.$el.find("#tcb-post-option-breadcrumb").toggleClass("tcb-hide",i),TVE.main.$el.find("#tcb-top-nav-list").toggleClass("tve-has-post-options",!i)},toggleVisibilityDropdown:function(t){var e=!(0<arguments.length&&void 0!==t)||t;this.$(".tve-post-visibility-options").toggleClass("tcb-hide",!e),TVE.main.$cpanel.find(".tve-panel").toggleClass("drop-panel-open",e)},resetChanges:function(){this.toggleVisibilityDropdown(!1);var t=this.getVisibility();this.$("#tve-editor-post-password-input").addClass("tcb-hide"),this.$('input[value="'+t+'"]').prop("checked",!0),this.$(".tve-show-visibility-options").html(t),"password"===t&&this.displayPassword()},displayPassword:function(){this.$("#tve-editor-post-password-input").removeClass("tcb-hide").val(this.model.get("post_password"))},change:function(){this.setActiveOptions("draft"===TVE.CONST.post.post_status?this.controls.PublishOptions:this.controls.UnpublishOptions)},setActiveOptions:function(t){this.$(".tve-publish-options").addClass("tcb-hide"),t.$el.removeClass("tcb-hide")},savePost:function(){TVE.main.overlay(),TVE.Editor_Page.save(!0,this.savePostOptions())},savePostOptions:function(){var e=this;TVE.ajax("save_post_status","post",this.model.attributes).done(function(t){TVE.CONST.post.post_status=e.model.get("post_status"),TVE.CONST.post.post_password=e.model.get("post_password"),e.change(),e.resetChanges(),e.$(".tve-show-visibility-options").html(e.getVisibility()),TVE.StorageManager.set("tve_post_options_change",TVE.CONST.post)}).always(function(){TVE.main.overlay("close")})},getVisibility:function(){var t="";return TVE.CONST.post.post_password&&(t="password"),t||"private"!==TVE.CONST.post.post_status||(t="private"),t=t||"public"}})},"pricing-table.js":function(t,e,i){var n=i("../base"),s=new Backbone.Collection({}),c=i("../../models/base"),a=i("../controls/pricing-table/price-instance-controls"),o=i("../controls/pricing-table/edit-instance"),d=".thrv-button-group-item",r=".tcb-active-state",h="tcb-active-state";e.exports=n.component.extend({after_init:function(){this.edit_instance_view=new o({pricing_table_view:this})},update_btn_group_data_selector:function(){var t=TVE.ActiveElement,e=t.find(".thrv-button-group").attr("data-price-button-group"),n='[data-price-button-group="'+e+'"] '+d+r,s='[data-price-button-group="'+e+'"] '+d+":not("+r+")";_.each(t.find(d),function(t,e){var i=jQuery(t);i.attr("data-selector",i.hasClass(h)?n:s)})},controls_init:function(){TVE.add_filter("tcb.css.save.blacklist",function(e){return TVE.CSS_Rule_Cache.getRulesForSelector("[data-price-button-group=").forEach(function(t){0===TVE.inner_$(t.selectorText).length&&e.push(t.selectorText)}),e}),TVE.add_filter("tcb.toggle_active_state",function(t,e){return"button_group_item"===TVE._type(e)&&e.closest(".thrv-pricing-table").length&&(t=!1),t}),TVE.add_filter("tcb_filter_html_before_save",function(t){var e=t.find(".thrv-pricing-table");return e.length&&_.each(e,function(t,e){var i=TVE.inner_$(t),n=i.find(d+'[data-default="true"]'),s=n.attr("data-instance");i.find(r).removeClass(h),n.addClass(h),i.find(".tcb-pricing-table-box-container").addClass("tcb-permanently-hidden"),i.find('.tcb-pricing-table-box-container[data-instance="'+s+'"]').removeClass("tcb-permanently-hidden")}),t}),TVE.add_filter("element_drop",function(t){if(t&&t.hasClass("thrv-pricing-table")){var e=TVE.CSS_Rule_Cache.generate_id("tve-u-price-button-group-");t.find(".thrv-button-group").attr("data-price-button-group",e)}return t}),this.controls.PriceInstances.attach_collection(s),this.controls.PriceInstances.attach_view(a),this.controls.PriceInstances.on("item_click",_.bind(this.edit_instance,this)),this.controls.PriceInstances.on("item_duplicate",_.bind(this.clone_instance,this)),this.listenTo(s,"item-toggle",_.bind(function(t){var e=t.get("instance"),i=t.get("item");TVE.ActiveElement.find(".tcb-pricing-table-box-container").addClass("tcb-permanently-hidden"),TVE.ActiveElement.find(d).removeClass(h),e.removeClass("tcb-permanently-hidden"),i.addClass(h),this.update_btn_group_data_selector()},this)),this.listenTo(s,"change",function(){var e=TVE.ActiveElement.find(".thrv-button-group");e.empty(),s.each(function(t){e.append(t.get("item"))},this)}),this.listenTo(s,"remove",_.bind(function(t){var e=t.get("item"),i=t.get("instance"),n=e.hasClass(h),s=!!e.attr("data-default");e.remove(),i.remove();var a=TVE.ActiveElement.find(d).first();if(s&&a.attr("data-default","true"),n){var o=TVE.ActiveElement.find('.tcb-pricing-table-box-container[data-instance="'+a.attr("data-instance")+'"]');a.addClass(h),o.removeClass("tcb-permanently-hidden")}this.controls.PriceInstances.update(TVE.ActiveElement),this.check_collection_length()},this)),this.controls.PriceInstances.update=_.bind(function(r){var l=[],t=r.find(d);_.each(t,function(t,e){var i=jQuery(t),n=i.attr("data-instance"),s=r.find('.tcb-pricing-table-box-container[data-instance="'+n+'"]'),a=!i.hasClass(h),o=new c({item:i,instance:s,label:i.find(".tcb-button-text").text(),is_default:!!i.attr("data-default"),hide_content:a});l.push(o)},this),this.controls.PriceInstances.sortable(1<l.length),s.reset(l),this.check_collection_length(),this.update_btn_group_data_selector()},this)},check_collection_length:function(){var t=this.$('.tve-button[data-fn-click="add_instance"]'),e=this.$('.preview-toggle-list-controls .click[data-fn="item_duplicate"]');(t.removeClass("tcb-hidden"),e.removeClass("tcb-hidden"),TVE.ActiveElement.find(".thrv-button-group").toggleClass("tcb-permanently-hidden",1===s.length),1===s.length)?this.controls.PriceInstances.$('.preview-toggle-list-controls .click[data-fn="item_remove"]').addClass("tcb-hidden"):10<=s.length&&(t.addClass("tcb-hidden"),e.addClass("tcb-hidden"))},add_instance:function(t,e){var i=s.findWhere({is_default:!0}).clone();if(this.edit_instance_view.isOpen())return this.edit_instance_view.onCancel(),!1;i.set({__new:!0,item:i.get("item").clone().removeAttr("data-default").addClass(h),instance:i.get("instance").clone().removeClass("tcb-permanently-hidden"),label:"",is_default:!1},{silent:!0}),i.saveState(),this.edit_instance_view.reset(i),this.edit_instance_view.open(null,e)},add_instance_callback:function(t){var e=parseInt(1e5*Math.random()),i=t.get("item"),n=t.get("instance");i.attr("data-instance",e),n.attr("data-instance",e),this.clean_instance(n),i.attr("data-default")&&this.remove_default_instance(),TVE.ActiveElement.find(d).removeClass(h),TVE.ActiveElement.find(".tcb-pricing-table-box-container").addClass("tcb-permanently-hidden"),TVE.ActiveElement.find(".thrv-button-group").append(i),TVE.ActiveElement.append(n),TVE.drag.bind_element(n),TVE.Components.decoration.check_for_same_background_ids(n),this.controls.PriceInstances.update(TVE.ActiveElement)},edit_instance:function(t,e){return this.edit_instance_view.isOpen()?this.edit_instance_view.onCancel():(t.saveState(),this.edit_instance_view.reset(t),this.edit_instance_view.open(null,e)),!1},clone_instance:function(t){var e=parseInt(1e5*Math.random()),i=t.get("item"),n=i.clone(),s=n.find(".tcb-button-text").text(),a=t.get("instance").clone();i.hasClass(h)&&(i.removeClass(h),TVE.ActiveElement.find(".tcb-pricing-table-box-container").addClass("tcb-permanently-hidden")),n.removeAttr("data-default"),n.find(".tcb-button-text").text(s+" (copy)"),n.attr("data-instance",e),a.attr("data-instance",e),this.clean_instance(a),TVE.ActiveElement.find(".thrv-button-group").append(n),TVE.ActiveElement.append(a),TVE.drag.bind_element(a),TVE.Components.decoration.check_for_same_background_ids(a),this.controls.PriceInstances.update(TVE.ActiveElement)},clean_instance:function(t){t.find(".ui-resizable-handle").remove(),t.find(".ui-resizable").removeClass("ui-resizable")},remove_default_instance:function(){TVE.ActiveElement.find(d).removeAttr("data-default")},preview_toggle_list_control:function(){return i("./../controls/preview-toggle-list")}})},"progress-bar.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({needs_update:function(t){return!t.hasClass("thrv-progress-bar")},migrate_element:function(t){var e,i,n;e=t.css(["margin"]),t.head_css(e),e=t.css(["border-width","border-style","border-color","border-image","border-radius"]),t.find(".tve_progress_bar").head_css(e),i=t.find(".tve_data_element_label").css(["background-color"]),e=t.find(".tve_progress_bar").css(["background-color"]),t.find(".tve_progress_bar").addClass("tve-progress-bar").removeClass("tve_progress_bar").head_css(e),e=t.find(".tve_progress_bar_fill").css(["background-color"]),t.find(".tve_progress_bar_fill").head_css(e),n=t.find(".tve_progress_bar_fill_wrapper").css(["width"]),t.find(".tve_progress_bar_fill_wrapper").head_css({width:n.width}),t.find(".tve_progress_bar_fill_wrapper").attr("style",""),t.find(".tve-progress-bar").append('<div class="tve-progress-bar-label"><div class="thrv-inline-text tve_editable">'+t.find(".tve_data_element_label").html()+"</div></div>"),t.find(".tve_data_element_label").remove(),t.find(".thrv-inline-text").head_css(i),t.addClass("thrv-progress-bar").removeClass("thrv_progress_bar")},controls_init:function(s){var a=this;this.controls.BackgroundColor.input=function(t){this.applyElementCss({"background-color":t},this.applyTo(),"",""),t||this.component.controls.BackgroundColor.update(this.applyTo())},this.controls.BackgroundColor.update=function(t){this.setValue(t.head_css("background-color",!1,"",!0))},this.controls.FillColor.input=function(t){this.applyElementCss({"background-color":t},this.applyTo(),"",""),t||this.component.controls.FillColor.update(this.applyTo())},this.controls.FillColor.update=function(t){this.setValue(t.head_css("background-color",!1,"",!0))},this.controls.LabelColor.input=function(t){this.applyElementCss({"background-color":t},this.applyTo(),"","")},this.controls.LabelColor.update=function(t){this.setValue(t.head_css("background-color",!1,"",!0))},this.controls.FillPercent.input=function(t,e){t.mediaAttr("data-fill",e.value),this.applyElementCss({width:e.value+this.getUM()},t,"","")},this.controls.FillPercent.update=function(t){var e=(t.head_css("width")||t.mediaAttr("data-fill")).replace("%","");e||(e=20,t.attr("data-fill",e),t.head_css({width:e+"%"})),this.setValue(e)},s.InnerLabel.change=function(t,e){var i,n=TVE.renderers.base.read_element_props(t);e.checked?(t.html('<div class="thrv-inline-text tve_editable">'+TVE.t.ProgressBarLabel+"</div>"),s.LabelColor.update(t.find(".thrv-inline-text")),s.LabelColor.$el.show()):(t.html(""),s.LabelColor.$el.hide()),i=TVE.renderers.base.read_element_props(t),a.undo_action(t,n,i)},s.InnerLabel.update=function(t){var e=0<t.html().length;this.setChecked(e)}},undo_action:function(t,e,i){TVE.UndoManager.add({undo:function(){t.html(e.html)},redo:function(){t.html(i.html)}})}})},"rating.js":function(t,e,i){var n=i("../controls/rating/style");e.exports=i("../base").component.extend({extra_states:!0,controls_init:function(){this.controls.size.update=function(t){this.setValue(t.find("svg").first().width())},this.controls.size.input=function(t){this.applyElementCss({"font-size":this.value("px")},t,"","")};var t=this.config.stylePicker;t.config.items=this.renderer.get_styles(),this.controls.style.set_drop_panel(new n({model:t,renderer:this.renderer})),this.controls.background.input=function(t){this.applyElementCss({fill:t},this.applyTo()," .sr-background",""),t||this.component.controls.background.update(this.applyTo())},this.controls.background.update=function(t){this.setValue(t.head_css("fill",!1," .sr-background",!0))},this.controls.fill.input=function(t){this.applyElementCss({fill:t},this.applyTo()," .sr-fill",""),t||this.component.controls.fill.update(this.applyTo())},this.controls.fill.update=function(t){this.setValue(t.head_css("fill",!1," .sr-fill",!0))},this.controls.outline.input=function(t){this.applyElementCss({fill:t},this.applyTo()," .sr-outline",""),t||this.component.controls.outline.update(this.applyTo())},this.controls.outline.update=function(t){this.setValue(t.head_css("fill",!1," .sr-outline",!0))}},rating_value_control:function(){return i("../controls/rating/rating-value")},rating_style_control:function(){return i("../controls/style-change")}})},"responsive-video":{"video-controls.js":function(t,e,i){var n=i("../../base"),a=i("../../controls/input"),s=i("../../controls/file"),o=i("../../controls/switch"),r=i("../../controls/button-group");e.exports=i("../animation/video-popup").extend({template:TVE.tpl("controls/responsive-video-settings"),controls_init:function(){this.render(),this.$source=this.$(".v-source"),this.providers={},this.$(".v-settings").each(_.bind(function(t,e){var i=e.getAttribute("data-view");this.providers[i.toLowerCase()]=new TVE.VideoProviders[i]({el:e,key:i.toLowerCase(),control:this})},this)),this.input_time_constructors('.responsive-video-time-settings .tve-time-control[data-time="Minute"]','.responsive-video-time-settings .tve-time-control[data-time="Second"]'),this.input_time_constructors('.responsive-video-end-time-settings .tve-time-control[data-time="Minute"]','.responsive-video-end-time-settings .tve-time-control[data-time="Second"]'),this.aspectRatioConstructor(),this.aspectRatioOptions(),this.videoThumbnail=new l({el:this.$(".tve-video-thumbnail-control"),control:this})},set_thumbnail:function(t){this.videoThumbnail.set_selection(t)},input_time_constructors:function(t,e){var i=this.$(t),n=this.$(e),s=this;return i.length&&n.length&&(this.minutes=new a({el:i,model:{config:{name:"Minutes",default:0,min:0,max:59,maxlength:2}}}),this.minutes.input=function(){},this.minutes.change=function(t,e,i){s.trigger("start-time-changed",t),s.trigger("end-time-changed",t)},this.seconds=new a({el:n,model:{config:{name:"Seconds",default:0,min:0,max:59,maxlength:2}}}),this.seconds.input=function(){},this.seconds.change=function(t,e,i){s.trigger("start-time-changed",t),s.trigger("end-time-changed",t)}),this},aspectRatioConstructor:function(){var n=this;this.customRatio=this.$el.find(".tcb-custom-ratio"),this.customRatioSettings=this.$el.find(".video-settings-wrapper"),this.customRatioButton=this.$el.find(".tcb-custom-ratio-button"),this.aspectRatio=new o({el:this.$el.find(".tcb-default-aspect-ratio"),model:{config:{label:TVE.t.anim.defaultAspectLabel}}}),this.aspectRatio.change=function(t,e){var i=e.checked;t.attr("data-aspect-ratio-default",i?0:1),n.aspectRatioBtnGroup.$el.toggle(!i),n.customRatio.toggle(!i),n.customRatioButton.show(),i?(n.applyAspectRatio(t,"16:9"),n.customRatioSettings.hide()):n.aspectRatioBtnGroup.setValue("16:9")},this.aspectRatio.update=function(t){var e=parseInt(t.attr("data-aspect-ratio-default"));!isNaN(e)&&0!==e||(n.applyAspectRatio(t,"16:9"),n.aspectRatio.setValue(!0,!0)),n.aspectRatioBtnGroup.$el.toggle(!!e),n.customRatio.toggle(!!e),n.customRatioSettings.toggle(2===e),2===!e&&n.customRatioButton.show()}},aspectRatioOptions:function(){var s=this;this.aspectRatioBtnGroup=new r({el:this.$el.find(".tcb-default-aspect-ratio-options"),model:{config:{is_advanced:!0,buttons:[{icon:"rectangle_16_9",text:"16:9",value:"16:9"},{icon:"rectangle_4_3",text:"4:3",value:"4:3"},{icon:"rectangle_1_1",text:"1:1",value:"1:1"},{icon:"rectangle_9_16",text:"9:16",value:"9:16"}]}}}),this.aspectRatioBtnGroup.change=function(t,e){var i=e.getAttribute("data-value");t.attr("data-aspect-ratio",i),t.attr("data-aspect-ratio-default",1),s.applyAspectRatio(t,i),s.customRatioSettings.hide(),s.customRatioButton.show()},this.aspectRatioBtnGroup.update=function(t){var e=t.attr("data-aspect-ratio")||"16:9",i=e.split(":");s.aspectRatioBtnGroup.setValue(e),s.customAspectRationWidth.setValue(i[0]),s.customAspectRationHeight.setValue(i[1])},this.customAspectRationWidth=new a({el:this.$el.find(".tcb-adjust-ratio-width"),model:{config:{default:1,min:1,maxlength:5}}}),this.customAspectRationHeight=new a({el:this.$el.find(".tcb-adjust-ratio-height"),model:{config:{default:1,min:1,maxlength:5}}}),this.customAspectRationWidth.input=function(t,e){var i=e.value,n=s.customAspectRationHeight.getValue();s.applyAspectRatio(t,"".concat(i,":").concat(n))},this.customAspectRationHeight.input=function(t,e){var i=s.customAspectRationWidth.getValue(),n=e.value;s.applyAspectRatio(t,"".concat(i,":").concat(n))}},applyAspectRatio:function(t,e){var i=e.split(":"),n=(100*parseFloat(i[1]/i[0])).toFixed(2),s=t.find(".tve_responsive_video_container");t.attr("data-aspect-ratio",e),s.css("padding-bottom",n+"%"),TVE.do_action("tcb_action_aspect_ratio_changed",t,e)},addCustomRatio:function(){var t=TVE.ActiveElement;this.customRatioButton.hide(),this.customRatioSettings.show(),t.attr("data-aspect-ratio-default",2);var e=this.customAspectRationWidth.getValue(),i=this.customAspectRationHeight.getValue();this.aspectRatioBtnGroup.clearActive(),this.applyAspectRatio(t,"".concat(e,":").concat(i))}});var l=n.component.extend({control:null,initialize:function(t){this.control=t.control,this.file_picker=new s({template_name:"util/video-file-picker",labels:{choose:TVE.t.ChooseFile,title:TVE.t.Files},config:{type:"image",preselect_full_size:!0}}),this.$el.prepend(this.file_picker.$el),this.file_picker.on("select",_.bind(this.on_select,this)),this.file_picker.on("remove",_.bind(this.on_remove,this))},set_selection:function(t){this.file_picker.set(t)},on_select:function(t){this.control.trigger("thumbnail-changed",t)},on_remove:function(){this.control.trigger("thumbnail-removed"),TVE.tooltips.hide()}})}},"responsive-video.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({controls_init:function(t){},responsive_video:function(){return i("../controls/responsive-video/video")},responsive_video_style:function(){return i("../controls/responsive-video/style")}})},"responsive.js":function(t,e,i){var n=i("../base"),s=i("../../libs/element-snapshot"),a="tcb_show_all_hidden";function o(t){TVE.Editor_Page.selection_manager[(t?"show_":"hide_")+"edit_icons"](TVE.ActiveElement)}e.exports=n.component.extend({show_hidden_cls:"",controls_init:function(n){var i=this;n.Devices.update=function(e){_.each(this.model.config.buttons,function(t){this.toggleActive(t.value,!e.hasClass("tcb-"+t.value+"-hidden"))},this),this.summary({all:"All devices",suffix:" only"})},n.Devices.input=function(t,e){if(void 0!==t[0]){var i=e.dataset.value;s(function(){t.toggleClass("tcb-"+i+"-hidden",!e.classList.contains("active"))},t),i===TVE.main.device&&!1===n.ShowAllHidden.isChecked()&&o(e.classList.contains("active")),TVE.main.trigger("device_hide_element",i),TVE.do_action("tcb.responsive_visibility_changed",t),this.summary({all:"All devices",suffix:" only"})}},n.ShowAllHidden.update=function(){this.setChecked(TVE.Editor_Page.$body.hasClass(a))},n.ShowAllHidden.input=function(t,e){TVE.Editor_Page.$body.toggleClass(a,e.checked),!1===n.Devices.isActive(TVE.main.device)&&o(e.checked),i.undo_manager_show_all_hidden(this)}},__config_Devices:function(t){t.buttons=[{icon:"desktop",value:"desktop",data:{name:"Desktop"}},{icon:"tablet2",value:"tablet",data:{name:"Tablet"}},{icon:"mobile",value:"mobile",data:{name:"Mobile"}}]},undo_manager_show_all_hidden:function(t){TVE.UndoManager.add({undo:function(){t.$('input[type="checkbox"]').trigger("click")},redo:function(){t.$('input[type="checkbox"]').trigger("click")}})}})},"reveal.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({controls_init:function(){var s=this;this.controls.RedirectURL.update=function(t){this.setValue(t.attr("data-redirect-url"))},this.controls.RedirectURL.change=function(t,e){var i=TVE.addHttp(e.value),n=t.attr("data-redirect-url");this.$el.find("input").val(i),TVE.isValidUrl(i)||""===i?(t.attr("data-redirect-url",i),s.undo_manager_api(t,"data-redirect-url",n,i)):TVE.page_message(TVE.t.RedirectionUrlInvalid,!0,5e3)},this.controls.Time.update=function(t){this.setValue(t.attr("data-after"))},this.controls.Time.change=function(t,e){var i=t.attr("data-after");t.attr("data-after",e),s.undo_manager_api(t,"data-after",i,e)},this.controls.AutoScroll.update=function(t){this.setChecked(1===Number(t.attr("data-scroll")))},this.controls.AutoScroll.change=function(t,e){var i=t.attr("data-scroll"),n=e.checked?"1":"0";t.attr("data-scroll",n),s.undo_manager_api(t,"data-scroll",i,n)},TVE.main.on("after-element-removed",function(t){if(t.is(".tve_reveal_container:empty")){var e=TVE.inner_$('<div class="tcb-replaceable-placeholder">'+TVE.t.placeholder_text+"</div>");t.append(e),t.addClass("tcb-parent-placeholder-empty")}return t})},undo_manager_api:function(t,e,i,n){TVE.UndoManager.add({undo:function(){t.attr(e,i)},redo:function(){t.attr(e,n)}})}})},"scroll.js":function(t,e,i){function a(){return!o.isEmptyObject(l)&&l.mode}var o,r,n,l,s,c,d;o=jQuery,n=i("../../libs/element-snapshot"),l={},s="tve-scroll",c=new Backbone.Collection({}),d=i("../controls/scroll/parallax-effect"),e.exports=i("../base").component.extend({before_update:function(){var t=this.controls.toggle.applyTo();l=t.tcbJsonData(s),a()||(l=function(t){return Object.assign({disabled:[],top:0},t||{})}()),"parallax"!==l.mode||l.parallax||(t.removeClass("tve-scroll-parallax"),l.mode=""),this.controls.toggle.$('[data-value="appear"]').toggle("header"===TVE._type(TVE.ActiveElement)),this.controls.toggle.$(">.control-grid").toggleClass("full-width","header"===TVE._type(TVE.ActiveElement))},after_init:function(){r=TVE.inner.window.TCB_Front.sticky,this.editParallaxEffect=new d({component:this}),TVE.add_filter("tcb_filter_html_before_save",function(t){return t.find("[data-".concat(s,"]")).each(function(t,e){var i=JSON.parse(e.dataset.tveScroll);"parallax"!==i.mode||i.parallax||delete e.dataset.tveScroll,e.removeAttribute("style")}),t.find(".tve-scroll-parallax").removeClass("tve-scroll-parallax"),t}),TVE.add_filter("tcb.click_blur",function(t,e){return TVE.$body.hasClass("tve-parallax-preview")&&(t=!1),t}),TVE.add_filter("tve.edit.mode.refocus",function(t,e){return"tve-parallax-preview edit-mode-active"===e&&(t=!1),t})},write:function(){var t=this.controls.toggle.applyTo();n(function(){a()?t.tcbJsonData(s,l):t.removeAttr("data-".concat(s))},t),this.controls.ParallaxEffectsControl.update()},controls_init:function(i){var n=this,s=this;i.toggle.update=function(t){this.setActive(l.mode||""),this.component.refresh()},i.toggle.change=function(t,e){if(l.mode=e.dataset.value,"appear"===e.dataset.value&&(l.top=0,l.end=""),a()){var i=this.get_control("layout.zIndex");i.getValue()||i.setValue(10,!0)}s.write(),this.component.refresh()},i.Devices.update=function(){this.setActive(["desktop","tablet","mobile"].filter(function(t){return!l.disabled||-1===l.disabled.indexOf(t)})),this.summary({all:"All devices",suffix:" only"})},i.Devices.change=function(t,e){l.disabled=[],this.$(".tve-btn").not(".active").each(function(){l.disabled.push(this.dataset.value)}),s.write(),t.data("scroll_config")&&TVE.$body.hasClass("tve-parallax-preview")&&(t.each(function(){TVE.inner_$(this).data("scroll_config").disabled=l.disabled}),TVE.inner.$window.trigger("scroll")),this.summary({all:"All devices",suffix:" only"})},i.top.update=function(){this.setValue((l.top||0)+"px")},i.top.input=o.noop,i.top.change=function(){l.top=parseInt(this.getValue(!1)),isNaN(l.top)&&(l.top=0),s.write()},i.until.update=function(){this.setValue(l.end||"")},i.until.change=function(){l.end=this.getValue(),s.write(),this.component.refresh()},i.element_id.update=function(){this.setValue(l.el_id||"")},i.element_id.change=function(){l.el_id=this.getValue(),s.write()},i.ParallaxEffectsControl.attach_collection(c),i.ParallaxEffectsControl.on("item_click",function(t,e){return n.editParallaxEffect.isOpen()?n.editParallaxEffect.onClose():n.editParallaxEffect.editEffect(t,e),!1}),i.ParallaxEffectsControl.on("item_remove",function(t){n.deleteEffect(Object.keys(l.parallax)[t])}),i.ParallaxEffectsControl.update=function(t){var e=[];l.parallax&&Object.keys(l.parallax).forEach(function(t){e.push({item:t,label:TVE.t.scroll[t],effectValue:l.parallax[t]})}),e.length?TVE.ActiveElement.data("parallaxSettings",l.parallax):(delete l.parallax,TVE.ActiveElement.removeData("parallaxSettings")),n.$(".tve-parallax-info").toggle(!e.length),i.ParallaxPreview.$el.toggle(1<=e.length),n.$("#add-parallax-effect").toggle(e.length<7),c.reset(e)},i.ParallaxPreview.update=o.noop,i.ParallaxPreview.change=function(t,e){n.handleParallaxPreview(e.checked)}},__config_toggle:function(t){t.buttons=[{value:"",text:TVE.t.scroll.Static},{value:"sticky",text:TVE.t.scroll.Sticky},{value:"parallax",text:TVE.t.scroll.Parallax},{hidden:!0,value:"appear",text:TVE.t.scroll.Appear}]},__config_Devices:function(t){t.buttons=[{icon:"desktop",value:"desktop",data:{name:"Desktop"}},{icon:"tablet2",value:"tablet",data:{name:"Tablet"}},{icon:"mobile",value:"mobile",data:{name:"Mobile"}}]},__config_top:function(t){Object.assign(t,{default:0,min:0,max:500,um:["px"]})},__config_until:function(t){t.options={"":TVE.t.scroll.EndOfPage,parent:TVE.t.scroll.Parent,element:TVE.t.scroll.Element}},__config_ParallaxEffectsControl:function(t){t.settings_icon="pen-light",t.deleteConfirmation=!0},refresh:function(){var t=this.controls.toggle.getValue();this.$(".if-sticky").toggle("sticky"===t),this.$(".if-parallax").toggle("parallax"===t),this.$(".if-not-static").toggle(!!t),this.$(".if-appear").toggle("appear"===t),this.$(".if-until-element").toggle("element"===l.end),this.$('[data-key="Devices"]').toggle(["sticky","parallax"].includes(t))},addNewParallax:function(t,e){return this.editParallaxEffect.isOpen()?this.editParallaxEffect.onCancel():(this.editParallaxEffect.open(null,o(e)),this.controls.ParallaxEffectsControl.collection.length||(TVE.ActiveElement.each(function(){var t=TVE.inner_$(this),e=t.offset(),i=t.outerHeight(),n={width:t.outerWidth(),height:i,top:e.top,left:e.left,elementRange:i+TVE.inner.window.innerHeight};l.end="parallax",t.data("elem_data",n),t.data("scroll_config",l),r.forceAddElement(t)}),r.initSticky(TVE.Editor_Page.editor,!0))),!1},saveParallaxEffect:function(t,e){l.parallax||(l.parallax={}),l.end&&"parallax"===l.end||(l.end="parallax"),l.parallax[t]=e,this.write()},initParallaxEffects:function(){return i("./../controls/preview-list")},getConfig:function(){return l},deleteEffect:function(t){l.parallax&&l.parallax[t]&&(delete l.parallax[t],this.editParallaxEffect.resetEffect(t),this.write())},handleParallaxPreview:function(t){var e=this,i=!(0<arguments.length&&void 0!==t)||t,n=TVE.ClickedElement,s=TVE._type(n);i?(this.toggleElementComponents(!0,s),TVE.do_action("tve.parallax.preview.enter.".concat(s),n),TVE.inner.$body.addClass("tve-parallax-preview"),TVE.main.EditMode.enter(n,{show_default_message:!1,can_insert_elements:!1,restore_state:!0,view_label:TVE.t.scroll.preview,show_overlay:!0,body_class:"tve-parallax-preview edit-mode-active",overlayOffset:{top:0,left:0,width:0,height:0},callbacks:{before_exit:function(){e.controls.ParallaxPreview.setChecked(!1),r.destroyScrollBehavior(),TVE.do_action("tve.parallax.preview.exit.".concat(s),n),e.toggleElementComponents(!1,s),e.editParallaxEffect.isOpen()&&(TVE.$body.removeClass("tve-parallax-preview"),e.editParallaxEffect.onCancel()),setTimeout(function(){TVE.main.EditMode.in_edit()?TVE.Editor_Page.focus_element(n):(TVE.ElementEditIcons.reposition_icons(n),TVE.ElementEditIcons.show()),TVE.inner.$body.removeClass("tve-parallax-preview")},200)}}}),r.initSticky(TVE.Editor_Page.editor,!0),TVE.inner.$window.trigger("scroll")):TVE.$body.hasClass("tve-parallax-preview")&&TVE.main.EditMode.exit()},toggleElementComponents:function(t,e){var i=!(0<arguments.length&&void 0!==t)||t,n=1<arguments.length?e:void 0;Object.keys(TVE.Elements[n].components).forEach(function(t){"scroll"!==t&&TVE.Components[t].$el.toggleClass("disabled-children",i)}),TVE.main.states_dropdown[i?"disable":"enable"](),this.controls.toggle.$el.toggleClass("tve-disabled",i),i?TVE.main.$el.on("mousedown.parallax-preview",".tve-component.disabled-children",function(t){if(TVE.main.EditMode.overlayClicked(t))return!1}):TVE.main.$el.off("mousedown.parallax-preview")}})},"search-form-input.js":function(t,e,i){var n=i("./../base");e.exports=n.component.extend({controls_init:function(){this.controls.InputPlaceholder.update=function(t){this.setValue(t.find("input").attr("placeholder"))},this.controls.InputPlaceholder.input=function(t,e){t.find("input").attr("placeholder",e.value)}}})},"search-form-submit.js":function(t,e,i){var n=i("./../base");e.exports=n.component.extend({deps:["background","shadow"]})},"search-form.js":function(t,e,i){var n,s,a,o,r,l;n=jQuery,s=i("./../base"),a=new Backbone.Collection({}),o=i("../controls/search-form/add-post-type"),r="tcb_search_form",l=["thrv_wrapper","thrv-search-form"],e.exports=s.component.extend({controls_init:function(){var i=this;TVE.add_filter("tcb_filter_html_before_save",function(t){return t.find(".thrv-search-form").each(function(t,e){i.convertFormToShortcode(n(e))}),t}),this.addPostTypePanel=new o({collection:a}),this.controls.PostTypes.attach_collection(a),this.listenTo(a,"remove",function(t){var e=t.get("item");e.jquery&&e.remove(),0===a.length&&this.controls.PostTypes.update(TVE.ActiveElement)}),this.listenTo(a,"change",function(){i.controls.PostTypes.update(TVE.ActiveElement)}),this.controls.PostTypes.update=function(t){var e=t.find(".tcb_sf_post_type"),i=[];e.each(function(t,e){TVE.CONST.post_types[e.value]&&i.push({item:n(e),label:e.getAttribute("data-label")})}),a.reset(i),0===i.length&&this.$(".list-no-items").text("All Post Types")},this.controls.FormType.update=function(t){var e="none"!==t.find(".thrv-sf-submit").css("display")?"with":"without";this.setValue(e),this.component.toggleBtnLayoutCtrl("without"==e)},this.controls.FormType.input=function(t,e){var i=e.getAttribute("data-value"),n={},s={};"with"===i?(Object.assign(n,{width:"80% !important"}),Object.assign(s,{display:"block"})):"without"===i&&(Object.assign(n,{width:"100% !important"}),Object.assign(s,{display:"none"})),t.find(".thrv-sf-input").head_css(n),t.find(".thrv-sf-submit").head_css(s),this.component.toggleBtnLayoutCtrl("without"===i)},this.controls.ContentWidth.update=function(t){var e=t.head_css("max-width",null,null,!0);e&&!isNaN(parseInt(e))||(e=t.outerWidth()),this.setMax(parseInt(t.parent().width())),this.setValue(e),this.$("input").attr("data-prop","max-width")},this.controls.ContentWidth.input=function(t,e){TVE.Components.layout.controls.Width.change_value(t,e)},this.controls.ButtonLayout.update=function(t){this.setValue(t.find(".thrv-sf-submit").attr("data-button-layout"))},this.controls.ButtonLayout.input=function(t,e){t.find(".thrv-sf-submit").attr("data-button-layout",e.getAttribute("data-value"))},this.controls.Size.update=function(t){this.setValue(t.find(".thrv-sf-input").head_css("font-size",!1," input",!0,this.config.css_prefix))},this.controls.Size.input=function(t,e){var i={"font-size":e.value+this.getUM()};this.applyElementCss(i,t.find(".thrv-sf-input")," input"),this.applyElementCss(i,t.find(".thrv-sf-submit")," button")}},toggleBtnLayoutCtrl:function(t){this.$(".sf-button-layout-ctrl").toggleClass("tcb-hide",t)},convertFormToShortcode:function(t){var e=[{element:t,attr:{"data-css-form":"data-css","wrapper-id":"id","wrapper-events":"data-tcb-events","data-ct":"data-ct","data-ct-name":"data-ct-name"}},{element:t.find(".thrv-sf-input"),attr:{"data-css-input":"data-css"}},{element:t.find(".thrv-sf-input input"),attr:{"input-placeholder":"placeholder"}},{element:t.find(".thrv-sf-submit"),attr:{"data-css-submit":"data-css","button-layout":"data-button-layout"}},{element:t.find(".tve_btn_txt"),attr:{"button-label":"__get_html__"}},{element:t.find(".thrv_icon"),attr:{"data-css-icon":"data-css","button-icon":"__get_html__"}}],n="";e.forEach(function(t){if(t.element.jquery&&0<t.element.length)for(var e in t.attr){var i=t.attr[e];"__get_html__"!==i&&t.element.attr(i)?n+=" ".concat(e,"='").concat(t.element.attr(i).replace("__TCB_EVENT_[","").replace("]_TNEVE_BCT__",""),"'"):"__get_html__"===i&&(n+=" ".concat(e,"='").concat(t.element.html().trim(),"'"))}});var i="";t[0].classList.forEach(function(t){l.includes(t)||-1!==i.indexOf(t)||(i+=t+" ")}),i.length&&(n+=" wrapper-class='".concat(i.trim(),"'")),n+=" post-types='".concat(JSON.stringify(this.getUsedPostTypes(t)),"'"),t.replaceWith("[".concat(r).concat(n,"][/").concat(r,"]"))},getPostTypesControl:function(){return i("./../controls/preview-list")},getUsedPostTypes:function(t){var e={};return t.find(".tcb_sf_post_type").each(function(){e[this.value]=this.dataset.label}),e},addPostType:function(t,e){var i=Object.keys(this.getUsedPostTypes(TVE.ActiveElement));return this.addPostTypePanel.reset(TVE.ActiveElement.find("form"),i).open(null,e),!1},editFormElements:function(){var t=TVE.ActiveElement;TVE.main.EditMode.enter(t,{extra_element_class:"canvas-mode",blur:!0,show_default_message:!0,restore_state:!0,element_selectable:!1,callbacks:{exit:function(){TVE.Editor_Page.focus_element(t)}}})}})},"section.js":function(t,e,i){var n=i("../base"),l="tcb-window-width",a=i("../controls/global/style-picker"),s="-in",o="-out";e.exports=n.component.extend({cache:{},update_on_expand:!0,needs_update:function(t){return!t.children(".tve-page-section-out").length},migrate_element:function(t){var e,i,n,s,a;if(e=t.find(".in").css(["background-image","background-repeat","background-size","background-attachment","background-position","box-shadow"]),i=t.find(".in").css(["padding","color","min-height"]),n=t.find(".out").css(["background-color","border-width","border-style","border-color","border-image","border-radius"]),s=t.css(["margin-left","margin-right","margin-top","margin-right"]),a=t.find(".out").css(["margin-left","margin-right"]),t.removeClass("thrv_page_section").addClass("thrv-page-section tve_empty_dropzone"),t.prepend('<div class="tve-page-section-in"></div>'),t.prepend('<div class="tve-page-section-out"></div>'),t.find(".tve-page-section-out").head_css(n),t.find(".tve-page-section-out").head_css(e),t.head_css(i),Number(a["margin-left"].replace("px","")<-500)){a["margin-left"]="0px",t.addClass(l);var o=TVE.inner.$window.width(),r=t.parent().width();t.css({width:o+"px",left:-(o-r)/2+"px"}),t.find(".tve-page-section-in").head_css({"max-width":r+"px"})}s["margin-left"]=Number(s["margin-left"].replace("px",""))+Number(a["margin-left"].replace("px",""))+"px",s["margin-right"]=Number(s["margin-right"].replace("px",""))+Number(a["margin-right"].replace("px",""))+"px",t.css("margin",""),t.head_css(s),t.find(".tve-page-section-in").html(t.find(".in .cck").html()),t.find(".out").remove()},_get_section_out_div:function(t){return(t=t||TVE.ActiveElement).children(".tve-page-section-out")},_get_section_in_div:function(t){return(t=t||TVE.ActiveElement).children(".tve-page-section-in")},global_style_input:function(t,e){this._get_section_out_div().removeAttr("data-css").removeClass(t+o).addClass(e+o),this._get_section_in_div().removeAttr("data-css").removeClass(t+s).addClass(e+s)},global_style_sub_elements:function(){return[this._get_section_in_div(),this._get_section_out_div()]},add_global_style:function(t,e){var i=1<arguments.length&&void 0!==e?e:TVE.ActiveElement;this._get_section_out_div(i).removeAttr("data-css").removeAttr("data-selector").addClass(t+o),this._get_section_in_div(i).removeAttr("data-css").removeAttr("data-selector").addClass(t+s)},unlink_global_style:function(t){this._get_section_out_div().removeClass(t+o),this._get_section_in_div().removeClass(t+s)},delete_global_style:function(t){TVE.inner_$("."+t+o).removeClass(t+o),TVE.inner_$("."+t+s).removeClass(t+s)},add_global_style_transfer_data:function(t,e,i,n){t.find(".tve-page-section-out").attr("data-css")&&(i.push('[data-css="'+this._get_section_out_div(t).attr("data-css")+'"]'),n.push("."+e+o)),t.find(".tve-page-section-in").attr("data-css")&&(i.push('[data-css="'+this._get_section_in_div(t).attr("data-css")+'"]'),n.push("."+e+s))},unlink_global_style_transfer_data:function(t,e,i,n){i.push("."+e+o),n.push('[data-css="'+TVE.CSS_Rule_Cache.uniq_id(this._get_section_out_div(t))+'"]'),i.push("."+e+s),n.push('[data-css="'+TVE.CSS_Rule_Cache.uniq_id(this._get_section_in_div(t))+'"]')},toggleWidthControls:function(t){this.$('.tve-control[data-view="ContentWidth"], .tve-control[data-view="ContentFullWidth"]').toggleClass("tcb-hidden",t)},controls_init:function(o){var e=this;this.stylepicker=new a({model:{config:{items:[]}},component:this});var s=this;o.SectionHeight.input=function(t,e){this.applyElementCss({"min-height":e.value+this.getUM()+" !important"},t,"",""),"change"===this.currentEventType&&o.FullHeight.update(t)},o.SectionHeight.update=function(t){var e=t.head_css("min-height");e=e||t.height(),this.setValue(e)},o.FullHeight.change=_.bind(function(t,e){var i,n=TVE.renderers.base.read_element_props(t),s=t.head_css("min-height"),a="";e.checked?(o.SectionHeight.disable(),this.cache.full_height||(this.cache.full_height=s+"!important"),a="100vh !important"):(o.SectionHeight.enable(),this.cache.full_height?(a=this.cache.full_height,delete this.cache.full_height):a="40px"),t.head_css({"min-height":a}),i=TVE.renderers.base.read_element_props(t),this.undo_action(t,n,i),o.SectionHeight.update(t),TVE.Editor_Page.reposition_icons()},this),o.FullHeight.update=function(t){this.setChecked("100vh"===t.head_css("min-height"))},o.ContentWidth.input=function(t,e){this.applyElementCss({"max-width":e.value+this.getUM()},t,"","")},o.ContentWidth.update=function(t){var e=t.head_css("max-width",null,null,!0);e&&!isNaN(parseInt(e))||(e=t.outerWidth()),this.model.config.max=parseInt(t.parent().width()),this.setValue(e)},o.ContentWidth.change=function(t,e){n.control.prototype.change.call(this,t,e),TVE.do_action("tcb.section.resized",t)},o.ContentFullWidth.change=function(t,e){t.head_css({"min-width":e.checked?"100%":""}),o.ContentWidth.toggle_disabled(e.checked)},o.ContentFullWidth.update=function(t){var e=s.is_full_width()&&t.outerWidth()===t.parent().width();this.setChecked(e),e||t.head_css({"min-width":""})},o.InheritFromLandingPage&&(TVE.add_filter("element_drop",function(t){return t.is(".thrv-page-section")&&(t.attr("data-inherit-lp-settings",1),e.setLpPageSectionWidth(t)),t}),o.InheritFromLandingPage.change=function(t,e){e.checked?(t.attr("data-inherit-lp-settings",1),s.setLpPageSectionWidth(t),o.ContentFullWidth.setChecked(!1,!0)):t.removeAttr("data-inherit-lp-settings"),s.toggleWidthControls(e.checked)},o.InheritFromLandingPage.update=function(t){var e="1"===t.attr("data-inherit-lp-settings");this.setChecked(e),s.toggleWidthControls(e)}),o.VerticalPosition.applyStyles=function(t,e){var i;t.removeClass("tcb-flex-center tcb-flex-end"),i=""===e.getAttribute("data-value")?{"justify-content":"",display:"block","flex-direction":""}:{"justify-content":e.getAttribute("data-value"),display:"flex","flex-direction":"column"},this.applyElementCss(i,t," .tve-page-section-in","")},o.VerticalPosition.update=function(t){this.setActive(t.head_css("justify-content",null," .tve-page-section-in",!0)||"")},o.SectionFullWidth.change=function(t,e){var i=t.parent().width(),n=t.find(">.tve-page-section-in");TVE.SKIP_CSS_STATE=!0,t.toggleClass(l,e.checked),e.checked?(TVE.inner.window.TCB_Front.resizePageSection(t),n.head_css("max-width")||n.head_css({"max-width":i+"px"})):t.css({width:"",left:""}),TVE.Components.layout.toggle_full_width_controls(!e.checked),TVE.SKIP_CSS_STATE=!1,o.ContentWidth.update(n),o.ContentFullWidth.update(n),TVE.Editor_Page.reposition_icons(),s.toggle_controls()},o.SectionFullWidth.update=function(t){TVE.Editor_Page.is_page_full_width()||this.setChecked(t.hasClass(l))}},setLpPageSectionWidth:function(t){var e=TVE.head_css_get(".tve_post_lp > div > "+TVE.CONST.global_css_prefix,"--page-section-max-width",null,!0);e&&t.find(".tve-page-section-in").head_css({"max-width":e})},undo_action:function(t,e,i){TVE.UndoManager.add({undo:function(){t.attr("class",e.cls).attr("style",e.style||"")},redo:function(){t.attr("class",i.cls).attr("style",i.style||"")}})},is_full_width:function(t){return!!(t=(t||TVE.ActiveElement).closest(".thrv-page-section")).hasClass(l)||TVE.Editor_Page.is_page_full_width()},after_update:function(){this.toggle_controls()},before_update:function(){TVE.FLAGS.hover_element=!1},toggle_controls:function(){this.controls.ContentFullWidth.toggle_disabled(!this.is_full_width()),this.controls.ContentWidth.toggle_disabled(this.controls.ContentFullWidth.isChecked()),this.controls.SectionFullWidth.$el.add(this.controls.SectionFullWidth.$el.prev("hr")).toggle(!TVE.Editor_Page.is_page_full_width()),this.controls.SectionHeight.toggle_disabled(this.controls.FullHeight.isChecked())}})},"sel-elem-nav.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({collection:null,item_tpl:TVE.tpl("controls/selected-elem-nav-item"),compact_item_tpl:TVE.tpl("controls/selected-elem-nav-item-compact"),screen_sizes:{large:1150,small:850},average_size:1440,root_elements:[],is_compact:!1,initialize:function(t){TVE.main.on("clear_focus",_.bind(this.reset_collection,this)),this.collection=new Backbone.Collection,this.listenTo(this.collection,"reset",this.render)},reset_collection:function(){var t=this.get_root_element(),e=[];t.data("breadcrumbs.disabled")&&e.push({element:t,edited_element:!1,name:TVE.get_element_name(t)}),this.collection.reset(e)},reset_breadcrumbs:function(){if(!TVE.state_manager.is_jump()){this.is_compact=!1;var i=1<TVE.ActiveElement.length?TVE.ActiveElement.filter(".edit_mode"):TVE.ActiveElement;if(i.is(".tve-post-options-element, body.tve_lp"))return!1;var n=TVE.state_manager.is_default(),s=TVE.state_manager.get_parent();s=s||TVE.state_manager.get_element();var a=[r(i,TVE._type(i))],t=this.get_root_element(),o=TVE.Editor_Page.selection_manager.selectors.get("not_editable")+",.breadcrumbs-hidden";i.closest(t).length||(this.clear_root_element(),t=TVE.inner.$body);var e=TVE.Editor_Page.selection_manager.selectors.get("editable")+","+TVE.TEXT_ALL;i.not(t).parentsUntil(t.parent(),e).each(function(){var t=TVE.inner_$(this),e=TVE._type(t);t.is(o)||null!==e&&a.push(r(t))}),a=TVE.apply_filters("tcb.breadcrumbs.items",a,i),this.collection.reset(a)}function r(t){var e=t.attr("data-element-name")||TVE.get_element_name(t);return void 0!==t.attr("data-element-name")&&(e=t.attr("data-element-name")),!n&&t.is(s)&&(e+=": <strong>"+TVE.state_manager.getStateLabel().toUpperCase()+"</strong>"),{element:t,edited_element:i.is(t),name:e}}},render:function(){return this.$el.empty(),this.is_first=!0,this.collection.each(this.renderOne,this),this},renderOne:function(t,e,i){var n;return n=this.is_compact?jQuery(this.compact_item_tpl({model:t,index:e})):jQuery(this.item_tpl({model:t,index:e,is_last:0===e,is_first:this.is_first,disabled:t.get("element").data("breadcrumbs.disabled")})),n=TVE.apply_filters("tcb.breadcrumbs.item_render",n,t),this.is_compact?this.$(".tcb-compact-nav-list").append(n):this.$el.prepend(n),this.afterRenderOne(t,e),this},afterRenderOne:function(t,e){var i=TVE.$window.width();if(!this.is_compact&&(i<this.average_size&&this.$el.outerWidth()>this.screen_sizes.small-200||i>=this.average_size&&this.$el.outerWidth()>this.screen_sizes.large-200)){var n=this.$(".tcb-active-element-breadcrumbs-item").first();n.addClass("tcb-breadcrumb-compact-item"),n.find(".tcb-breadcrumb-name").replaceWith(TVE.icon("ellipsis-h-light")+TVE.icon("chevron-down-regular","svg","sidebar","drop")),n.append('<div class="tcb-compact-nav-list" style="display:none"></div>'),n.find(".tcb-compact-nav-list").append(this.compact_item_tpl({model:t,index:e})),e="compact",n.attr("data-index",e).attr("data-fn","expand"),this.is_compact=!0}this.is_first&&(this.is_first=!1)},expand:function(t,e){this.$(".tcb-compact-nav-list").toggle(),t.currentTarget.classList.toggle("expanded")},clicked:function(t,e){var i=this.collection.at(e.dataset.index);if(!TVE.apply_filters("tcb.breadcrumb_click_before",!0,t,e))return!1;var n=i.get("element"),s=TVE.ActiveElement.is("a.tve-froala")?TVE.ActiveElement:null;n.is(TVE.TEXT_ALL)?TVE.froala.force_focus(n,!1).then(function(t){s&&t.styles.setActiveElement(s.parent())}):TVE.Editor_Page.selection_manager.select_element(i.get("element"))},push_root_element:function(t){this.get_root_element()[0]!==t[0]&&this.root_elements.push(t)},pop_root_element:function(t){return this.root_elements.length&&t?this.get_root_element()[0]!==t[0]?null:this.root_elements.pop():null},clear_root_element:function(){return this.root_elements=[],this},get_root_element:function(){return this.root_elements.length?_.last(this.root_elements):TVE.inner_$(TVE.CONST.editor_selector||TVE.Editor_Page.editor)}})},"shadow.js":function(t,e,i){var n=i("../base"),s=i("../controls/button-panel-group"),a=i("../controls/shadow"),o=i("../controls/drop-panel");e.exports=n.component.extend({extra_states:!0,css_attributes:["text-shadow","box-shadow"],css_attribute:null,setConfig:function(e){this.config=_.extend({},e||{}),this.$element=e.to?TVE.ActiveElement.find(e.to):TVE.ActiveElement,this.css_suffix=e.css_suffix,this.css_prefix=e.css_prefix,_.each(this.tabs.panels,function(t){t.setConfig(e.Shadow)}),this.hideControls(e.disabled_controls),this.$(".dropdown-header").hasClass("open")&&this.update(),this.$element&&this.$element.length},hideControls:function(t){this.$("#tcb-shadow-buttons .btn-inline").show(),_.isArray(t)?(_.each(t,function(t){this.$('[data-panel="'+t+'"]').hide()},this),_.contains(t,"text")&&this.$("#tcb-text-shadow-list").hide(),this.$(".tve-btn-group").toggleClass("input",0===t.length).toggleClass("inline",t.length)):this.$(".tve-btn-group").removeClass("inline").addClass("input")},getDefaultValues:function(){return{angle:270,color:"rgba(0, 0, 0, 0.4)",distance:8,blurr:12,spread:0}},getDefaultTextValues:function(){return{angle:320,color:"rgba(0, 0, 0, 0.4)",distance:3,blurr:2}},controls_init:function(){this.collection=new Backbone.Collection,this.textShadowCollection=new Backbone.Collection,this.bindListeners(),this.init_shadows()},bindListeners:function(){this.collection.bind("change-attributes",this.change,this),this.collection.bind("cancel-changes",this.cancel,this),this.collection.bind("apply-changes",this.apply,this),this.collection.bind("remove-shadow",this.remove,this),this.textShadowCollection.bind("change-attributes",this.change,this),this.textShadowCollection.bind("cancel-changes",this.cancel,this),this.textShadowCollection.bind("apply-changes",this.apply,this),this.textShadowCollection.bind("remove-shadow",this.remove,this)},update:function(){var i;_.each(this.css_attributes,_.bind(function(t){var e;this.setCssAttribute(t),e="text-shadow"===t&&this.config.with_froala?this.parseCss(TVE.froala.get_block_element().head_css("text-shadow",!1,null,!0,TVE.apply_filters("wrapper_selector",TVE.CONST.global_css_prefix)+" ")):(i="text-shadow"===t?TVE.ActiveElement.filter(".edit_mode"):this.$element.filter(".edit_mode").length?this.$element.filter(".edit_mode"):this.$element,this.getShadowAttributes(TVE.apply_filters("tcb.read.shadow.".concat(TVE._type(i)),i,t))),this.renderShadowAttributes(e)},this)),_.delay(_.bind(function(){this.process_preview_lists()},this)),this.after_update()},after_update:function(){TVE.FLAGS.hover_update?this.read_initial_state():this.save_state()},read_initial_state:function(){this.save_state(),TVE.state_manager.is_default()&&(TVE.state_manager.set_state("hover"),TVE.ActiveElement.addClass("tve-state-hover"),this.save_state(),TVE.ActiveElement.removeClass("tve-state-hover"),TVE.state_manager.set_state(""))},save_state:function(){TVE.state_manager.is_default()&&!TVE.FLAGS.hover_element?this.originalColor=this.getColorArr(this.collection):this.hoverOriginalColor=this.getColorArr(this.collection)},getColorArr:function(t){t&&"function"==typeof t.toJSON&&(t=t.toJSON());var e=[];return _.each(t,function(t){TVE.isCssVariable(t.color)&&(t.color=TVE.getCssVariableValue(t.color)),e.push(t.color)}),e},hasHoverState:function(){return!!this.hoverOriginalColor&&!_.isEqual(this.hoverOriginalColor,this.originalColor)},process_preview_lists:function(){this.$("#tcb-box-shadow-list").show(),this.$("#tcb-text-shadow-list")["none"!==this.$('*[data-panel="text"]').css("display")?"show":"hide"](),0===this.textShadowCollection.length&&0<this.collection.length?this.$("#tcb-text-shadow-list").hide():0===this.collection.length&&this.$("#tcb-box-shadow-list").hide(),this.setBackup(),"none"===this.$("#tcb-box-shadow-list").css("display")&&"none"===this.$("#tcb-text-shadow-list").css("display")&&this.$("#tcb-box-shadow-list").show()},change:function(){var t=this.collection,e=this.config.to;if("text-shadow"===this.css_attribute&&(t=this.textShadowCollection,e=this.config.inline_text_to,this.config.with_froala)){var i=this.buildShadowAttribute(t);!TVE.froala.has_selection()||TVE.froala.editor.selection.isFull()||TVE.froala.selectionIsFullBlock()?this.applyElementCss({"text-shadow":i||"none"},TVE.froala.get_block_element(),"",TVE.apply_filters("wrapper_selector",TVE.CONST.global_css_prefix)+" "):(TVE.froala.exec(i&&"none"!==i?"format.applyStyle":"format.removeStyle","text-shadow",i),this.is_during_apply&&TVE.Components.text.apply_head_css())}else{var n=TVE.apply_filters("tcb.write.shadow.suffix.".concat(TVE._type(TVE.ActiveElement)),this.css_suffix,this.css_attribute);this.applyElementCss(_defineProperty({},this.css_attribute,this.buildShadowAttribute(t)),e?TVE.ActiveElement.find(e):TVE.ActiveElement,n)}},applyElementCss:function(t,e,i,n){var s=2<arguments.length&&void 0!==i?i:this.css_suffix,a=3<arguments.length&&void 0!==n?n:this.css_prefix;return this.tabs.panels["text-shadow"===this.css_attribute?"text":"drop"].applyElementCss(t,e,s,a)},changeColorPallette:function(t){var e={};this.getShadowAttributes(this.$element),this.collection.length&&(!TVE.state_manager.is_default()&&this.hasHoverState()||!TVE.state_manager.induced_state||TVE.state_manager.is_default())&&(e[this.css_attribute]=this.buildShadowAttribute(this.collection,t),this.$element.head_css(e,null,this.css_suffix,!0,this.css_prefix))},setInitialState:function(){var t={};t[this.css_attribute]=this.buildShadowAttribute(this.collection),TVE.UndoManager.temp.set(this.$element,t)},init_shadows:function(){this.tabs=new s({el:this.$("#tcb-shadow-buttons"),buttons:this.buttons(),label:TVE.t.AddNew}),this.tabs.on("open",_.bind(this.add_shadow,this))},setControlCollection:function(){_.each(this.tabs.panels,_.bind(function(t){t.IS_TEXT?t.setCollection(this.textShadowCollection):t.setCollection(this.collection)},this))},renderShadowAttributes:function(t){this.$list=this.$("#tcb-"+this.css_attribute+"-list"),this.$list.empty();var i=this;if(t.length)t.each(function(t,e){var i,n=TVE.tpl("controls/preview-list-item"),s=TVE.t.TextShadow;"text-shadow"===t.get("css_attribute")?i="text-shadow":s="inset"==t.get("inner")?(i="inner-shadow",TVE.t.InnerShadow):(i="outer-shadow",TVE.t.DropShadow),t.set({icon:TVE.icon(i,"inline"),label:s,index:e}),t.index=e,this.$list.append(n({item:t,view:this}))},this),this.$list.sortable({axis:"y",handle:".preview-list-sort-handle",update:function(t,e){i.reOrder(e.item[0].getAttribute("data-index"),e.item.index(),jQuery(e.item).closest(".tcb-preview-list").attr("data-shadow-type"))}}),this.$list.find(".preview-list-sort-handle").toggle(1===t.length);else{var e=TVE.tpl("shadow/no-shadow");this.$list.html(e({}))}},buildShadowAttribute:function(n,s){var a,o,r,l="",t=this.config.important&&"text-shadow"!==this.css_attribute?" !important":"",e=this.default_shadow?this.default_shadow:this.config.default_shadow,c=this;return n.each(function(t,e){var i;a=String(t.get("spread")).length&&"text-shadow"!==c.css_attribute?t.get("spread")+"px ":"",r=c.originalColor&&TVE.state_manager.is_default()||c.hoverOriginalColor&&!TVE.state_manager.is_default()?(i=TVE.state_manager.is_default()?c.originalColor[e]:c.hoverOriginalColor[e],s&&s.color?TVE.generateOffsetColor(s.originalColor,s.color,i).toRgbString():t.get("color")):t.get("color"),o=t.get("color")?r:"transparent",l+=t.get("horizontal")+"px "+t.get("vertical")+"px "+t.get("blur")+"px "+a+o+("inset"===t.get("inner")?" inset":"")+(e+1===n.length?"":", ")}),(l=l||(e||"none"))?l+t:l},reRender:function(){var t=this.collection;"text-shadow"===this.css_attribute&&(t=this.textShadowCollection),this.renderShadowAttributes(t)},cancel:function(){return"text-shadow"===this.css_attribute?this.textShadowCollection.reset(this.backup):this.collection.reset(this.backup),this.change(),this.reRender(),!1},apply:function(){return this.is_during_apply=!0,this.change(),this.update(),delete this.is_during_apply,!1},item_remove:function(t,e){var i=jQuery(e).closest(".tcb-preview-list").attr("data-shadow-type"),n=this.collection;return this.setCssAttribute(i),"text-shadow"===i&&(n=this.textShadowCollection),o.close_all(),n.remove(n.findWhere({index:parseInt(e.getAttribute("data-index"))})),this.change(),this.reRender(),this.process_preview_lists(),t.stopPropagation(),!1},setCssAttribute:function(t){this.css_attribute=t},add_shadow:function(t,e){var i;TVE.apply_filters("tcb_filter_shadow_before_add",this.$element),this.setCssAttribute(t.css_attribute),this.setBackup(),t.IS_TEXT?(i=this.getDefaultTextValues(),e=null):(this.setInitialState(),i=this.getDefaultValues()),t.updateControls(null,e,i)},setBackup:function(){var t;t="text-shadow"===this.css_attribute?this.textShadowCollection.toJSON():this.collection.toJSON(),this.backup=t},item_click:function(t,e){var i,n,s=jQuery(e).closest(".tcb-preview-list").attr("data-shadow-type"),a=this.collection,o=e.getAttribute("data-index");if(this.setCssAttribute(s),this.setBackup(),"text-shadow"===s)i=(a=this.textShadowCollection).findWhere({index:Number(o)}),n=this.tabs.panels.text;else{this.setInitialState();var r=(i=a.findWhere({index:Number(o)})).get("inner")?"inner":"drop";n=this.tabs.panels[r]}return n.updateControls(i,null),n.isOpen()?n.onCancel():(n.open(null,e),t.stopPropagation()),!1},parseCss:function(t){var e=this.collection;if("text-shadow"===this.css_attribute&&(e=this.textShadowCollection),e.reset(),t){var i,n,s,a,o;0===t.indexOf("rgb")||0===t.indexOf("var")?(i=/((rgba?|var)\(([^\)]+)\)([^,]*))+/g,n=2,s=3,a=4):(i=/(([^,]*?)(rgba?|var)\(([^\)]+)\)([ ]?inset)?)+/g,n=3,s=4,a=2,o=5);for(var r,l="",c=0,d=[];r=i.exec(t);)l=r[n]+"("+r[s]+")",d=r[a].replace(/^\s+|\s+$/g,"").split(" "),r[o]&&d.push(r[o].trim()),e.add(this.createShadowModel(l,d,c,this.css_attribute)),c++}return this.setControlCollection(),e},getShadowAttributes:function(t){var e=TVE.apply_filters("tcb.write.shadow.suffix.".concat(TVE._type(TVE.ActiveElement)),this.css_suffix,this.css_attribute);return this.parseCss(t?t.head_css(this.css_attribute,!1,e,!0,this.css_prefix):"")},createShadowModel:function(t,e,i,n){var s=new Backbone.Model;return s.set("horizontal",e[0].replace("px","")),s.set("vertical",e[1].replace("px","")),s.set("blur",e[2]?e[2].replace("px",""):null),s.set("spread",e[3]?e[3].replace("px",""):null),s.set("color",t),s.set("inner",e[4]?e[4]:null),s.set("index",i),s.set("css_attribute",n),s},reOrder:function(t,e,i){this.setCssAttribute(i);var n=this.collection;"text-shadow"===i&&(n=this.textShadowCollection);var s=n.at(t),a=new Backbone.Model(s.toJSON());n.remove(s),n.add(a,{at:e}),this.change(),this.update()},buttons:function(){return{inner:{icon:"inner-shadow",title:TVE.t.InnerShadow,panel:new a({collection:[],css_attribute:"box-shadow"})},drop:{icon:"outer-shadow",title:TVE.t.DropShadow,panel:new a({collection:[],css_attribute:"box-shadow"})},text:{icon:"text-shadow",title:TVE.t.TextShadow,panel:new a({collection:[],simplified:!0,IS_TEXT:!0,css_attribute:"text-shadow"})}}}})},"shared-styles.js":function(t,e,i){var n=i("../base"),a=i("../controls/global/style-panel"),o=i("../controls/global/style-control"),m=i("../../libs/functions");e.exports=n.component.extend({edit_on_c:["typography","background","borders","shadow","text"],edit_off_c:["layout","animation","responsive","styles-templates","scroll","decoration","section","contentbox","group"],ignored_global_props_button:["margin-left","margin-right","margin-bottom","margin-top","z-index","position","float","top","left","bottom","right","min-width","max-width","width","height","min-height","max-height","display"],ignored_global_props:["clip-path","padding-left","padding-right","padding-top","padding-bottom","margin-left","margin-right","margin-bottom","margin-top","z-index","position","float","top","left","bottom","right","min-width","max-width","width","height","min-height","max-height","display"],allowed_element_types:TVE.apply_filters("tcb_shared_styles_elements_types",["button","section","contentbox"]),allowed_no_clicks_types:["section","contentbox"],allowed_child_elements:".thrv-button .thrv_icon, .thrv-button .thrv-inline-text",allowed_data_attributes:["data-button-size"],global_class:null,global_identifier:null,global_style:null,$similar_element:null,$edited_element:null,style_pickers:[],controls_init:function(){var s=this;TVE.main.states_dropdown.on("state_change",_.bind(this.state_changed,this)),TVE.main.on("default_state",_.bind(function(){TVE.USE_GLOBALSHEET&&(this.disable_clicks(),this.$similar_element&&TVE.Components.background.update())},this)),TVE.add_filter("tcb.state_manager.change.edit_mode",function(t){return s.$similar_element&&(t=s.$similar_element),t}),TVE.add_action("tcb.show_icons",function(t,e,i){TVE.USE_GLOBALSHEET&&e.hide()}),TVE.add_filter("tcb.click_blur",function(t,e){return!(TVE.USE_GLOBALSHEET&&(!e.is(TVE.Editor_Page.selection_manager.selectors.editable)||e.is("body")))&&t}),TVE.main.on("clear_focus",_.bind(function(){TVE.USE_GLOBALSHEET&&TVE.main.element_selected(this.$edited_element)},this)),TVE.add_action("tcb.after-insert",function(t){t.closest("[data-child-styles]").applyChildrenGlobalStyle()}),this.styleControl=new o({component:this}),this.styleControl.set_drop_panel(new a({model:{},component:this})),TVE.add_action("tcb.element.selected",this.toggle_style_elements.bind(this)),TVE.main.on("element_selected",function(t,e){s.global_class=TVE.getClassThatContains(t,TVE.CONST.global_cls_prefix),s.global_identifier=s.global_class.replace(/^tcb-global-(.+?)-([^-]+)$/,"$2"),s.real_element_type=TVE.apply_filters("tcb.shared_style.element_type",e,t),s.element_type=TVE.apply_filters("tcb.shared_style.element_type",s.get_element_type(s.real_element_type),t),s.global_style=s.getGlobalStyleObject(t,s.global_identifier),s.is_child_element=s.check_child_element(t),s.has_active_style=!!s.global_class&&(!_.isEmpty(s.global_style)||s.is_child_element),s.is_template_style=!_.isEmpty(s.global_style)&&0===s.global_style.id.indexOf("tpl_"),s.set_style_picker()}),TVE.add_filter("global_style_selector",function(t,e,i,n){return n.is(".thrv-button")&&-1<t.indexOf("tcb-button-link")&&(t+=", "+i+"."+e+" button"),t}),TVE.add_filter("tcb.copy_styles_different_stylesheet",function(t){if(-1!==t.indexOf(".tcb-button-link")){var e=t.substring(0,t.indexOf(".tcb-button-link")),i=t.substring(0,t.indexOf(" {"));if(-1===t.indexOf(", "+e+"button"))t=t.replace(i,i+", "+e+"button");else if("button"===TVE.apply_filters("tcb.shared_style.element_type",s.real_element_type,TVE.ActiveElement))t=t.replace(", "+e+"button","");else if(-1!==i.indexOf(", ")){var n=i.substring(0,i.indexOf(", "));t=t.replace(n+", ","")}}return t}),this.controls.global_style.set_drop_panel(new a({model:{},component:this}))},state_changed:function(){if(TVE.USE_GLOBALSHEET&&this.$similar_element){var t=TVE.state_manager.css_class(!0);this.$similar_element.addClass(t),TVE.ActiveElement.addClass(t),TVE.Components.background.update()}},get_element_type:function(t){return _.contains(TVE.apply_filters("tcb_shared_styles_button_types",["contact_form_submit","lead_generation_submit"]),t)&&(t="button"),t},getGlobalStyleObject:function(t,e,i){var n=1<arguments.length&&void 0!==e?e:"",s=2<arguments.length&&void 0!==i?i:this.element_type,a=TVE.apply_filters("tcb.global.stylepicker.styles",{},TVE._type(t)),o=_.isEmpty(a)?[]:Object.values(a)[0];return _.findWhere(_.union(TVE.CONST.global_styles[s],TVE.CONST.global_styles["tpl_"+s],o),{id:n})},addGlobalStyleDefaultCss:function(t,e,i){var n=0<arguments.length&&void 0!==t?t:TVE.ActiveElement,s=1<arguments.length&&void 0!==e?e:{},a=2<arguments.length&&void 0!==i&&i;a||n.find(".tve-page-section-out,.tve-content-box-background").first().empty(),_.each(s,function(t){var i=n;t.selector&&(i=n.find(t.selector).first()),_.each(t.css,function(t){i.head_css(t.rules,t.media)}),!a&&t.decoration_content&&(i.html(t.decoration_content),t.decoration_content_attr&&_.each(t.decoration_content_attr,function(t,e){i.attr(e,t)}),t.decoration_content_css&&_.each(t.decoration_content_css,function(t){i.find("svg[data-css]").first().head_css(t.rules,t.media)}))})},toggle_style_elements:function(){this.toggle_components(),this.toggle_controls_for_element()},check_child_element:function(t){if(!t.is(this.allowed_child_elements))return!1;var e=TVE.getClassThatContains(t,TVE.CONST.global_cls_prefix);if(_.isEmpty(e))return!1;var i=e.replace(TVE.CONST.global_cls_prefix,"").split("-"),n=_.union(TVE.CONST.global_styles[i[0]],TVE.CONST.global_styles["tpl_"+i[0]]);return!(_.isEmpty(n)||_.isEmpty(_.findWhere(n,{id:i[1]})))},edit_style:function(){TVE.USE_GLOBALSHEET=!0,this.toggle_style_elements(),this.before_edit_style(),TVE.main.update_components(),TVE.main.EditMode.enter(TVE.ActiveElement,{extra_element_class:this.extra_edit_mode_class(),view_label:TVE.t.global.edit_mode_label,restore_state:!0,callbacks:{exit:_.bind(function(){this.is_child_element&&TVE.main.element_selected(this.$edited_element),this.save_style(),TVE.USE_GLOBALSHEET=!1,this.toggle_style_elements(),TVE.main.update_components(),this.after_edit_style()},this)}})},before_edit_style:function(){if(this.$edited_element=TVE.ActiveElement,this.disable_clicks(),TVE.do_action("tcb.focus.clear"),TVE.ActiveElement.find("button").length){this.$similar_element=TVE.ActiveElement;var t=TVE.main.static_element("button").clone().find(".thrv-button");t.addClass("tve-remove-auxiliary-content tcb-permanently-hidden "+this.global_class).attr("id","tve-shared-style-tpl-btn"),t=TVE.apply_filters("tcb.shared-style-tpl-btn",t),TVE.inner_$(TVE.apply_filters("wrapper_selector","#tve_editor")).append(t),TVE.ActiveElement=TVE.ClickedElement=TVE.inner_$("#tve-shared-style-tpl-btn"),_.each(TVE.Elements.button.components,function(t,e){TVE.Components[e].setConfig(t.config)})}},after_edit_style:function(){delete this.$edited_element,TVE.Editor_Page.enable_clicks({}),this.$similar_element&&this.$similar_element.find("button").length&&(TVE.ActiveElement=this.$similar_element,TVE.inner_$("#tve-shared-style-tpl-btn").remove(),delete this.$similar_element)},allow_share_styles:function(){return _.contains(this.allowed_element_types,this.element_type)},disable_clicks:function(){_.contains(this.allowed_no_clicks_types,this.element_type)&&TVE.Editor_Page.disable_clicks({z_index_overlay:89e3})},extra_edit_mode_class:function(){var t="";return _.contains(["button"],this.element_type)&&(t="tcb-no-edit-mode-overlay"),t},toggle_components:function(){if(TVE.main.$(".tve-component").removeClass("no-hover disabled-children").removeAttr("data-tooltip"),(this.allow_share_styles()||this.is_child_element)&&(this.toggleDropdown("docked",!0),this.has_active_style)){var t=TVE.USE_GLOBALSHEET?this.edit_off_c:this.edit_on_c,e=TVE.USE_GLOBALSHEET?TVE.t.global.tooltip_global:TVE.t.global.tooltip_instance;_.each(t,function(t){TVE.Components[t].$el.addClass("no-hover disabled-children").attr({"data-tooltip":e,"data-width":"258px"})})}},toggle_state:function(t){this.$(".tve-control").toggleClass("tcb-hide",2===t).toggleClass("ss-larger-width",0===t),this.$(".shared-styles-actions").addClass("tcb-hide"),this.$('.shared-styles-actions[data-state="'+t.toString()+'"]').removeClass("tcb-hide"),0!==t||_.contains(this.allowed_element_types,this.real_element_type)||this.$('.shared-styles-actions[data-state="'+t.toString()+'"]').addClass("tcb-hide"),2!==t||_.isEmpty(this.global_style)||this.$(".shared-styles-name").text(this.global_style.name),1===t&&this.$('ul.shared-styles-drop-content li[data-fn="delete"]').toggleClass("tcb-hide",this.is_template_style)},set_style_picker:function(){this.allow_share_styles()&&(_.isEmpty(this.style_pickers[this.real_element_type])&&(this.style_pickers[this.real_element_type]=TVE.Components[this.real_element_type].stylepicker),this.controls.preview.set_drop_panel(this.style_pickers[this.real_element_type]),this.style_pickers[this.real_element_type].change())},toggle_controls_for_element:function(){var t=".gl-st-"+this.element_type+"-toggle-1",e=".gl-st-"+this.element_type+"-toggle-2";if(!this.allow_share_styles()&&!this.is_child_element)return TVE.$(t).removeClass("tcb-disabled"),void TVE.$(e).removeClass("tcb-disabled");this.$(".shared-styles-drop-content").addClass("tcb-hide"),this.toggle_state(TVE.USE_GLOBALSHEET?2:this.has_active_style?1:0),TVE.$(t).toggleClass("tcb-disabled",this.has_active_style&&!TVE.USE_GLOBALSHEET),TVE.$(e).toggleClass("tcb-disabled",this.has_active_style&&TVE.USE_GLOBALSHEET)},toggle_more_options:function(t,e){this.$(".shared-styles-drop-content").toggleClass("tcb-hide")},rename:function(t,e){this.toggle_more_options(),this.styleControl.open_panel(TVE.ActiveElement,this.$('.click[data-fn="toggle_more_options"]')[0]),this.styleControl.panel.rename_only=!0,this.styleControl.panel.dom()},delete:function(t,e){if(this.toggle_more_options(),confirm(TVE.t.global.delete_confirmation)){var i=_.findIndex(TVE.CONST.global_styles[this.element_type],_.bind(function(t){return t.id===this.global_identifier},this));-1<i&&TVE.CONST.global_styles[this.element_type].splice(i,1),delete this.global_style,this.has_active_style=!1,TVE.Components[this.element_type]&&"function"==typeof TVE.Components[this.element_type].delete_global_style&&TVE.Components[this.element_type].delete_global_style(this.global_class),TVE.inner_$("."+this.global_class).removeClass(this.global_class),jQuery.each(TVE.Elements[this.real_element_type].components,function(t,e){TVE.Components[t].setConfig(e.config)}),TVE.main.enable_components(),TVE.main.update_components(),this.toggle_style_elements(),this.save_style({active:0})}},dom_unlink_style:function(t,e){this.unlink_style(TVE.ActiveElement)},unlink_style:function(t){_.each(t.filter("."+this.global_class),function(t){var e,i=TVE.inner_$(t),n=this.construct_transfer_sheet_data("unlink",i,this.global_class);TVE.USE_GLOBALSHEET=!0,e=i.collect_head_css(),TVE.USE_GLOBALSHEET=!1,i.copy_styles_different_stylesheet(e,n.search_array,n.replace_array)},this),this.alter_element_classes("unlink",t,this.global_class),this.has_active_style=!1,jQuery.each(TVE.Elements[TVE._type(t)].components,function(t,e){TVE.Components[t].setConfig(e.config)}),TVE.main.enable_components(),TVE.main.update_components(),this.toggle_style_elements()},multiple_unlink_style:function(t){var n=this;0!==t.length&&(_.each(t,function(t){var e=TVE.inner_$(t),i=TVE._type(e);n.global_class=TVE.getClassThatContains(e,TVE.CONST.global_cls_prefix),n.real_element_type=i,n.element_type=n.get_element_type(i),n.unlink_style(e)},this),delete this.real_element_type,delete this.element_type,delete this.global_class)},preview_style_control:function(){return i("../controls/style-change")},global_style_control:function(){return i("../controls/global/style-control")},get_non_global_css:function(t){var e="button"===this.element_type?this.ignored_global_props_button:this.ignored_global_props;return TVE.head_css_get(TVE.apply_filters("tcb.get_non_global_css_selector",'[data-css="'+t.attr("data-css")+'"]',t),e,"_ALL")},reset_non_global_css:function(i){var n="button"===this.element_type?this.ignored_global_props_button:this.ignored_global_props,s={};_.each(TVE.main.responsive,function(t,e){_.each(n,function(t){s[t]=""}),i.head_css(s,t.media)})},save_style:function(t){if(t=t||{},!(t=_.defaults(t,{identifier:this.global_identifier,type:this.element_type,post_id:TVE.CONST.post_id,expect:"html"})).ignore_css){var e=TVE.Editor_Page.content_manager.get_global_rules(t.global_class||this.global_class);t.css=e.css,t.fonts=e.fonts}t=TVE.apply_filters("tcb.global_styles_save_data",t);var i=TVE.ajax("global_styles","post",t);return t.ignore_css||i.done(function(t){TVE.$(".tve_global_style").replaceWith(t)}),i},construct_transfer_sheet_data:function(t,e,i){var n=[],s=[];return TVE.Components[this.element_type]&&"function"==typeof TVE.Components[this.element_type][t+"_global_style_transfer_data"]&&TVE.Components[this.element_type][t+"_global_style_transfer_data"](e,i,n,s),"add"===t?(n.unshift('[data-css="'+TVE.CSS_Rule_Cache.uniq_id(e)+'"]'),s.unshift("."+i)):"unlink"===t&&(n.push("."+i),s.push('[data-css="'+TVE.CSS_Rule_Cache.uniq_id(e)+'"]')),{search_array:n,replace_array:s}},alter_element_classes:function(t,e,i){"add"===t?e.addClass(i).removeAttr("data-css").removeAttr("data-selector"):"unlink"===t&&e.removeClass(i),TVE.Components[this.element_type]&&"function"==typeof TVE.Components[this.element_type][t+"_global_style"]&&TVE.Components[this.element_type][t+"_global_style"](i)},collect_used_global_css_from_page:function(t){var e=0<arguments.length&&void 0!==t?t:TVE.inner_$('*[class*="'+TVE.CONST.global_cls_prefix+'"]'),o={};return 0===e.length||(_.each(TVE.main.responsive,function(t,e){o[t.media]=""}),_.each(e,function(t,e){var i=this,a=TVE.inner_$(t);a.attr("class");this.element_type=this.get_element_type(TVE._type(a)),_.contains(this.allowed_element_types,this.element_type)&&function(){var n=i.construct_transfer_sheet_data("unlink",a,TVE.getClassThatContains(a,TVE.CONST.global_cls_prefix));TVE.USE_GLOBALSHEET=!0;var s=a.collect_head_css();TVE.USE_GLOBALSHEET=!1;for(var t=function(i){_.each(TVE.main.responsive,function(t,e){s[t.media].length&&(s[t.media]=s[t.media].split(n.search_array[i]).join(n.replace_array[i]))})},e=0;e<n.search_array.length;e++)t(e);_.each(TVE.main.responsive,function(t,e){o[t.media]+=s[t.media]})}()},this),delete this.element_type),o},add_style:function(t,e){var i=1<arguments.length&&void 0!==e?e:{},n=TVE.ActiveElement,s=[];if(s.push({element:n,css:this.get_non_global_css(n)}),TVE.Components[this.element_type]&&"function"==typeof TVE.Components[this.element_type].global_style_sub_elements){var a=TVE.Components[this.element_type].global_style_sub_elements();_.each(a,function(t,e){s.push({element:t,css:this.get_non_global_css(t)})},this)}if(this.global_class&&(n.removeClass(this.global_class),TVE.Components[this.element_type]&&"function"==typeof TVE.Components[this.element_type].unlink_global_style&&TVE.Components[this.element_type].unlink_global_style(this.global_class)),_.each(s,function(t){this.reset_non_global_css(t.element)},this),TVE.Components[this.element_type]&&"function"==typeof TVE.Components[this.element_type].reset_non_global_css&&TVE.Components[this.element_type].reset_non_global_css(n),TVE.Components[this.element_type]&&n.attr("data-style")&&"function"==typeof TVE.Components[this.element_type].unlink_global_style){var o=n.attr("data-style");TVE.Components[this.element_type].unlink_global_style(o),n.removeClass(o).removeAttr("data-style")}var r,l=(+new Date).toString(36),c=TVE.CONST.global_styles["prefix_"+this.element_type]+l,d=n.collect_head_css(),h=this.construct_transfer_sheet_data("add",n,c);TVE.USE_GLOBALSHEET=!0,n.copy_styles_different_stylesheet(d,h.search_array,h.replace_array),TVE.USE_GLOBALSHEET=!1,this.alter_element_classes("add",n,c);var u=[];_.each(s,function(i){var n=[];_.each(i.css,function(t){i.element.head_css(t.rules,t.media);var e=_.pick(t.rules,_.identity);_.isEmpty(e)||n.push({media:t.media,rules:m.filterObjectPropertiesByKey(e,["clip-path","padding-left","padding-right","padding-top","padding-bottom","min-width","max-width","width","height","min-height","max-height"])})});var t=i.element[0].classList.value.split(" ").filter(function(t){return["tve-page-section-in","tve-page-section-out","tve-content-box-background","tve-cb"].includes(t)}).join(""),e="tve-page-section-out"===t||"tve-content-box-background"===t;u.push({css:n,selector:t.length?"."+t:"",decoration_content:e?i.element.html():"",decoration_content_attr:e?_.pick(TVE.getNodeAttributes(i.element,"data-"),function(t,e){return _.contains(["data-clip-id"],e)},this):{},decoration_content_css:e&&i.element.find("svg[data-css]")?TVE.head_css_get('[data-css="'+i.element.find("svg[data-css]").attr("data-css")+'"]',["height","bottom","fill","top","transform"],"_ALL"):{}})}),TVE.Components[this.element_type]&&"function"==typeof TVE.Components[this.element_type].put_non_global_css&&TVE.Components[this.element_type].put_non_global_css(n),r=_.pick(TVE.getNodeAttributes(n,"data-"),function(t,e){return _.contains(this.allowed_data_attributes,e)},this);var p=TVE.apply_filters("tcb.new_global_style",{id:l,name:t,cls:c,attr:_objectSpread({},r,{},i.attr),default_css:u,default_html:{}});TVE.CONST.global_styles[this.element_type].push(p),TVE.main.element_selected(n),TVE.do_action("tcb_before_global_style_save",n,p);var f={name:t,dom:{attr:p.attr},identifier:l};return _.isEmpty(p.default_html)||(f.default_html=JSON.stringify(p.default_html)),u.length&&(f.default_css=JSON.stringify(u)),this.save_style(f)}})},"social.js":function(t,e,i){var s=i("../controls/social/style"),n=i("../../collections/base"),a=i("../controls/social/network-options"),o=new n;e.exports=i("../base").component.extend({before_update:function(){TVE.ActiveElement.find(".tve_s_g_share").remove()},controls_init:function(){var n=this,t=this.get_collection();this.controls.style.set_drop_panel(new s({model:this.config.stylePicker,renderer:this.renderer})),this.controls.type.update=function(t){var e=t.find(".tve_social_items").attr("class").replace(/(tve_social_items|tve_social_custom)/g,"").match(/(\s+)?tve_social_([a-z]{2,3})/),i=e?"tve_social_"+e[2]:"tve_social_itb";this.setActive(i),this.component.renderer.set_config({button_type:i})},this.controls.type.input=_.bind(function(t,e){this.renderer.set_config({button_type:e.getAttribute("data-value")}),this.renderer.render_to(t,!0)},this),this.controls.size.update=function(t){this.setValue(parseInt(t.find(".tve_social_items").css("font-size")))},this.controls.size.input=function(t,e){this.applyElementCss({"font-size":e.value+"px !important"},t," .tve_social_items","")},this.controls.orientation.update=function(t){this.setActive("table"===t.find(".tve_s_item").css("display")?"v":"h")},this.controls.orientation.input=function(t,e){var i={"margin-bottom":"",display:""};"v"===e.getAttribute("data-value")&&(i["margin-bottom"]="10px",i.display="table"),t.head_css(i,null," .tve_social_items .tve_s_item")},this.controls.preview.attach_collection(t),this.controls.selector.attach_collection(t),this.controls.preview.get_items=_.bind(this.controls.selector.read_element,this.controls.selector),this.controls.preview.on("item_click",_.bind(this.open_edit_panel,this)),_.each(this.controls.selector.networks,function(t,n){if(!a[n])return!0;this.controls[n]=new a[n]({network:n,component:this}),this.listenTo(this.controls[n],"apply",function(t,e){var i={};i[n]=e,this.renderer.set_config(i),this.renderer.render_to(t,!0)})},this),this.listenTo(t,"change",this.render),this.listenTo(t,"remove",this.render),this.listenTo(t,"add",this.render),this.controls.has_custom_url.update=function(t){var e="{tcb_post_url}"===t.find(".tve_s_item").attr("data-href");this.setChecked(!e),n.controls.custom_url.$el[e?"hide":"show"]()},this.controls.has_custom_url.change=function(t,e){n.controls.custom_url.$el[e.checked?"show":"hide"]().find("input").focus(),e.checked||(n.renderer.set_config({share_url:"{tcb_post_url}"}).render_to(t,!0),TVE.inner.window.TCB_Front.getShareCounts(t,{post_id:TVE.CONST.post.ID}))},this.controls.custom_url.hide().update=function(t){var e=t.find(".tve_s_item").attr("data-href");e=e&&"{tcb_post_url}"!==e?TVE.addHttp(e):"",this.setValue(e),n.renderer.set_config({share_url:e||"{tcb_post_url}"})},this.controls.custom_url.change=function(t,e){var i=TVE.addHttp(e.value);if(!TVE.isValidUrl(i))return TVE.page_message(TVE.t.missing_invalid_url,!0),!1;n.renderer.set_config({share_url:i}).render_to(this.applyTo(),!0),TVE.inner.window.TCB_Front.getShareCounts(this.applyTo(),{post_id:TVE.CONST.post.ID})},this.controls.counts.update=function(t){this.setValue(t.attr("data-min_shares")||0)},this.controls.counts.input=function(){},this.controls.counts.change=function(t){n.renderer.set_config({min_shares:parseInt(this.getValue())}).render_to(t,!0)},this.controls.total_share.update=function(t){var e=!!t.find(".tve_s_share_count").length;this.setChecked(e),n.renderer.set_config({show_count:e}),TVE.inner.window.TCB_Front.getShareCounts(t,{post_id:TVE.CONST.post.ID}),n.controls.counts.$el.toggle(e)},this.controls.total_share.change=function(t,e){n.renderer.set_config({show_count:e.checked}).render_to(t,!0),TVE.inner.window.TCB_Front.getShareCounts(t,{post_id:TVE.CONST.post.ID}),n.controls.counts.$el.toggle(e.checked)}},get_collection:function(){return o},style_control:function(){return i("../controls/style-change")},selector_control:function(){return i("../controls/social/selector")},render:function(){var t=TVE.ActiveElement;this.renderer.set_config({selected:this.get_collection().pluck("key")},!1),this.renderer.render_to(t,!0)},open_selector_panel:function(t,e){return this.controls.selector.read_element(),this.controls.selector.open(null,e),!1},open_edit_panel:function(t,e){return this.controls[t.get("key")].set_model(t).open(TVE.ActiveElement,e),!1}})},"styled-list.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({listItemsCollection:new Backbone.Collection({}),cursorAtEnd:null,controls_init:function(){TVE.add_filter("tcb_filter_html_before_save",function(t,e){return t.find("svg.tcb-icon title").remove(),t}),TVE.add_action("icon_element_changed",function(t,e){var i=t.filter(".edit_mode");i&&1===i.closest(".thrv-styled_list").length&&!i.hasClass(TVE.Components.group.not_group_item_class)&&i.closest(".thrv-styled_list").attr("data-icon-code",e)}),TVE.main.on("ctrl-enter-pressed",function(t){TVE.ActiveElement.hasClass("tcb-styled-list-icon-text")&&TVE.froala.editor.cursor.enter()}),TVE.main.on("enter-pressed",_.bind(function(t){TVE.ActiveElement.hasClass("tcb-styled-list-icon-text")&&this.add_list_item_after(TVE.ActiveElement.filter(".edit_mode"))},this)),TVE.main.on("backspace-pressed",function(t){if(TVE.ActiveElement.hasClass("tcb-styled-list-icon-text")&&TVE.froala.editor.selection.info(TVE.froala.editor.el).atStart){var e=TVE.ActiveElement.filter(".edit_mode").closest(".thrv-styled-list-item"),i=e.is(":first-child")?e.next():e.prev(),n=i.find(".tcb-styled-list-icon-text");if(!e.is(":first-child")){var s=TVE.froala.editor.html.get();e.remove(),TVE.froala.force_focus(n,!1),i.trigger("click.tcb"),i.froalaEditor("events.focus"),TVE.froala.editor.selection.setAtEnd(TVE.froala.editor.$el.get(0)),TVE.froala.editor.selection.restore();var a=TVE.froala.editor.selection.endElement(),o=TVE.froala.editor.doc.createRange(),r=a.childElementCount,l=TVE.froala.editor.html.get().length;TVE.froala.editor.html.set(TVE.froala.editor.html.get()+s),r?o.setStartAfter(a.childNodes[r]):(o.setStart(a.childNodes[r],l),o.setEnd(a.childNodes[r],l)),TVE.froala.editor.selection.get().removeAllRanges(),TVE.froala.editor.selection.get().addRange(o)}}}),TVE.main.on("before-delete-pressed",_.bind(function(t){TVE.ActiveElement.hasClass("tcb-styled-list-icon-text")&&(this.cursorAtEnd=TVE.froala.editor.selection.info(TVE.froala.editor.el).atEnd)},this)),TVE.main.on("delete-pressed",_.bind(function(t){if(TVE.ActiveElement.hasClass("tcb-styled-list-icon-text")&&this.cursorAtEnd){var e=TVE.ActiveElement.filter(".edit_mode").closest(".thrv-styled-list-item"),i=e.is(":last-child")?e.prev():e.next(),n=i.find(".tcb-styled-list-icon-text"),s=e.find(".tcb-styled-list-icon-text ");if(!e.is(":last-child")){i.remove(),TVE.froala.force_focus(s,!1),s.trigger("click.tcb"),s.froalaEditor("events.focus"),TVE.froala.editor.selection.setAtEnd(TVE.froala.editor.$el.get(0)),TVE.froala.editor.selection.restore();var a=TVE.froala.editor.selection.endElement(),o=TVE.froala.editor.doc.createRange(),r=a.childNodes.length,l=TVE.froala.editor.html.get().length;void 0===a.childNodes[r]&&r--,void 0!==n.find(".fr-element").html()?TVE.froala.editor.html.set(TVE.froala.editor.html.get()+n.find(".fr-element").html()):TVE.froala.editor.html.set(TVE.froala.editor.html.get()+n.html()),r?o.setStartAfter(a.childNodes[r]):(o.setStart(a.childNodes[r],l),o.setEnd(a.childNodes[r],l)),TVE.froala.editor.selection.get().removeAllRanges(),TVE.froala.editor.selection.get().addRange(o)}delete this.cursorAtEnd}},this)),this.controls.item_spacing.update=function(){var t=this.applyTo().head_css("margin-bottom",null,this.config.css_suffix,!0,this.config.css_prefix);t=t||0,this.setValue(t)},this.controls.item_spacing.input=function(t,e){this.applyElementCss({"margin-bottom":e.value+this.getUM()+" !important"})},this.controls.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),this.controls.ModalPicker.input=function(t,e){var i;if(e.icon.is(".tve-svg-icon")){var n=jQuery("symbol#"+e.icon.data("cls"));i=TVE.svg_icon({path:n.html(),viewBox:n[0].getAttribute("viewBox"),name:n.find("> title").text(),id:n.attr("id")})}else i='<span data-name="'+e.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+e.icon.data("cls")+'"></span>';t.attr("data-icon-code",e.icon.data("cls")).find(".thrv_icon").html(i),this.update(t)},this.controls.ModalPicker.update=function(t){var e=t.attr("data-icon-code");this.updateValue(e.replace("icon-",""))},this.controls.preview.attach_collection(this.listItemsCollection),this.controls.preview.update=function(t){var n=[],e=t.find("li");_.each(e,function(t,e){var i=jQuery(t);n.push({icon:this.component.renderer.get_icon(i),key:i,label:this.component.renderer.get_text(i)})},this),this.component.listItemsCollection.reset(n)},this.listenTo(this.listItemsCollection,"remove",_.bind(function(t){var e=t.get("key");e instanceof jQuery&&e.remove()},this)),this.listenTo(this.listItemsCollection,"change",_.bind(function(t){var e=this.controls.preview.applyTo().find("ul");e.empty(),this.listItemsCollection.each(function(t){e.append(t.get("key"))},this)},this))},add_list_item_after:function(t){TVE.froala.editor.cursor.enter(),TVE.froala.editor.cursor.enter(),TVE.froala.editor.cursor.enter(),TVE.froala.editor.html.cleanEmptyTags();var e=t.find(".fr-element").get(0).innerHTML,i=e.substring(e.lastIndexOf("<br><br><br>")),n=t.closest(".thrv-styled_list").attr("data-color"),s=t.closest(".thrv-styled_list").attr("data-icon-code"),a=t.closest(".thrv-styled-list-item"),o=a.find(".tcb-styled-list-icon-text").hasClass(TVE.Components.group.group_item_class);t.find(".fr-element").get(0).innerHTML=e.replace(i,"<thrive_list_element_enter>"+i+"</thrive_list_element_enter>"),a.after(this.renderer.create_default_list_item(t.closest(".thrv-styled_list"),s,TVE.inner_$("thrive_list_element_enter").html().replace("<br><br><br>",""))),TVE.inner_$("thrive_list_element_enter").remove(),"undefined"!==n&&a.next().find(".thrv_icon").head_css({color:n});var r=a.next().find(".tcb-styled-list-icon-text");o&&r.addClass(TVE.Components.group.group_item_class),TVE.froala.force_focus(r,!1),r.trigger("click.tcb"),r.froalaEditor("events.focus"),"<br>"===r.find(".fr-element").html().replace(/ style=""/g,"")?TVE.froala.editor.selection.setAtStart(TVE.froala.editor.$el.get(0)):TVE.froala.editor.selection.setAtEnd(TVE.froala.editor.$el.get(0)),TVE.froala.editor.selection.restore()},add_list_item:function(){var t=this.controls.preview.applyTo(),e=t.attr("data-color");t.find("ul").append(this.renderer.create_default_list_item(t,t.attr("data-icon-code")));var i=t.find("li").last();"undefined"!==e&&i.find(".thrv_icon").head_css({color:e}),this.controls.preview.update(t)},list_preview_control:function(){return i("../controls/preview-list")}})},"styles-templates.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({controls_init:function(t){t.Class.update=function(t){var e=TVE.Editor_Page.content_manager.parse_element_classes(t.attr("class"));this.setValue(e)},t.Class.change=function(t,e){var i=e.value;this.applyTo().removeClass(function(t,e){return TVE.Editor_Page.content_manager.parse_element_classes(e)}),this.applyTo().addClass(i)},t.ID.change=function(t,e){this.applyTo().attr("id",e.value)},t.ID.update=function(t){var e=t.attr("id");e&&e.length&&-1===e.indexOf("mce_")||(e=""),this.setValue(e)}},bind:function(t,e){var i=this,n=this.get_autocomplete_options(e);t.select2(n).on("select2:selecting",function(t){t.params.args.data.isNew&&(t.params.args.data.text=t.params.args.data.value)}).on("select2:select",function(e){var i=jQuery(this);e.params.data.isNew&&TVE.ajax("save_user_template_category","post",{category_name:e.params.data.value}).done(function(t){tcb_main_const.tpl_categ.push({id:t.response.id,text:t.response.name,value:t.response.name}),i.find('[value="'+e.params.data.id+'"]').replaceWith('<option selected value="'+t.response.id+'">'+e.params.data.value+"</option>"),i.val(t.response.id).trigger("change"),TVE.page_message(t.text)})}).on("select2:unselect",function(t){i.$("#tcb-template-category-id").val(""),t.params.originalEvent&&t.params.originalEvent.stopPropagation()})},get_autocomplete_options:function(t){var e={tags:!0,multiple:!0,placeholder:"Uncategorized",minimumResultsForSearch:0,maximumSelectionLength:1,data:tcb_main_const.tpl_categ,createTag:function(t){return{id:t.term,text:'"'+t.term+'" <b style="color:#1ca6e5; float: right;; text-transform: uppercase">'+TVE.t.add_as_category+"</b>",value:t.term,isNew:!0}},escapeMarkup:function(t){return t}};return void 0===t&&(t={}),jQuery.extend({},e,t)},show_hide_tpl_category:function(t,e){e.checked?this.$("#tcb-select-category-row").removeClass("tcb-hidden"):this.$("#tcb-select-category-row").addClass("tcb-hidden")},clear_styles:function(t,e){_.each(this.controls,function(t){t.setValue(""),t.change(TVE.ActiveElement,{value:""})});var i=TVE._type(TVE.ActiveElement),n=TVE.Elements[i],s=TVE.get_all_props(n.components,"to");TVE.ActiveElement.removeAttr("data-css"),TVE.ActiveElement.find(s.join(",")).removeAttr("data-css")},validate:function(){return _.isEmpty(this.$("#tcb-template-name").val())?(this.$m.html(TVE.icon("close")+"&nbsp;"+TVE.t.tpl_name_required).addClass("m-error"),!1):(this.$m.empty(),!0)},save_template:function(t){for(var e,i,n=this,s=TVE.stylesheet.cssRules?TVE.stylesheet.cssRules:TVE.stylesheet.rules,a="",o="",r=[],l=new FormData,c=TVE.ActiveElement.parent().hasClass("tcb-clear")?TVE.ActiveElement.parent().clone():TVE.ActiveElement.clone(),d=TVE._type(TVE.ActiveElement),h=0;i=s[h++];)if(i.type!==CSSRule.IMPORT_RULE)i.type===CSSRule.STYLE_RULE&&(0<c.find(i.selectorText).length||c.is(i.selectorText))&&(o+=i.cssText);else{var u=TVE.FontManager.read_font_name(i.cssText);TVE.FontManager.is_font_used(u)&&void 0===r[u]&&(r[u]=1,a+=i.cssText)}c.wrap("<div></div>"),(e=(c=c.parent()).collect_head_css())[0]=a,e[1]=o,c=TVE.apply_filters("tcb.templates.modify_content",c);var p=TVE.Editor_Page.content_manager.get_clean_content({},c),_=t.template_category,f=TVE.ActiveElement.color_selector()?[TVE.ActiveElement.color_selector()]:[];TVE.ActiveElement.find("[data-tve-custom-colour]").each(function(){f.push(TVE.inner_$(this).color_selector())}),l.append("template_name",t.name),l.append("template_content",p),l.append("template_category",_),l.append("post_id",TVE.CONST.post_id),l.append("custom_css",f),l.append("media_rules",JSON.stringify(e)),l.append("template_type",d),l=TVE.apply_filters("tcb.templates.before_save",l),TVE.main.overlay(),TVE.generateElementPreview(TVE.ActiveElement,function(t){t&&l.append("img_data",t,l.get("template_name")+".png"),n.execute_ajax(l)},{},!0)},handle_keyup_save:function(t,e){switch(t.which){case 13:e.value&&this.save_template();break;case 27:this.prev()}},execute_ajax:function(t){t.append("custom","save_user_template"),t.append("action",TVE.CONST.ajax.action),t.append("nonce",TVE.CONST.nonce),jQuery.ajax({type:"POST",url:TVE.CONST.ajax_url,data:t,processData:!1,contentType:!1,success:function(t){TVE.page_message(t.text),TVE.CONST.content_templates=t.content_templates},error:function(t){var e=TVE.getDetailedErrorMessage(t,"","",!0);TVE.page_message(e,!0)}}).always(function(){TVE.main.overlay.close()})}})},symbols:{"footer.js":function(t,e,i){var n=i("../../base"),s=i("./symbol"),a=i("./insert-symbol"),o=i("./helpers");e.exports=s.extend({cache:{},FOOTER_COMPONETNS:["background","layout","shadow","styles-templates","responsive","decoration","typography","borders"],open_modal:function(){return TVE.modal_open("sections",{element:TVE.ActiveElement}),!1},footer_init_action:function(){this.init_footer_filters(),"footers"===TVE.CONST.symbol_type?(this.edit_page(),TVE.add_action("tcb.element.focus",_.bind(this.footer_clicked,this)),TVE.main.on("tve.tve_save_post",_.bind(this.before_footer_save,this)),TVE.add_filter("tcb_head_css_prefix",this.footer_head_css_prefix),TVE.add_filter("hover_prefix_selector",_.bind(this.change_state_selector_prefix,this))):TVE.add_action("tcb.element.focus",_.bind(this.footer_clicked,this)),TVE.add_filter("tcb.change_target",_.bind(this.footer_change_target,this)),TVE.add_action("tcb.dragover",_.bind(this.footer_drag_over,this)),TVE.add_action("tcb.element.remove",_.bind(this.footer_remove,this)),TVE.add_action("tcb.set_max_width_value",this.update_content_width),TVE.add_action("tcb.after_insert_symbol",this.add_footer_selector),TVE.CONST.landing_page.trim().length||a.add_section_placeholder("footer",".thrv_footer",TVE.apply_filters("tcb.header-footer.root",TVE.Editor_Page.editor)),this.add_footer_selector(),this.manage_footer_components(!1)},init_footer_filters:function(){this.change_state_selector_prefix=_.bind(function(t){return TVE.ActiveElement?this.footer_head_css_prefix(t,TVE.ActiveElement).trim():t},this),this.update_content_width=_.bind(function(t,e){var i=e.closest(".thrv_footer");i.length&&this.controls.FooterWidth.update(i.find(".symbol-section-in"))},this),this.change_css_rules_before_insert=o.changeCssRulesBeforeInsert.bind(a)},setConfig:function(t){this.config=t,this.$element=TVE.ActiveElement,n.component.prototype.setConfig.apply(this,arguments)},before_footer_save:function(){var t=this.$element.find(".thrive-symbol-shortcode");TVE.Editor_Page.editor=t,"footers"!==TVE.CONST.symbol_type&&t.find(".symbol-section-in").removeClass("thrive-shortcode-edit tve_editor_main_content")},footer_clicked:function(t){t.hasClass("thrv_footer")&&this.manage_footer_components(t.hasClass("symbol-edit-mode")||t.hasClass("tve_editable"))},footer_drag_over:function(t,e){t.hasClass("thrv_footer")&&"bottom"===e.data("dir")&&e.hide()},footer_change_target:function(t,e){return t.hasClass("thrv_footer")&&"bottom"===e.data("dir")&&(t=t.prev()),"footers"===TVE.CONST.symbol_type&&t.is("#tve_editor")&&(t=t.find(".symbol-section-in")),t},edit_page:function(){var t=TVE.inner_$(".thrv_footer");t.attr("data-selector",".thrv_symbol_"+t.attr("data-id")),t.find(".symbol-section-in").addClass("tve_editor_main_content tcb-dropzone-element"),setTimeout(function(){TVE.Editor_Page.selection_manager.$root.find(".thrv_footer").click()},0)},controls_init:function(o){var s=this;o.FooterHeight.input=function(t,e){var i,n=TVE.renderers.base.read_element_props(t);t.head_css({"min-height":e.value+this.getUM()+" !important"},"","",!1),t.removeClass("symbol-section-full-height"),i=TVE.renderers.base.read_element_props(t),s.undo_action(t,n,i),o.FooterFullHeight.update(t)},o.FooterHeight.update=function(t){var e=t.head_css("min-height",!1,"",!0);e=e||t.height(),this.setValue(e)},o.FooterFullHeight.change=_.bind(function(t,e){var i,n=TVE.renderers.base.read_element_props(t),s=t.head_css("min-height"),a="";e.checked?(this.cache.full_height||(this.cache.full_height=s+"!important"),a="100vh !important"):this.cache.full_height?(a=this.cache.full_height,delete this.cache.full_height):a="40px",t.head_css({"min-height":a}),i=TVE.renderers.base.read_element_props(t),this.undo_action(t,n,i),o.FooterHeight.update(t)},this),o.FooterFullHeight.update=function(t){var e="100vh"===t.head_css("min-height",!1,"",!0);this.setChecked(e)},o.FooterWidth.input=function(t,e){t.head_css({"max-width":e.value+this.getUM()},"","",!1)},o.FooterWidth.update=function(t){var e=t.head_css("max-width",null,null,!0);e&&!isNaN(parseInt(e))||(e=t.outerWidth()),this.model.config.max=parseInt(t.parent().width()),this.setValue(e)},o.VerticalPosition.applyStyles=function(t,e){var i;t.removeClass("tcb-flex-center tcb-flex-end"),i=""===e.getAttribute("data-value")?{"justify-content":"",display:"block","flex-direction":""}:{"justify-content":e.getAttribute("data-value"),display:"flex","flex-direction":"column"},this.applyElementCss(i,t,"","")},o.VerticalPosition.update=function(t){this.setActive(t.head_css("justify-content",null))},this.footer_init_action()},add_footer_selector:function(){TVE.inner_$(".thrv_footer .thrive-symbol-shortcode").each(function(){this.dataset.selector||(this.dataset.selector=".thrv_symbol_".concat(this.dataset.symbolId," .thrive-symbol-shortcode"))})},edit_footer:function(){var t=TVE.ActiveElement.find(".thrive-symbol-shortcode.thrive-shortcode-html");this.manage_footer_components(!0),this.edit_symbol(),this.edit_filters(),t.removeClass("tve_editor_main_content"),t.find(">.symbol-section-in").addClass("tcb-dropzone-element tve_editor_main_content"),TVE.ActiveElement.addClass("tcb-selector-no_delete"),TVE.do_action("tcb.header-footer.edit")},edit_filters:function(){TVE.remove_filter("tcb.breadcrumb_click_before"),TVE.add_filter("tcb_head_css_prefix",this.footer_head_css_prefix)},after_close_edit_mode:function(){this.remove_edit_footer_filters(),this.$selected_symbol.removeClass("tcb-selector-no_delete").addClass("tve_no_drag").find(".thrive-symbol-shortcode.thrive-shortcode-html >.symbol-section-in").removeClass("tve_editor_main_content tcb-dropzone-element")},remove_edit_footer_filters:function(){TVE.remove_filter("tcb_head_css_prefix",this.footer_head_css_prefix),TVE.remove_filter("tcb.breadcrumb_click_before"),TVE.remove_filter("hover_prefix_selector",this.change_state_selector_prefix),s.prototype.remove_edit_hooks()},manage_footer_components:function(e){this.$(".action-group").toggle(e),this.$(".footer-select").toggle(!e).find(".dropdown-content").show(),_.each(this.FOOTER_COMPONETNS,function(t){TVE.Components[t].$el.toggle(e)}),e||this.toggleDropdown("docked",!0)},undo_action:function(t,e,i){TVE.UndoManager.add({undo:function(){t.attr("class",e.cls).attr("style",e.style||"")},redo:function(){t.attr("class",i.cls).attr("style",i.style||"")}})},footer_head_css_prefix:function(t,e){return TVE.USE_GLOBALSHEET?t:(i=e.data("selector")&&(!e.parents(".thrv_footer").length||e.is(".thrive-symbol-shortcode")),_.isArray(t)||e.data("selector")&&i||e.is("#tve_editor")?t:!TVE.state_manager.is_default()&&TVE.state_manager.needs_hover_state_parent(e)?"":t=o.getSymbolPrefix(t,e));var i},content_selector_prefix:function(t,e){return TVE.ActiveElement?this.footer_head_css_prefix(t,TVE.ActiveElement)+t:t},footer_remove:function(t){t.hasClass("thrv_footer")&&a.add_section_placeholder("footer",".thrv_footer",TVE.apply_filters("tcb.header-footer.root",TVE.Editor_Page.editor))},edit_mode_element_selectable:function(){return!0}})},"header.js":function(t,e,i){var n=i("./symbol"),s=i("../../base"),a=i("./insert-symbol"),o=i("./helpers");e.exports=n.extend({cache:{},HEADER_PRFIX:"#tcb_landing_page .thrv_header",HEADER_COMPONETNS:["background","layout","shadow","styles-templates","responsive","decoration","typography","borders","scroll"],open_modal:function(){return TVE.modal_open("sections",{element:TVE.ActiveElement}),!1},header_init_actions:function(){this.init_header_filters(),"headers"===TVE.CONST.symbol_type?(this.edit_page(),TVE.add_action("tcb.element.focus",_.bind(this.header_clicked,this)),TVE.main.on("tve.tve_save_post",_.bind(function(){TVE.Editor_Page.editor=this.$element.find(".thrive-symbol-shortcode")},this)),TVE.add_filter("tcb_save_post_data_after",_.bind(this.add_meta_data,this)),TVE.add_filter("hover_prefix_selector",this.change_state_selector_prefix),TVE.add_filter("tcb_head_css_prefix",this.header_head_css_prefix)):TVE.add_action("tcb.element.focus",_.bind(this.header_clicked,this)),TVE.add_action("tcb.dragover",_.bind(this.header_drag_over,this)),TVE.add_filter("tcb.change_target",_.bind(this.header_change_target,this)),TVE.add_action("tcb.element.remove",_.bind(this.header_remove,this)),TVE.add_action("tcb.after_insert_symbol",this.add_header_selector),TVE.add_action("tcb.set_max_width_value",this.update_content_width),TVE.CONST.landing_page.trim().length||a.add_section_placeholder("header",".thrv_header",TVE.apply_filters("tcb.header-footer.root",TVE.Editor_Page.editor)),this.manage_header_components(!1),this.add_header_selector()},header_clicked:function(t){t.hasClass("thrv_header")&&this.manage_header_components(t.hasClass("symbol-edit-mode")||t.hasClass("tve_editable"))},header_drag_over:function(t,e){t.hasClass("thrv_header")&&"top"===e.data("dir")&&e.hide()},header_change_target:function(t,e){return t.hasClass("thrv_header")&&"top"===e.data("dir")&&(t=t.next()),"headers"===TVE.CONST.symbol_type&&t.is("#tve_editor")&&(t=t.find(".symbol-section-in")),t},edit_page:function(){var t=TVE.inner_$(".thrv_header");t.attr("data-selector",".thrv_symbol_"+t.attr("data-id")),t.find(".symbol-section-in").addClass("tve_editor_main_content tcb-dropzone-element"),setTimeout(function(){TVE.Editor_Page.selection_manager.$root.find(".thrv_header").click()},0)},add_header_selector:function(){TVE.inner_$(".thrv_header .thrive-symbol-shortcode").each(function(){this.dataset.selector||(this.dataset.selector=".thrv_symbol_".concat(this.dataset.symbolId," .thrive-symbol-shortcode"))})},setConfig:function(t){this.config=t,this.$element=TVE.ActiveElement,s.component.prototype.setConfig.apply(this,arguments)},controls_init:function(o){var s=this;this.header_init_actions(),o.HeaderPosition.applyStyles=function(t,e){var i="";"over"===e.getAttribute("data-value")&&(i="absolute"),this.applyElementCss({position:i+" !important","z-index":"9999 !important",top:0,"max-width":"var(--lp-layout-max-width)"},t,"","")},o.HeaderPosition.update=function(t,e){var i="absolute"===t.css("position")?"over":"push";this.setActive(i)},o.HeaderHeight.input=function(t,e){var i,n=TVE.renderers.base.read_element_props(t);t.head_css({"min-height":e.value+this.getUM()+" !important"},"","",!1),t.removeClass("tve-section-full-height"),i=TVE.renderers.base.read_element_props(t),s.undo_action(t,n,i),o.HeaderFullHeight.update(t)},o.HeaderHeight.update=function(t){var e=t.head_css("min-height",!1,"",!0);e=e||t.height(),this.setValue(e)},o.HeaderFullHeight.change=_.bind(function(t,e){var i,n=TVE.renderers.base.read_element_props(t),s=t.head_css("min-height"),a="";e.checked?(this.cache.full_height||(this.cache.full_height=s+"!important"),a="100vh !important"):this.cache.full_height?(a=this.cache.full_height,delete this.cache.full_height):a="40px",t.head_css({"min-height":a}),i=TVE.renderers.base.read_element_props(t),this.undo_action(t,n,i),o.HeaderHeight.update(t)},this),o.HeaderFullHeight.update=function(t){var e="100vh"===t.head_css("min-height",!1,"",!0);this.setChecked(e)},o.HeaderWidth.input=function(t,e){t.head_css({"max-width":e.value+this.getUM()},"","",!1)},o.HeaderWidth.update=function(t){var e=t.head_css("max-width",null,null,!0);e&&!isNaN(parseInt(e))||(e=t.outerWidth()),this.model.config.max=parseInt(t.parent().width()),this.setValue(e)},o.VerticalPosition.applyStyles=function(t,e){var i;t.removeClass("tcb-flex-center tcb-flex-end"),i=""===e.getAttribute("data-value")?{"justify-content":"",display:"block","flex-direction":""}:{"justify-content":e.getAttribute("data-value"),display:"flex","flex-direction":"column"},this.applyElementCss(i,t,"","")},o.VerticalPosition.update=function(t){this.setActive(t.head_css("justify-content",null))}},header_head_css_prefix:function(t,e){return TVE.USE_GLOBALSHEET?t:(i=e.data("selector")&&(!e.parents(".thrv_header").length||e.is(".thrive-symbol-shortcode")),_.isArray(t)||i||e.is("#tve_editor")?t:!TVE.state_manager.is_default()&&TVE.state_manager.needs_hover_state_parent(e)?"":t=o.getSymbolPrefix(t,e));var i},content_selector_prefix:function(t,e){return TVE.ActiveElement?this.header_head_css_prefix(t,TVE.ActiveElement)+t:t},prepare_data_for_save:function(t){return this.add_meta_data(t)},add_meta_data:function(t){var e=this.$element.find(".thrive-symbol-shortcode")[0].dataset,i=["selector","symbolId","name"],n={};return jQuery.each(e,function(t,e){-1===i.indexOf(t)&&(n["data-"+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()]=e)}),t=jQuery.extend(!0,t,{tve_globals:n}),n["data-tve-scroll"]||delete t.tve_globals["data-tve-scroll"],t},edit_header:function(){var t=TVE.ActiveElement.find(".thrive-symbol-shortcode.thrive-shortcode-html");this.manage_header_components(!0),this.edit_symbol(),this.edit_filters(),t.removeClass("tve_editor_main_content"),t.find(">.symbol-section-in").addClass("tcb-dropzone-element tve_editor_main_content"),TVE.ActiveElement.addClass("tcb-selector-no_delete").addClass("tve_no_drag"),TVE.do_action("tcb.header-footer.edit")},edit_filters:function(){TVE.remove_filter("tcb.breadcrumb_click_before"),TVE.add_filter("tcb_head_css_prefix",this.header_head_css_prefix)},init_header_filters:function(){this.change_state_selector_prefix=_.bind(function(t){return TVE.ActiveElement?this.header_head_css_prefix(t,TVE.ActiveElement).trim():t},this),this.update_content_width=_.bind(function(t,e){var i=e.closest(".thrv_header");i.length&&this.controls.HeaderWidth.update(i.find(".symbol-section-in"))},this),this.change_css_rules_before_insert=o.changeCssRulesBeforeInsert.bind(a)},remove_edit_header_filters:function(){TVE.remove_filter("tcb_head_css_prefix",this.header_head_css_prefix),TVE.remove_filter("tcb.breadcrumb_click_before"),TVE.remove_filter("hover_prefix_selector",this.change_state_selector_prefix),n.prototype.remove_edit_hooks()},after_close_edit_mode:function(){this.remove_edit_header_filters(),this.$selected_symbol.removeClass("tcb-selector-no_delete").addClass("tve_no_drag").find(".thrive-symbol-shortcode.thrive-shortcode-html >.symbol-section-in").removeClass("tve_editor_main_content tcb-dropzone-element")},manage_header_components:function(e){this.$(".action-group").toggle(e),this.$(".header-select").toggle(!e),_.each(this.HEADER_COMPONETNS,function(t){TVE.Components[t].$el.toggle(e)}),e||this.toggleDropdown("docked",!0)},header_remove:function(t){t.hasClass("thrv_header")&&a.add_section_placeholder("header",".thrv_header",TVE.apply_filters("tcb.header-footer.root",TVE.Editor_Page.editor))},edit_mode_element_selectable:function(){return!0}})},"helpers.js":function(t,e,i){var u={getSymbolPrefix:function(t,e){var i=e.parent().closest(".thrv_symbol"),n=".thrv_symbol_"+(void 0!==i.data("symbol-id")?i.data("symbol-id"):i.find(".thrive-symbol-shortcode").data("symbol-id"));return i.length&&(t=t.includes(TVE.CONST.global_css_prefix)?t.replace(TVE.escapedRegEx(TVE.CONST.global_css_prefix,"g"),TVE.CONST.global_css_prefix+" "+n):n+" "+t),TVE.state_manager.is_hover()&&!t.includes(TVE.CONST.global_css_prefix)&&(t=TVE.CONST.global_css_prefix+" "+t),t},symbolHeadCssPrefix:function(t,e){return TVE.USE_GLOBALSHEET||_.isArray(t)||e.closest(".thrv_header, .thrv_footer").length?t:!TVE.state_manager.is_default()&&TVE.state_manager.needs_hover_state_parent(e)?"":t=u.getSymbolPrefix(t,e)},removeHfCssRules:function(t){var e,i=t.attr("data-tcb-elem-type"),n=TVE.main.all_media();if(void 0!==i&&!t.hasClass("symbol-edit-mode")){e=new RegExp("thrv_"+i,"g");for(var s,a=0;s=n[a++];)TVE.CSS_Rule_Cache.removeRuleByMatchingSelector(s,e)}},changeCssRulesBeforeInsert:function(t,e){var i;if(void 0!==e&&e.length||(e=TVE.ActiveElement.closest(".thrv_symbol")),u.removeHfCssRules(e),i=void 0!==e.data("symbol-id")?e.data("symbol-id"):e.find(".thrive-symbol-shortcode").data("symbol-id"),e.length)for(var n=0;n<t.length;n++)switch(t[n].type){case CSSRule.MEDIA_RULE:for(var s=0;s<t[n].cssRules.length;s++){var a=t[n].cssRules[s],o=a.cssText,r=a.selectorText,l=TVE.apply_filters("tcb.symbol.root",TVE.CONST.global_css_prefix),c=".thrv_symbol_"+i,d=r;r.includes(c)||(r.includes(l)?d=r.replace(TVE.escapedRegEx(l,"g"),l+" "+c):-1===r.indexOf(".thrv_symbol")&&(d=c+" "+r)),(d=TVE.apply_filters("tcb.symbol_new_selector_for_"+e.attr("data-tcb-elem-type"),d,i))!==r&&(o=o.replace(r,d)),t[n].deleteRule(s),t[n].insertRule(o,s)}break;case CSSRule.STYLE_RULE:var h=t[n].cssText;-1===h.indexOf(".thrv_symbol")&&(h=".thrv_symbol_"+i+" "+h,TVE.stylesheet.insertRule(h,TVE.stylesheet.cssRules.length))}return t}};e.exports=u},hooks:{"edit.js":function(t,e,i){var n=i("./../helpers"),s={actions:{"tcb.show_icons":function(){TVE.ElementIcons.$save.hide(),TVE.ElementEditIcons.$save.hide()}},filters:{tcb_head_css_prefix:n.symbolHeadCssPrefix,css_rules_before_insert:n.changeCssRulesBeforeInsert,hover_prefix_selector:function(t,e){return!TVE.ActiveElement||jQuery(e).closest(".thrv_header, .thrv_footer").length?t:n.getSymbolPrefix(t,TVE.ActiveElement).trim()},tcb_drag_change_body_class:function(){return!1},validate_saved_content:function(){return!1},"tcb.breadcrumb_click_before":function(t,e,i){return 0!==parseInt(i.dataset.index)&&t},tqb_change_quiz_before_insert:function(t){var e,i,n="__CONFIG_quiz_shortcode__",s=jQuery("<div>"+t+"</div>"),a=s.find(".thrive-shortcode-config");if(a.length)return(e=a.html().match(new RegExp(n+"(.*)"+n)))&&((i=JSON.parse(e[1])).in_tcb_editor="inside_tcb"),a.html(n+JSON.stringify(i)+n),s.html()},"tcb.content_selector_prefix":function(t,e){return TVE.ActiveElement?n.symbolHeadCssPrefix(t,TVE.ActiveElement):t}}};e.exports=s},"general.js":function(t,e,i){var s=i("./../helpers"),n={actions:{"tcb.symbol.after_preview":function(t,e){TVE.CONST.symbols[e.post_id]&&(TVE.CONST.symbols[e.post_id].thumb=t.data)}},filters:{tcb_filter_html_before_save:function(t){var e=t.find(".symbol-section-in");return e&&e.length&&e.removeClass("tve_editor_main_content tve_empty_dropzone tcb-dropzone-element"),t},"tcb.get_non_global_css_selector":function(t){TVE.ActiveElement.closest(".thrv_symbol").length&&(t=s.getSymbolPrefix("",TVE.ActiveElement)+t);return t},"tcb.copy_styles_different_stylesheet":function(t){var e,i=TVE.apply_filters("tcb.outer_selector",TVE.CONST.global_css_prefix)+" ";if(TVE.ActiveElement.closest(".thrv_symbol").length){var n="";e=s.getSymbolPrefix("",TVE.ActiveElement),TVE.USE_GLOBALSHEET?(t.includes(":hover")&&!t.includes(i)&&(n=i),t=t.replace(new RegExp(e,"g"),n)):(-1<t.indexOf(i)&&(n=i,t=t.replace(new RegExp(n,"g"),e)),-1===t.indexOf(e)&&(t=e+t))}return t},"tcb.global_preview_css":function(t,e){if(TVE.ActiveElement.closest(".thrv_symbol").length){var i=s.getSymbolPrefix("",TVE.ActiveElement);t=t.replace(new RegExp(i.trim(),"g"),e).replace(/!important/g,"")}return t}}};e.exports=n}},"insert-symbol.js":function(t,e,i){var n,r,s;n=jQuery,r=i("./helpers"),s="thrv_wrapper thrv_symbol tve-draggable tve-droppable thrive-shortcode",e.exports={symbol_classes:s,symbol_data_type:"symbol",init:function(t,e){this.$symbol=t,this.$active_element=TVE.ActiveElement,this.symbol_classes=TVE.apply_filters("tcb.symbol_classes",s),void 0!==e?(this.symbol_data_type=e,this.symbol_classes+=" thrv_"+e+" tve_no_drag",this.symbol_classes=this.symbol_classes.replace("tve-draggable","")):this.symbol_data_type="symbol"},get_html_to_insert:function(){var i={class:"thrive-shortcode-html thrive-symbol-shortcode","data-name":this.$symbol.post_title,"data-symbol-id":this.$symbol.id};return n.each(this.$symbol.tve_globals||{},function(t,e){0===t.indexOf("data-")&&(i[t]=e)}),this.get_config_html()+n("<div>",i).html(this.$symbol.content).get(0).outerHTML},get_symbol_css:function(){return this.$symbol.css},get_config_html:function(){return'<div class="thrive-shortcode-config" style="display: none !important">'+this.$symbol.config+"</div>"},insert_symbol_in_content:function(t,e){var i=this.get_html_to_insert(),n=this.get_symbol_css();if(t){var s=TVE.inner_$("<div></div>");this.$active_element.replaceWith(s),this.$active_element=s}this.$active_element.html(i).removeClass("tcb-elem-placeholder"),this.$active_element[0].className=this.symbol_classes+" thrv_symbol_"+this.$symbol.id,this.$active_element.data("tcb-elem-type",this.symbol_data_type),this.$active_element.attr("data-shortcode","thrive_"+this.symbol_data_type),this.$active_element.attr("data-id",this.$symbol.id),this.$active_element.attr("data-selector",".thrv_symbol_".concat(this.$symbol.id));var a=_.bind(r.changeCssRulesBeforeInsert,this);TVE.add_filter("css_rules_before_insert",a);var o=this;return TVE.Editor_Page.content_manager.insert_head_css(n,function(){"function"==typeof e&&e(o.$active_element),TVE.remove_filter("css_rules_before_insert",a)}),this.after_insert_actions(),this.$active_element},after_insert_actions:function(){var t=this.$active_element.find(".thrv_countdown_timer");t.length&&t.addClass("init_done"),this.$active_element.trigger("click"),this.post_grid_compat(),this.resize_background_section_from_symbol(this.$active_element),TVE.inner.window.TCB_Front.playBackgroundYoutube(this.$active_element.find(".tcb-yt-bg").first()),this.$active_element.find(".tcb-video-background-el").each(function(){this.parentNode.classList.add("tcb-video-background-parent")}),TVE.Editor_Page.content_manager.prepare_content_for_editor(this.$active_element),TVE.do_action("tcb.after_insert_symbol",this.$active_element),TVE.do_action("tcb.inline_shortcodes.init",this.$active_element),TVE.do_action("tcb.after-insert",this.$active_element.find(TVE.identifier("post_list")))},post_grid_compat:function(){var t=this.$active_element.find(".tve_post_grid_wrapper");t.length&&t.each(function(){var t=n(this);t.find(".tve_pg_row").css("height",""),t.find(".tve_pg_row").each(function(){var i=0,t=jQuery(this);t.find(".tve_post").each(function(){var t=jQuery(this),e=parseInt(t.outerHeight());i<e&&(i=e),t.css("height","100%")}),t.css("height",i-1+"px")})})},generate_new_ids:function(t){var e={};return t.find("[data-css]").each(function(){if(!_.isEmpty(this.dataset.css)){var t=TVE.CSS_Rule_Cache.generate_id();void 0===e[this.dataset.css]&&(e[this.dataset.css]=t),this.dataset.css=e[this.dataset.css]}}),TVE.do_action("tcb.symbol.new_ids",e,t),e},resize_background_section_from_symbol:function(t){t&&t.length&&t.find(".tcb-window-width").length&&(t.addClass("tcb-window-width"),TVE.inner.window.TCB_Front.resizePageSection())},add_section_placeholder:function(t,e,i,n){var s,a,o=TVE.inner_$(e),r=TVE.CONST.landing_page.trim().length;""===o.html()&&(o.remove(),o=null),(r||TVE.apply_filters("tcb.insert_section_placeholder",!1))&&(o&&o.length||(s=TVE.apply_filters("tcb.insert_section_element",TVE.main.static_element(t),t),a="header"===t?"prepend":"append",o=this.insert_placeholder(s,i,a),n&&o&&o.children(".tcb-inline-placeholder-action").first().trigger("click")))},insert_placeholder:function(t,e,i){var n;return"function"==typeof e[i]&&(n=TVE.inner_$(t.html()),e[i](n)),n},updatePostListIdentifiers:function(t){var e=t.find(".tcb-featured-list").length?t.find(".tcb-featured-list"):t.prev(".tcb-post-list.tcb-featured-list"),i=t.hasClass("tcb-post-list")?t:t.find(".tcb-post-list:not(.tcb-featured-list)");TVE.PostList.utils.updateFeaturedIdentifiers(e),TVE.PostList.utils.updatePaginationIdentifiers(i)}}},"symbol.js":function(t,e,i){var n=i("../../base"),l=i("./insert-symbol"),s=i("../../../libs/functions"),a=i("./helpers"),o=i("./hooks/edit");e.exports=n.component.extend({$symbols:[],$close_button:null,elements_not_allowed:["symbol","ct_symbol","tl_shortcode","quiz","ultimatum_countdown","ovation_capture","ovation_display","tcb_post_author_bio","thrive_author_box","thrive_author_follow","tcb_post_author_name","tcb_post_author_picture","tcb_post_categories","tcb_post_content","tcb_post_published_date","tcb_post_comments_number","tcb_post_tags","tcb_post_featured_image","tcb_post_title","tcb_post_read_more","thrive_post_meta"],content_preview:i("../../../libs/content-preview"),after_init:function(){var t=TVE.inner_$.find(".tve-symbol-container").length;this.add_common_hooks(),"symbol"===this.key&&(TVE.StorageManager.unset("thrive_symbols"),t?(TVE.main.sidebar_toggle_elements(this.get_elements_not_allowed(),!1),-1===["footers","headers"].indexOf(TVE.CONST.symbol_type)&&(TVE.add_filter("tcb_head_css_prefix",a.symbolHeadCssPrefix,50),TVE.add_filter("tcb.breadcrumb_click_before",o["tcb.breadcrumb_click_before"]),TVE.add_filter("hover_prefix_selector",o.hover_prefix_selector)),TVE.add_filter("css_rules_before_insert",a.changeCssRulesBeforeInsert),TVE.add_filter("tqb_change_quiz_before_insert",o.tqb_change_quiz_before_insert),TVE.add_filter("tcb.content_selector_prefix",this.content_selector_prefix),TVE.main.on("tve.tve_save_post",_.bind(this.generate_preview,this)),TVE.add_action("tcb.show_icons",o.actions["tcb.show_icons"]),TVE.$("#tcb-top-nav-list").addClass("tcb-compact-edit-mode")):(TVE.add_filter("tcb_css_rules_before",_.bind(this.process_css_rules_before,this)),TVE.add_filter("tcb_save_post_data_after",_.bind(this.add_css_rules_after_save,this)),TVE.add_filter("allow_dragenter",_.bind(this.filter_dragenter,this)),l.resize_background_section_from_symbol()),TVE.addHooks(i("./hooks/general"),{}),TVE.add_filter("tcb.before_lp_export",_.bind(this.before_lp_export,this)))},add_common_hooks:function(){this.tcb_editor_undo=_.bind(function(){this.$selected_symbol=TVE.reinitialize_element(this.$selected_symbol)},this)},get_elements_not_allowed:function(){return TVE.apply_filters("tcb.cp_elements_not_allowed",this.elements_not_allowed)},before_lp_export:function(){var t=this;TVE.Editor_Page.editor.find(".thrv_symbol").each(function(){t.unlink_element(jQuery(this))})},placeholder_action:function(){this.open_modal()},open_modal:function(){return TVE.modal_open("symbols",{element:TVE.ActiveElement}),!1},filter_dragenter:function(t,e){if(!e.is(".thrv_wrapper"))return t;var i=e.parents(".thrv_symbol");return!(i.length&&!i.hasClass("symbol-edit-mode"))&&t},breadcrumbs_click_before:function(t,e,i){return 0!==parseInt(i.dataset.index)&&t},generate_preview:function(){var t=TVE.Editor_Page.editor.data("symbol-id");this.content_preview.generate_preview(TVE.Editor_Page.editor.parent(),{post_id:t,file_name:t+".png"})},process_css_rules_before:function(t){this.deleted_rules=[];for(var e=0;e<t.length;e++){var i=t[e];if(i.type===CSSRule.MEDIA_RULE)for(var n=0;n<i.cssRules.length;n++){var s=i.cssRules[n];s.selectorText&&this.is_css_for_symbol(s.selectorText)&&(void 0===this.deleted_rules[e]&&(this.deleted_rules[e]=[]),this.deleted_rules[e].push(s),t[e].deleteRule(n),n-=1)}i.type===CSSRule.STYLE_RULE&&i.selectorText&&this.is_css_for_symbol(i.selectorText)&&(void 0===this.deleted_rules[e]&&(this.deleted_rules[e]=[]),i.tar_local_var_rule=!0,this.deleted_rules[e].push(i),TVE.stylesheet.deleteRule(e),e-=1)}return t},add_css_rules_after_save:function(t){var n=TVE.stylesheet.cssRules?TVE.stylesheet.cssRules:TVE.stylesheet.rules;return this.deleted_rules.length&&_.each(this.deleted_rules,function(t,e){if(void 0!==t)for(var i=0;i<t.length;i++)t[i].tar_local_var_rule?(delete t[i].tar_local_var_rule,TVE.stylesheet.insertRule(t[i].cssText,TVE.stylesheet.cssRules.length)):n[e].insertRule(t[i].cssText,n[e].cssRules.length)}),t},edit_symbol:function(){this.$selected_symbol=TVE.ActiveElement,this.prepare_symbol_html_for_edit(),this.add_edit_hooks(),this.set_symbols(),this.move_css_to_head(),TVE.main.EditMode.enter(this.$selected_symbol,{hidden_elements:this.get_elements_not_allowed(),element_selectable:this.edit_mode_element_selectable(),blur:!this.edit_mode_element_selectable(),show_default_message:!0,show_overlay:!0,can_insert_elements:!0,callbacks:{exit:_.bind(this.close_edit_mode,this)}})},prepare_symbol_html_for_edit:function(){return TVE.ActiveElement.addClass("symbol-edit-mode"),TVE.ActiveElement.find(".thrive-symbol-shortcode.thrive-shortcode-html").addClass("thrive-shortcode-edit tve_editor_main_content ").removeClass("thrive-shortcode-html"),TVE.drag.bind_element(TVE.ActiveElement),TVE.ActiveElement.parents(".thrv-content-box, .thrv-page-section, .thrv-columns").addClass("tve_symbol_inside tcb-no-highlight"),this},add_edit_hooks:function(){TVE.addHooks(o,{tcb_head_css_prefix:50}),TVE.add_action("tcb.editor.undo",this.tcb_editor_undo)},remove_edit_hooks:function(){TVE.removeHooks(o,{tcb_head_css_prefix:50}),TVE.remove_action("tcb.editor.undo",this.tcb_editor_undo)},set_symbols:function(){var t=TVE.ActiveElement.find(".thrive-shortcode-edit");if(t.length){var e=t.data("symbol-id"),i=TVE.inner.jQuery("[data-symbol-id="+e+"]"),n=this;_.each(i,function(t){t.classList.contains("thrive-shortcode-edit")||n.$symbols.push(t)})}return this},move_css_to_head:function(){var t=TVE.ActiveElement.find(".tve-symbol-custom-style");t.length&&(TVE.Editor_Page.content_manager.insert_head_css(t.html()),t.remove())},close_edit_mode:function(){this.prepare_symbol_html_on_close_edit(),this.remove_edit_hooks(),this.save_symbol(),TVE.main.active_elem_nav_view.$el.removeClass("tcb-compact-edit-mode"),this.$selected_symbol.parents(".thrv-content-box, .thrv-page-section, .thrv-columns").removeClass("tve_symbol_inside tcb-no-highlight"),"function"==typeof this.after_close_edit_mode&&this.after_close_edit_mode(),TVE.do_action("tcb.symbol.close_edit_mode")},prepare_symbol_html_on_close_edit:function(){return this.$selected_symbol.removeClass("symbol-edit-mode"),this.$selected_symbol.find(".thrive-shortcode-edit").removeClass("thrive-shortcode-edit tve_editor_main_content").addClass("thrive-shortcode-html"),this},save_symbol:function(){var t,e=this.$selected_symbol.find(".thrive-shortcode-html");e.length||TVE.page_message(TVE.t.symbol_could_not_be_saved),TVE.do_action("tcb.symbol.before_save_logic",e),"function"==typeof this.before_save&&this.before_save(),t=TVE.Editor_Page.content_manager.get_clean_content({},e);var i={id:e.data("symbol-id"),symbol_content:t,symbol_css:this.prepare_css_before_save()};i=TVE.apply_filters("tcb.symbol.before_save",i),"function"==typeof this.prepare_data_for_save&&this.prepare_data_for_save(i),TVE.ajax("save_symbol","post",i).done(_.bind(this.save_done,this)).error(_.bind(this.save_error,this))},save_done:function(t){return t.error||!t.data.symbol?this.save_error({responseJSON:t}):(this.update_symbols_html(),this.content_preview.generate_preview(this.$selected_symbol,{post_id:t.data.symbol.ID,file_name:t.data.symbol.ID+".png"}),this)},save_error:function(t,e,i){var n="";if(t.responseJSON)n=t.responseJSON.message;else if(t.responseText)try{if("parsererror"===e)n="Could not parse response: "+t.responseText;else n=JSON.parse(t.responseText).message}catch(t){}n=n||(t.statusText||e)+(t.status?" ("+t.status+")":""),TVE.page_message(n,!0)},prepare_css_before_save:function(){var i="",t=this.collect_symbol_css();return _.each(t.css,function(t,e){i="@media "+e+"{"+t+"}"+i}),i=t.fonts+i+t.inline,i=TVE.apply_filters("tcb.symbol_css_before_save",i)},collect_symbol_css:function(){for(var e=this.$selected_symbol.find(".thrive-symbol-shortcode").data("symbol-id"),i=this,n={},t="",s="",a=[],o=TVE.stylesheet.cssRules.length-1;0<=o;o--){var r=TVE.stylesheet.cssRules[o];switch(r.type){case CSSRule.MEDIA_RULE:if(r.media&&r.media.length&&this.is_css_for_symbol(r.cssText,e)){var l=TVE.compat.conditionText(r);n[l]="",_.each(r.cssRules,function(t){i.is_good_css_for_symbol(t,e)&&(n[l]+=t.cssText.replace(/\n/g," "))})}break;case CSSRule.IMPORT_RULE:var c=TVE.FontManager.read_font_name(r.cssText),d=JSON.stringify({css:n}).replace(/\\/g,"");TVE.FontManager.is_font_used(c,d)&&void 0===a[c]&&(a[c]=1,t+=r.cssText);break;case CSSRule.STYLE_RULE:i.is_good_css_for_symbol(r,e)&&(s+=r.cssText)}}return{css:n,fonts:t,inline:s}},is_good_css_for_symbol:function(t,e){var i=s.getRealSelector(t);return!!(this.is_css_for_symbol(t.cssText,e)&&t.style.length&&0<TVE.inner_$.find(i).length)},is_css_for_symbol:function(t,e){var i=e?".thrv_symbol_"+e:".thrv_symbol";i=TVE.apply_filters("save_symbol_css_selector",i);var n=new RegExp(i);return t.match(n)},update_symbols_html:function(){if(this.$symbols.length){var e=this.$selected_symbol.html();_.each(this.$symbols,function(t){TVE.inner.jQuery(t).parent().html(e)})}return this},unlink_symbol:function(){return this.unlink_element(),TVE.Editor_Page.blur(),TVE.do_action("tcb.unlink_symbol"),this},unlink_element:function(t,e){var i=t||TVE.ActiveElement,n=i.find(".thrive-symbol-shortcode"),s=n.html(),a=n.data("symbol-id"),o=this.change_css_html_before_unlink(s,a);TVE.Editor_Page.content_manager.insert_head_css(o.css,function(){void 0!==e&&e.resolve()}),i.before(o.html),l.updatePostListIdentifiers(i),i.remove();var r=TVE.inner_$("".concat(TVE.identifier("post_list"),":not(.").concat(TVE.PostList.constants.FEATURED_LIST_CLASS,")"));_.each(r,function(t){l.updatePostListIdentifiers(TVE.inner_$(t))})},change_css_html_before_unlink:function(t,e){var i=TVE.inner.jQuery("<div>"+t+"</div>"),n=i.find("style.tve-symbol-custom-style"),s=l.generate_new_ids(i),a="";return n.length?(a=this.process_css_before_unlink(n.html(),e,s),n.remove()):a=this.change_css_rules_before_unlink(e,s),a=TVE.apply_filters("tcb.symbol.unlink_css",a,e,s),TVE.drag.bind_element(i),{css:a,html:i.html()}},process_css_before_unlink:function(i,t,e){var n=".thrv_symbol_"+t;return i=i.replace(TVE.escapedRegEx(n,"g"),""),_.each(e,function(t,e){i=i.replace(new RegExp(e,"g"),t)}),i},change_css_rules_before_unlink:function(i,n){var s=this,a="";return _.each(TVE.stylesheet.cssRules,function(t){var e="";t.type===CSSRule.MEDIA_RULE&&t.media&&t.media.length&&s.is_css_for_symbol(t.cssText,i)&&_.each(t.cssRules,function(t){e+=s.process_css_before_unlink(t.cssText,i,n)+" "}),""!==e&&(a+="@media "+TVE.compat.conditionText(t)+"{"+e+"}")}),_.each(TVE.stylesheet.cssRules,function(t){t.type===CSSRule.STYLE_RULE&&s.is_css_for_symbol(t.cssText,i)&&(a+=s.process_css_before_unlink(t.cssText,i,n))}),a},undo_action:function(t,e,i){TVE.UndoManager.add({undo:function(){t.attr("class",e.cls).attr("style",e.style||"")},redo:function(){t.attr("class",i.cls).attr("style",i.style||"")}})},edit_mode_element_selectable:function(){return!1}})}},"table-borders.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({controls_init:function(){this.controls.InnerBorders.update=function(t){this.setChecked(!t.hasClass("tve_no_inner_border")),this.component.inner_border_update()},this.controls.InnerBorders.input=function(t,e){t.toggleClass("tve_no_inner_border",!e.checked),this.component.inner_border_update()},this.controls.border_th.remove_sides().$(".border-boxes").parent().addClass("justify-start").html(this.$("#h-border")),this.controls.border_td.remove_sides().$(".border-boxes").parent().addClass("justify-start").html(this.$("#c-border"))},table_borders:function(){return i("../controls/table-borders")},inner_border_update:function(){this.$(".inner-border")[this.controls.InnerBorders.isChecked()?"show":"hide"](),this.controls.border_th.update(),this.controls.border_td.update()}})},"table.js":function(t,e,i){var n=i("../base"),a="> .tve_table > thead > tr > th, > .tve_table > tbody > tr > td ",o="tcb-mobile-table";e.exports=n.component.extend({controls_init:function(){var i=this;TVE.main.on("tve.tve_save_post",_.bind(this.sync_all_mobile_tables,this)),TVE.main.on("device_change",_.bind(function(t){t&&"mobile"===t.device&&this.sync_all_mobile_tables()},this)),this.controls.cellpadding.update=function(t){this.setValue(t.css("padding"))},this.controls.cellpadding.input=function(t){this.applyElementCss({padding:this.value()+this.getUM()},t,this.config.css_suffix,"")},this.controls.sortable.update=function(t){this.setChecked(t.hasClass("tve_make_sortable"))},this.controls.sortable.change=function(t,e){t.toggleClass("tve_make_sortable",e.checked)},this.controls.cell_bg.update=this.controls.header_bg.update=function(t){this.setValueOrNull(this.applyTo().head_css("background-color",null,this.config.css_suffix,!0,this.config.css_prefix))},this.controls.header_bg.input=function(t){this.applyElementCss({"background-color":t}),"mobile"===TVE.main.device&&"change"===this.currentEventType&&this.component.sync_mobile_table(),t||this.component.controls.header_bg.update(this.applyTo().find(this.config.css_suffix))},this.controls.BodyTextColor.update=this.controls.HeaderTextColor.update=function(t){this.setValueOrNull(this.applyTo().head_css("color",null,this.config.css_suffix,!0,this.config.css_prefix))},this.controls.HeaderTextColor.input=function(t){this.applyElementCss({color:t}),"mobile"!==TVE.main.device||TVE.SKIP_CSS_STATE||this.component.sync_mobile_table(),t||this.component.controls.HeaderTextColor.update(this.applyTo().find(this.config.css_suffix))},this.controls.BodyTextColor.input=function(t){this.applyElementCss({color:t}),t||this.component.controls.BodyTextColor.update(this.applyTo().find(this.config.css_suffix))},this.controls.valign.update=function(t){var e;if(e=t.closest(".tve_table").attr("data-v"))return this.setActive(e);this.setActive("")},this.controls.valign.applyStyles=function(t,e){var i=this.getValue();t.children(".tve_table").attr("data-v",i),this.applyElementCss({"vertical-align":i},t,this.config.css_suffix,"");var n=t.find(a).removeClass("tve_valign_top tve_valign_middle tve_valign_bottom");"change"===this.currentEventType&&(this.applyElementCss({"vertical-align":""},n,""),this.component.sync_mobile_table(t))};var e=!0;this.controls.cell_bg.input=function(t){e&&(this.component.clear_alternating_colors(),e=!1),this.applyElementCss({"background-color":t}),t||this.component.controls.cell_bg.update(this.applyTo().find(this.config.css_suffix)),n&&(s.even_rows&&this.component.controls.even_rows.input(s.even_rows),s.odd_rows&&this.component.controls.odd_rows.input(s.odd_rows),e=!(n=!1))};var n=!(this.controls.cell_bg.change=function(t){this.input(t),e=!0,TVE.Components.table.update_colors()});this.controls.cell_bg.cancel=function(){n=e=!0};var s={};this.controls.odd_rows.update=this.controls.even_rows.update=function(t){var e=s[this.key()]=this.applyTo().head_css("background-color",null,this.config.css_suffix,!0,this.config.css_prefix);this.setValueOrNull(e)},this.controls.even_rows.input=this.controls.odd_rows.input=function(t){t&&(s[this.key()]=t),this.applyElementCss({"background-color":t})},this.controls.mobile_table.update=function(t){this.setChecked(t.hasClass(o)),this.component.$(".show-mobile-table").toggleClass("tcb-hide",!this.isChecked())},this.controls.mobile_table.input=function(t,e){t.toggleClass(o,e.checked),e.checked&&this.component.sync_mobile_table(t),TVE.Editor_Page.reposition_icons(),this.component.$(".show-mobile-table").toggleClass("tcb-hide",!e.checked)},this.controls.mobile_header_width.update=function(t){var e=t.children("table").head_css("padding-left",TVE.main.responsive.mobile.media," td",!1,"."+o+" ");e=e||"50%",this.setValue(e)},this.controls.mobile_header_width.input=function(t,e){t.children("table").head_css({"padding-left":e.value+"% !important"},!1," td",!1,"."+o+" "),t.children("table").head_css({width:"calc("+e.value+"% - 5px) !important"},!1," td::before",!1,"."+o+" ")},this.controls.TextAlign.applyStyles=function(t,e){this.applyElementCss({"text-align":this.cssImportant(e.getAttribute("data-value"))},t)},this.controls.TextAlign.update=function(){var t=this.applyTo().head_css("text-align",!1,this.config.css_suffix,!0,this.config.css_prefix);this.setActive("start"===t?"left":t)},TVE.main.on("after-element-removed",function(t){if(t.is(".tve_table_cell")&&!t.children().length){var e=t.is("th")?"Header":"Cell",i=TVE.inner_$('<div class="tcb-replaceable-placeholder">'+e+"</div>");t.append(i),t.addClass("tcb-parent-placeholder-empty")}return t}),TVE.add_action("tcb.froala.replace.placeholder",_.bind(function(t,e){t.parent().is(".tve_table_cell")&&i.clone_text_elements_style(t.parent(),e)},this)),TVE.add_filter("element_drop",_.bind(function(t){return t.is(TVE.TEXT_BLOCK)&&t.parent().is(".tve_table_cell")&&i.clone_text_elements_style(t.parent(),t),t},this)),TVE.add_filter("tcb.cloud_templates.table",function(t){var e={id:-1,name:"Blank Table",local:!0,thumb:TVE.url("editor/css/images/table_default.png"),v:1};return t.unshift(e),t}),TVE.add_filter("tcb.cloud_template.table",function(t,e){return e<0&&{content:'<div class="thrv_wrapper thrv_table tcb-fixed tve-draggable tve-droppable" draggable="true">'+TVE.plugins.table.build(5,5)+"</div>",custom_css:"",head_css:"",id:-1,name:"Blank Table",type:"table",v:1}}),TVE.add_filter("tcb.bg_component_color",function(t){return TVE.ActiveElement.is(".tve_table_cell")&&-1<t.indexOf("transparent")&&(t=""),t}),TVE.add_action("tcb.editor.keydown",function(t){if(9===t.which&&TVE.ActiveElement){var e=TVE.ActiveElement.parent();e.hasClass("tcb-clear")&&(e=e.parent()),e.hasClass("tve_table_cell")&&!TVE.ActiveElement.is(TVE.TEXT_ALL)&&(i.handleCellSwitch(),t.preventDefault(),t.stopPropagation())}}),TVE.main.on("tab-pressed",function(t){var e=TVE.inner_$(t.target);e.closest(".tve_table_cell").length&&(i.handleCellSwitch(e),t.preventDefault(),t.stopPropagation())})},handleCellSwitch:function(t){var e=0<arguments.length&&void 0!==t?t:TVE.ActiveElement;if(e.closest(".tve_table_cell").length){var i=e.closest(".tve_table_cell");if(i.is(":last-child")){var n=i.parent();if(n.is(":last-child"))if(n.is(":last-child")&&n.parent().is("tbody")){var s=TVE.tpl("controls/table/table_cell"),a=TVE.inner_$('<tr class="tve_table_row">'),o=n.parent(),r=n.children().length,l=n.closest("table").attr("data-cols"),c=TVE.inner_$(TVE.main.$('#tve-static-elements [data-elem="text"]').html()),d=TVE.inner_$('<td class="tve_table_cell"></td>'),h=n.children().eq(0).attr("data-css"),u="";this.clone_text_elements_style(n,c),d.attr("data-css",h),d.append(c),a.append(d);for(var p=1;p<l;p++)(u=TVE.inner_$(s())).attr("data-css",1===r?h:n.children().eq(p).attr("data-css")),a.append(u);o.append(a),this.handleCellSwitch(e)}else n.parent().is("thead")&&(i=(n=n.parent().next()).find(".tve_table_cell").first(),this.switch_between_cells(i));else i=(n=n.next()).children().first(),this.switch_between_cells(i)}else this.switch_between_cells(i.next())}},clone_text_elements_style:function(t,e){var i,n=TVE.CSS_Rule_Cache.generate_id(),s=(t=t.closest("tbody")?t.closest("tbody"):t.closest("thead")).find(".tve_table_cell > .thrv_text_element:not(.tcb-excluded-from-group-item)").first();e.attr("data-css",s.attr("data-css")),i=(i=s.find(TVE.BLOCK_ELEMENTS).attr("data-css"))||n,e.find("p").attr("data-css",i)},switch_between_cells:function(t){var e=t.children().first();if(!e.length){var i=TVE.inner_$(TVE.main.$('#tve-static-elements [data-elem="text"]').html());this.clone_text_elements_style(t,i),t.append(i)}if(e.hasClass("tcb-replaceable-placeholder")){var n=jQuery.Event("mousedown");n.button=0,e.trigger(n)}else if(t.children(".thrv_text_element").length)TVE.froala.force_focus(t.children(".thrv_text_element").first(),!1),setTimeout(function(){TVE.froala.editor.selection.ranges(0).selectNodeContents(TVE.froala.editor.$el.children()[0])});else{var s=t.children().first();s.hasClass("thrv_wrapper")||(s=s.find(".thrv_wrapper")),TVE.Editor_Page.focus_element(s)}},update_colors:function(){this.controls.even_rows.update(this.controls.even_rows.readFrom()),this.controls.odd_rows.update(this.controls.odd_rows.readFrom()),this.controls.cell_bg.update(this.controls.cell_bg.readFrom())},manage_cells:function(){TVE.plugins.table.cell_manager(TVE.ActiveElement)},clear_alternating_colors:function(t){this.controls.odd_rows.applyTo().head_css({"background-color":""},null,this.controls.odd_rows.config.css_suffix,!1,this.controls.odd_rows.config.css_prefix),this.controls.even_rows.applyTo().head_css({"background-color":""},null,this.controls.even_rows.config.css_suffix,!1,this.controls.odd_rows.config.css_prefix),t&&this.update_colors()},reset_widths:function(){TVE.ActiveElement.find(a).css("width","").head_css({width:""},null,"",!1,TVE.CONST.global_css_prefix+" ")},reset_heights:function(){TVE.ActiveElement.find(a).css("height","").head_css({height:""},null,"",!1,TVE.CONST.global_css_prefix+" ")},disable_sort:function(){TVE.ActiveElement.children(".tve_table").removeClass("tve_make_sortable"),this.controls.sortable.setChecked(!1).disable().$("label").attr("title",TVE.t.table_sorting_disabled)},after_update:function(){var t=!1;TVE.ActiveElement.find(a).each(function(){if(1<parseInt(this.getAttribute("colspan")||1)||1<parseInt(this.getAttribute("rowspan")||1))return!(t=!0)}),t?this.disable_sort():this.controls.sortable.enable().$("label").removeAttr("title")},sync_all_mobile_tables:function(t){t&&t.jquery||(t=TVE.Editor_Page.editor);var e=this;t.find("."+o).each(function(){e.sync_mobile_table(TVE.inner_$(this))})},sync_mobile_table:function(s){if(!(s=s||TVE.ActiveElement)||!s.length||!s.hasClass(o))return this;var t=s.find("> table > thead > tr > th");t.length||(t=s.find("> table > tbody > tr:first-child > td"));var a=["normal","none","0% 0%","auto","0"];t.each(function(t){var e=TVE.inner_$(this),i=e.find("p, .tcb-plain-text, "+TVE.ELEM.headings).first(),n=e.css(["background-color","background-image","background-position","background-size","border-right","vertical-align","padding"]);n=_.extend(n,i.css(["text-align","font-size","line-height","color","font-weight","font-style","font-family","text-shadow","letter-spacing","text-transform"])),_.each(n,function(t,e){-1!==a.indexOf(t)&&delete n[e]}),n["justify-content"]="","left"===n["text-align"]?n["justify-content"]="flex-start !important":"right"===n["text-align"]&&(n["justify-content"]="flex-end !important"),n["align-items"]="","top"===n["vertical-align"]?n["align-items"]="flex-start !important":"bottom"===n["vertical-align"]&&(n["align-items"]="flex-end !important"),delete n["vertical-align"],s.find("> table > tbody > tr").each(function(){TVE.inner_$(this).children("td").eq(t).attr("data-th",e.text()).head_css(n,TVE.main.responsive.mobile.media,"::before",!1,".tcb-mobile-table ")})})}})},tabs:{"tabs-image.js":function(t,e,i){jQuery,e.exports=i("../../../views/base").component.extend({placeholder_action:function(){this.controls.ImagePicker.change_placeholder()},controls_init:function(t){t.ImagePicker.change_image=function(t){this.image_selected=!0;var e,i=TVE.ActiveElement;this.placeholder&&(e=i.outerHeight()),i.empty().tcbCss("background-image",'url("'.concat(this.picker.clean_url(t.url),'")')),this.placeholder&&(TVE.Editor_Page.selection_manager.select_element(i.removeClass("tcb-elem-placeholder edit_mode")),delete this.placeholder,i.head_css({"flex-basis":"".concat(e,"px !important"),height:"".concat(e,"px !important")}))},t.ImagePicker.update=function(t){this.$(".preview").addClass("img").css("background-image",t.css("background-image"))},t.Height.update=function(t){this.setValue(t.head_css("height",!1,"",!0))},t.Height.input=function(t){var e=this.getValue(!0);e.includes("auto")&&(e=""),e+=" !important",this.applyElementCss({height:e,"flex-basis":e},t,"","")}}})},"tabs-item.js":function(t,e,i){var a,o;jQuery,a=i("../icon"),o=i("../../../libs/element-snapshot"),e.exports=a.extend({after_init:function(){this.iconControl=this.$(".tve-tab-icon-control")[0],this.elementHooks()},elementHooks:function(){function i(t,e){setTimeout(function(){TVE.AddTab.hideControls(),TVE.state_manager.change("expanded",!0,{skip_update:!0}),t&&(TVE.ElementEditIcons.show_icons(e),e.hasClass("tcb-excluded-from-group-item")?TVE.ElementEditIcons.$unlock.toggle():TVE.ElementEditIcons.$lock.toggle())}),TVE.Components.shadow.isOpen()&&TVE.Components.shadow.update()}var n=this;TVE.add_action("tcb_group_edit_preview_change",function(t){t.elements.is(".tve_tab_content")&&TVE.inner_$(t.elements).closest(".thrv-tabbed-content").find(".tve_tab_title_item:not(.tcb-excluded-from-group-item)").first().tcbTabsToggle()}),TVE.add_action("tcb_group_edit_preview_change_locked",function(t){var e=t.element;if(e.classList.contains("tve_tab_content")){var i=_toConsumableArray(e.parentNode.children).filter(function(t){return t.classList.contains("tve_tab_content")}).indexOf(e);TVE.inner_$(e).closest(".thrv-tabbed-content").find(".tve_tab_title_item:nth-of-type(".concat(i+1,")")).tcbTabsToggle()}}),TVE.add_action("tcb.focus_".concat(this.key,".before"),function(t){var e=t.hasClass("edit_mode");e&&t.tcbTabsToggle(),t.hasClass("tve-state-expanded")&&i(e,t)}),TVE.add_filter("tve.change.icon.custom_action.".concat(this.key),function(t,e){return t.empty().html('<div style="margin: 0 2px; padding: 0 2px; display: flex;">'.concat(TVE.icon("expand-regular","svg","editor"),'<span style="margin-left: 2px">Show</span></div>')),t}),TVE.add_action("tve.icons.custom_action.".concat(this.key),function(t,e){e||TVE.Editor_Page.focus_element(t),t.tcbTabsToggle(),i(e,t)}),TVE.add_action("tcb.state.change.before.update.".concat(this.key),function(t){TVE.ClickedElement.find(".tve-tab-text").toggleClass("tve-state-hover","hover"===t),"expanded"===t&&(TVE.ClickedElement.tcbTabsToggle(),TVE.ElementEditIcons.show_icons(TVE.ClickedElement),TVE.ClickedElement.hasClass("tcb-excluded-from-group-item")?TVE.ElementEditIcons.$unlock.toggle():TVE.ElementEditIcons.$lock.toggle())}),this.clearTabText=!0,TVE.add_action("tcb.typography.".concat(this.key,".clear_formatting"),function(){if(n.clearTabText){n.clearTabText=!1;var t=TVE.ActiveElement.find(".tve-tab-text");TVE.Components.typography.clear_formatting(t,"","".concat(TVE.CONST.global_css_prefix," ")),t.head_css({"background-color":""},!1,"",!1,"".concat(TVE.CONST.global_css_prefix," ")),t.head_css({"font-weight":"","font-style":"","text-decoration":""},!1,"",!1,""),n.clearTabText=!0}}),TVE.add_filter("tcb.write.shadow.suffix.".concat(this.key),function(t,e){return"text-shadow"===e?" .tve-tab-text":""}),this.cloneHoverStyles=!0,TVE.add_action("tcb.write_css.".concat(this.key),function(t,e,i){n.cloneHoverStyles&&TVE.state_manager.is_hover()&&!t.includes(":hover")&&(t=t.replace("tve-state-hover","tve-state-expanded").replace(":not(.tve-state-expanded)","").replace("".concat(TVE.CONST.global_css_prefix," "),""),n.cloneHoverStyles=!1,TVE.write_css(t,e,i),n.cloneHoverStyles=!0)}),TVE.add_filter("tcb_head_css_suffix",function(t){return TVE.ActiveElement&&TVE.ActiveElement.is(".tve_tab_title_item")&&TVE.state_manager.is_hover()&&(t=":not(.tve-state-expanded)"+t),t}),TVE.add_filter("allow_dragenter",function(t,e,i){var n=e.hasClass("tve_tab_title_item"),s=i&&i.hasClass("tve_tab_title_item");return(e.hasClass("tve_tab_content")||i&&n&&!s||!n&&s||!i&&n)&&(t=!1),t}),TVE.add_filter("tve.drag.position.insert",function(t,e,i){if(e.hasClass("tve_tab_title_item")){var n=e.closest(".tve_scT ").find("> .tve_tab_content");t=["top","left"].includes(t)?"top":"bottom",e.parent().children().each(function(){var t=TVE.inner_$(this);t.data("$$tabContent",n.eq(t.index()))})}return t}),TVE.add_filter("tve.drag.position.direction",function(t,e){return e.hasClass("tve_tab_title_item")&&(t=e.closest(".tve_scT").hasClass("tve_vtabs-desktop")?["top","left"].includes(t)?"top":"bottom":["top","left"].includes(t)?"left":"right",TVE.AddTab.hideControls()),t}),TVE.add_action("tcb.after-insert",function(t,e){if(t.hasClass("tve_tab_title_item")){var i=t.closest(".tve_scT");t.parent().children().each(function(){i.append(TVE.inner_$(this).data("$$tabContent"))})}}),TVE.add_filter("tve.edit.icons.width.".concat(this.key),function(t){return 150})},controls_init:function(i){var n=this;a.prototype.controls_init.apply(this,arguments);var s=this;i.HasImage.update=function(t){var e=t.hasClass("tve-tab-use-img");this.setChecked(e)},i.HasImage.change=function(t,e){o(function(){t.toggleClass("tve-tab-use-img",e.checked),e.checked?(t.prepend(TVE.tpl("elements/tab-image-placeholder")()),i.HasIcon.getValue()&&i.HasIcon.setChecked(!1,!0)):t.find(".tve-tab-image").remove()},t),n.update()},i.Slider.getCssProps=function(){return["font-size"]},i.Slider.update=function(t){this.setValue(this.applyTo().head_css("font-size",!1,this.config.css_suffix,!0,this.config.css_prefix))},i.HasIcon.update=function(t){var e=t.hasClass("tve-tab-use-icon");this.setChecked(e),s.iconControl.style.display=e?"block":"none"},i.HasIcon.change=function(t,e){o(function(){t.toggleClass("tve-tab-use-icon",e.checked),e.checked?(t.prepend('<div class="tve-tab-icon"></div>'),i.HasImage.getValue()&&i.HasImage.setChecked(!1,!0)):(t.find(".tve-tab-icon").remove(),t.removeAttr("data-icon-code"))},t),n.iconControl.style.display=e.checked?"block":"none",n.update()},i.ModalPicker.setModalProp("icon_sets","fontawesome"),i.ModalPicker.update=function(t){var e="None";t.attr("data-icon-code")&&(e=t.attr("data-icon-code").replace("icon-","")),this.updateValue(e)},i.ModalPicker.input=function(t,e){var i,n=t.find(".tve-tab-icon");if(n.empty(),e.icon.is(".tve-svg-icon")){var s=jQuery("symbol#"+e.icon.data("cls"));i=TVE.svg_icon({path:s.html(),viewBox:s[0].getAttribute("viewBox"),name:s.find("> title").text(),id:s.attr("id")})}else i='<span data-name="'+e.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+e.icon.data("cls")+'"></span>';t.attr("data-icon-code",e.icon.data("cls")),n.append(i),this.update(t)},i.TextTypeDropdown.update=function(t){this.setValue(t.find(".tve-tab-text").prop("tagName").toLowerCase()||"span")},i.TextTypeDropdown.change=function(t,s){t.find(".tve-tab-text").each(function(t,e){var i=TVE.inner_$(e),n=TVE.inner_$("<"+s.value+"></"+s.value+">",{html:i.html()});TVE.inner_$.each(i[0].attributes,function(){n.attr(this.name,this.value)}),i.replaceWith(n)})},i.IconPosition.input=function(t,e){t.removeClassContaining(/tcb--\w+([^\s]+)/g).addClass("tcb--".concat(e.dataset.value))},i.IconPosition.update=function(t){this.setValue(t.css("flex-direction")||"row")}},before_update:function(){TVE.ClickedElement&&TVE.ClickedElement.hasClass("tve_tab_title_item")&&(this.controls.IconPosition.el.style.display=TVE.ClickedElement.is(".tve-tab-use-img,.tve-tab-use-icon")?"block":"none")},__config_IconPosition:function(t){return t.buttons=TVE.Views.Components.MegamenuItem.imageSideButtons,t}})},"tabs-new.js":function(t,e,i){var s,a,l,c,n,o,r,d;s=jQuery,a=i("../../../libs/element-snapshot"),l="> .tve_scT > ul > .tve_tab_title_item",c="> .tve_scT > .tve_tab_content",n="> .tve_scT > .tve_tab_content > .tve-cb",o=i("../../base"),r=i("../../controls/tooltip-base"),d=/c-\w+/g,e.exports=o.component.extend({edit:"active",needs_update:function(t){return!t.hasClass("thrv-tabbed-content")},migrate_element:function(t){var e=t.find(".tve_scT > ul li.tve_tS").css(["background-color"]);e["background-color"]+=" !important",t.head_css(e,null," .tve_scT > ul li.tve_tS"),t.head_css(e,null," .tve_scT > ul li:hover"),t.head_css(t.find(".tve_scT > ul li:not(.tve_tS)").css(["background-color"]),null," .tve_scT > ul li:not(.tve_tS)"),t.head_css(t.find(".tve_scT .tve_scTC").css(["background-color","border-color"]),null," .tve_scT .tve_scTC "),t.find(".tve_scT .tve_scTC").removeAttr("data-tve-custom-colour"),t.find(".tve_scT .tve_scTC p").addClass("thrv_text_element"),t.find(".tve_scT > ul li").removeAttr("data-tve-custom-colour"),t.find(".tve_scT > ul li span").addClass("thrv-inline-text tve_editable"),t.removeClass("thrv_tabs_shortcode").addClass("thrv-tabbed-content")},controls_init:function(t){var e=this;this.progressTooltip=new r({tooltipPosition:"top",no_buttons:!0,template:TVE.tpl("controls/tabs/progress-tooltip"),anim_duration:300,no_callback:!0,validate:function(){return!e.progressTooltip.FORCE_CLOSE}}),t.DefaultTab.change=function(t,e){a(function(){t.find(l).eq(e.value).tcbTabsToggle(),t.find("> .tve_scT").attr("data-selected",e.value)},t)},t.DefaultTab.update=function(t){var i="",n=t.children(".tve_scT").attr("data-selected");t.find(l).each(function(t){var e=s(this);void 0===n&&(n=e.hasClass("tve_tS")?t:0),i+='<option class="tve-option" value="'+t+'">'+e.text()+"</option>"}),this.$el.find("select").html(i).val(n)},t.ContentAnimation.update=function(t){var e=t.attr("data-animation");e||(e="appear",t.attr("data-animation",e)),this.setValue(e)},t.ContentAnimation.input=function(t,e){t.attr("data-animation",e.value),t.find(n).removeAttr("style")},t.HoverEffect.update=function(t){var e=t.find(l);this.setValue(e.length?TVE.getClassThatContains(t.find(l),"c-"):"")},t.HoverEffect.input=function(t,e){var i=t.find(l);i.removeClassContaining(d),i.addClass(e.value),i.find(".tve-tab-text").toggleClass("tve-hover-anim",!!e.value)},t.ProgressStyling.update=function(t){this.setChecked("1"===t.attr("data-progress-style"))},t.ProgressStyling.change=function(t,e){t.attr("data-progress-style",e.checked?"1":"0");var i=t.find(c).filter(".tve-tc-visible").index()-1;t.find(l).filter(function(t){return t<i})[e.checked?"addClass":"removeClass"]("tve_tS tve-state-expanded")},t.ProgressStyling.openTooltip=function(){return e.progressTooltip.isOpen()?e.progressTooltip.onCancel():e.progressTooltip.open(null,e.$(".tve-switch-info")),!1},this.elementHooks()},elementHooks:function(){function t(t){t.find(".tve_tab_title_item").first().tcbTabsToggle()}var i=this;TVE.add_action("tcb.after_insert_symbol",t),TVE.add_action("tcb_after_cloud_template_css_inserted",t),TVE.add_filter("allow_remove",function(t,e){return e[0].hasClass("tve_tab_title_item")?(i.remove_tab(e[0].index(),e[0]),t=!1):e[0].is(".thrv-tabbed-content.tve-tab-upgraded > .tve_scT > ul")&&(e[0].closest(".thrv-tabbed-content ").remove(),TVE.main.EditMode.exit(),setTimeout(function(){TVE.Editor_Page.blur()})),TVE.AddTab.hideControls(),t}),TVE.add_action("tcb.element.duplicate",function(t,e){if(t.hasClass("tve_tab_title_item")){var i=t.index(),n=t.closest(".thrv-tabbed-content").find(c).eq(i);TVE.Editor_Page.duplicate_element(n),e.removeClass("tve_tS tve-state-expanded")}else t.hasClass("tve_tab_content")&&e.removeClass("tve-tc-visible").hide()}),TVE.add_action("tve.froala.text.noteditable",function(t){var e=t.closest(".thrv-tabbed-content");e.length&&e.find(" > .tve_scT.tve-prevent-content-edit").length&&TVE.Editor_Page.focus_element(e)}),TVE.add_filter("tcb.get_dropzone_target",function(t){if(void 0!==TVE.FLAGS.$dragged_element)return t;if(TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is(TVE.identifier("tabs"))){var e=TVE.main.EditMode.element().find("".concat(TVE.identifier("tab_content"),".tve-tc-visible")).first().find("> .tve-cb");t=e.length?e.children().last():t}return t}),TVE.add_filter("tcb.cloud_templates.tabs",function(t){var e={id:-1,name:"Default Tabs",local:!0,thumb:TVE.url("editor/css/images/tabs_default.png"),v:1};return t.unshift(e),t}),TVE.add_filter("tcb.cloud_template.tabs",function(t,e){return e<0&&{content:TVE.tpl("elements/tabs")(),custom_css:"",head_css:"",id:-1,name:"Default Tabs",type:"tabs",v:1}}),TVE.AddTab=new TVE.AddTabView},addTabs:function(t){t.jquery||(t=TVE.ClickedElement);var e,i=TVE.renderers.base.read_element_props(t),n=t.find(l).length+1,s=["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth"],a=(s[n-1]?s[n-1]:n+"th")+" Tab",o=t.find("".concat(l,".thrv_wrapper.tve_tab_title_item:not(.tcb-excluded-from-group-item)")).last(),r=TVE.inner_$('<div class="thrv_wrapper tve_tab_content tve_scTC" style="display: block;"><div class="tve-content-box-background"></div><div class="tve-cb"></div></div>');1===n?o=TVE.inner_$('<li class="thrv_wrapper tve_tab_title_item tve_tS"><div class="tve_tab_title"><p class="tve-tab-text">'.concat(a,"</p></div></li>")):(o.length||(o=t.find(l).last()),o=o.clone(),(r=t.find(c).eq(o.index()).clone()).removeClass("tve-tc-visible").css("display","none").find(" > .tve-cb").removeClass("tcb-parent-placeholder-empty").empty(),o.removeClass("tve_tS tve-state-expanded"),o.find(".tve-tab-text").html(a)),t.find(".tve_scT > ul").append(o),t.find(".tve_scT").append(r),e=TVE.renderers.base.read_element_props(t),this.undo_action(t,i,e),this.update("DefaultTab").update("preview")},undo_action:function(t,e,i){TVE.UndoManager.add({undo:function(){t.html(e.html)},redo:function(){t.html(i.html)}})},remove_tab:function(i,n){n=n.closest(".thrv_tabs_shortcode"),i=parseInt(i),a(function(){var t=n.find("".concat(c,".tve-tc-visible")).first().index()-1;if(n.find(l).eq(i).remove(),n.find(c).eq(i).remove(),t===i){var e=n.find(l);i===e.length&&i--,e.eq(i).tcbTabsToggle()}-1===i&&(n.remove(),TVE.Editor_Page.blur())},n,this)},__config_ProgressStyling:function(t){t.info=!0},editElement:function(){var t=this;this.$tab=TVE.ClickedElement,this.$tabWrapper=this.$tab.find("> .tve_scT"),this.$tabWrapper.removeClass("tve-prevent-content-edit");var e=this.$tab.find(".tve_tab_content > .tve-cb");e.each(function(){var t=TVE.inner_$(this);if(0===t.html().length){var e=TVE.inner_$('<div class="tcb-replaceable-placeholder">'+TVE.t.placeholder_text+"</div>");t.addClass("tcb-parent-placeholder-empty").append(e)}}),TVE.main.EditMode.enter(this.$tab,{blur:!0,show_default_message:!0,restore_state:!0,element_selectable:!1,can_insert_elements:!0,callbacks:{exit:function(){t.$tabWrapper.addClass("tve-prevent-content-edit"),TVE.Editor_Page.focus_element(t.$tab.removeClass("canvas-mode")),e.each(function(){var t=TVE.inner_$(this);t.hasClass("tcb-parent-placeholder-empty")&&t.removeClass("tcb-parent-placeholder-empty").empty()})}}}),TVE.Editor_Page.focus_element(this.$tab.find("".concat(l,".tve_tS")))}})},"tabs-old.js":function(t,e,i){var o,r,l,s,n,c;o=jQuery,r=i("../../../libs/element-snapshot"),l="> .tve_scT > ul > li",s="> .tve_scT > .tve_scTC",n=i("../../base"),c=i("../../controls/preview-list").extend({_sortable:!0,_clickable:!1,get_items:function(i){var n=[];return i.find(l).each(function(t){var e=o(this);n.push({label:e.find(".thrv-inline-text").text(),$tab:e,$tab_content:i.find(s).eq(t)})}),n}}),e.exports=n.component.extend({edit:"active",needs_update:function(t){return!t.hasClass("thrv-tabbed-content")},migrate_element:function(t){var e=t.find(".tve_scT > ul li.tve_tS").css(["background-color"]);e["background-color"]+=" !important",t.head_css(e,null," .tve_scT > ul li.tve_tS"),t.head_css(e,null," .tve_scT > ul li:hover"),t.head_css(t.find(".tve_scT > ul li:not(.tve_tS)").css(["background-color"]),null," .tve_scT > ul li:not(.tve_tS)"),t.head_css(t.find(".tve_scT .tve_scTC").css(["background-color","border-color"]),null," .tve_scT .tve_scTC "),t.find(".tve_scT .tve_scTC").removeAttr("data-tve-custom-colour"),t.find(".tve_scT .tve_scTC p").addClass("thrv_text_element"),t.find(".tve_scT > ul li").removeAttr("data-tve-custom-colour"),t.find(".tve_scT > ul li span").addClass("thrv-inline-text tve_editable"),t.removeClass("thrv_tabs_shortcode").addClass("thrv-tabbed-content")},controls_init:function(s){var a=this;s.TabLayout.change=function(t,e){var i,n=TVE.renderers.base.read_element_props(t);t.find(".tve_scT").toggleClass("tve_vtabs","vertical"===e.value),t.find(".tve_scT").css({"padding-left":""}),t.head_css({width:""},null," .tve_scT > ul"),t.head_css({width:""},null," .tve_scT > ul li"),a.resize(t),s.TabsWidth.update(t),i=TVE.renderers.base.read_element_props(t),a.undo_action(t,n,i)},s.TabLayout.update=function(t){t.find(".tve_scT").hasClass("tve_vtabs")?this.setValue("vertical"):this.setValue("horizontal")},s.TabsWidth.input=function(t,e){var i;t.find(".tve_vtabs").length?(i=" .tve_scT > ul",t.find(".tve_scT").css("padding-left",e.value+this.getUM())):i=" .tve_scT > ul li",this.applyElementCss({width:e.value+this.getUM()+" !important"},t,i,"")},s.TabsWidth.update=function(t){var e;e=t.find(".tve_vtabs").length?t.find(".tve_scT > ul").outerWidth():t.find(".tve_scT > ul li").first().outerWidth(),this.setValue(e)},s.TabsWidth.afterConfig=function(){this.model.config.max=parseInt(this.applyTo().parent().width()-100)},s.DefaultTab.change=function(t,e){r(function(){t.find(l).eq(e.value).click(),t.find("> .tve_scT").attr("data-selected",e.value)},t)},s.DefaultTab.update=function(t){var i="",n=t.children(".tve_scT").attr("data-selected");t.find(l).each(function(t){var e=o(this);void 0===n&&e.hasClass("tve_tS")&&(n=t),i+='<option class="tve-option" value="'+t+'">'+e.text()+"</option>"}),this.$el.find("select").html(i).val(n)},s.EditTabs.change=function(t,e){a.edit=e.value,t.attr("data-edit",a.edit),s.TabBackground.update(t),s.TabBorder.update(t),a.$(".tve-advanced-controls").toggle("active"==e.value)},s.EditTabs.update=function(t){var e=t.attr("data-edit");e&&(a.edit=e)},s.TabBackground.input=function(t){var e="active"==a.edit?".tve_tS":":not(.tve_tS)",i=this.applyTo();t&&(t+=" !important"),this.applyElementCss({"background-color":t},i," .tve_scT > ul li"+e,""),"active"==a.edit&&"change"===this.currentEventType&&this.applyElementCss({"background-color":t},i," .tve_scT > ul li:hover",""),t||this.component.controls.TabBackground.update(this.applyTo())},s.TabBackground.update=function(t){var e="active"==a.edit?".tve_tS":":not(.tve_tS)";this.setValue(t.head_css("background-color",null," .tve_scT > ul li"+e,!0))},s.TabBorder.input=function(t){var e="active"==a.edit?".tve_tS":":not(.tve_tS)";t&&(t+=" !important"),this.applyElementCss({"border-color":t},this.applyTo()," .tve_scT > ul li"+e,""),t||this.component.controls.TabBorder.update(this.applyTo())},s.TabBorder.update=function(t){var e="active"==a.edit?".tve_tS":":not(.tve_tS)";this.setValue(t.head_css("border-color",null," .tve_scT > ul li"+e,!0))},s.ContentColor.input=function(t){this.applyElementCss({"background-color":t},this.applyTo()," .tve_scT .tve_scTC",""),t||this.component.controls.ContentColor.update(this.applyTo())},s.ContentColor.update=function(t){this.setValue(t.head_css("background-color",null," .tve_scT .tve_scTC",!0))},s.ContentBorder.input=function(t){this.applyElementCss({"border-color":t},this.applyTo()," .tve_scT .tve_scTC",""),t||this.component.controls.ContentBorder.update(this.applyTo())},s.ContentBorder.update=function(t){this.setValue(t.head_css("border-color",null," .tve_scT .tve_scTC",!0))},s.preview=new c({el:this.$("#tabs-list")[0]}),s.preview.on("order_changed",function(){var e=this.readFrom(),i=e.find("> .tve_scT");this.collection.each(function(t){e.find("> .tve_scT > ul").append(t.get("$tab")),i.append(t.get("$tab_content"))})}).on("item_remove",function(t){a.remove_tab(t,this.readFrom())})},addTabs:function(){var t,e=TVE.ActiveElement,i=TVE.renderers.base.read_element_props(e),n=e.find(".tve_scT > ul li").length+1,s=["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth"],a='<li><span class="tve_scTC'+n+' thrv-inline-text tve_editable">'+(s[n-1]?s[n-1]:n+"th")+" Tab</span></li>",o=--n?'<div class="tve_scTC tve_scTC'+n+'" style="display: none;"></div>':'<div class="tve_scTC tve_scTC'+n+'" style="display: block;"></div>';n?e.find(".tve_scT > ul").append(a):e.find(".tve_scT > ul").append(a).find("li").addClass("tve_tS"),e.find(".tve_scT").append(o),this.resize(e),t=TVE.renderers.base.read_element_props(e),this.undo_action(e,i,t),this.update("DefaultTab").update("preview")},resize:function(t){t.find(".tve_vtabs").length?t.find(".tve_scTC").css("min-height",t.find(".tve_scT > ul").outerHeight()+40+"px"):t.find(".tve_scTC").css("min-height","")},undo_action:function(t,e,i){TVE.UndoManager.add({undo:function(){t.html(e.html)},redo:function(){t.html(i.html)}})},remove_tab:function(i,n){n=n.closest(".thrv_tabs_shortcode"),i=parseInt(i),r(function(){var t=n.find(l+".tve_tS").index();if(n.find(l).eq(i).remove(),n.find(s).eq(i).remove(),this.resize(n),t===i){var e=n.find(l);i===e.length&&i--,e.eq(i).click()}},n,this)}})}},"templates-symbols":{"ct-symbol.js":function(t,e,i){var n=i("../../base");e.exports=n.component.extend({after_init:function(){TVE.modal.templatesSymbols=new(i("../../modals/ct-symbols/ct-symbols"))({el:TVE.modal.get_element("ct-symbols")})},placeholder_action:function(){this.open_modal()},open_modal:function(){return TVE.modal.templatesSymbols.open(),!1}})}},"text.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({extra_states:!0,controls_init:function(n){var i=this;TVE.main.off("ctrl-enter-pressed").on("ctrl-enter-pressed",function(t){(TVE.ActiveElement.is(".thrv_text_element")||TVE.ActiveElement.is(".thrv-plain-text"))&&i.control_enter_handle()}),TVE.add_action("tcb.element.duplicate",function(t,e){t.is(TVE.TEXT_HEADINGS+","+TVE.TEXT_BLOCK)&&(TVE.froala.force_focus(t,!1),TVE.froala.editor.selection.setAtEnd(TVE.froala.editor.$el.get(0)),TVE.froala.editor.selection.restore())}),n.ToggleControls.update=function(t){var e="tcb-text-font-size";this.clearActive(),this.setActive(e),i.$(".tcb-text-toggle-element").hide(),i.$("."+e).show()},n.ToggleControls.input=_.bind(function(t,e){var i=e.getAttribute("data-value");this.$(".tcb-text-toggle-element").hide(),this.$("."+i).show(),"tcb-text-line-height"===i&&n.LineHeight.before_update(t)},this),n.FontColor.update=function(){TVE.froala.editor&&this.setValue(i.read_text_css("color"))},n.FontColor.input=function(t){TVE.BROWSER.mozilla&&TVE.froala.has_selection()&&!TVE.froala.editor.selection.isFull()&&!TVE.froala.selectionIsFullBlock()||(t=t?t.toString():"",i.doAction("format.applyStyle","color",t||"inherit",!0,!1,this),t||this.setValue(TVE.froala.get_css("color",!0,!1,TVE.apply_filters("wrapper_selector",TVE.CONST.global_css_prefix)+" ")))},n.FontColor.change=function(t){t=t?t.toString():"",i.doAction("format.applyStyle","color",t||"inherit",!0,!1,this),i.apply_head_css()},n.FontBackground.update=function(){this.setValueOrNull(i.read_text_css("background-color"))},n.FontBackground.input=function(t){t=t?t.toString():"",i.doAction("format.applyStyle","background-color",t||"transparent",!0,!1,this),t||this.setValueOrNull(TVE.froala.get_css("background-color",!0,!1,TVE.apply_filters("wrapper_selector",TVE.CONST.global_css_prefix)+" "))},n.FontBackground.change=function(t){this.input(t),i.apply_head_css()},n.FontSize.update=function(){this.setValue(TVE.froala.get_css("font-size",!0,!1,TVE.apply_filters("wrapper_selector",TVE.CONST.global_css_prefix)+" "))},n.FontSize.input=function(t,e){TVE.BROWSER.mozilla&&TVE.froala.has_selection()&&!TVE.froala.editor.selection.isFull()&&!TVE.froala.selectionIsFullBlock()||i.doAction("format.applyStyle","font-size",e.value+this.getUM(),!0,!1,this)},n.FontSize.change=function(t,e){i.doAction("format.applyStyle","font-size",e.value+this.getUM(),!0,!1,this),i.apply_head_css()},n.FontSize.convertUM=function(t){return this.pixel_em_conversion(t,TVE.froala.get_selection_element().closest("div"))},n.LineHeight.update=function(){var t=TVE.froala.get_block_element(),e=t.head_css("line-height");if(e)return this.setValue(e);"normal"===(e=t.css("line-height"))&&(e="1.12em"),e&&-1!==e.indexOf("px")&&(e=parseFloat(e)/parseFloat(t.css("font-size"))+"em"),this.setValue(e)},n.LineHeight.input=function(t,e){i.doAction("format.applyStyle","line-height",e.value+this.getUM(),!0,!0,this)},n.LineHeight.convertUM=function(t){this.pixel_em_conversion(t,TVE.froala.get_block_element())},n.LetterSpacing.update=function(){var t=TVE.froala.get_css("letter-spacing",!0,!1,TVE.apply_filters("wrapper_selector",TVE.CONST.global_css_prefix)+" ");t&&"normal"!=t||(t=0),this.setValue(t)},n.LetterSpacing.input=function(t,e){TVE.BROWSER.mozilla&&TVE.froala.has_selection()&&!TVE.froala.editor.selection.isFull()&&!TVE.froala.selectionIsFullBlock()||i.doAction("format.applyStyle","letter-spacing",e.value+this.getUM(),!1,!1,this)},n.LetterSpacing.change=function(t,e){i.doAction("format.applyStyle","letter-spacing",e.value+this.getUM(),!1,!1,this),i.apply_head_css()},n.FontFace.update=function(t){if(TVE.froala.editor){var e=TVE.froala.get_selection_element();if(this.seems_custom=-1!==String(e.attr("class")).indexOf("ttfm")||-1!==String(e.closest(TVE.froala.get_block_element()).attr("class")).indexOf("ttfm"),this.seems_custom||!e.attr("data-selector")&&!e.attr("data-css")?this.initial_font=TVE.froala.get_css("font-family",!0,!1,TVE.apply_filters("wrapper_selector",TVE.CONST.global_css_prefix)+" "):(this.initial_font=TVE.froala.get_css("font-family",!1,!1,TVE.apply_filters("wrapper_selector",TVE.CONST.global_css_prefix)+" "),this.initial_font=TVE.apply_filters("tcb.text.read_font",this.initial_font,e,"font-family")),this.inherited=!this.initial_font||"inherit"===this.initial_font,this.inherited)this.initial_font=e.css("font-family");else 0===e.clone().children().remove().end().text().length&&(this.initial_font=TVE.getComputedStyle(e.children()[0],"font-family",!0));this.initial_weight=TVE.froala.get_css("font-weight");var i=TVE.froala.get_selection_element();"bold"===this.initial_weight&&(this.initial_weight=i.closest("p").css("font-weight"));var n=jQuery(TVE.froala.editor.selection.element()).find("strong");n.length?this.initial_bold=n.css("font-weight"):this.initial_bold=TVE.froala.editor.tcb.getBlockElement().head_css("font-weight",null," strong",!0,this.config.css_prefix)||TVE.froala.editor.tcb.getBlockElement().head_css("font-weight",null," strong"),this.readFont(t),this.setInputValue(this.initial_font)}},n.FontFace.setInputValue=_.debounce(function(t){if(this.seems_custom&&"google"===this.section){var e=TVE.froala.has_selection()?TVE.froala.get_selection_element():TVE.froala.get_block_element();this.remove_custom_font(e)}void 0===t&&(t=TVE.getComputedStyle(TVE.froala.has_selection(),"fontFamily",!0)),t=t.length&&"inherit"===this.__original_section?"Inherit: ["+t+"]":t,this.parent_control.set_value(t)},50),n.TextStyle.getElement=function(){return TVE.froala.get_block_element().closest(":not(a)")},n.TextTransform.change=function(t,e){i.doAction("format.applyStyle","text-transform",e.getAttribute("data-value"),!0,!1,this),i.apply_head_css()},n.TextTransform.update=function(t){this.setActive(TVE.froala.get_css("text-transform",!0,!1,TVE.apply_filters("wrapper_selector",TVE.CONST.global_css_prefix)+" ")||"none")}},doAction:function(t,e,i,n,s,a){var o=4<arguments.length&&void 0!==s&&s,r=5<arguments.length&&void 0!==a?a:null,l=TVE.froala.has_selection(),c=l&&l.classList.contains("thrive-shortcode-content");if(TVE.froala.get_block_element().is(this.active_node)||TVE.froala.get_selection_element().is(this.active_node)||0!==this.active_node.find(TVE.froala.get_selection_element()).length){if("LI"!==l.nodeName&&!c||(o=!0),o||!l||TVE.froala.editor.selection.isFull()||TVE.froala.selectionIsFullBlock()){var d={},h=TVE.froala.get_block_element();c&&(h=TVE.inner_$(l)),h.is("a")&&(h=h.parent().closest(TVE.BLOCK_ELEMENTS)),d[e]=n?i+" !important":i,"color"===e&&(d["--tcb-applied-color"]=i&&String(i).replace("var","var$")+" !important"||""),!1!==this.applyStyleFilter(h,d)&&(r||this.controls.FontColor).applyElementCss(d,h,"",TVE.apply_filters("wrapper_selector",TVE.CONST.global_css_prefix)+" "),"font-size"===e&&h.removeClass("rfs rft"),(TVE.froala.editor.selection.isFull()||TVE.froala.selectionIsFullBlock())&&(d[e]="",(r||this.controls.FontColor).applyElementCss(d,h.find("span"),"","",!0),"font-size"===e&&h.find("> span").removeClass("rfs rft"))}else TVE.froala.exec(t,e,i),"font-size"===e&&TVE.froala.get_selection_element().removeClass("rfs rft");this.active_node=TVE.froala.get_selection_element()}},apply_head_css:function(){TVE.froala.has_selection()&&TVE.froala.editor.$el.find("span[style]").each(function(){var t=TVE.inner_$(this),e=TVE.CSS_Rule_Cache.cssToObject(t.attr("style"),!0);t.head_css(e),"desktop"!==TVE.main.device&&this.removeAttribute("style")})},applyStyleFilter:function(t,e){return TVE.apply_filters("tcb.text.apply_style",!0,t,e)},typefocus_control:function(){return i("../controls/text/typefocus")},clear_formatting:function(){var a=this;function i(t){return t.classList&&t.classList.contains("thrive-inline-shortcode")?(t.removeAttribute("data-css"),t.removeAttribute("style"),!0):t.classList&&t.classList.contains("thrive-shortcode-content")}if(TVE.USE_GLOBALSHEET){_.each({FontColor:["color","--tcb-applied-color"],FontBackground:["background-color"],FontSize:["font-size"],LineHeight:["line-height"],LetterSpacing:["letter-spacing"],FontFace:["font-family"],TextTransform:["text-transform"]},function(t,e){var i={},n=a.controls[e],s="LineHeight"!==e?TVE.apply_filters("wrapper_selector",TVE.CONST.global_css_prefix)+" ":"";t.forEach(function(t){i[t]=""}),n.applyTo().head_css(i,!1,n.config.css_suffix,!1,s)}),TVE.Editor_Page.reposition_icons()}else if(TVE.froala.has_selection())TVE.froala.exec("commands.clearFormatting",i),TVE.froala.editor&&(TVE.froala.editor.selection.save(),TVE.froala.editor.selection.restore());else{var t=TVE.froala.get_block_element();t.removeAttr("data-css").removeAttr("style"),t.removeClass(function(t,e){return(e.match(/(^|\s)ttfm\S+/g)||[]).join(" ")}),t.find("span, font").each(function(t){var e=jQuery(this);i(this)||e.replaceWith(e.text())}),TVE.do_action("tcb.text.clear_formatting",t)}TVE.Editor_Page.reposition_icons(),TVE.froala.editor.events.focus(),this.update()},control_enter_handle:function(){var t=TVE.ActiveElement.find(".fr-element").html(),e=TVE.ActiveElement.froalaEditor("selection.element").outerHTML,i=TVE.ActiveElement.froalaEditor("selection.element"),n=TVE.ActiveElement.froalaEditor("selection.endElement"),s=TVE.ActiveElement.froalaEditor("selection.get"),a=TVE.ActiveElement.froalaEditor("html.get",!0),o=t.substring(t.indexOf(e)+e.length,t.length),r=t.substring(0,t.indexOf(e)),l=(o.match(/<\/\w*>/g)||[]).length-(o.match(/<[^\/][\w\d\s]*>/g)||[]).length;o=this.remove_tags_without_content_after_split(o),r=this.remove_tags_without_content_after_split(r),a=a.replace(new RegExp(s.anchorNode.textContent,"g"),"");var c="";c=0==l?'<p class="">'+jQuery("<div></div>").append(n).html()+"</p>":this.rebuild_html_after_split(i,l)+jQuery("<div></div>").append(n).html(),TVE.ActiveElement.html(c+o),TVE.ActiveElement.html(this.remove_tags_without_content_after_split(TVE.ActiveElement.html())),TVE.Editor_Page.before_action().duplicate_element(TVE.ActiveElement).after_action(),TVE.ActiveElement.find(".fr-element").html(r),TVE.froala.editor.selection.setAtEnd(TVE.froala.editor.$el.get(0)),TVE.froala.editor.selection.restore()},rebuild_html_after_split:function(t,e){for(var i="",n="",s=0;s<e;s++){var a=jQuery(t).parent(),o=a.attr("data-css"),r=a.attr("style");n="<"+t.parentElement.nodeName.toLowerCase(),void 0!==o&&(n=n+' data-css="'+o+'"'),""!==t.parentNode.classList.toString()&&(n=n+' class="'+t.parentNode.classList.toString()+'"'),void 0!==r&&(n=n+' style="'+r+'"'),n+=" >",t=t.parentElement,i=n+i}return i},remove_tags_without_content_after_split:function(t){for(var e=t.replace(/<(\w*)[^\>]*>(<br>)*<\/\1>/g,"");t.length>e.length;)e=(t=e).replace(/<(\w*)[^\>]*>(<br>)*<\/\1>/g,"");return e},read_text_css:function(t){var e=this.active_node=TVE.froala.get_selection_element(),i=TVE.apply_filters("wrapper_selector",TVE.CONST.global_css_prefix)+" ",n="";return TVE.froala.get_block_element()[0]!==e[0]&&e[0]&&"span"===e[0].tagName.toLowerCase()&&(i=""),n=TVE.froala.editor&&0<e.closest(TVE.froala.editor.$el).length&&0<e.parentsUntil(TVE.froala.editor.$el,"[data-css]").length&&!1===e[0].hasAttribute("data-css")?(e=e.parentsUntil(TVE.froala.editor.$el,"[data-css]").first(),"color"===t&&(n=this.controls.FontColor.appliedColor(e)),n||e.head_css(t,!1,!1,!0,i)):TVE.froala.get_css(t,!0,!1,i)},lineSpacingControl:function(){return i("../controls/text/line-spacing")}})},"toc.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({extra_states:!0,controls_init:function(){this.controls.HeaderColor.update=function(){this.setValue(this.applyTo().head_css("color",null,"",!0))},this.controls.HeaderColor.input=function(t){var e=this.applyTo();t&&(t+=" !important"),this.applyElementCss({color:t},e,"",""),t||this.component.controls.HeaderColor.update(e)},this.controls.HeadBackground.update=function(){this.setValue(this.applyTo().head_css("background-color",null,"",!0))},this.controls.HeadBackground.input=function(t){var e=this.applyTo();this.applyElementCss({"background-color":t},e,"",""),t||this.component.controls.HeadBackground.update(e)},this.controls.Evenly.update=function(t,e){if(e)this.disable();else{this.enable();var i="true"===t.attr("data-distribute");this.setChecked(i),this.component.controls.Headings.distribute_evenly(t,i)}},this.controls.Evenly.input=function(t,e){t.attr("data-distribute",e.checked),this.component.controls.Headings.distribute_evenly(t,e.checked)},this.controls.Headings.update=function(t){this.uncheckAll();var e=t.attr("data-headers"),i=e?e.split(","):[];_.each(i,function(t,e,i){this.setChecked(t)},this)},this.controls.Headings.input=function(t,e){var i=this.get_checked_inputs(),n=i.join(",");if(i.length>this.max_headings)return TVE.page_message(tcb_main_const.i18n.OnlyThreeHeadingsSelected,-1),e.checked=!1;t.attr("data-headers",n)},this.controls.Columns.update=function(t){var e=t.attr("data-columns");this.setValue(e)},this.controls.Columns.input=function(t,e){t.attr("data-columns",e.value),this.component.controls.Evenly.update(t,e.value<2),this.component.controls.Headings.update_content(t)}}})},"toggle-old.js":function(t,e,i){var n=i("../base"),s=i("../controls/preview-list"),a=i("../../libs/element-snapshot"),o=s.extend({_sortable:!0,_clickable:!1,get_items:function(t){var e=[];return t.find(".tve_faq").each(function(){var t=jQuery(this);e.push({label:t.find(".tve_faqB").text(),$toggle:t})}),e}});e.exports=n.component.extend({controls_init:function(t){this.controls.HoverColor.input=function(t){this.applyTo().head_css({"background-color":t+" !important"},!1,this.config.css_suffix).attr("data-hover-color",t),this.setValue(t)},this.controls.HoverColor.update=function(){var t=this.applyTo().head_css("background-color",!1,this.config.css_suffix,!0);t=t||this.applyTo().attr("data-hover-color"),this.setValue(t)},this.controls.HoverTextColor.input=function(t){this.applyTo().head_css({color:t+" !important"},!1,this.config.css_suffix,!0,this.config.css_prefix).attr("data-text-hover-color",t),this.applyTo().head_css({fill:t+" !important"},!1,this.config.icon_css_suffix,!0,this.config.css_prefix),this.setValue(t)},this.controls.HoverTextColor.update=function(){var t=this.applyTo().head_css("color",!1,this.config.css_suffix,!0,this.config.css_prefix);t=t||this.applyTo().attr("data-text-hover-color"),this.setValue(t)},this.controls.ToggleTextColor.input=function(t){this.applyTo().head_css({color:t+" !important"},!1,this.config.css_suffix,!0,this.config.css_prefix),this.applyTo().head_css({fill:t+" !important"},!1,this.config.icon_css_suffix,!0,this.config.css_prefix),this.setValue(t)},this.controls.ToggleTextColor.update=function(){var t=this.applyTo().head_css("color",!1,this.config.css_suffix,!0,this.config.css_prefix);this.setValue(t)},this.controls.List=new o({el:this.$("#toggle-list")[0]}),this.controls.List.on("order_changed",function(){a(function(){this.collection.each(function(t){TVE.ActiveElement.append(t.get("$toggle"))})},TVE.ActiveElement,this)}).on("item_remove",function(t){a(function(){TVE.ActiveElement.find(".tve_faq").eq(t).remove()},TVE.ActiveElement)})},add_toggle:function(){return a(function(){TVE.ActiveElement.append(jQuery('#tve-static-elements [data-elem="toggle_old"] .tve_faq').clone())},TVE.ActiveElement,this),this.controls.List.update(),!1}})},"toggle-title.js":function(t,e,i){var n=i("../base"),a=i("../../libs/element-snapshot");e.exports=n.component.extend({extra_states:!0,controls_init:function(t){var n=this,s=this;TVE.add_action("tcb.focus_element.before",function(t){var e=!1;if("toggle_title"===TVE._type(t)){var i=t.closest(".thrv_toggle_title.tve-state-expanded").length?"expanded":"default";TVE.state_manager.get_state()!==i&&(e=i)}e&&setTimeout(n.manualStateChange.bind(n,e))}),this.controls.TextTypeDropdown.change=function(t,e){var i=this.$select.val(),n=t.closest(".thrv_toggle").find(".tve-toggle-text");n.each(function(){var t=TVE.inner_$(this),e=TVE.inner_$("<"+i+"></"+i+">",{html:t.html()});TVE.inner_$.each(t[0].attributes,function(){e.attr(this.name,this.value)}),t.replaceWith(e)}),n.toggleClass("tcb-plain-text","span"===i)},this.controls.TextTypeDropdown.update=function(t,e){var i=t.closest(".thrv_toggle").find(".tve-toggle-text").prop("tagName");this.$select.val((i||"h4").toLowerCase())},this.controls.DefaultState.input=function(e,i){a(function(){var t=e.closest(".thrv_toggle");"expanded"===i.dataset.value&&t.hasClass("tve-toggle-auto-collapse")&&t.find(".tve-default-state-expanded").removeClass("tve-default-state-expanded"),(e=e.filter(".edit_mode")).closest(".thrv_toggle_item").toggleClass("tve-default-state-expanded","expanded"===i.dataset.value),e.tcbToggle("expanded"===i.dataset.value?"show":"hide")},e),s.manualStateChange("expanded"===i.dataset.value?"expanded":"default")},this.controls.DefaultState.update=function(t){this.setActive(t.closest(".thrv_toggle_item").hasClass("tve-default-state-expanded")?"expanded":"collapsed")},this.controls.ShowIcon.input=function(t,e){t=t.closest(".thrv_toggle").find(".thrv_toggle_title"),a(function(){t.toggleClass("tve-toggle-show-icon",e.checked)},t),s.update()},this.controls.ShowIcon.update=function(t){this.setChecked(t.hasClass("tve-toggle-show-icon"))},this.controls.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),this.controls.ModalPicker.input=function(t,e){var i;if(e.icon.is(".tve-svg-icon")){var n=jQuery("symbol#"+e.icon.data("cls"));i=TVE.svg_icon({path:n.html(),viewBox:n[0].getAttribute("viewBox"),name:n.find("> title").text(),id:n.attr("id")})}else i='<span data-name="'+e.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+e.icon.data("cls")+'"></span>';t=t.closest(".thrv_toggle").find(".thrv_toggle_title").attr("data-icon-code",e.icon.data("cls")).find(".tve_toggle").html(i),this.update(t)},this.controls.ModalPicker.update=function(t){this.$el.toggle(t.hasClass("tve-toggle-show-icon"));var e=t.attr("data-icon-code");e&&this.updateValue(e.replace("icon-",""))},this.controls.IconColor.update=function(t){this.$el.toggle(TVE.ActiveElement.hasClass("tve-toggle-show-icon")),this.setValue(this.applyTo().head_css("color",null,this.config.css_suffix,!0))},this.controls.IconColor.input=function(t){s.noTransition(this),this.applyTo().head_css({color:t},!1,this.config.css_suffix),t||this.component.controls.IconColor.update(this.applyTo())},this.controls.IconPlacement.input=function(t,e){a(function(){t=t.closest(".thrv_toggle").find(".thrv_toggle_title").toggleClass("tve-toggle-icon-right","right"===e.dataset.value)},t)},this.controls.IconPlacement.update=function(t){this.$el.toggle(TVE.ActiveElement.hasClass("tve-toggle-show-icon")),this.setValue(t.hasClass("tve-toggle-icon-right")?"right":"left")},this.controls.IconSize.update=function(t){this.$el.toggle(TVE.ActiveElement.hasClass("tve-toggle-show-icon")),this.setValue(TVE.ActiveElement.head_css("font-size",!1,this.config.css_suffix,!0))},this.controls.IconSize.input=function(t,e){var i=this.config.important?" !important":"";s.noTransition(this,t),t.head_css({"font-size":e.value+this.getUM()+i,width:e.value+this.getUM()+i,height:e.value+this.getUM()+i},null,this.config.css_suffix,!0,"")},this.controls.RotateIcon.input=function(t,e){a(function(){(t=t.closest(".thrv_toggle").find(".thrv_toggle_title")).head_css({"--animation-angle":e.value+"deg"})},t)},this.controls.RotateIcon.update=function(t){this.$el.toggleClass("tcb-hidden",!t.hasClass("tve-toggle-show-icon"));var e=TVE.getComputedStyle(t,"--animation-angle",!0);this.setValue(e||0)},TVE.add_filter("tcb_head_css_suffix",function(t){return TVE.ActiveElement&&TVE.ActiveElement.is(".thrv_toggle_title")&&TVE.state_manager.is_hover()&&(t=":not(.tve-state-expanded)"+t),t}),TVE.add_filter("tcb.show_icons.target",function(t){return t.hasClass("thrv_toggle_title")&&(t=t.closest(".thrv_toggle_item")),t}),TVE.add_filter("tcb.show_icons.target.expand",function(t){return t.hasClass("thrv_toggle_item")&&(t=t.find(".thrv_toggle_title")),t}),TVE.add_action("tcb.show_icons",function(t){TVE.ActiveElement&&TVE.ActiveElement.is(".thrv_toggle, .thrv_toggle_title, .tve-toggle-text")?TVE.ElementIcons.$icons_right.hide():TVE.ElementIcons.$icons_right.show()}),TVE.add_filter("tcb.dragenter.bubble",function(t,e){return e.target.classList.contains("tve-content-box-background")&&e.target.parentElement.classList.contains("thrv_toggle_content")&&(t=!1),t}),TVE.add_filter("tcb.state_change.toggle_title",function(t,e){return"expanded"===e&&(t+=":not(.inc)"),t}),TVE.main.states_dropdown.on("state_change",function(t){TVE.ClickedElement.hasClass("thrv_toggle_title")&&(TVE.ClickedElement.tcbToggle("expanded"===t?"show":"hide"),TVE.ElementEditIcons.show_icons(TVE.ClickedElement))}),TVE.main.states_dropdown.on("done",function(){TVE.ClickedElement.hasClass("thrv_toggle_title")&&(TVE.ClickedElement.tcbToggle("hide"),TVE.ElementEditIcons.show_icons(TVE.ClickedElement))}),TVE.add_action("tcb_group_edit_preview_change",function(t){t.elements.is(".thrv_toggle_content")&&!t.elements.is(":visible")&&t.elements.closest(".thrv_toggle").find(".thrv_toggle_title").first().tcbToggle("show").tcbToggle("show")}),s.writeCss=!0,TVE.add_action("tcb.write_css.toggle_title",function(t,e,i){s.writeCss&&TVE.state_manager.is_hover()&&!t.includes(":hover")&&(t=t.replace(":not(.tve-state-expanded)","").replace("tve-state-hover","tve-state-expanded").replace(":not(#tve) ",""),s.writeCss=!1,TVE.write_css(t,e,i),s.writeCss=!0)}),TVE.add_action("tcb.element.duplicate",function(t,e){e.is(".thrv_toggle_item")&&e.find(".edit_mode").removeClass("edit_mode")})},before_update:function(){var t=this;TVE.ActiveElement&&TVE.ActiveElement.children(".tve_toggle").off("transitionend").on("transitionend",function(){t.update()}),TVE.Components.toggle.dataSelectors()},manualStateChange:function(t){TVE.state_manager.change(t,!0,{skip_update:!0}),TVE.ElementEditIcons.show_icons(TVE.ClickedElement)},noTransition:function(t,e){var i=1<arguments.length&&void 0!==e?e:t.applyTo();t.applyElementCss({transition:"input"===t.currentEventType?"none":""},i,t.config.css_suffix)}})},"toggle.js":function(t,e,i){var n=i("../base"),s=i("../controls/preview-list"),a=i("../controls/tooltip-base"),o=i("../drop-panels/toggle-title"),r=i("../../libs/element-snapshot"),l=s.extend({_sortable:!0,_clickable:!0,get_items:function(t){var e=[];return t.find(".tve_faq").each(function(){var t=jQuery(this);e.push({label:t.find(".tve-toggle-text").text(),$toggle:t})}),e}});e.exports=n.component.extend({controls_init:function(t){var i=this,n=this;this.autoCollapseTooltip=new a({tooltipPosition:"top",no_buttons:!0,template:TVE.tpl("controls/tooltip/toggle-auto-collapse"),anim_duration:300,no_callback:!0,validate:function(){return!i.autoCollapseTooltip.FORCE_CLOSE}}),TVE.add_action("tcb.group.enter_group_mode.after",function(t){t.is(".thrv_toggle")&&t.removeClass("canvas-mode tcb-child-selector-no_title tcb-child-selector-no_icons")}),TVE.add_action("tcb.element.click",function(t){n.switchState(t.currentTarget.closest(".thrv_toggle_content"))}),TVE.add_action("tcb_after_cloud_template",function(t){n.openDefaultExpanded(t)}),this.controls.ColumnNumber.input=function(t,e){n.spreadToggleElements(t,e.value,!1,this),n.controls.HorizontalSpace.$el.toggle(1<e.value),t.attr("data-columns",parseInt(e.value))},this.controls.ColumnNumber.update=function(t){var e=t.attr("data-columns"),i=t.find(".thrv_toggle_item").length;n.controls.HorizontalSpace.$el.toggle(1<e),i<=this.config.config.limit&&this.setMax(i),this.setValue(e)},this.controls.HorizontalSpace.input=function(t,e){n.apply(t,this)},this.controls.HorizontalSpace.update=function(t){this.setValue(t.find(".tve-toggle-column").css("margin-left"))},this.controls.ToggleWidth.input=function(t,e){this.applyElementCss({"max-width":e.value+this.getUM()},t,"","")},this.controls.ToggleWidth.update=function(t){var e=t.head_css("max-width",null,null,!0);e&&!isNaN(parseInt(e))||(e=t.outerWidth()),this.setMax(parseInt(t.parent().outerWidth())),this.setValue(e)},this.controls.VerticalSpace.input=function(t,e){this.applyElementCss({"--toggle-vertical-space":e.value+this.getUM()},t,this.config.css_suffix,"")},this.controls.VerticalSpace.update=function(t){this.setValue(TVE.getComputedStyle(t,"--toggle-vertical-space",!0)||"7px")},this.controls.AutoCollapse.input=function(t,e){r(function(){t.toggleClass("tve-toggle-auto-collapse",e.checked),e.checked&&(t.find(".tve-default-state-expanded:not(:first)").removeClass("tve-default-state-expanded"),t.find(".tve-state-expanded").tcbToggle("hide"),t.find(".tve-default-state-expanded").find(".thrv_toggle_title").tcbToggle("show"))},t)},this.controls.AutoCollapse.update=function(t){this.setChecked(t.hasClass("tve-toggle-auto-collapse"))},this.controls.DropdownAnimation.change=function(t,e){r(function(){t.attr("data-animation",e.value)},t),n.controls.AnimationSpeed.update(t)},this.controls.DropdownAnimation.update=function(t){this.setValue(t.attr("data-animation"))},this.controls.AnimationSpeed.change=function(t,e){r(function(){t.attr("data-animation-speed",e.value)},t)},this.controls.AnimationSpeed.update=function(t){var e=t.attr("data-animation-speed");e&&this.setValue(e),this.$el.toggle(""!==t.attr("data-animation"))},this.controls.List=new l({el:this.$("#toggle-list")[0],model:this.config.List}),this.controls.List.on("order_changed",function(){r(function(){n.spreadToggleElements(TVE.ActiveElement,"",!1,n.controls.ColumnNumber)},TVE.ActiveElement,this)}).on("item_remove",function(t){r(function(){n.spreadToggleElements(TVE.ActiveElement,"",!1,n.controls.ColumnNumber),n.controls.ColumnNumber.update(TVE.ActiveElement)},TVE.ActiveElement)}).on("item_click",function(t,e){n.editTitle(t,e)}),TVE.main.on("enter-pressed",function(t){var e=TVE.inner_$(t.target).closest(".tve-toggle-text");e.length&&(TVE.ActiveElement=e.closest(".thrv_toggle"),i.addToggle(!0,e.closest(".thrv_toggle_item")))})},editTitle:function(t,e){this.settings=new o({model:t}),this.settings.open(null,e)},addToggle:function(t,e){var i,n=null;return r(function(){e&&e.length?(i=e.clone()).insertAfter(e):(i=TVE.ActiveElement.find(".thrv_toggle_item").last().clone(),TVE.ActiveElement.find(".tve-toggle-column").last().append(i)),i.find(".edit_mode").removeClass("edit_mode"),n=!0===t?i:null},TVE.ActiveElement,this),this.controls.List.update(),this.controls.ColumnNumber.update(TVE.ActiveElement),this.spreadToggleElements(TVE.ActiveElement,!1,n,this.controls.ColumnNumber),!1},dataSelectors:function(t){var e=0<arguments.length&&void 0!==t?t:TVE.ActiveElement;e=e.closest(".thrv_toggle");var i='[data-css="'+TVE.CSS_Rule_Cache.uniq_id(e)+'"] .thrv_toggle_title';e.find(".thrv_toggle_title").attr({"data-selector":i})},before_update:function(){this.dataSelectors()},spreadToggleElements:function(i,t,e,n){t=t||i.find(".tve-toggle-column").length;var s=this.controls.List.collection.length,a=s/t,o=i.find(".tve-toggle-grid"),r=a;if(0===s)return i.remove(),void TVE.Editor_Page.blur();o.empty(),i.attr("data-columns",t);for(var l=1;l<=t;l++)o.append('<div class="tve-toggle-column" data-index="'+l+'"></div>');var c=i.find(".tve-toggle-column").first();this.controls.List.collection.each(function(t,e){c.append(t.get("$toggle")),r<=e+1&&(r+=a,c=i.find('.tve-toggle-column[data-index="'+(Number(c.attr("data-index"))+1)+'"]'))}),e&&TVE.froala.force_focus(e.find(".tve-toggle-text"),!0),this.apply(i,n)},switchState:function(t){TVE.state_manager.is_expanded()&&t&&(TVE.state_manager.change("default",!0,{keepClass:!0}),TVE.main.states_dropdown.s="default")},apply:function(t,e){var i=parseInt(this.controls.ColumnNumber.getValue()),n=this.controls.HorizontalSpace.getValue(!0);e.applyElementCss({width:"calc("+100/i+"% - "+n+") !important","margin-left":n+"!important"},t," .tve-toggle-column",""),e.applyElementCss({"margin-left":"-"+n+"!important"},t," .tve-toggle-grid","")},editModeEnter:function(){var i=this;this.openDefaultExpanded(this.$toggle),this.$toggle.find(".thrv_toggle_content > .tve-cb").each(function(){var t=TVE.inner_$(this);if(0===t.html().length){var e=TVE.inner_$('<div class="tcb-replaceable-placeholder">'+TVE.t.placeholder_text+"</div>");t.addClass("tcb-parent-placeholder-empty").append(e)}}),this.$toggle.find(".thrv_toggle_item").each(function(){TVE.inner_$(this).append(TVE.tpl("add-element-item"))}),this.$toggle.off("click.inner-add").on("click.inner-add",".tcb-add-item-below",function(t){var e=TVE.inner_$(t.currentTarget).closest(".thrv_toggle_item");TVE.ActiveElement=e.closest(".thrv_toggle"),i.addToggle(!1,e)}),TVE.add_filter("tcb.get_dropzone_target",this.dropzoneTarget),TVE.add_filter("tcb.dragenter.bubble",this.dragenterValidation)},editModeExit:function(){this.openDefaultExpanded(this.$toggle),TVE.Editor_Page.focus_element(this.$toggle),this.$toggle.removeClass("canvas-mode"),this.$toggle.find(".tcb-add-item-below").remove(),this.$toggle.find(".thrv_toggle_item").removeClass("tve-draggable tve-droppable").removeAttr("draggable"),TVE.remove_filter("tcb.get_dropzone_target",this.dropzoneTarget),TVE.remove_filter("tcb.dragenter.bubble",this.dragenterValidation)},dragenterValidation:function(t,e,i){var n=TVE.inner_$(e.target);return i.is(".thrv_toggle_item")?n.closest(".thrv_toggle_content").length&&(t=!1):n.closest(".thrv_toggle_title,.tcb-add-item-below").length&&(t=!1),t},dropzoneTarget:function(t){var e=TVE.ActiveElement.filter(".edit_mode").closest(".thrv_toggle_item"),i=TVE.ActiveElement.closest(".thrv_toggle").find(".tve-state-expanded").closest(".thrv_toggle_item");if(e.length)t=e;else if(i.length)t=i;else{t=TVE.ActiveElement.first().closest(".thrv_toggle_item")}return t.find(".thrv_toggle_title").tcbToggle("show"),t.find(".thrv_toggle_content .tve-cb").children().last()},openDefaultExpanded:function(t){t.find(".tve_faqC").removeAttr("style"),t.find(".tve-state-expanded").removeClass("tve-state-expanded");var e=t.find(".thrv_toggle_item");if(e.length){var i=e.filter(".tve-default-state-expanded");t.hasClass("tve-toggle-auto-collapse")&&(i=i.first()),i.find(".thrv_toggle_title").tcbToggle("show")}},editFormElements:function(){this.$toggle=TVE.ActiveElement,this.editModeEnter(),TVE.main.EditMode.enter(TVE.ActiveElement,{extra_element_class:"toggle-edit-mode",blur:!0,show_default_message:!0,restore_state:!0,element_selectable:!1,can_insert_elements:!0,callbacks:{exit:_.bind(this.editModeExit,this)}});var t=this.$toggle.find(".thrv_toggle_title").first();TVE.Editor_Page.focus_element(t),!TVE.state_manager.is_expanded()&&t.hasClass("tve-state-expanded")&&(TVE.state_manager.change("expanded",!0),TVE.main.states_dropdown.s="expanded"),TVE.drag.bind_draggable(TVE.ActiveElement.find(".thrv_toggle_item")),this.$toggle.removeClass("canvas-mode")},openTooltip:function(){return this.autoCollapseTooltip.isOpen()?this.autoCollapseTooltip.onCancel():this.autoCollapseTooltip.open(null,this.$(".tve-switch-info")),!1}})},typography:{"hooks.js":function(t,e,i){var s,a;jQuery,s=i("./util"),a=!0,e.exports={priorities:{head_css_selector:100},actions:{"tcb.write_css":function(t,e,i){if(s.shouldWriteMultipleCSS()){var n=s.getSelectors(TVE.ActiveElement.attr("data-selector-key"));a&&1<n.length&&(a=!1,n.forEach(function(t){return TVE.write_css(t,e,i)}),a=!0)}},"tcb.element.selected":function(t){if(TVE.editingTypogrpahy)switch(TVE.inner_$(".tcb-element-title").html(TVE.get_element_name(t)),TVE.main.$("#tve-main-frame").removeClass(function(t,e){return e.split(" ").filter(function(t){return t.includes("typography-")}).join(" ")}).addClass("typography-"+TVE.ActiveElement.attr("data-selector-key")),TVE.ActiveElement.attr("data-selector-key")){case"all":s.except("FontColor","FontFace","clear-formatting").addClass("control-hide");break;case"headings":s.controls("typography-button-toggle-controls").addClass("control-hide");break;case"texts":s.controls("line-spacing").addClass("control-hide")}}},filters:{"tcb.components.hide":function(t,e){if(TVE.editingTypogrpahy){var i=["default_typography","shadow"];switch(TVE.ActiveElement.attr("data-selector-key")){case"pre":case"blockquote":i=[].concat(_toConsumableArray(i),["background","layout","borders"]);break;case"link":i=["link","shadow"];break;case"ul":i=["layout","borders"]}t=!i.includes(e)}return t},head_css_selector:function(t){if(TVE.editingTypogrpahy){var e,i=TVE.typographySelectorScope,n=t.element.dataset.selectorKey;switch(n){case"all":case"headings":e=TVE.CONST.default_styles.h1[i];break;case"texts":e=TVE.CONST.default_styles.p[i];break;default:e=TVE.CONST.default_styles[n][i]}t.selector=e}return t},"tcb.components.expanded_key":function(t){if(TVE.editingTypogrpahy)switch(TVE.ActiveElement.attr("data-selector-key")){case"ul":t="layout"}return t},wrapper_selector:function(t){return TVE.editingTypogrpahy&&(t=""),t}}}},"text.js":function(t,e,i){!function(){TVE.typographyEditor=i("./util"),TVE.addHooks(i("./hooks"),i("./hooks").priorities);var t=i("../typography");e.exports=t.extend({getTargetElement:function(){return TVE.ActiveElement.add(TVE.ActiveElement.find(".tve_editable")).not(".tcb-el-group")},controls_init:function(s){var a=this;t.prototype.controls_init.apply(this,Array.from(arguments)),s.FontFace.writeCSS=function(t,e){var i=this,n={"font-family":e,"--g-regular-weight":(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"")||"","--g-bold-weight":(3<arguments.length&&void 0!==arguments[3]?arguments[3]:"")||"","font-weight":s.TextStyle.isActive("bold")?"var(--g-bold-weight, bold)":"var(--g-regular-weight, normal)"};a.getTargetElement().each(function(t,e){i.applyElementCss(n,TVE.inner_$(e),"","")})},s.LineSpacing.getElement=function(){return TVE.ActiveElement.parent().find(TVE.ActiveElement.attr("data-selector").replace(/(\.tcb-style-wrap|#tcb_landing_page) /g,""))},s.LineSpacing.readValues=function(){this.moveMarginToPadding();var t=this.getElement();return{top:t.css("padding-top"),bottom:t.css("padding-bottom")}},s.LineSpacing.writeStyle=function(i,t){var n=this;if(void 0!==t)return TVE.typographyEditor.WRITE_MULTI_CSS=!1,this.applyElementCss(i,t.closest(TVE.Elements.default_typography.identifier),"",""),void(TVE.typographyEditor.WRITE_MULTI_CSS=!0);a.getTargetElement().each(function(t,e){(e.dataset.selector.includes("blockquote")||e.dataset.selector.includes("pre"))&&(delete i["margin-top"],delete i["margin-bottom"]),n.applyElementCss(i,TVE.inner_$(e),"","")})}},applyContainerStyle:function(i,t,n,s){this.getTargetElement().each(function(t,e){i.applyElementCss(_defineProperty({},n,s),TVE.inner_$(e),"","")})},lineSpacingControl:function(){return i("../../controls/text/line-spacing")},clear_formatting:function(){this.getTargetElement().each(function(t,e){return TVE.head_css_remove(e.dataset.selector,"_ALL")}),this.update()}})}(jQuery)},"util.js":function(t,e,i){jQuery,e.exports={WRITE_MULTI_CSS:!0,shouldWriteMultipleCSS:function(){return this.WRITE_MULTI_CSS&&TVE.editingTypogrpahy},getSelectors:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:TVE.typographySelectorScope;switch(t){case"all":return Object.values(TVE.CONST.default_styles).map(function(t){return t[e]});case"headings":return Object.keys(TVE.CONST.default_styles).filter(function(t){return t.startsWith("h")}).map(function(t){return TVE.CONST.default_styles[t][e]});case"texts":return Object.keys(TVE.CONST.default_styles).filter(function(t){return!t.startsWith("h")&&"pre"!==t}).map(function(t){return TVE.CONST.default_styles[t][e]});default:return[TVE.CONST.default_styles[t][e]]}},except:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return TVE.Components.default_typography.$el.find(".dropdown-content > *").not(e.map(function(t){return'[data-view="'.concat(t,'"],.').concat(t)}).join(","))},controls:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return TVE.Components.default_typography.$el.find(".dropdown-content > *").filter(e.map(function(t){return'[data-view="'.concat(t,'"],.').concat(t)}).join(","))},hoverSelector:function(t){return t.selector=t.current_element.dataset.selector.split(",").map(function(t){return t+":hover"}).join(","),t.state_preview_selector=t.current_element.dataset.selector.split(",").map(function(t){return t+".tve-state-hover"}).join(","),t},init:function(t){var i=this,e=0<arguments.length&&void 0!==t?t:"lp_selector";TVE.typographySelectorScope=e,TVE.editingTypogrpahy=!0,TVE.inner.$body.addClass("editing-typography"),TVE.Editor_Page.editor.find("#tcb-typography [data-selector-key]").each(function(t,e){return e.dataset.selector=i.getSelectors(e.dataset.selectorKey).join(",")}),TVE.Editor_Page.focus_element(TVE.inner_$(".thrv-typography").first()),TVE.main.set_navigation_root(TVE.ActiveElement),TVE.main.active_element_navigation(),TVE.add_filter("hover_head_css_selector",this.hoverSelector,100)},done:function(){delete TVE.typographySelectorScope,delete TVE.editingTypogrpahy,TVE.inner.$body.removeClass("editing-typography"),TVE.remove_filter("hover_head_css_selector",this.hoverSelector,100)}}}},"typography.js":function(t,e,i){var n=i("../base");e.exports=n.component.extend({extra_states:!0,controls_init:function(n){var i=this;n.ParagraphStyle&&n.ParagraphStyle.set_drop_panel(n.ParagraphStylePicker),n.ToggleControls.update=function(t){_.delay(_.bind(function(){var t=this.$(".tve-btn:first").attr("data-value");this.clearActive(),this.setActive(t),i.$(".tcb-typography-toggle-element").hide(),i.$("."+t).show()},this))},n.ToggleControls.input=_.bind(function(t,e){var i=e.getAttribute("data-value");this.$(".tcb-typography-toggle-element").hide(),this.$("."+i).show(),"tcb-typography-line-height"===i&&(n.LineHeight.before_update(n.LineHeight.readFrom()),n.LineHeight.update(n.LineHeight.readFrom()))},this),n.FontSize.input=function(t,e){i.applyContainerStyle(this,t,"font-size",e.value+this.getUM())},n.FontSize.update=function(){var t=this.applyTo();this.setValue(t.head_css("--tve-font-size")||t.head_css("font-size",!1,this.config.css_suffix,!0,this.config.css_prefix))},n.FontColor.input=function(t){i.applyContainerStyle(this,this.applyTo(),"color",String(t)),this.applyElementCss({"--tcb-applied-color":t&&String(t).replace("var","var$")||""})},n.FontColor.update=function(){var t=this.applyTo();this.setValue(t.head_css("--tve-color")||t.head_css("color",!1,this.config.css_suffix,!0,this.config.css_prefix))},n.LineHeight.input=function(t,e){i.applyContainerStyle(this,t,"line-height",e.value+this.getUM())},n.LineHeight.update=function(t){var e=this.applyTo().head_css("--tve-line-height")||this.applyTo().head_css("line-height",!1,this.config.css_suffix,!1,this.config.css_prefix);e||(e=t.css("line-height"),this.config.css_suffix&&t.find(this.config.css_suffix).length&&(t=t.find(this.config.css_suffix)),e&&-1!==e.indexOf("px")&&(e=parseFloat(e)/parseFloat(t.css("font-size"))+"em")),"normal"===e&&(e="1.12em"),this.setValue(e)},n.LetterSpacing.input=function(t,e){i.applyContainerStyle(this,t,"letter-spacing",e.value+this.getUM())},n.LetterSpacing.update=function(){var t=this.applyTo();this.setValue(t.head_css("--tve-letter-spacing")||t.head_css("letter-spacing",!1,this.config.css_suffix,!0,this.config.css_prefix))},n.TextAlign.applyStyles=function(t,e){var i={};this.config.property&&this.config.property_val?i[this.config.property]=this.config.property_val[e.getAttribute("data-value")]:i["text-align"]=e.getAttribute("data-value")+(this.config.important?" !important":""),this.applyElementCss(i,t)},n.TextAlign.update=function(){var t;t=this.config.property&&this.config.property_val?(t=this.applyTo().head_css(this.config.property,!1,this.config.css_suffix,!0),_.invert(this.config.property_val)[t]):"start"===(t=this.applyTo().head_css("text-align",!1,this.config.css_suffix,!0))?"left":t,this.setActive(t)},n.TextTransform.applyStyles=function(t,e){i.applyContainerStyle(this,t,"text-transform",e.dataset.value)},n.TextTransform.update=function(){var t=this.applyTo();this.setActive(t.head_css("--tve-text-transform")||t.head_css("text-transform",!1,this.config.css_suffix,!0)||"none")},_.each(["p","h1","h2","h3"],function(t){n["".concat(t,"_spacing")]&&(n[t+"_spacing"].$(".width-input").attr("placeholder","auto"),n[t+"_spacing"].$(".width-input").focusout(function(){n[t+"_spacing"].update()}),n[t+"_spacing"].input=function(t,e){var i=e.value,n=this.getUM();"auto"!==i&&""!==i||(n="",i="auto");var s={padding:"0px 0px "+i+n+" 0px !important",margin:"0px !important"};"auto"===e.value&&(s.margin=s.padding=""),this.applyElementCss(s,t)},n[t+"_spacing"].update=function(t){var e=this.applyTo().head_css("padding-bottom",null,this.config.css_suffix,!1,this.config.css_prefix);e?("auto"===e&&this.$(".tve-input").val("auto"),this.setValue(e.replace("!important",""))):t.length?(e=parseInt(t.css("margin-bottom"))+parseInt(t.css("padding-bottom"))+"px",this.setValue(e)):this.$(".tve-input").val("auto")},n[t+"_spacing"].convertUM=n[t+"_spacing"].pixel_em_conversion)}),n.TextStyle.writeStyle=function(t,e){i.applyContainerStyle(this,this.applyTo(),e,t[e].replace("!important",""))}},clear_formatting:function(a,t,e){var o=this,r=1<arguments.length&&void 0!==t?t:"",l=2<arguments.length&&void 0!==e?e:"";_.each({FontFace:["font-family"],FontSize:["font-size"],FontColor:["color","fill","--tcb-applied-color"],LineHeight:["line-height"],LetterSpacing:["letter-spacing"],TextAlign:["text-align","align-items","justify-content"],TextStyle:["font-weight","font-style","text-decoration"],TextTransform:["text-transform"],p_spacing:["padding","margin"],h1_spacing:["padding","margin"],h2_spacing:["padding","margin"],h3_spacing:["padding","margin"]},function(t,e){var i={},n=o.controls[e],s={};t.forEach(function(t){i[t]="",s["--tve-".concat(t)]=""}),a&&a.jquery?(a.head_css(i,!1,r,!1,l).css(i),a.head_css(s).css(s)):(n.applyTo().head_css(i,!1,n.config.css_suffix,!1,n.config.css_prefix).css(i),n.applyTo().head_css(s).tcbCss(s))}),this.controls.ParagraphStylePicker.clear(),TVE.ActiveElement.removeAttr("data-child-styles"),TVE.do_action("tcb.typography.".concat(TVE._type(TVE.ActiveElement),".clear_formatting")),this.update(),TVE.Editor_Page.reposition_icons()},paragraphStylePicker:function(){return i("../controls/typography/paragraph-style-picker")},applyContainerStyle:function(t,e,i,n){t.applyElementCss(_defineProperty({},i,t.cssImportant("var(--tve-".concat(i,", ").concat(n,")"))),t.applyTo(),t.config.css_suffix,t.css_prefix),t.applyElementCss(_defineProperty({},"--tve-".concat(i),n),e,"","")}})},"widget.js":function(t,e,i){var n,s,a=i("../base"),o=i("../modals/base"),r=i("../modals/widget-settings");s=jQuery,n=a.component.extend({after_init:function(){var e=this;TVE.add_filter("tcb_filter_html_before_save",function(t){return t.find(".thrv_widget").children(":not(.widget-config)").remove(),t}),this.$("form").on("submit",function(t){e.update_widget(t),t.preventDefault()}),this.modal=new r({el:o.get_element("widget-settings")})},widget_settings:function(){this.modal.open()},after_update:function(){var n=!0,t=TVE._type(TVE.ActiveElement);TVE.ActiveElement.removeClass("tcb-elem-placeholder"),s.each(TVE.Elements[t].components,function(t,e){var i=TVE.CONST.display[t];i&&i.docked&&(n=!1)}),n&&setTimeout(function(){TVE.Components.widget.toggleDropdown("docked",!0)},500)}}),e.exports=n},"wordpress.js":function(t,e,i){TVE.WordPressContent=i("../modals/wordpress-content");var n=i("../base");e.exports=n.component.extend({controls_init:function(t){this.wordPressContentInstance=TVE.WordPressContent.get_instance(TVE.modal.get_element("wordpress-content"))},edit_wordpress_content:function(){this.placeholder_action()},placeholder_action:function(){this.wordPressContentInstance.open()}})}},controls:{"api-connections.js":function(t,e,i){var s,n=i("../base"),a=i("../../models/api");e.exports=n.control.extend({template:TVE.tpl("controls/lead-generation/api-connections"),after_initialize:function(){this.$connected_apis=this.$(".connected-apis")},update:function(t){switch((t=t.length?t:TVE.ActiveElement).data("lg").get("type")){case"custom-html":this.renderCustomHTML();break;case"api":default:this.renderConnections()}t.data("lg").removeCallbacks("write","type"),t.data("lg").registerCallback("write","type",this.update,this),this.component.after_update()},renderCustomHTML:function(){this.$connected_apis.empty()},renderConnections:function(){var i=this,t=this.applyTo().data("lg").get("apis");if(this.$connected_apis.show(),Object.keys(t).length){this.$connected_apis.empty();var n=function(t){var e=new s({model:new a({key:t,name:TVE.CONST.api_connections[t]||t})});return i.$connected_apis.append(e.$el),e.$el.attr("data-api",t),e};_.each(t,function(t,i){"email"===i?_.each(t,function(t,e){n(i).$el.find('[data-api="'+i+'"]').attr("data-index",e)}):n(i)})}else this.$connected_apis.hide()},disconnectApi:function(t,e){TVE.Views.Controls.DropPanel.close_all();var i=e.getAttribute("data-api"),n=t.data("lg").get("apis");if("email"===i){var s=parseInt(e.dataset.index);n[i]=_.filter(n[i],function(t){return t!==n[i][s]}),n[i].length||delete n[i]}else delete n[i];t.data("lg").set({apis:n,write:"apis"}),t.data("lg").doCallbacks("write","type"),t.data("lg").set("write","resetMapping"),0===Object.keys(n).length&&t.data("lg").set({write:"reset_fields"}),TVE.do_action("tve.lg.api.disconnect",i),TVE.Views.Controls.DropPanel.close_all(),TVE.Components.lead_generation.before_update()},editApi:function(t,e){var i=e.getAttribute("data-api");TVE.do_action("tve.lg.api.edit",i,e)}}),s=n.base_view.extend({template:TVE.tpl("controls/lead-generation/connected-api"),className:"api-box",tagName:"div"})},audio:{"audio.js":function(t,e,i){var n,s,a,o,r;n=jQuery,s=i("../../base"),a=i("../../controls/file"),o=i("../../controls/tooltip/tooltip-download-media-resources"),r=[{key:"custom",name:"Custom"},{key:"soundcloud",name:"Soundcloud"},{key:"spotify",name:"Spotify"}],e.exports=s.control.extend({template:TVE.tpl("controls/audio"),initialize:function(){var e=this;this.render(),TVE.apply_filters("tcb.audio_sources",r).forEach(function(t){e.$(".v-source").append('<option value="'+t.key+'">'+t.name+"</option>"),0===e.$("#a-settings-"+t.key).length&&e.$(".v-settings").last().after('<div class="v-settings" style="display:none" id="a-settings-'+t.key+'" data-view="'+t.key+'"></div>')}),this.providers={},this.providerOptions={},this.$(".v-settings").each(_.bind(function(t,e){var i=e.getAttribute("data-view");this.providers[i]=new TVE.AudioProviders[i]({el:e,key:i,control:this}),this.providerOptions[i]=this.$("#a-checkbox-settings-"+i)},this)),this.activeView=this.$("#a-settings-custom"),this.$source=this.$(".v-source"),this.on("change",_.bind(this.apply,this)),this.downloadTooltip=new o({no_buttons:!0})},openDownloadTooltip:function(t,e){return this.downloadTooltip.isOpen()?this.downloadTooltip.onCancel():this.downloadTooltip.open(null,e),!1},update:function(t){this.activeElement=t;var e=this._getAttribute("type");this.$source.val(e),this.showSection(),this.updateOptions(),this.model=new Backbone.Model(this.read());var i=this.model.get("config");this.activeView.setConfig(i?i.p:null),i.p&&i.p.url&&this.activeView.$(".tve_provider_url").val(i.p.url)},updateOptions:function(){var i,n=this;this.activeView.dataAttributes={},this.activeOptions.find("input").each(function(t,e){i=n.activeElement.attr("data-"+e.getAttribute("data-elem-attr")),e.getAttribute("data-elem-attr-val")===i?(e.checked=!0,n.activeView.dataAttributes[e.getAttribute("data-elem-attr")]=i):e.checked=!1})},read:function(){var t=this.applyTo(),e={p:{}},i=t.find("audio").first(),n=t.find("iframe").first();if(i.length){var s=i.find("source");e.s="custom",e.p={id:i.attr("data-id"),title:i.attr("data-title"),attachment:{id:i.attr("data-id"),title:i.attr("data-title"),url:s.attr("src"),mime:s.attr("type")}}}else n.length&&(e.s=this._getAttribute("type"),e.p={url:this._getAttribute("url")});return{config:e}},clear:function(t){(t=void 0!==t?t:this.applyTo()).removeClass("tcb-elem-placeholder"),t.find(".tcb-inline-placeholder-action").remove(),t.find(".tve_audio-no_audio").remove(),t.find(".tve_audio_container").removeAttr("style"),t.find("iframe, audio, script").remove()},apply:function(){var t=this.applyTo(),e=this.getEmbedCode();return this.clear(t),e?(t.find(".tve_audio_container").append(e),this._setAttribute("url",this.$el.find(".tve_provider_url:visible").val())):t.find(".tve_audio_container").append('<div class="tve_audio-no_audio">'+TVE.icon("audio-player","svg","editor")+"</div>"),this},extraSettingsChanged:function(t,e){var i=e.getAttribute("data-elem-attr"),n=e.checked?e.getAttribute("data-elem-attr-val"):e.getAttribute("data-elem-attr-val-unchecked");t.attr("data-"+i,n),this.activeView.changeSettings(i,n),this.apply()},getEmbedCode:function(){return this.activeView?this.activeView.getAudio():""},selectSource:function(t,e){TVE.removeDataAttributes(this.activeElement),this.$(".tve_provider_url").val(""),this.activeElement.hasClass("tcb-elem-placeholder")||(this.clear(this.activeElement),this.activeElement.find(".tve_audio_container").append('<div class="tve_audio-no_audio">'+TVE.icon("audio-player","svg","editor")+"</div>"),this.reset()),this.showSection()},showSection:function(){_.each(this.providers,function(t){t.$el.hide()}),_.each(this.providerOptions,function(t){t.hide()}),this.$(".tve-advanced-controls").hide();var t=this.$source.val();this.activeView={},t&&(this.activeView=this.providers[t].show(),this.activeView.setChosen(),this.activeOptions=this.providerOptions[t],this.providerOptions[t].length&&(this.providerOptions[t].show(),this.$(".tve-advanced-controls").show()),this.activeView.dataAttributes={}),this.activeOptions.find("input").each(function(t,e){e.checked=!1}),this._setAttribute("type",t,this.activeElement)},reset:function(){_.each(this.providers,function(t){t.reset&&t.reset()})},_getAttribute:function(t){return this.activeElement.attr("data-"+t)},changeInput:function(t,e){e.value&&(this.activeView.config.url=e.value,this.apply())},_setAttribute:function(t,e,i){(i=void 0===i?this.activeElement:i).attr("data-"+t,e)}}),TVE.AudioProviders={},TVE.AudioProviders.Base=s.component.extend({dataAttributes:{},initialize:function(t){this.config={},"function"==typeof this.afterInit&&this.afterInit(),this.control=t.control,this.key=t.key},setConfig:function(t){return this.config=_.extend({},t||{}),"function"==typeof this.afterSetConfig&&this.afterSetConfig(),this},setChosen:function(){},changeSettings:function(t,e){"0"!==e?this.dataAttributes[t]=e:delete this.dataAttributes[t]},reset:function(){this.$(".tve_provider_url").val("")}}),TVE.AudioProviders.spotify=TVE.AudioProviders.Base.extend({getAudio:function(){return this.config.url?(-1===this.config.url.indexOf("open.spotify.com/embed/")&&(this.config.url=this.config.url.replace("open.spotify.com/","open.spotify.com/embed/")),'<iframe width="100%" height="232px" scrolling="no"  frameborder="0" allowtransparency="true" allow="encrypted-media" class="tcb-audio" src="'+this.config.url+'"></iframe>'):""}}),TVE.AudioProviders.soundcloud=TVE.AudioProviders.Base.extend({createQueryString:function(){return console.log("aici"),n.param(this.dataAttributes).replace("auto_play=1","")},getAudio:function(){return this.config.url?'<iframe width="100%" height="100%" scrolling="no" frameborder="no" allow="autoplay" class="tcb-audio"  src="https://w.soundcloud.com/player/?url='+this.config.url+"&"+this.createQueryString()+'"></iframe>':""}}),TVE.AudioProviders.custom=TVE.AudioProviders.Base.extend({allowedMimeTypes:{mp3:"audio/mpeg",m4a:"audio/mpeg",m4b:"audio/mpeg",ra:"audio/x-realaudio",ram:"audio/x-realaudio",wav:"audio/wav",ogg:"audio/ogg",oga:"audio/ogg",mid:"audio/midi",midi:"audio/midi",wma:"audio/x-ms-wma",wax:"audio/x-ms-wax",mka:"audio/x-matroska"},createQueryString:function(){var t="";for(var e in this.dataAttributes)"no-download"===e&&"1"===this.dataAttributes[e]?t+='controlslist="nodownload" ':t+=e+'="'+this.dataAttributes[e]+'" ';return t},afterInit:function(){this.file_picker=new a({template_name:"util/audio-file-picker",labels:{choose:TVE.t.ChooseAudio,title:TVE.t.Audios},config:{type:"audio"}}),this.$el.prepend(this.file_picker.$el),this.file_picker.on("select",_.bind(this.on_select,this)).on("remove",_.bind(this.on_remove,this))},afterSetConfig:function(){this.file_picker.set(this.config),this.attachment=null,this.config.attachment&&(this.attachment=this.config.attachment)},on_select:function(t){this.attachment=t,this.config.id=t.id,this.config.title=t.title,this.config.id||(this.config.url=t.url,this.config.id="tcb-custom-"+Math.round(900*Math.random()+100)),this.config.url&&!this.config.title&&(this.attachment.title=this.config.url.replace(/\/$/,"").split("/").pop()),this.dataAttributes["no-download"]="1",this.control.trigger("change")},on_remove:function(){this.config={},this.attachment=null,this.control.trigger("change")},validate:function(){return!(!this.config.id&&!this.config.url&&(TVE.page_message("required_audio",!0),1))},getAudio:function(){return!this.attachment&&this.config.attachment&&(this.attachment=this.config.attachment),this.attachment?(this.attachment.mime||"string"!=typeof this.attachment.url||this.computeAttachmentMime(),'<audio controls style="width: 100%;" playsinline class="tcb-audio" data-title="'+this.attachment.title+'" data-id="'+this.attachment.id+'" '+this.createQueryString()+'><source src="'+this.attachment.url+'" type="'+this.attachment.mime+'"></audio>'):""},computeAttachmentMime:function(){var t=this.attachment.url.split(".").pop().toLowerCase();"string"==typeof this.allowedMimeTypes[t]&&(this.attachment.mime=this.allowedMimeTypes[t])},reset:function(){this.file_picker.set({})}})}},background:{"effects.js":function(t,e,i){var n=i("./panel-base"),s=i("../slider"),a=i("../knob"),o=i("../select"),r=n.extend({template:TVE.tpl("controls/background/background-effects"),_template:TVE.tpl("controls/drop-panel-light"),key:function(){return"effects"},init_controls:function(){var i=this,e=this;this.effect_select=new o({el:this.$el.find(".tcb-background-effect-select"),model:{config:{name:"Type",options:[{name:TVE.t.opacity,value:"opacity"},{name:TVE.t.greyscale,value:"grayscale"},{name:TVE.t.brightness,value:"brightness"},{name:TVE.t.contrast,value:"contrast"},{name:TVE.t.blur,value:"blur"},{name:TVE.t.sepia,value:"sepia"},{name:TVE.t.invert,value:"invert"},{name:TVE.t.saturate,value:"saturate"},{name:TVE.t.huerotate,value:"hue-rotate"}]}}}),this.effect_select.change=_.bind(function(t,e){var i=this.$(".tcb-background-effect-slider");i.addClass("tcb-hidden"),i.filter('[data-key="'+e.value+'"]').removeClass("tcb-hidden")},this),this.effect_select.update=function(){this.$el.removeClass("tcb-hidden"),this.$("option").removeAttr("disabled");for(var t=0;t<e.model.get("disabled").length;t++)this.$('option[value="'+e.model.get("disabled")[t]+'"]').attr("disabled",!0);this.$("select").val(this.$("select option:not([disabled]):first").val()),this.$("select").trigger("change")},this.effect_opacity=new s({el:this.$el.find('.tcb-background-effect-slider[data-key="opacity"]'),model:{config:{default:"100",min:"0",max:"100",label:TVE.t.opacity,um:["%"]}}}),this.effect_opacity.input=_.bind(function(t,e){this.model.set("property","opacity"),this.model.set("value",e.value/100),this.change()},this),this.effect_opacity.change=_.bind(function(t,e){this.effect_opacity.input(t,e)},this),this.effect_opacity.update=function(t){var e=t.css("opacity"),i=100;e&&(i=parseInt(100*e)),this.setValue(i)};function n(t,e,i){var n=1<arguments.length&&void 0!==e?e:"",s=2<arguments.length?i:void 0,a=(t.css("filter")||"").match(new RegExp(n+"\\(([^)]+)"));return parseFloat(Array.isArray(a)&&a[1]||parseInt(s))}this.effect_greyscale=new s({el:this.$el.find('.tcb-background-effect-slider[data-key="grayscale"]'),model:{config:{default:"0",min:"0",max:"100",label:TVE.t.greyscale,um:["%"]}}}),this.effect_greyscale.input=function(t,e){i.set_effect_filter({greyscale:e.value}),i.change()},this.effect_greyscale.change=function(t,e){i.effect_greyscale.input(t,e)},this.effect_greyscale.update=function(t){this.setValue(100*n(t,"grayscale",this.model.config.default))},this.effect_brightness=new s({el:this.$el.find('.tcb-background-effect-slider[data-key="brightness"]'),model:{config:{default:"100",min:"0",max:"300",label:TVE.t.brightness,um:["px"]}}}),this.effect_brightness.input=function(t,e){i.set_effect_filter({brightness:e.value}),i.change()},this.effect_brightness.change=function(t,e){i.effect_brightness.input(t,e)},this.effect_brightness.update=function(t){this.setValue(100*n(t,"brightness",1))},this.effect_contrast=new s({el:this.$el.find('.tcb-background-effect-slider[data-key="contrast"]'),model:{config:{default:"100",min:"0",max:"300",label:TVE.t.contrast,um:["px"]}}}),this.effect_contrast.input=function(t,e){i.set_effect_filter({contrast:e.value}),i.change()},this.effect_contrast.change=function(t,e){i.effect_contrast.input(t,e)},this.effect_contrast.update=function(t){this.setValue(100*n(t,"contrast",1))},this.effect_blur=new s({el:this.$el.find('.tcb-background-effect-slider[data-key="blur"]'),model:{config:{default:"0",min:"0",max:"100",label:TVE.t.blur,um:["px"]}}}),this.effect_blur.input=function(t,e){i.set_effect_filter({blur:e.value}),i.change()},this.effect_blur.change=function(t,e){i.effect_blur.input(t,e)},this.effect_blur.update=function(t){this.setValue(n(t,"blur",this.model.config.default))},this.effect_sepia=new s({el:this.$el.find('.tcb-background-effect-slider[data-key="sepia"]'),model:{config:{default:"0",min:"0",max:"100",label:TVE.t.sepia,um:["%"]}}}),this.effect_sepia.input=function(t,e){i.set_effect_filter({sepia:e.value}),i.change()},this.effect_sepia.change=function(t,e){i.effect_sepia.input(t,e)},this.effect_sepia.update=function(t){this.setValue(100*n(t,"sepia",this.model.config.default))},this.effect_invert=new s({el:this.$el.find('.tcb-background-effect-slider[data-key="invert"]'),model:{config:{default:"0",min:"0",max:"100",label:TVE.t.invert,um:["%"]}}}),this.effect_invert.input=function(t,e){i.set_effect_filter({invert:e.value}),i.change()},this.effect_invert.change=function(t,e){i.effect_invert.input(t,e)},this.effect_invert.update=function(t){this.setValue(100*n(t,"invert",this.model.config.default))},this.effect_saturate=new s({el:this.$el.find('.tcb-background-effect-slider[data-key="saturate"]'),model:{config:{default:"100",min:"0",max:"300",label:TVE.t.saturate,um:["px"]}}}),this.effect_saturate.input=function(t,e){i.set_effect_filter({saturate:e.value}),i.change()},this.effect_saturate.change=function(t,e){i.effect_saturate.input(t,e)},this.effect_saturate.update=function(t){this.setValue(100*n(t,"saturate",1))},this.effect_huerotate=new a({el:this.$el.find('.tcb-background-effect-slider[data-key="hue-rotate"]'),model:{config:{default:"0",min:"0",max:"359",label:TVE.t.huerotate,um:["deg"]}}}),this.effect_huerotate.input=function(t,e){i.set_effect_filter({huerotate:e.value}),i.change()},this.effect_huerotate.change=function(t,e){i.effect_huerotate.input(t,e)},this.effect_huerotate.update=function(t){this.setValue(n(t,"hue-rotate",0))}},set_effect_filter:function(t){var e=0<arguments.length&&void 0!==t?t:{};this.model.set("property","filter"),this.model.set("value",this.get_filter_css(e))},get_filter_css:function(t){var e=0<arguments.length&&void 0!==t?t:{},i=e.greyscale?e.greyscale:this.effect_greyscale.value(),n=e.brightness?e.brightness:this.effect_brightness.value(),s=e.contrast?e.contrast:this.effect_contrast.value(),a=e.blur?e.blur:this.effect_blur.value(),o=e.sepia?e.sepia:this.effect_sepia.value(),r=e.invert?e.invert:this.effect_invert.value(),l=e.saturate?e.saturate:this.effect_saturate.value(),c=e.huerotate?e.huerotate:this.effect_huerotate.value();return"grayscale(".concat(i,"%) brightness(").concat(n,"%) contrast(").concat(s,"%) blur(").concat(a,"px) sepia(").concat(o,"%) invert(").concat(r,"%) saturate(").concat(l,"%) hue-rotate(").concat(c,"deg)")},change:function(){this.collection.trigger("apply_background_effects",this.model)},update_slider_effect_controls:function(){var e=this,i=r.get_main_element();_.each(["opacity","greyscale","brightness","contrast","blur","sepia","invert","saturate","huerotate"],function(t){e["effect_".concat(t)].update(i)})},get_default_data:function(){return this.update_slider_effect_controls(),{key:"",disabled:[],property:"",value:"",prev_filter_css:this.get_filter_css(),prev_opacity_css:this.effect_opacity.value()/100}},onOpen:function(t,e){var i=jQuery(e),n=this.$(".tve-control"),s=this.$("label");n.addClass("tcb-hidden"),n.removeClass("tcb-disabled"),s.addClass("tcb-hidden"),i.hasClass("preview-list-item")&&0<this.model.get("key").length?n.filter('[data-key="'+this.model.get("key")+'"]').removeClass("tcb-hidden"):(s.removeClass("tcb-hidden"),this.effect_select.update())},onApply:function(){this.collection.trigger("refresh_background_effects"),n.prototype.onApply.apply(this,arguments)},onCancel:function(){n.prototype.onCancel.apply(this,arguments),this.collection.trigger("reset_background_effects",this.model),this.update_slider_effect_controls()}},{mainElement:null,parse_filter_property_css:function(t){return/\(([^)]+)\)/.exec(t)[1]},get_main_element:function(){return this.mainElement},set_main_element:function(t){this.mainElement=t}});e.exports=r},"gradient-pattern.js":function(t,e,i){var n=i("./panel-base"),a=(i("../input"),i("../../../libs/gradient-builder")),l=i("../../../libs/tinycolor"),s=i("../color-picker");e.exports=n.extend({template:TVE.tpl("controls/gradient-pattern"),_template:TVE.tpl("controls/drop-panel-light"),key:function(){return"gradient-pattern"},before_initialize:function(){this.defaults(),this.patterns=[{angle:"135deg",icon:"left-stripes"},{angle:"45deg",icon:"right-stripes"},{angle:"90deg",gutter1:"1px",gutter2:"3px",icon:"vertical-stripes"},{angle:"0deg",icon:"horizontal-stripes"},{size:"3px 3px",type:"repeating-radial-gradient",angle:"circle at center center",gutter1:"1px",gutter2:"100%",icon:"dots-stripes"}].map(function(t){return t.css=a(this.build_node(t.type,t.angle,null,t.gutter1,t.gutter2,t.size)),t},this)},defaults:function(){return this.values={index:0,color1:"rgba(148,163,176,.7)",css_variable:null},this},select:function(t,e){return TVE.SKIP_CSS_STATE=!0,this.$(".pattern-item").removeClass("selected"),e.classList.add("selected"),this.values.index=parseInt(e.getAttribute("data-index")),this.change(),!1},init_controls:function(){var e=this;this.controls={color1:new s({el:this.$(".color1")[0],model:this.color_options()})},this.controls.color1.input=this.controls.color1.change=function(t){TVE.SKIP_CSS_STATE=!0,e.values.color1=t?t.toString():"transparent",e.change()}},color_options:function(){return{config:{label:"Color",options:{output:"object",hideOriginalInput:!1,showGradient:!1,showGlobals:!1,showAlpha:!0,allowEmpty:!1}}}},get_default_data:function(){return this.defaults(),this.dom(),this.flag_dom_skip=!0,this._get_default_data()},_get_default_data:function(){return this.build_node(this.patterns[this.values.index])},build_node:function(t,e,i,n,s,a){"object"===_typeof(t)&&(e=t.angle,i=t.color1,n=t.gutter1,s=t.gutter2,a=t.size,t=t.type),i=i||this.values.color1;var o=null;TVE.isCssVariable(i)&&(o=i,i=TVE.getCssVariableValue(i));var r=l(i);return{type:t||"repeating-linear-gradient",orientation:e||"135deg",colorStops:[{type:"literal",transparent:"transparent"===i&&"transparent",value:r,css_variable:o},{type:"literal",transparent:"transparent"===i&&"transparent",value:r,length:n||"3px",css_variable:o},{type:"literal",transparent:"transparent",value:"transparent",length:n||"3px"},{type:"literal",transparent:"transparent",value:"transparent",length:s||"6px"}],size:a||"auto auto",repeat:"repeat"}},change:function(){this.model.set(this.build_node(this.patterns[this.values.index])),this.collection.trigger("change")},input:function(){},read:function(){var i=this.model.get("real_type")||this.model.get("type"),n=a(this.model.get("orientation")),s=this;_.every(this.patterns,function(t,e){return t.type=t.type||"repeating-linear-gradient",t.angle=t.angle||"135deg",t.type!==i||n!==t.angle||(s.values.index=e,!1)});var t=this.model.get("colorStops");s.values.color1=t[0].transparent||t[0].value.toString(),s.values.css_variable=t[0].css_variable},dom:function(){return this.$(".pattern-item").removeClass("selected").get(this.values.index).classList.add("selected"),this.controls.color1.setValue(this.values.css_variable?this.values.css_variable:this.values.color1),this}})},"gradient.js":function(t,e,i){var n=i("./panel-base"),s=i("../../../libs/gradient-builder"),a=(i("../../../libs/tinycolor"),i("../../../libs/gradient-picker"));e.exports=n.extend({template:_.template('<div class="gradient-layer"></div>'),_template:TVE.tpl("controls/drop-panel-light"),key:function(){return"gradient"},init_controls:function(){this.picker=new a({el:this.$(".gradient-layer")[0]}).on("change",_.bind(this.on_change,this))},_get_default_data:function(){return this.picker.defaults()},on_change:function(t){var e;this.picker.edit_css_variable?(delete t.gradient_css_variable,e=s(t),TVE.changeCssVariableValue(TVE.getRawCssVariableName(this.picker.css_variable),e)):(this.model.set(t),e=s(t)),this.picker.favorite_gradients.on_gradient_change(e)},dom:function(){this.picker.setValue(this.model.toJSON())},onOpen:function(){delete this.picker.edit_css_variable,this.picker.reflow(),this.picker.render_favorites()},onApply:function(){n.prototype.onApply.apply(this,arguments),this.collection.trigger("change"),this.collection.trigger("save_states")},input:function(){}})},"image.js":function(t,e,i){var n=i("./panel-base"),s=i("../file"),a=i("../slider"),o="tve-image-drag-",r=/tve-image-drag-\w+/g;e.exports=n.extend({template:TVE.tpl("controls/background/background-image"),_template:TVE.tpl("controls/drop-panel-light"),dragMode:!1,key:function(){return"url"},init_controls:function(){var i=this;this.picker=new s({labels:{choose:TVE.t.ChooseImage},config:{preselect_full_size:!0},el:this.$(".image-picker-wrapper")[0]}),this.picker.on("select",_.bind(this.on_select,this)),this.picker.on("remove",_.bind(this.on_remove,this)),this.$imageRepeat=this.$(".tve-background-image-repeat"),this.$imagePercentageSize=this.$(".tve-image-size-percentages"),this.HeightSize=new a({el:this.$el.find(".tve-image-height"),model:{config:{default:"50",min:"0",max:"100",label:"Height",um:["%"]}}}),this.WidthSize=new a({el:this.$el.find(".tve-image-width"),model:{config:{default:"50",min:"0",max:"100",label:"Width",um:["%"]}}}),this.WidthSize.input=function(t,e){i.model.set("size","".concat(e.value,"% ").concat(i.HeightSize.getValue(),"%")),i.change()},this.HeightSize.input=function(t,e){i.model.set("size","".concat(i.WidthSize.getValue(),"% ").concat(e.value,"%")),i.change()},this.HeightSize.change=function(){i.percentageImgSize.height=i.elementSize.height*parseInt(i.HeightSize.getValue())/100,i.getInitialPosition()},this.WidthSize.change=function(){i.percentageImgSize.width=i.elementSize.width*parseInt(i.WidthSize.getValue())/100,i.getInitialPosition()}},on_select:function(t){this.model.set("value",t.url),this.change(),this.imgSize={width:t.width,height:t.height},this.imgRatio=this.imgSize.width/this.imgSize.height,isNaN(this.imgRatio)||this.enableImageDrag(),TVE.do_action("tcb.bg.image.set")},on_remove:function(){this.model.set("value",""),this.change()},prop:function(t,e){var i=this.$(e).val().split(":"),n=_defineProperty({},i[0],i[1]);"size"===i[0]||"repeat"===i[0]&&"repeat"!==i[1]?this.$(".bg-image-position-area").removeClass("tcb-disabled"):this.$(".bg-image-position-area").addClass("tcb-disabled"),"percentage"===i[1]&&(n.size="50% 50%"),"repeat"===i[0]&&(n.size=this.model.get("size")),this.model.set(_.extend({size:"auto auto",repeat:"no-repeat",position:"50% 50%"},n)),this.change(),this._updateRepeatOption(),this._updatePercentageControls(),this.isDragAllowed()&&(this.getElementDefaultProps(),this.dragOverlay())},set_position:function(t,e){if(this.model.get("value")){var i=this.$(e).attr("data-value"),n=i.split(":");this.model.set({position:n[0]+" "+n[1]}),this.$(".bg-image-control").removeClass("active"),this.$('.bg-image-control[data-value="'+i+'"]').addClass("active"),this.change(),this.$target.removeAttr("style"),this.isDragAllowed()&&this.getInitialPosition()}},static:function(t,e){this.model.set({attachment:e.checked?"fixed":"scroll",position:"50% 50%"}),this.change(),e.checked?this.exitDragMode():this._update_image_position_canvas()},get_default_data:function(){return{type:"url",value:"",size:"cover"}},dom:function(){var t=this.$("#bg-image-prop"),e=this.model.get("size").trim(),i=t.find("option").first().val(),n=null;return this.$target=TVE.Components.background.controls.PreviewList.applyTo(),this.model.get("value")&&(n={url:this.model.get("value")}),this.picker.set(n),this.$("#bg-static").prop("checked",null!=this.model.get("attachment")&&-1!==this.model.get("attachment").indexOf("fixed")),["cover","contain"].includes(e)?i="size:".concat(e):("auto"===e||this.model.get("position")&&this.model.get("position").includes("center"))&&(i="size:auto"),t.val(i),this._updateRepeatOption(),this._updatePercentageControls(),this._update_image_position_canvas(),this},_updateRepeatOption:function(){this.$imageRepeat.toggleClass("tcb-hidden",["cover","contain"].includes(this.model.get("size").trim())),this.$("#bg-image-repeat-prop").val("repeat:".concat(this.model.get("repeat")?this.model.get("repeat").trim():"no-repeat"))},_updatePercentageControls:function(){var t=this.model.get("size").trim();this.isPercentage=t.includes("%"),this.$imagePercentageSize.toggleClass("tcb-hidden",!this.isPercentage),this.isPercentage&&(this.$("#bg-image-prop").val("size:percentage"),t=t.trim().split(" "),this.percentageImgSize||(this.percentageImgSize={},this.getElementDefaultProps(!1)),this.WidthSize.setValue(t[0],!0),this.HeightSize.setValue(t[1],!0))},_update_image_position_canvas:function(){var t=this,e=this.model.get("position"),i=this.model.get("repeat");if(this.$(".bg-image-position-area").toggleClass("tcb-disabled","repeat"===i),this.$(".bg-image-control").removeClass("active"),e)if(-1!==e.indexOf("center"))this.$('.bg-image-control[data-value="50%:50%"]').addClass("active");else if(-1!==e.indexOf("0px 0px"))this.$('.bg-image-control[data-value="0%:0%"]').addClass("active");else{var n=e.trim().replace(" ",":");this.$('.bg-image-control[data-value="'+n+'"]').addClass("active")}else this.$('.bg-image-control[data-value="50%:50%"]').addClass("active");if(this.model.get("value")){this.model.get("size").includes("%")&&this.enableImageDrag();var s=new Image;s.src=this.model.get("value"),s.onload=function(){t.imgSize={width:s.width,height:s.height},t.imgRatio=t.imgSize.width/t.imgSize.height,t.isPercentage||t.enableImageDrag()}}},validate:function(){return!!this.model.get("value")||(TVE.page_message(TVE.t.anim.img_missing,!0),this.onCancel(),!1)},before_initialize:function(){this.defaults(),jQuery.extend(!0,this,TVE.apply_filters("tcb.extend-image-control",{}))},showEditorOverlay:function(){TVE.Editor_Page.disable_clicks({z_index_overlay:89e3}),TVE.ActiveElement.tve_overlay(),this.dragOverlay(),this.dragMode=!0},dragOverlay:function(){TVE.ActiveElement.find(".tve-drag-image-wrapper").remove(),TVE.ActiveElement.append(TVE.tpl("controls/background/drag-overlay")());var t=TVE.ActiveElement.find(".tve-drag-image-handle").addClass("tcb-permanently-hidden"),e="default";this.model.get("size").includes("contain")?e=this.elementRatio>this.imgRatio?"width":"height":this.model.get("size").includes("cover")&&(e=this.elementRatio>this.imgRatio?"height":"width"),t.filter("[data-key=".concat(e,"]")).toggleClass("tcb-permanently-hidden",this.elementSize.width<250||this.elementSize.height<100),TVE.inner_$(".tve-background-overlay").css("cursor",{default:"move",height:"ns-resize",width:"ew-resize"}[e]),this.changeableProp="default"!==e?e:"",TVE.ActiveElement.find(".tcb-parent-placeholder-empty > .tcb-replaceable-placeholder").hide()},enableImageDrag:function(){var i=this;if(this.isDragAllowed()){var n=this.$target.head_css("background-position").split(",");this.getElementDefaultProps(),this.showEditorOverlay(),TVE.inner_$(".tve-background-overlay").tveElementDrag({start:function(){i.$(".bg-image-control").removeClass("active"),clearTimeout(i.warningTimeout),i.$target.removeClassContaining(r),TVE.ActiveElement.find(".tve-drag-image-wrapper").remove(),i.$target.removeAttr("style")},move:_.debounce(function(t){var e;t.x&&(i.isCover&&(1===i.elementRatio&&1<i.imgRatio||i.elementRatio<1)&&(t.x=-1*t.x),e=i.isContain?i.convertValue(i.initialPosition.x+t.x,"width"):i.initialPosition.x+t.x,i.validateMovement(e,"width")&&(i.initialPosition.x+=t.x)),t.y&&(i.isCover&&(1<i.elementRatio||1===i.elementRatio&&i.imgRatio<1)&&(t.y=-1*t.y),e=i.isContain?i.convertValue(i.initialPosition.y+t.y,"height"):i.initialPosition.y+t.y,i.validateMovement(e,"height")&&(i.initialPosition.y+=t.y)),n[i.model.index]=i.isCover?" ".concat(i.initialPosition.x,"% ").concat(i.initialPosition.y,"%"):" ".concat(i.initialPosition.x,"px ").concat(i.initialPosition.y,"px"),i.$target.attr("style","background-position: ".concat(n.join(",")," !important"))},5),stop:function(){var t;t=i.isCover?"".concat(i.initialPosition.x,"% ").concat(i.initialPosition.y,"%"):"".concat(i.convertValue(i.initialPosition.x,"width"),"% ").concat(i.convertValue(i.initialPosition.y,"height"),"%"),i.model.set("position",t),i.change(),i.getInitialPosition(),i.$target.removeAttr("style")}})}},getElementDefaultProps:function(t){var e=!(0<arguments.length&&void 0!==t)||t;this.elementSize={width:this.$target.outerWidth(),height:this.$target.outerHeight()},this.elementRatio=this.elementSize.width/this.elementSize.height,e&&this.getInitialPosition()},validateMovement:function(t,e){var i=this;if(this.changeableProp&&this.changeableProp!==e)return!1;clearTimeout(this.warningTimeout),this.$target.removeClassContaining(r),this.warningTimeout=setTimeout(function(){i.$target.removeClassContaining(r)},3e3);var n=0<=t&&t<=100;switch(this.model.get("size").trim()){case"cover":case"contain":return n||("width"===e?this.$target.addClass(o+(100<t?"right":"left")):this.$target.addClass(o+(100<t?"bottom":"top"))),n;default:return!0}},onClose:function(){this.dragMode&&this.exitDragMode()},exitDragMode:function(){TVE.state_manager.is_hover()||TVE.main.EditMode.in_edit()?TVE.main.EditMode.in_edit()&&TVE.main.EditMode.refresh():TVE.remove_element_overlay(),TVE.Editor_Page.enable_clicks({}),TVE.ActiveElement.find(".tve-drag-image-wrapper").remove(),this.$target.removeClassContaining(r),TVE.ActiveElement.find(".tcb-parent-placeholder-empty > .tcb-replaceable-placeholder").show()},getInitialPosition:function(){var t;if(this.isCover=this.model.get("size").includes("cover"),this.isContain=this.model.get("size").includes("contain"),this.isPercentage=this.model.get("size").includes("%"),this.model.get("position")&&(t=this.model.get("position").trim().split(" ")),(t=t||["50%","50%"])[0].includes("px"))this.initialPosition={x:parseInt(t[0].replace("px","")),y:parseInt(t[1].replace("px",""))};else if(t[0]=parseInt(t[0].replace("%","")),t[1]=parseInt(t[1].replace("%","")),this.isCover)this.initialPosition={x:t[0],y:t[1]};else{var e=this.imgSize;this.isContain?(this.containImgSize=this.containImgRatio({container:this.elementSize,image:this.imgSize}),e=this.containImgSize):this.isPercentage&&(e=this.percentageImgSize),this.initialPosition={x:t[0]*(this.elementSize.width-e.width)/100,y:t[1]*(this.elementSize.height-e.height)/100}}return!1},convertValue:function(t,e){if(this.changeableProp&&this.changeableProp!==e)return 0;var i=this.elementSize[e],n=this.imgSize;return this.isContain?n=this.containImgSize:this.isPercentage&&(n=this.percentageImgSize),i-=n[e],t=Math.round(100*t/i),isNaN(t)?0:t},containImgRatio:function(t){var e=Math.min(t.container.width/t.image.width,t.container.height/t.image.height);return{width:t.image.width*e,height:t.image.height*e}},isDragAllowed:function(){var t=this.model.get("value").includes("dynamic_author")||this.model.get("value").includes("dynamic_featured");return!("fixed"===this.model.get("attachment")||TVE.ActiveElement.hasClass("thrv-button")||t)}})},"panel-base.js":function(t,e,i){var n=i("../drop-panel");e.exports=n.extend({before_initialize:function(){this.defaults()},after_initialize:function(){this.init_controls()},defaults:function(){return this.values={},this},init_controls:function(){},update:function(){},get_default_data:function(){return this.defaults(),this._get_default_data()},change:function(){this.collection.trigger("change")},reset:function(t){if(this.model=t,this.flag_dom_skip)return delete this.flag_dom_skip,this;this.read(),this.dom()},read:function(){},dom:function(){},cancel:function(){TVE.SKIP_CSS_STATE=!1,TVE.UndoManager.temp.delete(),this.model.get("__new")?this.model.destroy():this.model.restoreState()},apply:function(){TVE.SKIP_CSS_STATE=!1,this.model.has("__new")?this.model.unset("__new"):this.model.trigger("change",this.model)}})},"solid.js":function(t,e,i){var n=i("./panel-base"),s=(i("../../../libs/tinycolor"),i("../color-picker"));e.exports=n.extend({template:_.template('<div class="gradient-solid-picker"></div>'),_template:TVE.tpl("controls/drop-panel-light"),key:function(){return"solid"},init_controls:function(){var i=this;this.color=new s({el:this.$(".gradient-solid-picker")[0],model:this.color_options()}),this.color.input=function(t){TVE.SKIP_CSS_STATE=!0;var e=TVE.isCssVariable(t)?t:null;i.model.get("colorStops")[0].css_variable=e,i.model.get("colorStops")[1].css_variable=e,i.model.get("colorStops")[0].value=t||"transparent",i.model.get("colorStops")[1].value=t||"transparent",i.model.trigger("change",i.model)}},input:function(t){},color_options:function(){return{config:{options:{output:"object",showInput:!0,showGradient:!1,showAlpha:!0,flat:!0,showButtons:!1}}}},_get_default_data:function(){return{type:"solid",real_type:"linear-gradient",colorStops:[{type:"literal",value:"rgba(0,0,0,0.5)",css_variable:null},{type:"literal",value:"rgba(0,0,0,0.5)",css_variable:null}]}},onApply:function(){n.prototype.onApply.apply(this,arguments),this.collection.trigger("save_states")},onOpen:function(){this.color.colorPicker.spectrum("reflow");var t=this.model.get("colorStops")[0];this.color.setValue(t.css_variable?t.css_variable:t.value),this.color.render_favorites()}})},"video.js":function(t,e,i){var n,s;jQuery,n=i("../switch"),s=i("../../components/animation/video-popup"),e.exports=n.extend({cls:"tcb-video-background-el",parent_cls:"tcb-video-background-parent",default_model:function(){return new Backbone.Model({device:TVE.t.video_background})},render:function(){return n.prototype.render.apply(this,arguments),this.$el.append(TVE.tpl("controls/background-video")()),this},update:function(t){if(!this.$el.hasClass("control-hide")){var e=t.hasClass(this.cls);this.model=new Backbone.Model(e?this.read():{config:{}}),this.video_settings.set_model(this.model),this.isChecked()!==e&&(this.setChecked(e),this.update_controls(e))}},update_controls:function(t){this.$el.toggleClass("expanded",t)},input:function(t,e){this.$el.hasClass("control-hide")||(this.$el.toggleClass("expanded",e.checked),e.checked?this.apply():this.clear())},clear:function(t){(t=void 0!==t?t:this.applyTo()).removeClass(this.cls).find("> iframe,> video,> script,> .wistia_embed").remove(),t.parent().removeClass(this.parent_cls)},after_initialize:function(){this.video_settings=new s({config:{}}),this.$el.append(this.video_settings.$el.addClass("video-options")),this.$(".tcb-dark").removeClass("tcb-dark"),this.$(".extra-settings").remove(),this.video_settings.on("change",_.bind(this.apply,this)),this.$("input[type=checkbox]").prop("checked",!1)},apply:function(){var t=this.video_settings.get_embed_code("background"),e=this.applyTo();return TVE.Editor_Page.before_action(),this.clear(e),t&&(e.addClass(this.cls).prepend(t),e.parent().addClass(this.parent_cls),t.includes("tcb-yt-bg")&&TVE.inner.window.TCB_Front.playBackgroundYoutube(e.find("> .tcb-yt-bg")),t.includes("tcb-voo-bg")&&TVE.inner.window.TCB_Front.playBackgroundVoo(),TVE.Editor_Page.after_action()),this},read:function(){var t=this.applyTo(),e={p:{}},i=t.find("> .wistia_embed").first(),n=t.find("> video.tcb-bg-video").first(),s=t.find("> iframe").first(),a=t.find("> .tcb-yt-bg").first();if(i.length)e.s="wistia",e.p={id:i.attr("data-id"),url:"https://wistia.com/embed/"+i.attr("data-id")};else if(n.length)e.s="custom",e.p={id:n.attr("data-id"),title:n.attr("data-title")};else if(a.length)e.s="youtube",e.p={id:a.attr("data-yt-id"),url:a.attr("data-url")};else if(s.length){var o;e.s=s.attr("data-provider"),e.p={url:s.attr("src")},o=e.s.includes("vooplayer")?new RegExp("/publish/(.+)"):new RegExp("/video/(.+?)\\?"),e.p.url.match(o)&&(e.p.id=RegExp.$1)}return{config:e}}})}},"borders.js":function(t,e,i){var n=i("../base"),s=i("../controls/input"),a=i("../controls/button-group"),o=i("../controls/color-picker");e.exports=n.control.extend({template:TVE.tpl("controls/borders"),sides:["top","left","right","bottom"],borderArray:["border","border-top","border-bottom","border-left","border-right"],config:{},colorRegExp:null,initialize:function(){this.render(),this.colorRegExp=new RegExp(/(rgba?|var)\(([^)]+)\)/),this.controls={Color:new o({el:this.$el.find(".tve-border-color"),model:{config:{options:{showInput:!0,showGradient:!1,allowEmpty:!1}}}}),Width:new s({el:this.$el.find(".tve-border-width"),model:{config:{stepSize:3,name:"",min:0,um:"PX"}}}),Style:new a({el:this.$el.find(".tve-border-style"),model:{config:{name:"",buttons:[{icon:"",text:"NONE",value:"none",default:!0},{icon:"solid",value:"solid"},{icon:"dashed",value:"dashed"},{icon:"dotted",value:"dotted"}]}}})},this.controls_init(this.controls)},controls_init:function(t){var s=this;this.controls.Width.input=function(t,e){e.value=this.prepareValue(e.value,"px"),s.controls.Color.getValue()||s.controls.Color.setValue("#000"),s.controls.Style.getValue()&&"none"!==s.controls.Style.getValue()||s.controls.Style.setActive("solid"),0===parseInt(e.value)&&s.controls.Style.setActive("none"),s.save_state(),s.change(t)},this.controls.Width.update=function(){var t=this.readFrom(),e=t.css(s.style("width"))||0;if(!e&&TVE.BROWSER.mozilla){var i=t.css("border-top-width"),n=t.css("border-bottom-width");"0px"!==i&&i===t.css("border-left-width")?e=i:"0px"!==n&&n===t.css("border-right-width")&&(e=n)}"1px dashed rgb(150, 159, 166)"===t.css("border")&&(e="0"),this.setValue(parseInt(e))},this.controls.Style.input=function(t,e){s.controls.Color.getValue()||s.controls.Color.setValue("#000");var i=parseInt(s.controls.Width.getValue());!isNaN(i)&&parseInt(i)||s.controls.Width.setValue("1"),"none"===e.getAttribute("data-value")&&s.controls.Width.setValue("0"),s.change(t)},this.controls.Style.update=function(){var t=this.readFrom(),e=t.css(s.style("style"));!e&&t.css("border-top-style")&&t.css("border-top-style")===t.css("border-bottom-style")&&t.css("border-left-style")===t.css("border-right-style")&&t.css("border-top-style")===t.css("border-left-style")&&(e=t.css("border-top-style")),"1px dashed rgb(150, 159, 166)"===t.css("border")&&(e="none"),this.setActive(e)},this.controls.Color.input=function(){var t=parseInt(s.controls.Width.getValue());!isNaN(t)&&parseInt(t)||s.controls.Width.setValue("1"),s.controls.Style.getValue()&&"none"!==s.controls.Style.getValue()||s.controls.Style.setActive("solid"),s.change(this.applyTo())},this.controls.Color.change=function(t){this.input(),s.save_state()},this.controls.Color.update=function(){var t,e=s.style("color").replace("-color",""),i=this.applyTo().head_css(e,null,this.config.css_suffix,!0,this.config.css_prefix),n=s.colorRegExp.exec(i);_.isArray(n)&&(t=n[0]),"1px dashed rgb(150, 159, 166)"===this.applyTo().css("border")&&(t="rgb(150, 159, 166)"),this.setValue(t)}},setConfig:function(t,e){n.control.prototype.setConfig.apply(this,arguments);var i=arguments;_.each(this.controls,function(t){t.setConfig.apply(t,i)})},change:function(t){var e={},i=""===this.border_side?"border":"border-"+this.border_side,n=this.config.important?" !important":"",s=this.controls.Color.getValue(!0),a=this.controls.Style.getValue();s=s||"transparent",e[i]="none"===a?"none"+n:this.controls.Width.getValue()+"px "+a+" "+s+n,this.apply_css(this.applyTo(),e,this.config)},changeColorPallette:function(i){var n,s=this,a={};i.color&&_.each(this.borderArray,function(t,e){(n=TVE.state_manager.is_default()?!!s.originalColor[t]&&s.originalColor[t]:!!(s.hoverOriginalColor[t]&&s.hasHoverState(t)||!TVE.state_manager.induced_state)&&s.hoverOriginalColor[t])&&(a[t+"-color"]=TVE.generateOffsetColor(i.originalColor,i.color,n).toRgbString())}),s.apply_css(this.applyTo(),a,this.config)},apply_css:function(t,e,i){this.applyElementCss(e,t,i.css_suffix,i.css_prefix),TVE.do_action("tcb_action_borders_added",t),TVE.do_action("tcb.border_update."+TVE._type(t),t,e)},update:function(){this.border_side="";var t=this.applyTo().head_css(["border","border-top","border-bottom","border-left","border-right"],null,this.config.css_suffix,!0,this.config.css_prefix),n=".default";_.some(t,function(t,e,i){if(t.length&&!t.includes("none"))return this.border_side=e.replace(/border|-|/gi,""),this.border_side.length&&(n="."+this.border_side),!0},this),_.isEmpty(t.border)&&t["border-top"]===t["border-bottom"]&&t["border-left"]===t["border-right"]&&t["border-top"]===t["border-right"]&&(n=".default"),this.$el.find(".tve-border-side").removeClass("active").filter(n).addClass("active"),this.controls.Width.update(),this.controls.Color.update(),this.controls.Style.update()},borderSide:function(t,e){this.border_side=e.getAttribute("data-value"),this.$el.find(".tve-border-side").removeClass("active"),e.className+=" active",this.controls.Width.update(),this.controls.Color.update(),this.controls.Style.update()},style:function(t){var e=t;return this.border_side&&""!=this.border_side&&(e=this.border_side+"-"+e),e="border-"+e},input:function(){},originalColor:{},hoverOriginalColor:{},hasHoverState:function(t){return!_.isEqual(this.originalColor[t],this.hoverOriginalColor[t])},after_update:function(){TVE.FLAGS.hover_update?this.read_initial_state():this.save_state()},read_initial_state:function(){this.save_state(),TVE.state_manager.is_default()&&(TVE.state_manager.set_state("hover"),TVE.ActiveElement.addClass("tve-state-hover"),this.save_state(),TVE.ActiveElement.removeClass("tve-state-hover"),TVE.state_manager.set_state(""))},save_state:function(){var i=this;_.each(this.borderArray,function(t,e){TVE.state_manager.is_default()&&!TVE.FLAGS.hover_element?i.originalColor[t]=!!(i.originalColor[t]||0!=i.controls.Width.getValue()&&"none"!==i.controls.Style.getValue())&&i.controls.Color.readFrom().css(t+"-color"):i.hoverOriginalColor[t]=!!(i.hoverOriginalColor[t]||0!=i.controls.Width.getValue()&&"none"!==i.controls.Style.getValue())&&i.controls.Color.readFrom().css(t+"-color")})},restore_state:function(){var i=this,n={};_.each(this.borderArray,function(t,e){TVE.state_manager.is_default()?n[t+"-color"]=i.originalColor[t]?i.originalColor[t]:"":n[t+"-color"]=i.hoverOriginalColor[t]?i.hoverOriginalColor[t]:""}),i.apply_css(this.applyTo(),n,this.config)},getOriginalColor:function(){return this.originalColor}})},button:{"style.js":function(t,e,i){var n=i("../style-picker");e.exports=n.extend({prev_btn_data:{},non_global_css:[],css:{"background-color":"",color:"","font-weight":"",border:"","border-bottom":"","border-top":"","border-left":"","border-right":"","border-radius":"","box-shadow":"","text-shadow":"","background-image":"","background-size":"","background-attachment":"","background-position":"","background-repeat":""},container_class:function(){return"tcb-button-style-picker control-grid wrap"},read_from_element:function(){var t=this.readFrom(),e=TVE.getClassThatContains(t,TVE.CONST.global_styles.prefix_button),i=this.model.config.default,n=TVE.apply_filters("tcb.button_extra_styles",[]),s=_.union(TVE.CONST.global_styles.button,TVE.CONST.global_styles.tpl_button,n);return this.hasIcon=!1,_.each(s,function(t,e){this.model.config.items[t.cls]=t.name},this),_.isEmpty(e)?i=t.attr("data-button-style")||i:_.isEmpty(_.findWhere(s,{id:e.replace(/^tcb-global-(.+?)-([^-]+)$/,"$2")}))||(i=e),i},render_button_saved_templates:function(){var i="",t=TVE.CONST.content_templates.filter(function(t){return"button"===t.type});if(_.isEmpty(TVE.CONST.global_styles.tpl_button)||(i+='<div class="full-width button-category-label">'+TVE.t.global.template_styles.toUpperCase()+"</div>",_.each(TVE.CONST.global_styles.tpl_button,function(t){i+=TVE.tpl("controls/button/global-templates")({template:t})})),0<TVE.CONST.global_styles.button.length&&(i+='<div class="full-width button-category-label">'+TVE.t.global.global_styles.toUpperCase()+"</div>",_.each(TVE.CONST.global_styles.button,function(t){var e=TVE.tpl("controls/button/global-templates")({template:t});i+=TVE.apply_filters("tcb.btn_template_list_preview",e,t)})),0<t.length){var e,n="";_.each(t,function(t,e){t.media&&t.media[TCB_Main.responsive.desktop.media]&&(n+=t.media[TCB_Main.responsive.desktop.media])}),n=n.replace(TVE.escapedRegEx(TVE.CONST.global_css_prefix,"g"),".tcb-button-style-picker"),e=TVE.tpl("controls/button/style-templates")({items:t,media_css:n}),i+=TVE.apply_filters("tcb.button.styles_templates",e)}i+='<div class="full-width button-category-label default-templates">'+TVE.t.default_templates.toUpperCase()+"</div>",this.$el.find(".tcb-element-templates").html(i),this.$el.find(".template-button-item .tcb-button-text").html("Button"),TVE.do_action("tcb.button_styles",this)},item_template:function(){return TVE.tpl("controls/button/style-picker")},input:function(i){if(i.removeAttr("data-button-size").removeClass(function(t,e){return(e.match(new RegExp("\\S*"+TVE.CONST.global_cls_prefix+"\\S*","g"))||[]).join(" ")}),i.find(".tcb-button-text, .tcb-secondary-text, .thrv_icon").removeClass(function(t,e){return(e.match(new RegExp("\\S*"+TVE.CONST.global_cls_prefix+"\\S*","g"))||[]).join(" ")}),-1!==this.model.selected.indexOf("tcb-saved-button-template-")){var e=parseInt(this.model.selected.replace("tcb-saved-button-template-","")),t=TVE.CONST.content_templates.find(function(t){return t.id===e}),n=TVE.$(TVE.Editor_Page.content_manager.process_saved_template("",TVE.$(t.content),t.media)),s=n.is(".thrv-button")?n:n.find(".thrv-button"),a=s.attr("data-css"),o=TVE.getClassThatContains(s,TVE.CONST.global_styles.prefix_button),r=s.attr("data-button-size");_.each(this.prev_btn_data,function(t,e){var i=t.element;i.html(s.html()),i.attr("data-css",a).attr("data-button-style",this.model.selected),i.find(".tcb-button-icon").html(t.icon),-1!==t._class.indexOf("tcb-with-icon")&&(i.find(".tcb-button-icon").remove(),i.find("a.tcb-button-link").prepend('<span class="tcb-button-icon">'+t.icon+"</span>")),i.find(".tcb-button-text").text(t.primary_text),i.find(".tcb-secondary-text").remove(),t.secondary_text.length&&i.find(".tcb-button-texts").append('<span class="tcb-secondary-text thrv-inline-text">'+t.secondary_text+"</span>"),i.find("a.tcb-button-link").attr("href",t.anchor_href),o.length&&i.addClass(o),r&&i.attr("data-button-size",r),i.head_css({position:"",float:"","z-index":"",top:"",left:"",bottom:"",right:""})},this)}else if(-1!==this.model.selected.indexOf(TVE.CONST.global_styles.prefix_button)){i.addClass(this.model.selected).removeAttr("data-css"),i.find(".tcb-button-text").removeAttr("data-css").addClass(this.model.selected+this.model.config.pr_text_suffix),i.find(".tcb-secondary-text").removeAttr("data-css").addClass(this.model.selected+this.model.config.sec_text_suffix),i.find(".thrv_icon").removeAttr("data-css").addClass(this.model.selected+this.model.config.icon_suffix);var l=this.model.selected.replace(/^tcb-global-(.+?)-([^-]+)$/,"$2"),c=TVE.Components["shared-styles"].getGlobalStyleObject(i,l,"button");this.hasIcon||(c.default_html.btn_icon?(TVE.Components.button.controls.ButtonIcon.change(TVE.ActiveElement,{checked:!0}),i.toggleClass("tcb-flip","right"===c.default_html.btn_icon_position).find(".thrv_icon").html(c.default_html.btn_icon)):(TVE.Components.button.controls.ButtonIcon.change(TVE.ActiveElement,{checked:!1}),TVE.Components.button.controls.ButtonIcon.remove(i))),c&&c.attr["data-button-size"]&&i.attr("data-button-size",c.attr["data-button-size"]),_.each(this.non_global_css,function(t,e){i.head_css(t.rules,t.media)}),TVE.do_action("tcb.button_global_style_extra",i)}else{var d=TVE.apply_filters("tcb.button_default_style.css",this.constructObject(this.model.selected),this.model.selected,i);i.head_css(d.default,null,this.model.css_suffix,!0,this.model.css_prefix),TVE.state_manager.set_state("hover"),i.head_css(d.hover,null,this.model.css_suffix,!0,this.model.css_prefix),TVE.state_manager.set_state("")}i.attr("data-button-style",this.model.selected),TVE.Editor_Page.reposition_icons(),TVE.do_action("tcb.button_style_change",i)},cancel:function(t){_.each(this.prev_btn_data,function(t,e){var n=this,s=t.element;s.attr("data-button-style",t._data_button_style).attr("class",t._class).attr("data-css",t._data_css),s.html(t._inner_html),_.each(t._head_css,function(t,e){var i={};_.each(t,function(t,e){e.endsWith(n.model.css_suffix)&&(i=_objectSpread({},i,{rules:t}))}),0<Object.keys(i).length&&s.head_css(i,e,n.model.css_suffix)})},this),this.model.selected=this.model.selected_old,TVE.do_action("tcb.button_style_cancel",t),TVE.Editor_Page.reposition_icons()},onOpen:function(t){this.prev_btn_data={},this.non_global_css=TVE.Components["shared-styles"].get_non_global_css(t),this.render_button_saved_templates(),this.change(),_.each(t,function(t,e){var i=TVE.inner_$(t);if(this.prev_btn_data[e]={},this.prev_btn_data[e]._inner_html=TVE.Editor_Page.content_manager.get_clean_content({},i),this.prev_btn_data[e]._data_button_style=void 0===i.attr("data-button-style")?"":i.attr("data-button-style"),this.prev_btn_data[e]._data_css=void 0===i.attr("data-css")?"":i.attr("data-css"),this.prev_btn_data[e]._class=i.attr("class"),this.prev_btn_data[e]._head_css={},this.prev_btn_data[e]._data_css){var n=TVE.CSS_Rule_Cache.getCssForSelector('[data-css="'+this.prev_btn_data[e]._data_css+'"]'+this.model.css_suffix);delete n["@imports"],this.prev_btn_data[e]._head_css=n}this.prev_btn_data[e].element=i,this.prev_btn_data[e].secondary_text=i.find(".tcb-secondary-text").text(),this.prev_btn_data[e].primary_text=i.find(".tcb-button-text").text(),this.prev_btn_data[e].icon=i.find(".tcb-button-icon").html(),this.prev_btn_data[e].anchor_href=i.find("a").attr("href")},this),this.hasIcon=0<t.find(".tcb-button-icon:visible").length},apply:function(t){TVE.main.element_selected(t),this.prev_btn_data={}},constructObject:function(t){var e=_.clone(this.css),i=_.clone(this.css);switch(t){case"default":e.color="#FFF",e["background-color"]="#1abc9c";break;case"ghost":e["background-color"]="rgba(26, 188, 156, 0) !important",e.color="#1abc9c !important",e["border-bottom"]="1px solid #1abc9c",e["border-top"]="1px solid #1abc9c",e["border-left"]="1px solid #1abc9c",e["border-right"]="1px solid #1abc9c",i["background-color"]="#1abc9c !important",i.color="#FFF !important";break;case"rounded":e["border-radius"]="8px";break;case"full_rounded":e["border-radius"]="200px";break;case"gradient":e["background-image"]="linear-gradient(0deg, rgb(17, 142, 117) 0%, rgb(44, 216, 145) 100%)",e["background-size"]="auto",e["background-attachment"]="scroll",e["background-position"]="0px 0px !important",e["background-repeat"]="no-repeat !important",i["background-image"]="linear-gradient(90deg, rgb(17, 142, 117) 0%, rgb(26, 188, 156) 100%)";break;case"elevated":e["box-shadow"]="rgba(0, 0, 0, 0.35) 0px 2px 5px 0px",i["box-shadow"]="rgba(0, 6, 8, 0.35) 0px 9px 5px 0px";break;case"border_1":e["border-bottom"]="4px solid rgb(15, 147, 124)",e["border-radius"]="4px";break;case"border_2":e["border-bottom"]="4px solid rgb(15, 147, 124)",e["border-radius"]="10px",e["font-weight"]="bold !important",e["text-shadow"]="rgba(0, 0, 0, 0.5) 0px 1px 2px"}return{default:e,hover:i}}})}},"button-group.js":function(t,e,i){var n;jQuery,n=i("../base"),e.exports=n.control.extend({template:TVE.tpl("controls/button-group"),toggle:!1,initialize:function(t){this.model&&this.render(t),t.toggle&&(this.toggle=t.toggle)},triggerChange:function(e,i){function t(t){n.currentEventType="change",n[t](e,i),n.trigger("change"),delete n.currentEventType}var n=this,s="function"==typeof this.applyStyles;s?(this.currentEventType="input",this.applyStyles(e,i),delete this.currentEventType,setTimeout(function(){return TVE.Editor_Page.reposition_icons()}),setTimeout(function(){return t("applyStyles")},100)):t("change")},_click:function(t,e){if(this.toggle&&-1!==e.className.indexOf("active"))return e.classList.remove("active"),this.triggerChange(t,e),!1;if(this.model.config.checkbox){if(e.classList.toggle("active"),this.model.config.required&&!this.getValue())return void e.classList.add("active")}else this.clearActive(),e.classList.add("active");this.triggerChange(t,e)},setActive:function(t){if(this.model.config.checkbox||this.clearActive(),jQuery.isArray(t))this.$(".tve-btn").each(function(){this.classList[-1!==t.indexOf(this.dataset.value)?"add":"remove"]("active")});else{var e=this.$el.find('.tve-btn[data-value="'+t+'"]');e.length?e.addClass("active"):this.$el.find(".default").addClass("active")}},toggleChanged:function(t,e){this.$('[data-value="'+t+'"]').toggleClass("changed",e)},toggleActive:function(t,e){void 0===e&&(e=!this.isActive(t)),this.$el.find('.tve-btn[data-value="'+t+'"]').toggleClass("active",e)},setValue:function(t){this.setActive(t)},removeActive:function(t){this.$el.find('.tve-btn[data-value="'+t+'"]').removeClass("active")},getValue:function(){return this.$(".tve-btn.active").attr("data-value")||null},isActive:function(t){return!!this.$('.tve-btn.active[data-value="'+t+'"]').length},clearActive:function(){this.$el.find(".tve-btn").removeClass("active")},toggleDisabled:function(t,e){return this.$('[data-value="'+t+'"]').toggleClass("tcb-disabled",e),this},toggleInfoText:function(t){return this.$(".info-text").css("display",t?"":"none"),this},summary:function(t,e){return(e=e||!0)?this.$(".control-summary").text(this.get_summary(t)).show():this.$(".control-summary").hide(),this},hasSelectedValue:function(t){return this.$('[data-value="'+t+'"]').hasClass("active")},get_css_class:function(){var t="";return this.model.config.name&&!this.model.config["full-width"]||(t+="full-width"),this.model.config.no_border&&(t+=" hide-borders"),t?t+" ":""},get_buttons:function(){return this.model.config.buttons},get_summary:function(t){t=t||{};var e=[];if(this.$(".tve-btn.active").each(function(){e.push(this.dataset.name||this.textContent)}),e.length===this.model.config.buttons.length)return t.all||"All";if(!e.length)return t.none||"None";var i=e.pop();return e.length&&(i=e.join(", ")+" & "+i),i+(t.suffix||"")}})},"button-panel-group.js":function(t,e,i){var n;jQuery,n=i("../base"),e.exports=n.control.extend({template:TVE.tpl("controls/button-panel-group"),initialize:function(t){if(t.model&&t.model.config?this.data=t.model.config:t.config?this.data=t.config:this.data=t,!this.data||!this.data.buttons)throw new Error("Panel group with no button defined");_.each(this.data.buttons,function(t){if(!t.panel)throw new Error("Missing button panel")}),n.control.prototype.initialize.apply(this,arguments),this.init_panels()},after_render:function(){},icon:function(t){return TVE.icon(t.icon,t.icon_type||"inline")},init_panels:function(){this.panels={},_.each(this.data.buttons,function(t,e){t.panel.on("close",_.bind(this.on_close,this)),this.panels[e]=t.panel},this)},on_close:function(){this.$(".tve-btn").removeClass("active")},panel:function(t){return"function"==typeof t.getAttribute?this.panels[t.getAttribute("data-panel")]:this.panels[t]},close_panels:function(t){if(t.length){var e=this;t.each(function(){e.panel(this).onCancel()})}},tab_click:function(t,e){var i=this.panel(e);return e.classList.toggle("active"),e.classList.contains("active")?(this.close_panels(this.$(e).siblings(".active").removeClass("active")),this.trigger("open",i,e.getAttribute("data-panel")),i.open(this.applyTo(),e)):i.onCancel(),!1}})},"button-toggle.js":function(t,e,i){e.exports=i("../base").control.extend({template:TVE.tpl("controls/button-toggle"),active_class:"tve-button-toggle-active",after_render:function(){this.$b=this.$("button")},_click:function(t,e){this.change(t,e)},setActive:function(t){this.$b.toggleClass(this.active_class,!!t),t&&this.model.config.icon_active?this.$b.html(TVE.icon(this.model.config.icon_active)):!t&&this.model.config.icon_inactive&&this.$b.html(TVE.icon(this.model.config.icon_inactive)),this.model.config.tooltip&&(t?this.addTooltip(this.model.config.tooltip.active):this.addTooltip(this.model.config.tooltip.inactive))},addTooltip:function(t){this.$("button").attr("data-tooltip",t)}})},"checkbox.js":function(t,e,i){var n=i("../base");e.exports=n.control.extend({template:TVE.tpl("controls/checkbox"),initialize:function(t){"function"==typeof this.before_initialize&&this.before_initialize(t),this.render(),"function"==typeof this.after_initialize&&this.after_initialize(t)},isChecked:function(){return this.$el.find(".tve-checkbox").is(":checked")},setValue:function(){this.setChecked.apply(this,arguments)},setChecked:function(t,e){var i=1<arguments.length&&void 0!==e&&e,n=this.$(".tve-checkbox");return n.prop("checked",!!t),i&&n.trigger("change"),this},check:function(t,e){this.change(t,e)},disable:function(){return this.$(".tve-checkbox").prop("disabled",!0),this.$("label").addClass("disabled"),this},enable:function(){return this.$(".tve-checkbox").prop("disabled",!1),this.$("label").removeClass("disabled"),this},getValue:function(){return this.isChecked()}})},"color-picker.js":function(t,e,i){var o,n,r,l,c;o=jQuery,n=i("../base"),r=i("./input"),l=i("../../libs/favorite-colors"),c=i("../../libs/tinycolor"),e.exports=n.control.extend({template:TVE.tpl("controls/color-picker"),events:{"keyup .color-input":"onColorEnter"},css_variable:null,edit_css_variable:null,defaults:function(){return{output:"object",showGradient:!0,showInput:!0,hideOriginalInput:!1,allowEmpty:!0,showAlpha:!0,preferredFormat:"rgb",important:!1,showFavorites:!0,showGlobals:!0,showActiveColorDetails:!0}},after_initialize:function(t){var e=this;if(o.spectrum){var i=o.extend({},this.defaults(),this.$el.data(),this.model.config.options||{}),n=this;this.important=this.model.config.important?"!important":"",this.model.config.label=this.model.config.label||TVE.t.Color,this.colorPicker=this.$(".color-picker"),this.$input=this.$(".color-input");var s=i.change,a=i.move;o.extend(!0,i,{move:_.debounce(function(t){n.edit_css_variable||delete n.css_variable,n.favorites&&n.favorites.on_color_change(t),a&&a(t),TVE.SKIP_CSS_STATE=!0,n.currentEventType="input",n.onInput(t),delete n.currentEventType},0),change:function(t,e){return e&&e.from_input?i.move(t):(n.favorites&&n.favorites.on_color_change(t),s?s(t):(TVE.SKIP_CSS_STATE=!1,n.currentEventType="change",n.colorPicker.spectrum("container").find(".p-global-thumb.active").length&&(n.css_variable=TVE.buildCssVariable(n.colorPicker.spectrum("container").find(".p-global-thumb.active").attr("data-var"))),n.onChange(t),void delete n.currentEventType))},appendTo:"#tcb-drop-panels",show:_.bind(function(){var t=this;i.flat&&this.$el.parents(".drop-panel").length||(this.$(".color-picker-input").addClass("drop-panel-focus"),TVE.main.$(".tve-panel").addClass("drop-panel-open"),setTimeout(function(){return TVE.main.scroll_panel_to(t.colorPicker.spectrum("container"))},50)),n.onShow(),i.showFavorites&&this.favorites.on_color_show()},this),hide:i.hide||_.bind(function(){i.flat||this.$el.parents(".drop-panel").length||(this.$(".color-picker-input").removeClass("drop-panel-focus"),TVE.main.$(".tve-panel").removeClass("drop-panel-open"),i.showFavorites&&n.favorites.on_color_hide())},this),cancel:function(t){TVE.SKIP_CSS_STATE=!1,n.currentEventType="change",t&&TVE.isCssVariable(t)?(e.css_variable=t,t=new c(TVE.getCssVariableValue(t))):delete e.css_variable,e.onChange(t),delete n.currentEventType}}),i.showAlpha&&(i.alpha_input=new r({model:{config:{name:TVE.t.opacity,um:"%",min:0,max:100,maxlength:5}}}),i.alpha_input.$(".input-control").addClass("small")),i.showPalette=!1,i.showFavorites&&(i.showSaveButton=!0,this.favorites=new l,i.saveFavorite=_.bind(this.favorites.add_color,this.favorites),this.favorites.color_picker=this),this.colorPicker.spectrum(i),i.showInput?this.$(".sp-replacer").addClass("has-input"):this.$input.hide(),i.hideOriginalInput&&this.$input.hide(),this.$(".control-grid").toggleClass("full-width",!i.showInput||i.hideOriginalInput),i.showFavorites&&this.favorites.$el.appendTo(this.colorPicker.spectrum("container").find(".sp-favorites-container")),this.colorPicker.find(".sp-choose").on("click",function(t){n.onChange()}),"function"==typeof t.input&&(this.input=t.input),"function"==typeof t.change&&(this.change=t.change),this.options=i,this.config||(this.config={}),TVE.main.states_dropdown.on("done",_.bind(function(){this.isOpen()&&this.colorPicker.spectrum("container").find(".sp-choose").click()},this)),TVE.add_action("tcb.editor_page.disable_clicks",_.bind(function(t){this.isOpen()&&t.panel_action_btn&&this.colorPicker.spectrum("container").find(".action-buttons").addClass("tcb-disabled")},this)),TVE.add_action("tcb.editor_page.enable_clicks",_.bind(function(t){t.panel_action_btn&&this.colorPicker.spectrum("container").find(".action-buttons").removeClass("tcb-disabled")},this)),TVE.main.on("before_device_change",function(){e.isOpen()&&e.colorPicker.spectrum("hide")})}},input:function(t){},onInput:function(t){TVE.SkipUpdate=!0,this.setValue(t,!1,!0),TVE.SkipUpdate=!1},onChange:function(t){TVE.SkipUpdate=!1,this.$input.val(t?t.toHexString():null),this.change(this.getStyle(this.css_variable?this.css_variable:t))},setValueOrNull:function(t){t&&"rgba(0, 0, 0, 0)"!==t&&"transparent"!==t&&"initial"!==t||(t=null),this.setValue(t)},setValue:function(t,e,i){return this.edit_css_variable||delete this.css_variable,TVE.isCssVariable(t)&&(t=TVE.getGlobalVariable(t),TVE.isGlobalColorActive(t)&&(this.css_variable=t),t=TVE.getCssVariableValue(t)),null!==t&&((t=new c(t)).css_variable=this.css_variable),this.colorPicker.spectrum("set",t,e),this.$input.val(t?t.toHexString():null),i&&(TVE.SKIP_CSS_STATE=!0,this.currentEventType="input",this.input(this.getStyle(this.css_variable?this.css_variable:t)),TVE.SKIP_CSS_STATE=!1,delete this.currentEventType),this},setAlpha:function(t){var e=this.colorPicker.spectrum("get");e.setAlpha(t),this.setValue(e)},getStyle:function(t){return"object"===this.options.output?t:{"background-color":t+this.important}},getValue:function(t){return t&&this.css_variable?this.css_variable:this.colorPicker.spectrum("get")},read_background:function(t){var e=this.applyTo(!1,!1,TVE.is_group_editing).head_css("background-color",null,this.config.css_suffix,!0,this.config.css_prefix)||null;return this.setValueOrNull(e),e},onColorEnter:function(t){13===t.keyCode&&(TVE.SkipUpdate=!0,this.colorPicker.spectrum("set",t.target.value),this.input(this.getValue()))},change:function(t){this.input(t)},reflow:function(){this.colorPicker.spectrum("reflow")},reApply:function(){this.change(this.getValue())},save_favorite:function(t){return this.favorites.add_color(t),!1},render_favorites:function(){this.favorites.on_color_show()},cancel:function(){},onShow:function(){delete this.edit_css_variable},isOpen:function(){return this.colorPicker.spectrum("container").is(":visible")},disable_enable_choose_color:function(t){TVE.apply_filters("tcb.disable.enable.color.picker",!0,this.$el)&&(this.colorPicker.spectrum("container").find(".sp-color-inputs").toggleClass("tcb-disabled",t),this.options.showFavorites&&this.favorites.has_template_colors&&this.css_variable&&-1===this.css_variable.indexOf(TVE.CONST.colors.local_prefix)&&this.favorites.$(".tcb-template-colors-container").toggleClass("tcb-disabled",!t))},appliedColor:function(t){return(0<arguments.length&&void 0!==t?t:this.readFrom()).tcbCssVar("--tcb-applied-color").replace("var$","var")}})},"contact-form":{"edit-cf-item.js":function(t,e,i){var n=i("../drop-panel"),s=i("../smart-complete");e.exports=n.extend({template:TVE.tpl("controls/contact-form/edit-cf-item"),_template:TVE.tpl("controls/drop-panel-light"),after_render:function(){this.$type=this.$("select.tcb-cf-item-type"),this.$label=this.$(".tcb-cf-item-label"),this.$placeholder=this.$(".tcb-cf-item-placeholder"),this.$required=this.$(".tcb-cf-item-required"),this.smartComplete=new s({component:this.component}),this.$(".popup-content").append(this.smartComplete.$el),this.$recaptcha_size=this.$("select.tcb-cf-item-recaptcha_size"),this.$recaptcha_style=this.$("select.tcb-cf-item-recaptcha_style"),this.$type.empty(),_.each(this.config.types,function(t,e){this.$type.append(jQuery("<option>",{text:t.label,value:e}))},this)},onOpen:function(t,e){this.type_changed()},type_changed:function(t){t=void 0===t?this.model.get("type"):t,this.$(".tcb-edit-item-category").addClass("tcb-hidden"),"g-recaptcha-response"===t?this.$("#recaptcha.tcb-edit-item-category").removeClass("tcb-hidden"):this.$("#text.tcb-edit-item-category").removeClass("tcb-hidden"),this.smartComplete.$el.toggleClass("tcb-hidden","g-recaptcha-response"===t);var e=this.$(".btn-apply");e.removeAttr("disabled"),this.$("#recaptcha").hasClass("tcb-hidden")||TVE.CONST.api_connections.recaptcha||e.attr("disabled","disabled")},get_data:function(t,e){var i=t.find("input,textarea");return{__new:e,item:t,type:t.find(".thrv-cf-input-wrapper").attr("data-type"),label:t.find("label").text(),placeholder:i.attr("placeholder"),required:!!i.attr("required"),recaptcha_size:t.find(".tve-captcha-container").attr("data-size")||"normal",recaptcha_style:t.find(".tve-captcha-container").attr("data-theme")||"light",defaultValue:i.attr("default-value")||i.attr("value"),autofillType:i.attr("data-complete-type")||"",autofillValue:i.attr("data-complete-value")||""}},change_setting:function(t,e){"checkbox"===e.type&&(e.value=e.checked);var i={},n=e.getAttribute("data-setting"),s=e.value;"type"===n&&(this.type_changed(s),i.label=this.config.types[s].defaults.label,i.placeholder=this.config.types[s].defaults.placeholder),i[n]=s,this.model.set(i),"type"===n&&this.dom()},reset:function(t){this.model=t,this.smartComplete.editField(t),this.disable_used_types(t.get("type")),this.smartComplete.$el.toggleClass("tcb-hidden","g-recaptcha-response"===t.get("type")),this.dom(),this.model.get("__new")&&this.$type.trigger("change")},dom:function(){this.$type.val(this.model.get("type")),this.$label.val(this.model.get("label")),this.$placeholder.val(this.model.get("placeholder")),this.model.get("required")?this.$required.attr("checked","checked"):this.$required.removeAttr("checked"),this.$recaptcha_size.val(this.model.get("recaptcha_size")),this.$recaptcha_style.val(this.model.get("recaptcha_style"))},disable_used_types:function(e){e=void 0===e?null:e,this.$type.find("option").removeAttr("disabled"),this.collection.each(function(t){e!==t.get("type")&&this.$type.find('option[value="'+t.get("type")+'"]').attr("disabled","disabled")},this)},cancel:function(){this.model.get("__new")?this.collection.at(this.collection.length-1).destroy():this.model.restoreState()},apply:function(){this.model.unset("__new"),this.collection.trigger("change")},changeCallback:function(t){this.smartComplete.setData(t)},onClose:function(){this.smartComplete.onClose()}})},"settings.js":function(t,e,i){var n=i("./../../base").control;e.exports=n.extend({template:TVE.tpl("controls/contact-form/settings"),set_model:function(t){return this.model instanceof Backbone.Model?(this.model.clear({silent:!0}),this.model.set(t,{silent:!0}),this.model):this.model=new Backbone.Model(t)},open_modal:function(){}})}},"corners.js":function(t,e,i){var n=i("../base"),s=i("../controls/input");e.exports=n.control.extend({template:TVE.tpl("controls/corners"),corners:["top-left","top-right","bottom-left","bottom-right"],initialize:function(){this.render(),this.controls={BorderRadius:new s({el:this.$el.find(".tve-corner-value"),model:{config:{min:0,um:"PX"}}})},this.controls_init(this.controls)},controls_init:function(t){var s=this;this.controls.BorderRadius.update=function(){var t=this.readFrom(),e=s.style(),i=t.css(e);i||"border-radius"!==e||t.css("border-top-right-radius")!==t.css("border-top-left-radius")||t.css("border-bottom-left-radius")!==t.css("border-bottom-right-radius")||t.css("border-top-right-radius")!==t.css("border-bottom-left-radius")||(i=t.css("border-top-right-radius")),i=i||0,this.setValue(parseInt(i))},this.controls.BorderRadius.input=function(t,e){var i={},n=""===s.current_corner?"border-radius":s.style();e.value=this.prepareValue(e.value,"px"),i[n]=e.value+"px"+(this.config.important?" !important":""),this.config.overflow?i.overflow="hidden":i.overflow="",s.apply_css(this.applyTo(),i,this.config)}},apply_css:function(t,e,i){this.applyElementCss(e,t,i.css_suffix,i.css_prefix),TVE.do_action("tcb_action_corners_added",t)},corner:function(t,e){this.current_corner=e.getAttribute("data-value"),this.$el.find(".tve-corner").removeClass("active"),e.className+=" active",this.controls.BorderRadius.update()},setConfig:function(t,e,i){this.config={to:e,css_suffix:i||""},void 0!==t&&jQuery.extend(!0,this.config,t),this.controls.BorderRadius.setConfig.apply(this.controls.BorderRadius,arguments)},update:function(){this.current_corner="",this.$el.find(".tve-corner").removeClass("active").filter(".default").addClass("active"),this.controls.BorderRadius.update()},style:function(t){return void 0===t&&0===(t=this.current_corner).length?"border-radius":"border-"+t+"-radius"},input:function(){}})},countdown:{"style.js":function(t,e,i){e.exports=i("../style-picker").extend({item_template:function(){return TVE.tpl("controls/countdown/style-picker")},container_class:function(){return"control-grid wrap"},update:function(t){for(var e=t.attr("class").split(" "),i=this.model.config.default,n=0;n<e.length;n++)if("tve_countdown_"==e[n].substr(0,14)){i=e[n];break}this.$(".tve-select-item").removeClass("active").filter("[data-value="+i+"]").addClass("active"),this.model.selected_old=i,this.parent_control&&this.parent_control.set_value(this.getLabel(i))},input:function(t){t.removeClass(function(t,e){return(e.match(/(^|\s)tve_countdown_\S+/g)||[]).join(" ")}),t.addClass(this.model.selected),this.component.trigger_change_date()},cancel:function(t){t.removeClass(this.model.selected).addClass(this.model.selected_old),this.model.selected=this.model.selected_old,this.component.trigger_change_date()},apply:function(t){this.undo_manager_api(t,this.model)},undo_manager_api:function(t,e){var i=e.selected,n=e.selected_old;TVE.UndoManager.add({undo:function(){t.removeClass(i).addClass(n)},redo:function(){t.removeClass(n).addClass(i)}})}})}},credit:{"cards.js":function(t,e,i){var n=i("../drop-panel");e.exports=n.extend({template:TVE.tpl("controls/cards-change"),_template:TVE.tpl("controls/drop-panel-light"),render_item:function(t,e){return this.item_template()({key:t,label:e.label?e.label:e,value:e})},item_template:function(){return _.template('<div class="col-xs-6 card-item tcb-truncate"><label class="tcb-checkbox"><input type="checkbox" class="tve-checkbox click" data-fn="clicked" id="<#=value.identifier#>-tcb-card" value="<#=value.identifier#>"/><span><#=value.label#></span></label></div>')},clicked:function(t,e){var i=t.attr("data-cards").split(","),n={};if(e.checked)i.push(e.value);else{var s=i.indexOf(e.value);-1<s&&i.splice(s,1)}t.attr("data-cards",i),_.each(this.renderer.cards,function(t,e){_.contains(i,e)&&(n[e]=t)},this),this.model.selected=n,this.input(t,e),TVE.Editor_Page.reposition_icons()},input:function(t){this.renderer.set_data({cards:this.model.selected}).render_to(t)},read_from_element:function(){var n=this.applyTo().attr("data-cards").split(","),s={};return _.each(this.renderer.cards,function(t,e){var i=!1;_.contains(n,e)&&(s[e]=t,i=!0),this.$("#"+e+"-tcb-card").prop("checked",i)},this),this.renderer.set_data({cards:s}),s},update:function(){var t=this.read_from_element();this.model.selected=t,this.model.selected_old=t},cancel:function(t){this.model.selected=this.model.selected_old,this.renderer.set_data({cards:this.model.selected_old}).render_to(t),this.renderer.clear_undo_snapshot(),this.read_from_element(),TVE.Editor_Page.reposition_icons()},onOpen:function(t){this.update(),this.renderer.take_undo_snapshot(t)},apply:function(t){this.renderer.render_to(t,!0),this.collection.trigger("reset-for-preview")}})},"style.js":function(t,e,i){e.exports=i("../style-picker").extend({read_from_element:function(){var t=this.applyTo().attr("data-style");return this.renderer.set_data({style:t}),this.showHideMonochromeColorPicker(t),t},container_class:function(){return"control-grid wrap"},item_template:function(){return _.template('<div class="credit-item"><div class="tve-select-item click" data-fn="select" data-value="<#=key #>"><#=value.html#></div></div>')},input:function(t){this.renderer.set_data({style:this.model.selected}).render_to(t)},cancel:function(t){this.model.selected=this.model.selected_old,this.renderer.set_data({style:this.model.selected_old}).render_to(t),this.renderer.clear_undo_snapshot()},onOpen:function(t){this.renderer.take_undo_snapshot(t)},apply:function(t){this.renderer.render_to(t,!0),this.showHideMonochromeColorPicker(t.attr("data-style")),this.collection.trigger("reset-for-preview")},showHideMonochromeColorPicker:function(t){this.parent_control.component.controls.monochrome_background.$el.toggleClass("tcb-hidden","style4"!==t)}})}},"css-variables":{"color.js":function(t,e,i){var n=i("./var-panel-base"),s=i("../color-picker"),h=i("./../../../libs/functions"),u=i("../../../libs/tinycolor"),l=n.extend({template:_.template('<div class="css-variable-color-picker css-variable-picker"></div>'),_template:TVE.tpl("controls/drop-panel-light"),hueChanged:!1,currentHue:0,linked_objects:{},changed:!1,after_initialize:function(){var i=this;TVE.add_filter("tcb.disable.enable.color.picker",function(t,e){return e.hasClass("css-variable-picker")&&(t=!1),t}),this.color=new s({el:this.$(".css-variable-color-picker")[0],model:this.color_options()}),this.color.$el.on("hue.changed.spectrum",_.bind(function(t,e){e<=1&&(e*=360),i.currentHue=parseInt(e),i.hueChanged=!0},this)),this.color.$el.on("color.ration.spectrum",_.bind(function(t,e){i.currentRatio=e},this)),this.color.input=_.bind(this.color_input,this)},color_input:function(t){var n=this;if(this.changed=!0,this.isOpen()){TVE.SKIP_CSS_STATE=!0,this.input(TVE.isCssVariable(t)?t:t.toRgbString()),TVE.changeCssVariableValue(this.model.get("raw_css_variable"),TVE.isCssVariable(t)?t:t.toRgbString());var s=(t=TVE.isCssVariable(t)?u(TVE.getCssVariableValue(t)):t).toHsl();0===s.h&&1===s.l&&0===s.s&&this.hueChanged&&this.color.colorPicker.spectrum("set",u({h:this.currentHue,l:Math.min(.99,Math.max(.01,s.l)),s:Math.min(.99,Math.max(.01,s.s)),a:s.a})),0!==s.s&&0!==s.l||!this.hueChanged||(s.h=this.currentHue),0===s.s&&0===s.l&&(s.s=l.hsvToHsl(parseInt(this.currentHue),this.currentRatio.s,this.currentRatio.v).s),_.each(s,function(t,e){s[e]=h.toFixed(t,2)}),_.each(this.linked_variables,function(t,e){TVE.changeCssVariableValue(e,n.compute_linked_var_value(t,s,e,n.hueChanged))},this),this.paletteVarsDependency.length&&_.each(this.paletteVarsDependency,function(i){_.each(i.linked_variables,function(t,e){TVE.changeCssVariableValue(e,n.compute_linked_var_value(t,s,e,n.hueChanged,i.linked_objects),i.rootElement)})}),this.hueChanged=!1}},compute_linked_var_value:function(t,e,i,n,s,a){var o=4<arguments.length&&void 0!==s?s:this.linked_objects,r=5<arguments.length&&void 0!==a?a:this.originalHSL;return l.modifyLinkedVarValue(t,e,i,n,o,r)},prepare_variable_for_save:function(t){var e=TVE.getCssVariableValue(t);return!_.isEmpty(this.linked_objects)&&this.changed?(this.linked_objects[t].hsl_parent_dependency=this.linked_objects[t].tmp_hsl_parent_dependency,delete this.linked_objects[t].tmp_hsl_parent_dependency,this.linked_objects[t].color&&(this.linked_objects[t].color=e),{value:e,hsl_parent_dependency:this.linked_objects[t].hsl_parent_dependency}):e},alter_sent_data:function(t){if(this.variable.color=t.value,this.paletteVarsDependency.length&&TVE.Views.Controls.Palettes.updatePaletteVariables(this.paletteVarsDependency),this.variable.hsl){var e=u(t.value).toHsl();0===e.s&&0===e.l&&(e.s=l.hsvToHsl(parseInt(this.currentHue),this.currentRatio.s,this.currentRatio.v).s),this.variable.hsl.h=parseInt(this.currentHue),this.variable.hsl.s=h.toFixed(Math.min(.99,Math.max(.01,e.s)),2),this.variable.hsl.l=h.toFixed(Math.min(.99,Math.max(.01,e.l)),2),t.hsl=this.variable.hsl}return t},input:function(t){},color_options:function(){var t=!!this.$el.closest("#tve_cpanel").length;return{config:{options:{output:"object",showInput:!0,showGradient:!1,showAlpha:!0,flat:!0,showButtons:!1,showGlobals:t,globalThumb:t?"favorite_thumb":null}}}},cancel:function(){n.prototype.cancel.apply(this,arguments),delete this.linked_objects},onOpen:function(){var s=this;this.color.colorPicker.spectrum("reflow"),this.color.setValue(this.model.get("css_variable")),this.color.render_favorites();var t,e=u(this.model.get("initial_value"));if(this.originalHSL=e.toHsl(),this.currentHue=this.originalHSL.h,this.changed=!1,this.variable.hsl){var i=u({h:this.variable.hsl.h,l:this.variable.hsl.l,s:this.variable.hsl.s,a:this.originalHSL.a});this.currentHue=parseInt(this.variable.hsl.h),i.css_variable=this.model.get("css_variable"),this.color.colorPicker.spectrum("set",i),this.originalHSL=i.toHsl(),this.originalHSL.h=this.currentHue}if(TVE.isCssVariable(this.model.get("css_variable_value"))&&(t=this.color.$('[data-var="'+TVE.getRawCssVariableName(this.model.get("css_variable_value"))+'"]')),this.color.favorites.select(e.toRgbString(),t),_.each(this.originalHSL,function(t,e){s.originalHSL[e]=h.toFixed(t,2)},this),this.linked_objects={},this.hueChanged=!1,-1<this.model.get("css_variable").indexOf("tcb-local")&&this.model.get("linked_objects")?this.linked_objects=this.model.get("linked_objects"):_.each(this.linked_variables,function(t,e){var i=TVE.extractNumbersFromString(e)[0],n=_.findIndex(s.model.get("variables_set"),function(t){return t.id==i});-1<n&&(s.linked_objects[e]=s.model.get("variables_set")[n],s.linked_objects[e].tmp_hsl_parent_dependency={h:parseInt(s.linked_objects[e].hsl_parent_dependency.h),l:parseFloat(s.linked_objects[e].hsl_parent_dependency.l),s:parseFloat(s.linked_objects[e].hsl_parent_dependency.s)})},this),this.paletteVarsDependency=[],-1===this.model.get("raw_css_variable").indexOf(TVE.CONST.colors.local_prefix)){var n=[];n.push(this.model.get("raw_css_variable")),_.each(this.linked_variables,function(t,e){n.push(e)}),this.paletteVarsDependency=TVE.Views.Controls.Palettes.getLocalVariablesDependency(n)}}},{modifyLinkedVarValue:function(t,e,i,n,s,a){var o=u(t);_.isEmpty(s)||(o=u({h:s[i].hsl_parent_dependency.h,l:Math.min(.99,Math.max(.01,s[i].hsl_parent_dependency.l)),s:Math.min(.99,Math.max(.01,s[i].hsl_parent_dependency.s)),a:u(t).toHsl().a})),n&&o.spin(parseInt(e.h)-parseInt(a.h));var r=o.toHsl();if(!_.isEmpty(s)){0===r.h&&-1===i.indexOf("tcb-local")&&(r.h=s[i].hsl_parent_dependency.h),n&&(s[i].tmp_hsl_parent_dependency.h=parseInt(r.h));var l=s[i].lock;if(_.isEmpty(l)||void 0===l.saturation||0===parseInt(l.saturation)){var c=h.toFixed(e.s-a.s,2);s[i].tmp_hsl_parent_dependency.s=h.toFixed(parseFloat(s[i].hsl_parent_dependency.s)+c,2)}if(_.isEmpty(l)||void 0===l.lightness||0===parseInt(l.lightness)){var d=h.toFixed(e.l-a.l,2);s[i].tmp_hsl_parent_dependency.l=h.toFixed(parseFloat(s[i].hsl_parent_dependency.l)+d,2)}r.h=s[i].tmp_hsl_parent_dependency.h,r.s=Math.min(1,Math.max(0,s[i].tmp_hsl_parent_dependency.s)),r.l=Math.min(1,Math.max(0,s[i].tmp_hsl_parent_dependency.l)),0===r.l&&(r.l=.01),0===r.s&&(r.s=.01)}return u(r).toRgbString()},hsvToHsl:function(t,e,i){var n=(2-e)*i/2;return 0!=n&&(e=1==n?0:n<.5?e*i/(2*n):e*i/(2-2*n)),{h:t,s:e,l:n}}});e.exports=l},"gradient.js":function(t,e,i){var n=i("./var-panel-base"),s=i("../../../libs/gradient-builder"),a=i("../../../libs/gradient-parser"),o=i("../../../libs/gradient-picker");e.exports=n.extend({template:_.template('<div class="css-variable-gradient-layer css-variable-picker"></div>'),_template:TVE.tpl("controls/drop-panel-light"),after_initialize:function(){TVE.add_filter("tcb.disable.enable.gradient.picker",function(t,e){return e.hasClass("css-variable-picker")&&(t=!1),t}),this.picker=new o({el:this.$(".css-variable-gradient-layer")[0]}).on("change",_.bind(this.on_change,this))},on_change:function(t){TVE.changeCssVariableValue(this.model.get("raw_css_variable"),s(t))},dom:function(){this.picker.setValue(a(this.model.get("css_variable"))[0])},onOpen:function(){this.picker.reflow(),this.picker.render_favorites()},input:function(){}})},"var-panel-base.js":function(t,e,i){var a=i("../drop-panel");e.exports=a.extend({panel_position:"right",linked_variables:{},variable:null,reset:function(t){var e=this,i=t.get("css_variable");i?(t.get("linked_variables")||t.set("linked_variables",[]),this.linked_variables={},_.each(t.get("linked_variables"),function(t){e.linked_variables[t]=TVE.getCssVariableValue(t)},this),t.set({initial_value:TVE.getCssVariableValue(i),raw_css_variable:TVE.getRawCssVariableName(i)}),this.model=t,this.variable=t.get("variable")||null,this.dom()):console.warn("Invalid css variable")},position:function(t){if("right"===this.panel_position){if(t){var e=jQuery(t),i=e.offset(),n=this.$el.find(".drop-panel").outerHeight(!0);e.is("svg")&&(e=e.parent());var s={right:"105px",top:""};i.top+n>=window.innerHeight?s.top=window.innerHeight-n-70:s.top=i.top-70,this.$el.css(s),this.$(".tcb-panel-arrow").css({transform:"rotate(90deg)",left:"256px",top:i.top-s.top-25+"px"}),this.last_target=e.addClass("drop-panel-focus")}}else a.prototype.position.apply(this,arguments)},prepare_linked_variables_for_save:function(){var i=this,n={};return _.each(this.linked_variables,function(t,e){n[TVE.extractNumbersFromString(e)[0]]=i.prepare_variable_for_save(e)},this),n},prepare_variable_for_save:function(t){return TVE.getCssVariableValue(t)},alter_sent_data:function(t){return t},compute_linked_var_value:function(){},dom:function(){},apply:function(){var t=TVE.getCssVariableValue(this.model.get("css_variable")),e=this.alter_sent_data(_.extend({post_id:TVE.CONST.post.ID,value:t,linked_variables:this.prepare_linked_variables_for_save()},this.model.get("post_params"))),i=this.model.get("custom_action");this.executeAjax(i,e)},executeAjax:function(t,e){TVE.ajax(t,"post",TVE.apply_filters("tcb.variable.panel.save.data",e,t))},cancel:function(){TVE.changeCssVariableValue(this.model.get("raw_css_variable"),this.model.get("initial_value")),_.each(this.linked_variables,function(t,e){TVE.changeCssVariableValue(e,t)},this)}})}},"custom-menu":{"dropdown-icon.js":function(t,e,i){e.exports=i("../select").extend({update:function(t,e){this.setValue(this.component.menuView.config("dropdown_icon")||this.$select.find("option").val())},changed:function(t,e){t.addClass("tve-custom-menu-upgrade"),this.component.menuView.config("dropdown_icon",e.value),t.find(".tve-item-dropdown-trigger").html(this.getHtml(e.value))},getHtml:function(t){return t=t||_.first(Object.keys(this.model.paths)),'<svg xmlns="http://www.w3.org/2000/svg" class="tve-dropdown-icon-up" viewBox="'+this.model.paths[t].box+'">'+this.model.paths[t].up+"</svg>"}})},"edit-menu-item.js":function(t,e,i){var a,o=i("../../modals/base"),r=i("../jumplinks/element-link"),n=i("../drop-panel");e.exports=n.extend({template:TVE.tpl("controls/custom-menu/edit-menu-item"),_template:TVE.tpl("controls/drop-panel-light"),after_initialize:function(t){var e=this;this.menuElement=TVE.ActiveElement,this.menuItemClone=this.menuElement.find('[data-id="'+this.model.get("id")+'"]').clone().hide().addClass("edit_mode");var i=this.menuItemClone.find("> a"),n=this.menuItemClone.find("> a .tcb-mm-text").length,s=n?this.menuItemClone.find("> a .tcb-mm-text"):this.menuItemClone.find("> a .tve-disabled-text-inner");i.find(".tve-froala").froalaEditor("destroy"),TVE.ClickedElement=s,TVE.inner_$("body").append(this.menuItemClone),TVE.add_action("tcb.jumpmode.enter",function(){e.allow_force_close=!1,e.menuItemClone&&(TVE.JumpSource=e.menuElement)}),TVE.add_action("tcb.element.focus",function(){e.allow_force_close=!0,e.menuItemClone&&(TVE.main.$(".tve-panel").addClass("drop-panel-open"),TVE.ClickedElement=n?e.menuItemClone.find("> a .tcb-mm-text"):e.menuItemClone.find("> a .tve-disabled-text-inner"))}),this.buttonLink=new r({el:this.$(".btn-link")[0],model:{config:{label:TVE.t.btn_link,class:"thrv_widget_menu",keep_links:!0},$edit_link:i}}),this.buttonLink.update(i),this.modal=new o.base({el:o.get_element("options-post-types")}),this.modal.before_save=function(){var t=TVE.ajax_data("save_link_post_types","post",{post_types:this.checkbox_values(".post-type")});jQuery.ajax(t).done(function(t){TVE.page_message(t.message)})},a=jQuery.extend(!0,{},t.model.attributes),this.setValues()},setValues:function(){var i=this;this.$("[data-attr]").each(function(t,e){e.checked=i.model.get(e.dataset.attr)===e.value}),this.$(".tcb-menu-item-text").val(this.model.get("label")),this.$(".tcb-link-suggest").val(this.model.get("href"))},attr:function(t,e){a[e.getAttribute("data-attr")]=e.checked?e.value:""},cancel:function(){this.menuItemClone.remove(),TVE.Editor_Page.focus_element(this.menuElement),delete this.menuItemClone},apply:function(){a.label=this.$(".tcb-menu-item-text").val(),this.model.set(a,{silent:!0}),this.updateModel(),this.model.collection?this.model.collection.trigger("change",{op:"edit",item:this.model.attributes}):(this.menuItemClone.find("> a .tve-disabled-text-inner").html(a.label),this.menuElement.find('[data-id="'+this.menuItemClone.attr("data-id")+'"]').html(this.menuItemClone.html()),TVE.Components.menu.update()),this.menuItemClone.remove(),delete this.menuItemClone},updateModel:function(){var e,i=this,n=i.menuItemClone.find("> a");["href","target","rel","jump-animation","data-shortcode-id","data-dynamic-link"].forEach(function(t){e=n.attr(t),i.model.set(t,e)})},open_settings:function(){return this.modal.open({top:"20%",complete:_.bind(function(){this.$(".tcb-menu-item-text").focus()},this)}),!1},open:function(t,e){n.prototype.open.apply(this,arguments),e.classList.remove("drop-panel-focus")}})},"menu-item-style.js":function(t,e,i){var n,s;jQuery,n=i("../style-picker"),s={},e.exports=n.extend({template:TVE.tpl("controls/custom-menu/style-picker"),after_initialize:function(){var e=this;n.prototype.after_initialize.apply(this,arguments),TVE.add_action("tcb.menu_item_templates",function(t){e.model.config.items=t,e.render()})},read_from_element:function(){if(!this.parent_control.isVisible)return"";var t=!_.isEmpty(this.model.config.items);this.$(".style-set").hide().filter(".set-"+this.menu.config("template")).show().length||(t=!1),this.$(".no-templates").toggle(!t),this.$(".btn-apply").toggleClass("tcb-disabled",!t);var e=TVE.ActiveElement.find(">a").css("font-family");if(e&&void 0===s[e]){var i=TVE.CSS_Rule_Cache.getImportCss(e);if(s[e]=!0,i){var n=i+this.$style.text();this.$style.text(n)}}return this.$(".menu-preview a").css("font-family",e),""},after_render:function(){var s=this,a="";_.each(this.model.config.items,function(t){var n=".set-"+t.id;_.each(t.styles,function(t,e){if(t){s.$(n+" li.li-"+e).css(t.css.computed||{});var i=t.css[TVE.main.responsive.desktop.media];_.each(i,function(t){a+=n+" li.li-"+e+t.suffix+"{"+TVE.CSS_Rule_Cache.objectToCss(t.css)+"}"})}})}),this.$style=this.$(".preview-style").text(a),this.$(".btn-apply").toggleClass("tcb-disabled",_.isEmpty(this.model.config.items)),this.$(".tve-style-options").scrollbar()},getSelected:function(){if(!this.model.selected)return null;var t=this.model.selected.split("::");return this.model.config.items[t[0]].styles[t[1]].css},input:function(t){this.applyTemplate(t,this.getSelected())},cancel:function(t){var i=this;t.each(function(t,e){i.originalStyles[t]&&i.applyTemplate(TVE.inner_$(e),i.originalStyles[t])})},apply:function(t){this.model.selected&&(this.input(t),this.component.update())},onOpen:function(){var i=this;this.model.selected="",this.originalStyles=[],TVE.ActiveElement.each(function(t,e){i.originalStyles[t]=i.menu.getItemStyle(e)})},applyTemplate:function(t,e){this.menu.applyItemTemplate(t,e),this.component.controls.HoverEffect.input(t,{value:e.cls||""})}})},"preview-list.js":function(t,e,i){var n=i("../multilevel-list"),s=i("./edit-menu-item");e.exports=n.extend({getEditPanel:function(t){return new s({model:t})},get_items:function(){return this.component.menuView.get("tree")},attach_collection:function(t){var e=this;return n.prototype.attach_collection.apply(this,arguments),this.collection.on("change",function(){e.component.menuView.refresh()}),this.collection}})}},"date-picker.js":function(t,e,i){var n=i("../base");e.exports=n.control.extend({template:TVE.tpl("controls/date-picker"),initialize:function(){this.render(),this.$el.find(".tve-input-control").datepicker({dateFormat:"dd-mm-yy",beforeShow:function(t,e){jQuery("#ui-datepicker-div").addClass("tve-datepicker")}}),TVE.main.on("clear_focus",_.bind(function(){this.$el.find(".tve-input-control").datepicker("hide")},this))},changed:function(){this.input(this.applyTo(),this.$el.find(".tve-input-control").val())},date_trigger_click:function(){this.$el.find(".tve-input-control").datepicker("show")},setValue:function(t,e,i){this.$el.find(".tve-input-control").datepicker("setDate",new Date(t,e,i))}})},decoration:{"decoration.js":function(t,e,i){var n=i("./slanted"),s=i("./pointer"),a=i("./divider"),o=i("../../base"),r=i("../../controls/modal-picker"),l=i("./svg/fancy_styles");TVE.FancyDividerModal=i("../../modals/fancy-divider"),e.exports=o.control.extend({template:TVE.tpl("controls/decoration/decoration"),controls:{},side:"bottom",screens:["tablet-","mobile-"],clipTypes:["none","slanted","pointer","divider"],selectedDecoration:"none",responsive:{desktop:{media:"(min-width: 300px)",rule_index:0},tablet:{media:"(max-width: 1023px)",rule_index:1},mobile:{media:"(max-width: 767px)",rule_index:2}},after_initialize:function(){var t=this;this.controls={slanted:new n({el:this.$(".tve-slanted-control"),model:{config:{}},component:t}),pointer:new s({el:this.$(".tve-pointer-control"),model:{config:{}},component:t}),divider:new a({el:this.$(".tve-divider-control"),model:{config:{}},component:t}),ModalPicker:new r({el:this.$(".tcb-template-control"),model:{config:{label:"Fancy Divider"}},component:t}),fancy_divider_styles:new l({el:this.$(".tve-fancydivider-control"),model:{config:{}},component:t})},this.controls.ModalPicker.setModal(TVE.FancyDividerModal.get_instance(TVE.modal.get_element("fancy-divider"),t)),this.controls.ModalPicker.setModalTopProp("4%"),this.controls.slanted.component=t,this.controls.pointer.component=t,this.controls.divider.component=t,this.controls.none={},this.controls.none.update=function(){t.removeClip()},this.$(".tve-sub-control").hide(),this.$(".decoration-type select").val("none"),TVE.add_action("tcb.group_edit.status",_.bind(function(t){return this.$element=this.applyTo(null,!0),t},this))},update:function(t){this.$edit_mode=t,this.$element=this.applyTo(null,!0),this.setSide(this.side,!0)},getScreen:function(){return"desktop"===TVE.main.device?"":TVE.main.device+"-"},getPreviousScreen:function(){var t,e=this.getScreen();return-1!==this.screens.indexOf(e)&&"tablet-"==(t="tablet-"==e?"":"tablet-")&&(t=0==this.$element.find("[data-screen="+t+"]").length?"":t),t},clipSelector:function(t){return".clip-path-"+this.getScreen()+t},svgShapesSelector:function(){return".svg-shape-"+this.side},removeClip:function(){_.each(this.$element,function(t,e){var i=TVE.inner_$(t),n=i.find(this.clipSelector(this.side));n.length&&(""===this.getScreen()&&1===i.find(".tve-decoration-svg .decoration-clip ").length?n.remove():n.find("polygon").attr("points","0 0, 0 1, 1 1, 1 0"))},this),this.checkClipPaths()},removeSvgShape:function(){_.each(this.$element,function(t,e){TVE.inner_$(t).find(this.svgShapesSelector()).remove()},this)},chooseType:function(t,e){if(!e.ignore_change&&"desktop"!==TVE.main.device&&this.$element.find(this.svgShapesSelector()).length)return this.$element.find(this.svgShapesSelector()).head_css({display:"none"===e.value?"none":"block"}),this.$(".tve-sub-control").hide(),void("none"!==e.value&&this.$(".tve-"+this.$element.find(this.svgShapesSelector()).attr("decoration-type").replace("_","-")+"-control").show());if(_.contains(this.clipTypes,e.value)){e.ignore_change||this.removeSvgShape(),this.checkSVG();var i=TVE.renderers.base.read_element_props(t);if(this.$(".tve-sub-control").hide(),this.$(".tve-"+e.value+"-control").show(),"none"!==e.value?t.find(this.clipSelector(this.side)).attr("decoration-type",e.value):(e.ignore_change||t.find(this.clipSelector(this.side)).remove(),this.checkClipPaths()),this.controls[e.value].update(),!0!==e.ignore_change){var n=TVE.renderers.base.read_element_props(t);TVE.UndoManager.add({undo:function(){t.html(i.html)},redo:function(){t.html(n.html)}})}}else{var s={value:e.value,ignore_change:e.ignore_change};_.isEmpty(e.ignore_change)&&this.$(".tcb-base-divider-control").val("fancy_divider"),e.ignore_change||(this.removeClip(),this.removeSvgShape()),this.chooseFancyDivider(t,s)}TVE.main.$(".thrv-shadow-notification").toggleClass("tcb-hidden","none"===e.value||"fancy_divider"===e.value),TVE.do_action("tcb.change_decoration",t)},chooseFancyDivider:function(t,e){var i="fancy_divider"===e.value;this.controls.ModalPicker.updateValue(i?"Choose":e.value),this.controls.fancy_divider_styles.update(),this.$(".tve-sub-control").hide(),this.$(".tve-fancydivider-control").toggle(!i),this.$(".tcb-template-control").show(),this.controls.ModalPicker.update()},checkSVG:function(){var s=!["none","fancy_divider"].includes(this.$(".tcb-base-divider-control").val());_.each(this.$element,function(t,e){var i=TVE.inner_$(t);!i.find(".tve-decoration-svg").length&&s&&this.addSVG(i),!i.find(this.clipSelector(this.side)).length&&s&&this.addClipPath(i);var n=i.attr("data-clip-id");1<TVE.Editor_Page.editor.find('*[data-clip-id="'+n+'"]').length&&this.changeIds(n,i)},this)},changeIds:function(i,t){var e,n,s=this.generateID();for(var a in t.attr("data-clip-id",this.$element.attr("data-clip-id").replace(i,s)),t.find(".decoration-clip").each(function(t){var e=jQuery(this);e.attr("id",e.attr("id").replace(i,s)),e.attr("class",e.attr("class").replace(i,s)),e.attr("clip-path")&&e.attr("clip-path",e.attr("clip-path").replace(i,s))}),this.responsive)n="desktop"==a?"":a+"-",(e=t.find('*[data-screen="'+n+'"]').first().attr("id"))&&(t.head_css({"clip-path":"url(#"+e+")"},this.responsive[a].media),t.head_css({"-webkit-clip-path":"url(#"+e+")"},this.responsive[a].media))},addClipPath:function(t){var e=(t=void 0===t?this.$element:t).attr("data-clip-id"),i=this.getScreen(),n=i?"[data-screen="+this.getScreen()+"]":"";e&&t.find("clipPath").length||(e=this.generateID(),this.setClipID(e,t));var s=this.buildClipID(e),a=t.find(".tve-decoration-svg defs ").find(".decoration-clip"+n+":not([clip-path])");0===a.length&&t.find(".tve-decoration-svg .decoration-clip ").length?this.copyScreenDecorations(i,t):(t.find(".tve-decoration-svg defs").append(this.buildClipPath(s)),t.head_css("clip-path")||(t.head_css({"clip-path":"url(#"+s+")"}),t.head_css({"-webkit-clip-path":"url(#"+s+")"})),a.attr("data-screen")==t.find("#"+s).attr("data-screen")&&a.attr("clip-path","url(#"+s+")"))},copyScreenDecorations:function(t,e){if(-1!==this.screens.indexOf(t))var i=this.getPreviousScreen(),n=i?"[data-screen="+i+"]":"";var s,a,o=e.find(".tve-decoration-svg defs").find(".decoration-clip"+n),r=!0;o.each(function(){s=jQuery(this).clone(),a=s.attr("id").replace("clip-"+i,"clip-"+t),s.attr("id",a),s.attr("class",s.attr("class").replace("clip-path-"+i,"clip-path-"+t)),s.attr("clipPathUnits","objectBoundingBox"),s.attr("data-screen",t),s.attr("clip-path")&&s.attr("clip-path",s.attr("clip-path").replace("clip-"+i,"clip-"+t)),r&&(e.head_css({"clip-path":"url(#"+a+")"}),e.head_css({"-webkit-clip-path":"url(#"+a+")"}),r=!1),e.find(".tve-decoration-svg defs").append(s)})},buildClipPath:function(t,e){var i="http://www.w3.org/2000/svg",n=document.createElementNS(i,"clipPath"),s=document.createElementNS(i,"polygon");return e=e||this.getScreen(),n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"class","decoration-clip clip-path-"+e+this.side),n.setAttributeNS(null,"clipPathUnits","objectBoundingBox"),n.setAttributeNS(null,"data-screen",e),s.setAttributeNS(null,"points","0 0, 0 1, 1 1, 1 0"),n.appendChild(s),n},buildClipID:function(t){return"clip-"+this.getScreen()+this.side+"-"+t},setClipID:function(t,e){e=void 0===e?this.$element:e;var i=this.buildClipID(t);e.head_css({"clip-path":"url(#"+i+")"}),e.head_css({"-webkit-clip-path":"url(#"+i+")"}),e.attr("data-clip-id",t)},generateID:function(){return TVE.Components.decoration.generate_id()},addSVG:function(t){(t=void 0===t?this.$element:t).append('<svg width="0" height="0" class="tve-decoration-svg"><defs></defs></svg>')},decorationSide:function(t,e){this.setSide(e.getAttribute("data-value")),this.$el.find(".tve-decoration-side").removeClass("active default"),e.className+=" active"},setSelector:function(t,e){var i=this.getScreen(),n=0<t.find(".clip-path-"+i+this.side).length?i:this.getPreviousScreen(),s=t.find(this.svgShapesSelector()),a=this.$(".tcb-base-divider-control option");if(this.selectedDecoration=t.find(".clip-path-"+n+this.side).attr("decoration-type"),s.length&&"none"!==s.css("display")&&(this.selectedDecoration=s.attr("decoration-type")),this.selectedDecoration||(this.selectedDecoration="none"),this.$(".tve-select").val(this.selectedDecoration),this.chooseType(t,{value:this.selectedDecoration,ignore_change:e}),"desktop"!==TVE.main.device)if(this.$(".tcb-fancy-divider-control").hide(),a.attr("disabled","disabled"),a.filter('[value="none"]').removeAttr("disabled"),s.length)a.filter('[value="fancy_divider"]').removeAttr("disabled");else{var o=t.find(".clip-path-"+this.side).attr("decoration-type");a.filter('[value="'+o+'"]').removeAttr("disabled")}else{a.removeAttr("disabled");var r=a.filter('[value="fancy_divider"]');r.removeAttr("disabled"),_.contains(["left","right"],this.side)&&r.attr("disabled","disabled")}},setSide:function(t,e){this.side=t,e||this.checkSVG(),this.setSelector(this.applyTo(),!0),this.controls.slanted.setSide(t),this.controls.pointer.setSide(t),this.controls.divider.setSide(t),this.controls.ModalPicker._getModal().setSide(t)},checkClipPaths:function(){this.$element.find(".tve-decoration-svg clipPath").length||(this.$element.find(".tve-decoration-svg").remove(),this.$element.head_css({"clip-path":"","-webkit-clip-path":""}),this.$element.removeAttr("data-clip-id"))}})},"divider.js":function(t,e,i){var n=i("../../base"),s=i("../slider");e.exports=n.control.extend({order:["top","left","bottom","right"],controls:{},defaultPoints:"0 0, 0 1, 1 1, 1 0",style:"zigzag",side:"bottom",sizes:{top:{width:null,height:null},left:{width:null,height:null},bottom:{width:null,height:null},right:{width:null,height:null}},template:TVE.tpl("controls/decoration/divider"),after_initialize:function(){var h=this;this.controls.WidthSlider=new s({el:this.$el.find(".tve-divider-width"),model:{config:{default:"10",min:"0",max:"100",label:"Width",um:["%"]}}}),this.controls.HeightSlider=new s({el:this.$el.find(".tve-divider-height"),model:{config:{default:"10",min:"0",max:"100",label:"Height",um:["%"]}}}),this.controls.WidthSlider.input=this.controls.HeightSlider.input=function(t,e){_.each(t,function(t,e){var i,n,s,a,o,r,l=TVE.inner_$(t),c=h.order.indexOf(h.side),d=h.getScreen();i=c-1<0?"right":h.order[c-1],n=3<c+1?"top":h.order[c+1],s=3<c+2?h.order[c-2]:h.order[c+2],h.checkSVG(),o=l.find(".clip-path-"+d+i).first().attr("pointer-height")/100,a=l.find(".clip-path-"+d+n).first().attr("pointer-height")/100,r=l.find(".clip-path-"+d+s).first().attr("pointer-height")/100,o=o?Number(o):0,a=a?Number(a):0,r=r?Number(r):0,h.sizes[h.side].width=Number(h.controls.WidthSlider.value(!1)),h.sizes[h.side].height=Number(h.controls.HeightSlider.value(!1)),l.find(".clip-path-"+d+h.side).first().attr("pointer-width",h.sizes[h.side].width).attr("pointer-height",h.sizes[h.side].height).attr("style",h.style),l.find(".tve-decoration-svg").find(".clip-path-"+d+h.side+" ellipse").remove(),h.sizes[h.side].width&&h.sizes[h.side].height?(h[h.style][h.side](l,h,o,a),l.find(".clip-path-"+d+i).first().attr("style")==h.style&&o&&(l.find(".tve-decoration-svg").find(".clip-path-"+d+i+" ellipse").remove(),h[h.style][i](l,h,r,h.controls.HeightSlider.value(!1)/100)),l.find(".clip-path-"+d+n).first().attr("style")==h.style&&a&&(l.find(".tve-decoration-svg").find(".clip-path-"+d+n+" ellipse").remove(),h[h.style][n](l,h,h.controls.HeightSlider.value(!1)/100,r))):l.find(".clip-path-"+d+h.side+" polygon").first().attr("points",h.defaultPoints)},this)}},curves:{bottom:function(t,e,i,n){var s,a,o,r,l=e.sizes.bottom.height,c=e.sizes.bottom.width,d=c?Math.round(100/c):100,h=e.getScreen();s=((1-(i+n))/(2*d)).toFixed(6),r=1-l/100,a=l/100;for(var u=0;u<d;u++)o=(2*u+1)*s+i,t.find(".clip-path-"+h+"bottom").first().append(e.curves.buildEllipse(o,r,s,a));t.find(".clip-path-"+h+"bottom polygon").first().attr("points",e.curves.buildBindingBox(0,0,1,1-a))},top:function(t,e,i,n){var s,a,o,r,l=e.sizes.top.height,c=e.sizes.top.width,d=c?Math.round(100/c):100,h=e.getScreen();s=((1-(i+n))/(2*d)).toFixed(6),a=r=l/100;for(var u=0;u<d;u++)o=(2*u+1)*s+n,t.find(".clip-path-"+h+"top").first().append(e.curves.buildEllipse(o,r,s,a));t.find(".clip-path-"+h+"top polygon").first().attr("points",e.curves.buildBindingBox(0,a,1,1))},left:function(t,e,i,n){var s,a,o,r,l=e.sizes.left.height,c=e.sizes.left.width,d=c?Math.round(100/c):100,h=e.getScreen();a=((1-(i+n))/(2*d)).toFixed(6),s=o=l/100;for(var u=0;u<d;u++)r=(2*u+1)*a+i,t.find(".clip-path-"+h+"left").first().append(e.curves.buildEllipse(o,r,s,a));t.find(".clip-path-"+h+"left polygon").first().attr("points",e.curves.buildBindingBox(s,0,1,1))},right:function(t,e,i,n){var s,a,o,r,l=e.sizes.right.height,c=e.sizes.right.width,d=c?Math.round(100/c):100,h=e.getScreen();a=((1-(i+n))/(2*d)).toFixed(6),o=1-l/100,s=l/100;for(var u=0;u<d;u++)r=(2*u+1)*a+n,t.find(".clip-path-"+h+"right").first().append(e.curves.buildEllipse(o,r,s,a));t.find(".clip-path-"+h+"right polygon").first().attr("points",e.curves.buildBindingBox(0,0,1-s,1))},buildEllipse:function(t,e,i,n){var s=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return s.setAttributeNS(null,"cx",t),s.setAttributeNS(null,"cy",e),s.setAttributeNS(null,"rx",i),s.setAttributeNS(null,"ry",n),s},buildBindingBox:function(t,e,i,n){return t+" "+e+", "+t+" "+n+", "+i+" "+n+", "+i+" "+e}},zigzag:{bottom:function(t,e,i,n){for(var s,a=e.sizes.bottom.height,o=e.sizes.bottom.width,r="",l="",c="",d=o?Math.round(100/o):100,h=((1-(i+n))/d).toFixed(6),u=e.getScreen(),p=0;p<2*d+1;p++)s=p%2?1:1-a/100,c+=Number((h/2).toFixed(6))*p+i+" "+s+", ";r=n?" "+(1-n)+"  "+(1-a/100)+", 1 "+(1-a/100)+", 1 0":" 1 0",l=i?"0 0, 0 "+(1-a/100)+", "+i+" "+(1-a/100)+", ":"0 0, ",0===Number(o)?t.find(".clip-path-"+u+"bottom polygon").first().attr("points",e.defaultPoints):t.find(".clip-path-"+u+"bottom polygon").first().attr("points",l+c+r)},top:function(t,e,i,n){for(var s,a=e.sizes.top.height,o=e.sizes.top.width,r="",l="",c="",d=o?Math.round(100/o):100,h=((1-(i+n))/d).toFixed(6),u=e.getScreen(),p=0;p<2*d+1;p++){s=p%2?0:0+a/100,c+=1-(Number((h/2).toFixed(6))*p+i)+" "+s+(2*d+1<p+2?"":", ")}r=n?", "+n+"  "+a/100+", 0 "+a/100:", 0 0",l=i?"0 1, 1 1, 1 "+a/100+", "+(1-i)+" "+a/100+", ":"0 1, 1 1,",0===Number(o)?t.find(".clip-path-"+u+"top polygon").first().attr("points",e.defaultPoints):t.find(".clip-path-"+u+"top polygon").first().attr("points",l+c+r)},left:function(t,e,i,n){for(var s=e.sizes.left.height,a=e.sizes.left.width,o="",r=a?Math.round(100/a):100,l=((1-(i+n))/r).toFixed(6),c=e.getScreen(),d=0;d<2*r+1;d++){o+=(d%2?0:s/100)+" "+(Number((l/2).toFixed(6))*d+i)+(2*r+1<d+2?"":", ")}0===Number(a)?t.find(".clip-path-"+c+"left polygon").first().attr("points",e.defaultPoints):t.find(".clip-path-"+c+"left polygon").first().attr("points",s/100+" 0, "+s/100+" "+i+", "+o+", 0 1, 1 1, 1 0")},right:function(t,e,i,n){for(var s=e.sizes.right.height,a=e.sizes.right.width,o="",r=a?Math.round(100/a):100,l=((1-(i+n))/r).toFixed(6),c=e.getScreen(),d=0;d<2*r+1;d++){o+=(d%2?1:1-s/100)+" "+(1-(Number((l/2).toFixed(6))*d+i))+(2*r+1<d+2?"":", ")}0===Number(a)?t.find(".clip-path-"+c+"right polygon").first().attr("points",e.defaultPoints):t.find(".clip-path-"+c+"right polygon").first().attr("points","0 0, 0 1,"+(1-s/100)+" 1,"+(1-s/100)+" "+(1-i)+", "+o+", "+(1-s/100)+" "+n+", "+(1-s/100)+" 0")}},getScreen:function(){return this.component.getScreen()},getPreviousScreen:function(){return this.component.getPreviousScreen()},checkSVG:function(){return this.component.checkSVG()},update:function(){var t=this.applyTo(),e=this.getScreen(),i=0<t.find(".clip-path-"+e+this.side).length?e:this.getPreviousScreen(),n=t.find(".clip-path-"+i+this.side).first().attr("style"),s=t.find(".clip-path-"+i+this.side).first().attr("pointer-height"),a=t.find(".clip-path-"+i+this.side).first().attr("pointer-width");n&&(this.style=n),"divider"==t.find(".clip-path-"+i+this.side).first().attr("decoration-type")&&(this.controls.WidthSlider.setValue(a||5),this.controls.HeightSlider.setValue(s||5,!0)),this.$(".btn-inline.active").removeClass("active"),this.$(".tve-divider-"+this.style).addClass("active")},setSide:function(t){this.side=t,this.update()},setStyle:function(t,e){if(-1===e.className.indexOf("active")){var i=this.getScreen();this.$(".btn-inline.active").removeClass("active"),e.classList.add("active"),this.style=e.getAttribute("data-style"),this.applyTo().find(".clip-path-"+i+this.side).first().attr("style",this.style)}this.update()}})},"pointer.js":function(t,e,i){var n=i("../../base"),a=i("../switch"),o=i("../slider");e.exports=n.control.extend({order:["top","left","bottom","right"],pointerOrder:["first","peak","last"],controls:{},defaultPoints:"0 0, 0 1, 1 1, 1 0",template:TVE.tpl("controls/decoration/pointer"),inverted:!1,pointerCoords:{first:{},peak:{},last:{}},after_initialize:function(){var s=this;this.controls.InvertedDecoration=new a({el:this.$el.find(".tve-pointer-inverted-angle"),model:{config:{label:TVE.t.Invert}}}),this.controls.InvertedDecoration.change=function(t,e){var i=s.getScreen();s.inverted=e.checked,t.find(".clip-path-"+i+s.side).attr("data-inverted",e.checked),e.value=t.find(".clip-path-"+i+s.side).attr("pointer-width"),s.controls.WidthSlider.input(t,e)},this.controls.WidthSlider=new o({el:this.$el.find(".tve-pointer-width"),model:{config:{default:"5",min:"0",max:"90",label:"Width",um:["%"]}}}),this.controls.HeightSlider=new o({el:this.$el.find(".tve-pointer-height"),model:{config:{default:"5",min:"0",max:"90",label:"Height",um:["%"]}}}),this.controls.WidthSlider.input=this.controls.HeightSlider.input=function(t,e){var n=s.getScreen();_.each(t,function(t,e){var i=TVE.inner_$(t);i.find(".clip-path-"+n+s.side+" ellipse").remove(),s["change".concat(TVE.ucFirst(s.side))](i)},this)}},setSide:function(t){this.side=t,this.update()},getScreen:function(){return this.component.getScreen()},getPreviousScreen:function(){return this.component.getPreviousScreen()},checkSVG:function(){return this.component.checkSVG()},changeBottom:function(t){var e,i=this.controls.WidthSlider.value(!1)/100,n=this.controls.HeightSlider.value(!1)/100,s=this.processPath(this.defaultPoints),a=this.pointerCoords,o=this.getScreen();this.inverted?(e=a.first.y=a.last.y=s.bottom.y=s.left.y,a.peak.y=e-n):(e=s.left.y-n,a.first.y=a.last.y=s.left.y=s.bottom.y=e,a.peak.y=1),a.peak.x=.5,a.first.x=(1-i)/2,a.last.x=(1-i)/2+i,this.checkSVG(),t.find(".clip-path-"+o+this.side).first().attr("pointer-width",100*i).attr("pointer-height",100*n).attr("style",""),t.find(".clip-path-"+o+this.side+" polygon").first().attr("points",this.rebuildPath(s,a))},changeRight:function(t){var e,i=this.controls.WidthSlider.value(!1)/100,n=this.controls.HeightSlider.value(!1)/100,s=this.processPath(this.defaultPoints),a=this.pointerCoords,o=this.getScreen();this.inverted?(s.right.x=a.first.x=a.last.x=s.bottom.x,a.peak.x=1-n):(e=s.bottom.x-n,a.first.x=a.last.x=s.bottom.x=s.right.x=e,a.peak.x=1),a.peak.y=.5,a.last.y=(1-i)/2,a.first.y=(1-i)/2+i,this.checkSVG(),t.find(".clip-path-"+o+this.side).first().attr("pointer-width",100*i).attr("pointer-height",100*n),t.find(".clip-path-"+o+this.side+" polygon").first().attr("points",this.rebuildPath(s,a))},changeTop:function(t){var e,i=this.controls.WidthSlider.value(!1)/100,n=this.controls.HeightSlider.value(!1)/100,s=this.processPath(this.defaultPoints),a=this.pointerCoords,o=this.getScreen();this.inverted?(s.right.y=a.first.y=a.last.y=s.top.y,a.peak.y=n):(e=s.right.y+n,a.first.y=a.last.y=s.top.y=s.right.y=e,a.peak.y=0),a.peak.x=.5,a.last.x=(1-i)/2,a.first.x=(1-i)/2+i,this.checkSVG(),t.find(".clip-path-"+o+this.side).first().attr("pointer-width",100*i).attr("pointer-height",100*n),t.find(".clip-path-"+o+this.side+" polygon").first().attr("points",this.rebuildPath(s,a))},changeLeft:function(t){var e,i=this.controls.WidthSlider.value(!1)/100,n=this.controls.HeightSlider.value(!1)/100,s=this.processPath(this.defaultPoints),a=this.pointerCoords,o=this.getScreen();this.inverted?(a.first.x=a.last.x=s.left.x=s.top.x,a.peak.x=n):(e=s.top.x+n,a.first.x=a.last.x=s.top.x=s.left.x=e,a.peak.x=0),a.peak.y=.5,a.first.y=(1-i)/2,a.last.y=(1-i)/2+i,this.checkSVG(),t.find(".clip-path-"+o+this.side).first().attr("pointer-width",100*i).attr("pointer-height",100*n),t.find(".clip-path-"+o+this.side+" polygon").first().attr("points",this.rebuildPath(s,a))},processPath:function(t){var e=t.split(", "),i=[],n=[],s=0,a=this;return e.forEach(function(t){n=t.split(" "),i[a.order[s]]={x:Number(n[0]),y:Number(n[1])},s++}),i},update:function(){var t=this.applyTo(),e=this.getScreen(),i=0<t.find(".clip-path-"+e+this.side).length?e:this.getPreviousScreen(),n=t.find(".clip-path-"+i+this.side).attr("pointer-height"),s=t.find(".clip-path-"+i+this.side).attr("pointer-width");this.inverted="true"===t.find(".clip-path-"+i+this.side).attr("data-inverted"),"pointer"==t.find(".clip-path-"+i+this.side).attr("decoration-type")&&(this.controls.WidthSlider.setValue(s||5),this.controls.HeightSlider.setValue(n||5),this.controls.InvertedDecoration.setChecked("true"===this.inverted),this.controls.WidthSlider.input(t),this.controls.HeightSlider.input(t))},rebuildPath:function(i,n){var s=[],a=this;return this.order.forEach(function(t,e){e==a.order.indexOf(a.side)&&a.pointerOrder.forEach(function(t,e){void 0!==n[t].x&&s.push(n[t].x+" "+n[t].y)}),void 0!==i[t].x&&s.push(i[t].x+" "+i[t].y)}),s.join(", ")}})},"slanted.js":function(t,e,i){var n=i("../../base"),s=i("../switch"),a=i("../slider");e.exports=n.control.extend({order:["top","left","bottom","right"],controls:{},defaultPoints:"0 0, 0 1, 1 1, 1 0",template:TVE.tpl("controls/decoration/slanted"),inverted:"",after_initialize:function(){var o=this;this.controls.InvertedDecoration=new s({el:this.$el.find(".tve-inverted-angle"),model:{config:{label:TVE.t.ChangeDirection}}}),this.controls.InvertedDecoration.change=function(t,e){var i=o.getScreen();o.inverted=e.checked,t.find(".clip-path-"+i+o.side).first().attr("data-inverted",e.checked),e.value=t.find(".clip-path-"+i+o.side).first().attr("slanted-angle"),o.controls.AngleSlider.input(t,e)},this.controls.AngleSlider=new a({el:this.$el.find(".tve-slanted-angle"),model:{config:{default:"5",min:"0",max:"100",label:"Tilt",um:["%"]}}}),this.controls.AngleSlider.input=function(t,e){var i=o.defaultPoints,n=o.processPath(i),s=o.controls.AngleSlider.value(!1),a=o.getScreen();switch(o.side){case"bottom":s<=0?(n[o.next_side].x=1,n[o.next_side].y=0,n[o.side].x=1,n[o.side].y=1):o.inverted?(n[o.prev_side].x=0,n[o.prev_side].y=(1-Math.tan(s*Math.PI/180)).toFixed(4),n[o.side].x=1,n[o.side].y=1):(n[o.side].x=Math.tan((90-s)*Math.PI/180).toFixed(4),n[o.side].y=0,n[o.next_side].x=1,n[o.next_side].y=0);break;case"right":90<=s?(n[o.next_side].x=0,n[o.next_side].y=1,n[o.side].x=0,n[o.side].y=1):o.inverted?(n[o.prev_side].x=(1-Math.tan(s*Math.PI/180)).toFixed(4),n[o.prev_side].y=1,n[o.side].x=1,n[o.side].y=0):(n[o.side].x=(1-Math.tan(s*Math.PI/180)).toFixed(4),n[o.side].y=0,n[o.next_side].x=0,n[o.next_side].y=0);break;case"top":90<=s?(n[o.next_side].x=1,n[o.next_side].y=1,n[o.side].x=1,n[o.side].y=1):o.inverted?(n[o.prev_side].x=1,n[o.prev_side].y=Math.tan(s*Math.PI/180).toFixed(4),n[o.side].x=0,n[o.side].y=0):(n[o.side].x=0,n[o.side].y=Math.tan(s*Math.PI/180).toFixed(4),n[o.next_side].x=0,n[o.next_side].y=1);break;case"left":90<=s?(n[o.next_side].x=0,n[o.next_side].y=0,n[o.side].x=0,n[o.side].y=0):o.inverted?(n[o.prev_side].x=Math.tan(s*Math.PI/180).toFixed(4),n[o.prev_side].y=0,n[o.side].x=0,n[o.side].y=1):(n[o.side].x=Math.tan(s*Math.PI/180).toFixed(4),n[o.side].y=1,n[o.next_side].x=1,n[o.next_side].y=1)}o.checkSVG(),_.each(t,function(t,e){var i=TVE.inner_$(t);i.find(".clip-path-"+a+o.side+" ellipse").first().remove(),i.find(".clip-path-"+a+o.side).first().attr("slanted-angle",s).attr("style",""),i.find(".clip-path-"+a+o.side+" polygon").first().attr("points",o.rebuildPath(n))},this)}},setSide:function(t){this.side=t;var e=this.order.indexOf(this.side);this.next_side=this.order[e+1],e==this.order.length-1&&(this.next_side=this.order[0]),this.prev_side=this.order[e-1],0==e&&(this.prev_side=this.order[this.order.length-1])},getScreen:function(){return this.component.getScreen()},getPreviousScreen:function(){return this.component.getPreviousScreen()},checkSVG:function(){return this.component.checkSVG()},update:function(){this.$element=this.applyTo();var t=this.getScreen(),e=0<this.$element.find(".clip-path-"+t+this.side).length?t:this.getPreviousScreen(),i=Number(this.$element.find(".clip-path-"+e+this.side).attr("slanted-angle")),n=this.$element.find(".clip-path-"+e+this.side).attr("data-inverted");this.controls.InvertedDecoration.setChecked(!(!n||"false"==n)),this.inverted=this.controls.InvertedDecoration.isChecked(),this.controls.AngleSlider.setValue(i||5),isNaN(i)&&this.controls.AngleSlider.input(this.$element)},rebuildPath:function(e){var i=[];return this.order.forEach(function(t){void 0!==e[t].x&&i.push(e[t].x+" "+e[t].y)}),i.join(", ")},processPath:function(t){var e=t.split(", "),i=[],n=[],s=0,a=this;return e.forEach(function(t){n=t.split(" "),i[a.order[s]]={x:Number(n[0]),y:Number(n[1])},s++}),i}})},svg:{"fancy_styles.js":function(t,e,i){var n=i("./svg-base");e.exports=n.extend({template:TVE.tpl("controls/decoration/svg/fancy-divider-styles")})},"svg-base.js":function(t,e,i){var n=i("../../../base"),s=i("../../slider"),a=i("../../switch"),o=i("../../color-picker");e.exports=n.control.extend({template:TVE.tpl("controls/decoration/svg-base"),cache:[],controls:{},after_initialize:function(t){var i=this;this.component=t.component,this.controls.ShapeSvgHeight=new s({el:this.$el.find(".tve-shape-svg-height"),model:{config:{default:127,min:0,max:500,label:"Height",um:["px"]}}}),this.controls.ShapeSvgColor=new o({el:this.$el.find(".tve-shape-svg-color"),model:{config:{label:TVE.t.Color,options:{showInput:!0,showGradient:!1}}}}),this.controls.ChangeDirection=new a({el:this.$el.find(".tve-shape-svg-change-dir"),model:{config:{default:!0,name:"",label:TVE.t.ChangeDirection}}}),this.controls.BringToFront=new a({el:this.$el.find(".tve-shape-svg-bring-front"),model:{config:{default:!0,name:"",label:"Bring to Front"}}}),this.controls.ShapeSvgHeight.input=_.bind(function(t,e){this.applyElementCss({height:e.value+"px"},this.component.$element.find(this.component.svgShapesSelector()),"","",!0)},this),this.controls.ShapeSvgHeight.change=_.bind(function(t,e){this.controls.ShapeSvgHeight.input(t,e),this.cache.height=e.value},this),this.controls.ShapeSvgHeight.update=function(t){var e=parseInt(t.head_css("height"));e&&(i.cache.height=e),this.setValue(e)},this.controls.ShapeSvgColor.input=_.bind(function(t){this.applyElementCss({fill:t},this.component.$element.find(this.component.svgShapesSelector()),"","",!0)},this),this.controls.ShapeSvgColor.change=function(t){i.cache.fill=TVE.isCssVariable(t)?TVE.getCssVariableValue(t):t.toRgbString(),this.input(t)},this.controls.ShapeSvgColor.update=function(t){var e=t.head_css("fill");e=e||t.css("fill"),i.cache.fill=e,this.setValue(e)},this.controls.ChangeDirection.input=_.bind(function(t,e){var i=this.component.$element.find(this.component.svgShapesSelector()),n=i.head_css("transform").split(" "),s=n.indexOf("scaleX(-1)");"1"===i.attr("data-changed-dir")?(-1!==s&&n.splice(s,1),i.removeAttr("data-changed-dir")):(-1===s&&n.push("scaleX(-1)"),i.attr("data-changed-dir","1")),i.head_css({transform:n.join(" ").trim()})},this),this.controls.ChangeDirection.update=function(t){this.setChecked("1"===t.attr("data-changed-dir"))},this.controls.BringToFront.input=_.bind(function(t,e){t.find(".svg-shape-to-front").removeClass("svg-shape-to-front"),e.checked&&this.component.$element.find(this.component.svgShapesSelector()).addClass("svg-shape-to-front")},this),this.controls.BringToFront.update=function(t){this.setChecked(t.hasClass("svg-shape-to-front"))}},update:function(){var e=this.component.$element.find(this.component.svgShapesSelector());_.each(this.controls,_.bind(function(t){t.update(e)},this))},setSide:function(t){delete this.cache.height,delete this.cache.fill,this.side=t}})}}},divider:{"style.js":function(t,e,i){e.exports=i("../style-picker").extend({item_template:function(){return TVE.tpl("controls/divider/style-picker")},update:function(){var t=this.applyTo().find("hr").attr("class").split(" "),e=this.applyTo().mediaAttr("data-style")||this.applyTo.mediaAttr("data-style");if(!e){e=this.model.config.default;var i=t.indexOf("tve_sep");-1<i&&t.splice(i,1),1===t.length&&(e=t[0])}this.$(".tve-select-item").removeClass("active").filter("[data-value="+e+"]").addClass("active"),this.model.selected_old=e,this.parent_control&&this.parent_control.set_value(this.getLabel(e))},container_class:function(){return"control-grid wrap"},input:function(t){var e=t.find("hr");e.removeClass(function(t,e){return(e.match(/(^|\s)tve_sep-\S+/g)||[]).join(" ")}),e.addClass(this.model.selected),t.mediaAttr("data-style",this.model.selected),this.component.addDividerHeadCss(t),TVE.do_action("tcb.divider_style.input",t)},cancel:function(t){t.find("hr").removeClass(this.model.selected).addClass(this.model.selected_old),this.model.selected=this.model.selected_old,t.mediaAttr("data-style",this.model.selected),this.component.addDividerHeadCss(t),TVE.do_action("tcb.divider_style.cancel",t)},apply:function(t){this.component.addDividerHeadCss(t),this.undo_manager_api(t,this.model)},undo_manager_api:function(t,e){var i=this,n=e.selected,s=e.selected_old;TVE.UndoManager.add({undo:function(){t.mediaAttr("data-style",s),t.find("hr").removeClass(n).addClass(s),i.component.addDividerHeadCss(t)},redo:function(){t.mediaAttr("data-style",n),t.find("hr").removeClass(s).addClass(n),i.component.addDividerHeadCss(t)}})}})}},"drop-panel.js":function(t,e,i){var a,n,s,o;a=jQuery,n=i("../base"),s=1,o=n.control.extend({_template:TVE.tpl("controls/drop-panel"),panel_position:"left",allow_force_close:!0,key:function(){return this.$el.data("view")||s++},initialize:function(t){a.extend(!0,this,t),void 0===this.template&&this.model.config.template&&(this.template=TVE.tpl(this.model.config.template)),this.template||(this.template=a.noop),this.append_element(t),this.$el.data("dp-instance",this).on("click",function(t){t.stopPropagation()}),n.control.prototype.initialize.apply(this,arguments),t&&t.no_buttons&&this.$el.addClass("panel-bare"),t&&t.class&&this.$el.addClass(t.class),this.el.style.display="none",TVE.add_action("tcb.editor_page.disable_clicks",_.bind(function(t){this.isOpen()&&t.panel_action_btn&&this.$(".action-buttons").addClass("tcb-disabled")},this)),TVE.add_action("tcb.editor_page.enable_clicks",_.bind(function(t){t.panel_action_btn&&this.$(".action-buttons").removeClass("tcb-disabled")},this))},append_element:function(t){var e=t.appendTo||TVE.main["right"===this.panel_position?"$dropPanelsRight":"$dropPanels"];this.setElement(a("<div>",{id:"tcb-drop-"+(this.$el.data("view")||this.key()),class:"tcb-drop-panel",html:this._template(),"data-view":this.key()}).appendTo(e)[0])},render:function(){return this.$(".popup-content").html(this.template()),"function"==typeof this.after_render&&this.after_render(),this},open:function(t,e){return o.close_all(),this.visible=!0,this.show(),this.position(e),this.onOpen(t,e,this.$el),TVE.main.scroll_panel_to(this.$(".drop-panel")),this.$(".drop-panel").find("input:not([type=hidden]):not([type=radio]):not([type=checkbox]),textarea").filter(":visible").first().focus(),this.$(".scroll-wrapper").length&&this.$el.addClass("scrolled"),!1},isOpen:function(){return this.$el.is(":visible")},hide:function(t,e){this.visible=!1,TVE.main.$cpanel.find(".tve-panel").removeClass("drop-panel-open"),this.last_target&&this.last_target.removeClass("drop-panel-focus"),this.el.style.display="none",this.$(".color-picker").spectrum("hide"),this.trigger("close"),this.onClose(t,e)},isVisible:function(){return this.visible},show:function(){var e=this;return this.el.style.display="block",TVE.$document.off("keydown.drop_panel").on("keydown.drop_panel",function(t){27!==t.which||TVE.prevent_blur||(t.target.blur&&t.target.blur(),e.$(".btn-cancel").click()),13===t.which&&TVE.apply_filters("tcb.droppanel.enter.pressed",!0,a(t.target),t)&&(t.target.blur&&t.target.blur(),e.$(".btn-apply").click())}),TVE.main.$cpanel.find(".tve-panel").addClass("drop-panel-open"),this},position:function(t,e){if(t){var i=a(t),n=i.offset(),s=this.$(".drop-panel").offset()||{top:0,left:9};i.is("svg")&&(i=i.parent()),this.$el.css({top:n.top-this.$el.parent().offset().top+"px"}),this.$(".tcb-panel-arrow").css({left:n.left-s.left+i.outerWidth()/2+"px"}),void 0===e&&(e=i),this.last_target=e.addClass("drop-panel-focus")}},onCancel:function(t,e){this.isVisible()&&(this.hide(t,e),this.cancel(t,e))},onApply:function(t,e){this.isVisible()&&(!0===this.validate(t,e)?(this.apply(t,e),this.hide(t,e)):this.FORCE_CLOSE&&this.hide(t,e))},validate:function(){return!0},cancel:function(){throw new Error(this.key()+": Cancel function not implemented for this drop panel!!!")},apply:function(){},onOpen:function(t,e){},onClose:function(t,e){}},{close_all:function(){TVE.main.$dropPanels.add("#inline-drop-panels").add(TVE.main.$dropPanelsRight).find(".tcb-drop-panel").filter(":visible").each(function(){var t=a(this).data("dp-instance");t&&t.allow_force_close&&(t.FORCE_CLOSE=!0,t.onApply(t.applyTo()),delete t.FORCE_CLOSE)})}}),e.exports=o},"element-states.js":function(t,e,i){var n=i("../base").base_view,s="tcb-relative",a="tcb-hidden",o=i("../drop-panels/reset-state");e.exports=n.extend({template:TVE.tpl("element-states"),initialize:function(){var t=this;n.prototype.initialize.apply(this,arguments),setTimeout(function(){t.resetState=new o({model:{}})},1e3),this.dom={toggle:this.$(".state-switch"),current:this.$(".current-state"),dropdown:this.$(".drop-content")},this.$el.hasClass(s)||this.$el.addClass(s),this.s="default"},disable:function(){this.$el.parent().addClass("no-states"),this.disabled=!0},enable:function(){return this.$el.parent().removeClass("no-states"),delete this.disabled,this},toggle_dropdown:function(){return this.disabled||(this.dom.dropdown.toggleClass(a),this.dom.toggle.toggleClass("active")),!1},hide_dropdown:function(){return this.dom.dropdown.addClass(a),this.dom.toggle.removeClass("active"),this},state_select:function(t){if(this.disabled)return!1;var e=t.currentTarget.dataset.state;return this.hide_dropdown(),e===this.s||(this.s=e,this.trigger("state_change",e),TVE.inner.$body.on("keyup.state_cancel",jQuery.proxy(function(t){if(27===t.which)return this.done()},this)),this.update_dom(e),TVE.state_manager.is_default()||this.$(".reset-state-button").toggleClass("tcb-hidden",null!==TVE.ActiveElement.attr("class").match(/tcb-global-\S*/)&&!(TVE.main.EditMode.element()&&TVE.main.EditMode.element()===TVE.ActiveElement))),!1},get_state_label:function(t){return this.dom.dropdown.find('a[data-state="'+t+'"]').text()},update_dom:function(t){t=void 0===t?"default":t;var e=this.get_state_label(t);return this.dom.current.text(e),TVE.main.set_element_name(null,"default"!==t?": "+e.toUpperCase():null),this.hide_dropdown(),this.$("li").removeClass("selected").filter('[data-state="'+t+'"]').addClass("selected"),this.$(".reset-state-button").toggleClass("tcb-hidden",TVE.state_manager.is_default()),this.toggleExtraStates(TVE.Elements[TVE._type(TVE.ActiveElement)]),!1},done:function(){return"default"===this.s?this.hide_dropdown():(TVE.inner.$body.off("keyup.state_cancel"),TVE.Views.Controls.DropPanel.close_all(),this.trigger("done"),this.s="default",this.update_dom()),!1},toggleExtraStates:function(t){var e=TVE.apply_filters("tcb.toggle_active_state",t.active,TVE.ActiveElement);this.$('[data-state="active"]').toggleClass("tcb-hidden",!e),e&&this.$('[data-state="active"] a').html(t.active_state_label),this.$('[data-state="expanded"]').toggleClass("tcb-hidden",!TVE.apply_filters("tcb.toggle_expanded_state",t.expanded,TVE.ActiveElement))},toggleResetState:function(){return this.resetState.isVisible()?this.resetState.onCancel():this.resetState.open(TVE.ActiveElement,this.$(".reset-state-button")[0]),!1}})},"file.js":function(t,e,i){var n=i("../base"),s=i("../../libs/file-picker");e.exports=n.control.extend({ICONS:{video:"video"},template:TVE.tpl("util/file-picker"),config:{type:"image",preselect_full_size:!1},labels:{choose:TVE.t.ChooseFile,title:TVE.t.Files},initialize:function(t){this.labels=_.defaults(t.labels||{},this.labels),this.config=_.defaults(t.config||{},this.config),this.selection=null,this.picker=new s({title:this.labels.title,library:{type:this.config.type},preselect_full_size:this.config.preselect_full_size}).on_select(this._select,this),t.template_name&&(this.template=TVE.tpl(t.template_name)),this.render()},open_media:function(){this.picker.open()},set:function(t){this.selection=_.extend({},t),this.selection&&!this.selection.title&&this.default_title(),this.render()},get:function(){return this.selection||{}},_select:function(t,e){this.selection=t,!this.selection&&e&&(this.selection=e),this.set(this.selection),this.trigger("select",t,e)},remove:function(){return this.trigger("remove"),this.selection=null,this.render(),!1},preview_icon:function(){return"image"===this.config.type?'<div class="preview" style="background-image: url('+this.selection.url+')"></div>':TVE.icon(this.ICONS[this.config.type])},default_title:function(){return this.selection&&this.selection.url&&(this.selection.title=this.selection.url.replace(/\/$/,"").split("/").pop(),this.selection.title||(this.selection.title="[no title]")),this}})},"font-face.js":function(t,e,i){var n=i("./style-change"),s=i("./font-manager");e.exports=n.extend({before_render:function(){n.prototype.before_render.apply(this,arguments),this.get_config("label")||(this.model.config.label=TVE.t.Font)},after_init:function(){var t;t=this.component.controls[this.key()]=new s({model:this.model,component:this.component}),this.set_drop_panel(t)}})},"font-manager":{"custom.js":function(t,e,i){jQuery,e.exports={update:function(t,e,i){this.$select=this.$dom.find(".font-select"),this.font=this.fonts[e],this.validate()&&i&&this.css(t)},validate:function(){return!(!this.font||!this.font.family)},get_target:function(t){if(t.closest(".tve-landing-page-text-preview").length)return t;var e=TVE.ELEM.text+",span";return t.find(e)},css:function(t){var e=t.applyTo();return t.seems_custom=!0,e.head_css({"font-family":""},null,"",!0,""),TVE.froala.has_selection()?TVE.froala.exec("format.apply","span",{class:this.font.class}):(e=this.remove_classes(e)).addClass(this.font.class),t.set(this.font.family),this.font.family},setValue:function(t){this.$select&&this.$select.val(t)},reset:function(){},remove_classes:function(t){return setTimeout(function(){TVE.Editor_Page.reposition_icons()},100),this.get_target(t).removeClass(function(t,e){return(e.match(/(^|\s)ttfm\S+/g)||[]).join(" ")})}}},"default.js":function(t,e,i){e.exports={update:function(t,e,i){this.$select=this.$dom.find(".font-select"),this.font=this.fonts[e].family,this.validate()&&i&&this.css(t)},validate:function(){return this.font&&0<this.font.trim().length},css:function(t){return t.seems_custom=!1,t.set(this.font),this.font},reset:function(){this.$select&&this.$select.val("")},setValue:function(t){this.$select&&this.$select.val(t)}}},"google.js":function(t,e,i){var l;l=jQuery,e.exports={update:function(t,e,i){var n=t.fonts.google.fonts[e],s=this,a="latin",o=TVE.FontManager.get_imported_fonts();if(this.fonts=t.fonts.google.fonts,this.$font=t.$(".tve-google-font-select"),this.$weight=t.$(".tve-google-weigh-select").empty(),this.$bold=t.$(".tve-google-bold-select").empty(),this.$subsets=t.$(".tve-google-subsets-select").empty(),this.$italic=t.$(".google-italic"),this.$font.data("key",e),n){if(this.has_italic=!1,_.each(n.variants,function(t,e){-1!==t.indexOf("italic")||-1!==t.indexOf("i")?s.has_italic=!0:!isNaN(t)&&t<400&&s.$weight.append(l("<option>",{value:t,text:t}))}),this.has_italic?this.$italic.parents(".has-italic").show():this.$italic.prop("checked",!1).parents(".has-italic").hide(),t.last_initial_weight=t.initial_weight,(void 0===t.initial_weight||"bold"===t.initial_weight||""===t.initial_weight||400<parseInt(t.initial_weight))&&void 0!==o[n.family]&&(t.initial_weight=o[n.family].variants[0]),t.initial_weight&&400<parseInt(t.initial_weight)&&(t.initial_weight="400"),this.$weight.append(l("<option>",{value:400,text:"400"})).val(t.initial_weight||"400"),void 0!==t.initial_bold&&""!==t.initial_bold||void 0!==o[n.family]&&(t.initial_bold=o[n.family].variants[1],t.last_bold_weight=t.initial_bold),_.each(n.variants,function(t,e){!isNaN(t)&&400<t&&s.$bold.append(l("<option>",{value:t,text:t}))}),t.initial_bold?this.$bold.val(t.initial_bold):this.$bold[0].selectedIndex=0,this.has_italic&&void 0!==o[n.family]){var r=!1;_.each(o[n.family].variants,function(t){if(-1!==t.indexOf("italic")||-1!==t.indexOf("i"))return!(r=!0)}),this.$italic.prop("checked",r)}0===this.$bold.find("option").length&&this.$bold.append(l("<option>",{value:"",text:"Bold"}).prop("selected",!0)),_.each(n.subsets,function(t){s.$subsets.append(l("<option>",{value:t,text:t}))}),t.imported_fonts[n.family]&&(a=t.imported_fonts[n.family].subsets),s.$subsets.val(a),i&&this.css(t)}},validate:function(){var t=this.data();return!(!t.family||!t.subsets)&&(!!TVE.froala.has_selection()||0<t.variants.length)},data:function(){var t=this.$italic.prop("checked"),e=this.$weight.val(),i=this.$bold.val(),n=[e,e&&t?e+"i":"",i,i&&t?i+"i":""].filter(function(t){return t&&0<t.trim().length});return{family:this.fonts[this.$font.data("key")].family,variants:n,subsets:this.$subsets.val(),remove_italic:!t}},css:function(t){var e=this.$font.data("key"),i=this.data();return TVE.FontManager.import_font(i),t.initial_bold&&(t.last_bold_weight=t.initial_bold),t.initial_bold=this.$bold.val(),t.initial_weight=this.$weight.val(),t.imported_fonts[i.family]=i,t.seems_custom=!1,t.set(this.fonts[e].family,t.initial_weight,t.initial_bold),this.fonts[e].family},reset:function(){this.$font&&this.$font.val(""),this.$weight&&this.$weight.val(""),this.$subsets&&this.$subsets.val("")},setValue:function(t){this.$font&&this.$font.val(this.fonts[t].family)}}},"inherit.js":function(t,e,i){e.exports={update:function(t){t.seems_custom=!1,t.set("inherit")},validate:function(){return!0},reset:function(){},css:function(){}}}},"font-manager.js":function(t,e,i){var n,s;n=jQuery,s=i("./drop-panel"),e.exports=s.extend({_font_manager:{__default:i("./font-manager/default"),google:i("./font-manager/google"),inherit:i("./font-manager/inherit"),custom:i("./font-manager/custom")},_template:TVE.tpl("controls/drop-panel-light"),update:function(t){var e=this.applyTo();this.initial_font=this.readFrom().tcbCss("--tve-font-family")||e.head_css("font-family",!1,this.config.css_suffix,TVE.FLAGS.hover_element,this.config.css_prefix),this.inherited=!this.initial_font||"inherit"===this.initial_font,this.initial_font&&"inherit"!==this.initial_font||(this.initial_font=this.readFrom().css("font-family")),this.initial_weight=e.head_css("--g-regular-weight")||e.head_css("font-weight",!1,this.config.css_suffix,!0,this.config.css_prefix),this.initial_bold=e.head_css("--g-bold-weight")||e.head_css("font-weight",!1," strong",!1,this.config.css_prefix),this.seems_custom=-1!==String(e.attr("class")).indexOf("ttfm"),this.readFont(t),this.setInputValue(this.initial_font)},setInputValue:function(t){var e=this.__original_section;void 0!==t&&t&&"inherit"!==t||(t=TVE.ActiveElement.css("font-family"),e="inherit"),t=t.length&&"inherit"===e&&"inherit"!==t?"Inherit: ["+t+"]":t,this.parent_control.set_value(t)},before_initialize:function(){this.fonts=TVE.CONST.fonts,this.fonts.google.fonts=TVE.FontManager.get_google_fonts(),this.format_google_fonts(),this.section=!1},after_initialize:function(){var t=this.fonts.google.formated,e=this.$(".tve-google-font-select"),i=this.$(".tve-select-google-font-select");i.hide(),this.render_autocomplete(e,t),this.render_select(i,TVE.FontManager.get_recommended_fonts()),this.set_imported_fonts(),0===this.fonts.custom.fonts.length&&this.$('.tve-font-select  option[value="custom"]').attr("disabled","disabled").hide(),this.$('.tve-font-select  option[value="inherit"]').html(TVE.CONST.landing_page?TVE.t.inherit_lp_font:TVE.t.inherit)},set_imported_fonts:function(){TVE.BROWSER.mozilla?TVE.main.on("tve_stylesheet_loaded",_.bind(function(){this.imported_fonts=TVE.FontManager.get_imported_fonts()},this)):this.imported_fonts=TVE.FontManager.get_imported_fonts()},format_google_fonts:function(){var i=[];_.each(this.fonts.google.fonts,function(t,e){i.push({key:e,value:t.family,label:t.family})}),this.fonts.google.formated=i},render_autocomplete:function(e,t){var i=this;e.data("autocomplete")&&e.autocomplete("destroy"),e.autocomplete({source:t,delay:100,minLength:0,appendTo:e.parent(),open:function(){var t=e.autocomplete("widget");return t.css({display:"block",width:t.parent().width()+"px"}),!1},select:function(t,e){i._font_manager.google.update(i,e.item.key,!0),t.stopPropagation()}}).autocomplete("widget").addClass("tcb-suggest tcb-fonts tcb-absolute").css("max-width","100%"),e.bind("click",function(){e.autocomplete("search")})},render_select:function(i,t){t.forEach(function(t,e){i.append(n("<option>",{text:t.label,value:t.key}))})},googleSelectRecommended:function(t,e,i){this._font_manager.google.update(this,e.value,!0),this._font_manager.google.setValue(e.value)},sourceChange:function(t,e){this.showSection(e.value,!0),"inherit"===e.value&&this._font_manager.inherit.update(this),TVE.main.scroll_panel_to(this.$(".drop-panel"))},showSection:function(t,e){this.$(".font-section").hide(),this.section=t,this.$('.font-section[data-section="'+t+'"]').show(),e&&this.get_manager().reset()},readFont:function(){var s=this.initial_font,a="",o="inherit";if(!this.inherited&&s&&(s=s.replace(/"/g,""),this.seems_custom&&this.fonts.custom&&this.fonts.custom.fonts&&_.some(this.fonts.custom.fonts,function(t,e){if(t.family===s)return o="custom",a=e,!0}),"custom"!==o&&_.some(this.fonts,function(t,i){var n=!1;return _.some(t.fonts,function(t,e){return t.family===s&&(o=i,a=e,n=!0),n}),n})),this.$(".tve-font-select").val(o),"inherit"!==o&&""!==a){var t=this.get_manager(o);t.setValue(a),t.update(this,a,!1)}this.$(".has-weight")[TVE.froala.has_selection()?"hide":"show"](),this.showSection(o),this.__original_section=o},googleRecommended:function(t,e,i){var n,s=this.$(".tve-google-font-select");this.$(".tve-google-font-recommeneded").is(":checked")?(n=TVE.FontManager.get_recommended_fonts(),this.$(".tve-google-font-select").hide(),this.$(".tve-select-google-font-select").show()):(n=this.fonts.google.formated,this.$(".tve-google-font-select").show(),this.$(".tve-select-google-font-select").hide()),this.render_autocomplete(s,n)},clear:function(){this.applyTo().head_css({"font-family":"","--tve-font-family":"","font-weight":"","font-style":""},null,this.config.css_suffix,!1,this.config.css_prefix)},set:function(t,e,i){TVE.SkipUpdate=!0;var n=this.applyTo(),s=n;if((void 0===t||"inherit"===t&&TVE.CONST.landing_page)&&(t=""),this.seems_custom||this._font_manager.custom.remove_classes(s),-1!==t.indexOf(",")){var a="",o=t.split(",");TVE.froala.has_selection()?_.each(o,function(t,e){t=t.trim(),a+=t+","}):_.each(o,function(t,e){-1!==(t=t.trim()).indexOf(" ")&&(t=" "+t+" "),a+=t+","}),t=a.slice(0,-1)}else-1!==t.indexOf(" ")&&(t='"'+t.replace(/^"/g,"").replace(/"$/g,"")+'"');if(this.model.config.inline&&TVE.froala.editor){var r=TVE.froala.get_block_element();if(!TVE.froala.has_selection()||TVE.froala.editor.selection.isFull()||TVE.froala.selectionIsFullBlock()){var l={"font-family":t+"!important","--g-regular-weight":e||"","--g-bold-weight":i||""};if(this.component&&this.component.controls.TextStyle&&!this.component.controls.TextStyle.isActive("bold")&&(l["font-weight"]="var(--g-regular-weight, normal) !important"),!1!==TVE.apply_filters("tcb.text.apply_style",!0,r,l,i)&&(r.head_css(l,"","",!1,TVE.apply_filters("wrapper_selector",TVE.CONST.global_css_prefix)+" "),void 0!==i&&r.head_css({"font-weight":i?i+"!important":""},!1," strong",!1,this.config.css_prefix)),TVE.froala.editor.selection.isFull()||TVE.froala.selectionIsFullBlock()){var c={"font-family":"","font-weight":""};r.find("span").head_css(c).css(c).head_css(c,!1," strong",!1,this.config.css_prefix)}s=s.add(r)}else if(t=t.replace(/"/g,"'"),TVE.froala.exec("format.applyStyle","font-family",t),void 0!==e&&TVE.froala.exec("format.applyStyle","font-weight",e),s=s.add(TVE.froala.get_selection_element()),this.component.apply_head_css&&(this.component.apply_head_css(),void 0!==i)){var d=TVE.inner_$(TVE.froala.editor.selection.element());d.attr("data-css")&&d.head_css({"font-weight":i?i+" !important":""},!1," strong")}}else this.savedData={value:t,regularWeight:e,boldWeight:i},this.writeCSS(n,t,e,i)},writeCSS:function(t,e,i,n){var s=2<arguments.length&&void 0!==i?i:"",a=3<arguments.length&&void 0!==n?n:"",o=t.head_css("font-weight",!1,this.config.css_suffix,!0,this.config.css_prefix),r={"font-family":e?"var(--tve-font-family, ".concat(e,")"):""};if(this.component){var l=this.component.controls.TextStyle;l.applyStyles&&l.applyStyles(t,l.$('[data-value="bold"]')[0])}t.is(".tve_lg_submit")&&("bold"===o||400<=parseInt(o))&&(r["font-weight"]=o),t.head_css(r,!1,this.config.css_suffix,!0,this.config.css_prefix),t.head_css({"--tve-font-family":e,"--g-regular-weight":s||"","--g-bold-weight":a||""}),setTimeout(function(){TVE.Editor_Page.reposition_icons()},100)},cancel:function(t){if(void 0!==this.is_update_end&&!1===this.is_update_end&&(this.is_update_end=!0),"inherit"===this.__original_section){var e=t.head_css("font-weight",!1,this.config.css_suffix,!0,this.config.css_prefix);this.set("inherit",e)}else this.set(this.initial_font,this.last_initial_weight,this.last_bold_weight);this.update()},apply:function(t){this.validate()&&(TVE.SKIP_CSS_STATE=!1,!this.model.config.inline&&this.savedData&&(this.writeCSS(t,this.savedData.value,this.savedData.regularWeight,this.savedData.boldWeight),delete this.savedData),this.update(),this.hide())},input:function(t,e){this.change(t,e)},validate:function(){return this.get_manager().validate()},change:function(t,e){this.validate()&&(TVE.SKIP_CSS_STATE=!0,this.get_manager(e.dataset.font).css(this))},toggleItalic:function(t,e){this._font_manager.google.css(this)},fontChange:function(t,e){var i=e.getAttribute("data-font");this.get_manager(i).update(this,e.value,!0)},get_manager:function(t){t=t||this.section;var e=void 0!==this._font_manager[t]?this._font_manager[t]:this._font_manager.__default;return e.$dom=this.$('.font-section[data-section="'+t+'"]'),e.fonts=this.fonts[t]&&this.fonts[t].fonts,e},remove_custom_font:function(t){t.removeClass(function(t,e){return(e.match(/(^|\s)ttfm\S+/g)||[]).join(" ")})}})},"font-size.js":function(t,e,i){var n=i("./slider");e.exports=n.extend({before_update:function(t){this.model.config.max=parseInt(t.parent().css("font-size"))*this.default_limits.max_em}})},global:{"style-control.js":function(t,e,i){var n=i("../drop-panel");e.exports=i("../../base").control.extend({template:TVE.tpl("controls/global/style-control"),set_drop_panel:function(t){if(!t instanceof n)throw new Error("Style changer expects a DropPanel instance");this.panel=t,this.panel.parent_control=this},open_panel:function(t,e){return this.panel&&t&&this.panel.open(t,e),!1},update:jQuery.noop})},"style-panel.js":function(t,e,i){var n=i("../drop-panel");e.exports=n.extend({template:TVE.tpl("controls/global/style-panel"),_template:TVE.tpl("controls/drop-panel-light"),element_type:null,rename_only:null,preview_container_selector:"#global-style-preview-html",after_render:function(){this.$previewHTML=this.$(this.preview_container_selector),this.$previewCSS=this.$("#global-style-preview-css"),this.$description=this.$("#global-style-desc"),this.$styleName=this.$("#global-style-name")},reset:function(t){this.element_type=TVE.Components["shared-styles"].get_element_type(TVE._type(t)),this.$styleName.val("").attr("placeholder",TVE.Elements[this.element_type].name+" "+TVE.t.style_name),this.$previewHTML.html(""),this.$previewCSS.html("")},onOpen:function(t,e){this.reset(t);var i,n=TVE.tpl("controls/global/style-"+this.element_type),s={cls:"",text:""},a=t.collect_head_css(),o=a["(min-width: 300px)"]?a["(min-width: 300px)"]:"",r=TVE.apply_filters("tcb.global_preview_class",TVE.getClassThatContains(t,TVE.CONST.global_cls_prefix),t);r&&(s.cls=r),(i=jQuery(n(s))).attr("data-css",t.attr("data-css")),this.adjust_preview_for_element(i,t),this.$previewHTML.html(i).find("p").remove(),this.$previewCSS.html(TVE.apply_filters("tcb.global_preview_css",o.replace(TVE.escapedRegEx(TVE.CONST.global_css_prefix,"g"),this.preview_container_selector),this.preview_container_selector,t)),e.classList.contains("save-as-global-style")&&this.apply_font_to_preview(i),this.$description.html(TVE.t.global.element_style.replace("%s",TVE.Elements[this.element_type].name))},adjust_preview_for_element:function(t,e){"section"===this.element_type?(t.find(".tve-page-section-in").attr("data-css",e.find(".tve-page-section-in").attr("data-css")),t.find(".tve-page-section-out").attr("data-css",e.find(".tve-page-section-out").attr("data-css"))):"contentbox"===this.element_type&&(t.find(".tve-content-box-background").attr("data-css",e.find(".tve-content-box-background").attr("data-css")),t.find(".tve-cb").attr("data-css",e.find(".tve-cb").attr("data-css")))},apply_font_to_preview:function(){var t,e="",i="";if("button"===this.element_type&&(e=this.$previewHTML.find(".tcb-button-link").css("font-family")),e=e.replace(/['"]+/g,"").trim(),!1===TVE.FontManager.is_web_safe_font(e)){t=TVE.CSS_Rule_Cache.getImports();for(var n=0;n<t.length;n++)if(-1<t[n].indexOf(e.replace(/ /g,"+"))){i=t[n];break}}i.length&&TVE.$(".tve_global_style")[0].sheet.insertRule(i,0)},validate:function(){var t=0!==this.$styleName.val().length;return!1==t&&TVE.page_message(TVE.t.global.style_name_required,!0),t},dom:function(){this.$styleName.val(this.component.global_style.name)},cancel:jQuery.noop,apply:function(t){if(this.rename_only){var e=this.$styleName.val();TVE.Components["shared-styles"].save_style({name:e,ignore_css:1}),this.component.global_style.name=e,delete this.rename_only,TVE.Components["shared-styles"].controls.preview.update_ui(e)}else TVE.Components["shared-styles"].add_style(this.$styleName.val())}})},"style-picker.js":function(t,e,i){var n=i("../style-picker");i("../../../libs/functions");e.exports=n.extend({prev_element_data:{},non_global_css:[],sub_elements:[],$elem_templates:"",global_styles_set:{},container_class:function(){return""},after_render:function(){this.$elem_templates=this.$el.find(".tcb-element-templates")},read_from_element:function(){var t=this.readFrom();return this.global_class=TVE.getClassThatContains(t,TVE.CONST.global_cls_prefix),this.elem_type=TVE.Components["shared-styles"].get_element_type(TVE._type(t)),this.hasBackgroundContent=!1,_.isEmpty(TVE.CONST.global_styles["tpl_"+this.elem_type])||(this.global_styles_set[TVE.t.global.template_styles.toUpperCase()]=TVE.CONST.global_styles["tpl_"+this.elem_type]),_.isEmpty(TVE.CONST.global_styles[this.elem_type])||(this.global_styles_set[TVE.t.global.global_styles.toUpperCase()]=TVE.CONST.global_styles[this.elem_type]),this.global_styles_set=TVE.apply_filters("tcb.global.stylepicker.styles",this.global_styles_set,this.elem_type),_.isEmpty(this.global_styles_set)?"":(_.each(this.global_styles_set,function(t,e){_.each(t,function(t,e){this.model.config.items[t.cls]=t.name.trim()},this)},this),!this.global_class&&t.attr("data-style")?t.attr("data-style"):this.global_class)},onOpen:function(t){this.set_prev_element_data(t);var i=TVE.tpl("controls/global/style-"+this.elem_type);["section","contentbox"].includes(this.elem_type)&&(this.hasBackgroundContent=0<t.find(".tve-page-section-out,.tve-content-box-background").html().length),_.isEmpty(this.global_styles_set)?this.$el.find(".tcb-element-templates").html(TVE.t.global.no_styles_created):(this.$el.find(".tcb-element-templates").empty(),_.each(this.global_styles_set,function(t,e){this.$el.find(".tcb-element-templates").append('<div class="full-width button-category-label">'+e+"</div>"),this.add_custom_styles(t,i)},this)),_.isEmpty(this.model.config.items)||this.add_default_styles(i),this.$(".btn-apply").toggleClass("tcb-disabled",_.isEmpty(this.global_styles_set)&&_.isEmpty(this.model.config.items)),this.change()},add_default_styles:function(i){var n="<hr>";n+='<div class="full-width button-category-label">'+TVE.t.default_templates.toUpperCase()+"</div>",_.each(this.model.config.items,function(t,e){e.includes(TVE.CONST.global_cls_prefix)||(n+='<div class="tve-select-item global-style-preview click '+e+'" data-value="'+e+'" data-fn="select">'+i({cls:e,text:t})+"</div>")}),this.$elem_templates.append(n)},add_custom_styles:function(t,i){var n="";_.each(t,function(t,e){n+='<div class="tve-select-item global-style-preview click" data-value="'+t.cls+'" data-fn="select">'+i({cls:t.cls,text:t.name})+"</div>"},this),this.$elem_templates.append(n)},input:function(t){var e=TVE.getClassThatContains(t,TVE.CONST.global_cls_prefix)||t.attr("data-style"),i=this.model.selected;if("function"==typeof TVE.Components[this.elem_type].global_style_input&&TVE.Components[this.elem_type].global_style_input(e,i),t.removeClass(e).addClass(i).removeAttr("data-style"),-1===i.indexOf(TVE.CONST.global_cls_prefix)&&"function"==typeof TVE.Components[this.elem_type].get_default_style_css){t.attr("data-style",i);var n=TVE.Components[this.elem_type].get_default_style_css(i),s=n.css,a=n.font_color,o=t.find(this.model.config.to);TVE.Components.typography.controls.FontColor.input(a),_.each(s,function(t){o.head_css(t.rules,t.media)})}else{t.removeAttr("data-css").removeAttr("data-selector");var r=TVE.Components["shared-styles"].getGlobalStyleObject(t,this.model.selected.replace(/^tcb-global-(.+?)-([^-]+)$/,"$2"));TVE.Components["shared-styles"].addGlobalStyleDefaultCss(t,r.default_css,this.hasBackgroundContent),_.each(this.non_global_css,function(e){_.each(e.css,function(t){e.element.head_css(_.pick(t.rules,_.identity),t.media)})})}TVE.Editor_Page.reposition_icons()},set_prev_element_data:function(t){if(this.prev_element_data={},_.each(t,function(t,e){var i=TVE.inner_$(t);this.prev_element_data[e]={},this.prev_element_data[e].element=i,this.prev_element_data[e]._data_css=_.isEmpty(i.attr("data-css"))?"":i.attr("data-css"),this.prev_element_data[e]._class=i.attr("class"),this.prev_element_data[e]._inner_html=i.html(),this.prev_element_data[e].data_style=i.attr("data-style"),this.non_global_css.push({element:i,css:TVE.Components["shared-styles"].get_non_global_css(i)})},this),"function"==typeof TVE.Components[this.elem_type].global_style_sub_elements){var e=TVE.Components[this.elem_type].global_style_sub_elements();_.each(e,function(t,e){this.non_global_css.push({element:t,css:TVE.Components["shared-styles"].get_non_global_css(t)})},this)}},cancel:function(t){_.each(this.prev_element_data,function(t,e){var i=t.element;i.attr("class",t._class).attr("data-css",t._data_css).attr("data-style",t.data_style),i.html(t._inner_html)},this),this.model.selected=this.model.selected_old,this.apply(t),TVE.inner.window.TCB_Front.playBackgroundYoutube(t.find(".tcb-yt-bg"))},apply:function(t){TVE.main.element_selected(t)}})}},image:{"style.js":function(t,e,i){e.exports=i("../style-picker").extend({_template:TVE.tpl("controls/drop-panel-light"),item_template:function(){return TVE.tpl("controls/image/style-picker")},box_class:function(){return"tve-style-options"},container_class:function(){return"control-grid wrap image-styles"},update:function(){for(var t=this.applyTo().attr("class").split(" "),e=this.model.config.default||"no_style",i=0;i<t.length;i++)if("img_style_"==t[i].substr(0,10)){e=t[i];break}this.$(".tve-select-item").removeClass("active").filter("[data-value="+e+"]").addClass("active"),this.model.selected_old=e,this.parent_control&&this.parent_control.set_value(this.getLabel(e))},input:function(t,e){t.removeClass(function(t,e){return(e.match(/(^|\s)img_style_\S+/g)||[]).join(" ")}),"no_style"!==this.model.selected&&t.addClass(this.model.selected),this.component.resizeHandler(!1),TVE.do_action("tcb.image.style_change",t)},apply:function(t,e){this.model.selected&&this.parent_control&&this.parent_control.set_value(this.getLabel(this.model.selected)),this.undo_manager_api(t,this.model),this.trigger("change",this.model.selected,this)},cancel:function(t,e){this.model.selected&&"no_style"!==this.model.selected&&t.removeClass(this.model.selected),this.model.selected_old&&"no_style"!==this.model.selected_old&&t.addClass(this.model.selected_old),this.undo_manager_api(t,this.model),TVE.do_action("tcb.image.style_cancel",t)},undo_manager_api:function(t,e){var i=this,n=e.selected&&"no_style"!==e.selected?e.selected:"",s=e.selected_old&&"no_style"!==e.selected_old?e.selected_old:"";TVE.UndoManager.add({undo:function(){this.undo_redo()},redo:function(){this.undo_redo()},undo_redo:function(){t.is('[class*="img_style_"]')?t.removeClass(n).addClass(s):t.addClass(n).removeClass(s),TVE.ActiveElement&&i.update()}})}})}},"image-picker.js":function(t,e,i){var n=i("../base"),s=i("../../libs/file-picker");e.exports=n.control.extend({template:TVE.tpl("controls/image-picker"),initialize:function(){var i=this;this.render(),this.picker=(new s).on_select(function(t,e){i.change_image(t,e)},this),this.picker.on_cancel(this.on_cancel,this)},open:function(){return this.image_selected=!1,this.picker.open(),!1},change_placeholder:function(){this.placeholder=!0,this.open()},on_cancel:function(){this.placeholder?(delete this.placeholder,TVE.main.clear_focus()):TVE.ActiveElement&&TVE.ActiveElement.find("img").attr("src").includes("dynamic")&&this.component.controls.ImageSourceType.$('[data-value="dynamic"]').click()},change_image:function(t,e){var i=this.applyTo(!1,!1,TVE.is_group_editing);this.image_selected=!0;var n=i.find("img"),s={};if(0===n.length&&(i.html('<span class="tve_image_frame"><img class="tve_image" alt=""/></span>'),n=i.find("img")),n.removeClass(function(t,e){return e.split(" ").filter(function(t){return 0===t.indexOf("wp-image-")}).join(" ")}),e&&e.id&&(n.addClass("wp-image-"+e.id),s["data-id"]=e.id),n.removeAttr("sizes").removeAttr("srcset"),s.width=t.width,s.height=t.height,s.alt=t.alt,s.title=t.title,t.caption){var a=n.closest(".tve_image_caption");a.find(".wp-caption-text").remove(),a.append('<p class="thrv-inline-text wp-caption-text">'+t.caption+"</p>")}s.src=this.picker.clean_url(t.url),n.attr(s),this.placeholder&&(TVE.Editor_Page.selection_manager.select_element(TVE.ActiveElement.removeClass("tcb-elem-placeholder edit_mode")),delete this.placeholder),this.trigger("change",t)},align_image:function(t){var e=this.applyTo();e.head_css({float:"none"}),e.head_css({clear:"none"},null," + div"),e.removeAttr("data-clear"),"none"!=t&&("center"!=t?(e.head_css({float:t}),e.head_css({clear:"both"},null," + div"),e.attr("data-clear","both")):e.head_css({"margin-left":"auto","margin-right":"auto"}))},update_preview:function(t){void 0===t&&(t=TVE.ActiveElement.filter(".edit_mode").find("img").attr("src")),this.$(".preview").addClass("img").css("background-image","url("+t+")")}})},"image-size.js":function(t,e,i){var n=i("./max-width");e.exports=n.extend({convertUM:function(t){var e=this.applyTo(!0),i=e.parentNode,n=this.$el.find(".tve-input, .tve-slider"),s=TVE.convertUM(e,t,i,this.model.config.css);n.val(s)},afterConfig:function(){var t=this.applyTo().parent();this.model.config.max=parseInt((t.is("a")?t.parent():t).width())}})},"input-multiple.js":function(t,e,i){var n=i("../base");e.exports=n.control.extend({template:TVE.tpl("controls/input-multiple"),after_initialize:function(t){this.listenTo(this.model.get("list_items"),"remove",this.changeCollection),this.listenTo(this.model.get("list_items"),"change",this.changeCollection)},changeCollection:function(){this.change(this.applyTo(),this.model.get("list_items").toJSON())},render:function(){if(this.model instanceof Backbone.Model==!1){var t=this.model.config;this.model=new Backbone.Model({top_text:t.top_text,add_button_text:t.add_button_text,remove_title:t.remove_title,list_label:t.list_label,list_items:new Backbone.Collection(t.list_items)})}this.$el.html(this.template({model:this.model})),0===this.model.get("list_items").length?this.add_input_row():this.model.get("list_items").each(this.renderOne,this)},renderOne:function(t){var e=new s({model:t,config:this.model});this.$el.find(".tcb-input-multiple-holder").append(e.render().el)},add_input_row:function(){var t=new Backbone.Model({value:""});this.model.get("list_items").add(t),this.renderOne(t)},resetCollection:function(t){this.model.get("list_items").reset(t),this.render()}});var s=n.base_view.extend({template:TVE.tpl("controls/input-multiple-item"),className:"control-grid",initialize:function(t){this.config=t.config,this.model=t.model},render:function(){return this.$el.html(this.template({value:this.model.get("value"),label:this.config.get("list_label"),remove_title:this.config.get("remove_title")})),this},_remove:function(t,e,i){this.model.destroy(),this.remove()},_changed:function(t,e,i){this.model.set({value:e.value}),this.config.get("list_items").trigger("change")}})},"input-search.js":function(t,e,i){var a,n;a=jQuery,n=i("./input"),e.exports=n.extend({initialize:function(){var i,n,s=this;this.render(),this.$el.find(".tve-input").autocomplete({source:function(t,e){if(i!==t.term){if(/^https?:/.test(t.term)||-1!==t.term.indexOf("."))return s.$text.val(t.term),e();a.post(tcb_main_const.ajax_url,{action:"tve_find_quick_link_contents",json:"1",q:t.term},function(t){e(n=t)},"json"),i=t.term}else e(n)},focus:function(t,e){t.preventDefault()},select:function(t,e){s.$el.find(".tve-input").val(e.item.url)}}).data("ui-autocomplete")._renderItem=function(t,e){return a('<li role="option" id="mce-tcb-autocomplete-'+e.id+'">').append("<span>"+e.label+'</span>&nbsp;<span class="tcb-link-type">'+e.type+"</span>").appendTo(t)}}})},"input.js":function(t,e,i){var n=i("../base");e.exports=n.control.extend({template:TVE.tpl("controls/input"),initialize:function(){var i=this,t=this.model.config.stepSize||1;this.render_template(this.get_config("inline")?"controls/input-inline":this.template),this.get_config("inline")&&this.$el.addClass("tcb-relative"),this.model.config.um&&this.$el.find(".input-um").show(),this.$input=this.$el.find("input"),this.$el.find(".handle").tve_draggable({stepSize:t,start:function(){i.currentValue=i.__value()},move:function(t){var e=i.currentValue+parseInt(t);void 0!==i.model.config.min&&(e=e<i.model.config.min?i.model.config.min:e),void 0!==i.model.config.max&&(e=e>i.model.config.max?i.model.config.max:e),i.setValue(e,!1,!0)},stop:function(){i.$input.trigger("change")}})},getValue:function(){return this.$input.val()},setValue:function(t,e,i){this.validate(t)&&(this.$input.val(t),e&&this.$input.trigger("change"),i&&this.$input.trigger("input"))},up:function(){this.setValue(this.__value()- -1,!0,!0)},down:function(){this.setValue(this.__value()-1,!0,!0)},validate_and_change:function(){return this.$input.removeClass("has-error"),this.validate(this.$input.val())?(TVE.Editor_Page.reposition_icons(),TVE.ElementEditIcons.toggle(),this.change.apply(this,arguments)):(this.$input.addClass("has-error").focus(),!1)},setValueDirectly:function(t){this.$input.removeClass("has-error").val(t)},validate:function(t){return t=parseFloat(t),!isNaN(t)&&(!(void 0!==this.model.config.min&&this.model.config.min>t)&&!(void 0!==this.model.config.max&&this.model.config.max<t))},input_class:function(){return this.get_config("input_class","")},__value:function(){var t=parseFloat(this.getValue());return isNaN(t)?0:t},onInput:function(t,e){TVE.ElementEditIcons.toggle(!1),this.input(t,e)}})},jumplinks:{"_utils.js":function(t,e,i){var n,s;n=jQuery,s={addJumplink:function(t){var e="tcb.apply_jumplink",i=!1,n=TVE.JumpSource[0];return(TVE.CONST.FROALA_FORMAT_OPTIONS&&TVE.CONST.FROALA_FORMAT_OPTIONS[n.nodeName]||TVE.JumpSource.hasClass("tcb-plain-text")||TVE.JumpSource.closest(".thrv_text_element").length||TVE.JumpSource.closest(TVE.TEXT_WITH_LINK).length)&&(i=!0),TVE.JumpElement.attr("id")||TVE.JumpElement.attr("id",TVE.CSS_Rule_Cache.generate_id("tve-jump-")),e=i?e+".text":e,s.checkScrollTo(),TVE.do_action(e,t),TVE.OldJumpData={},TVE.main.EditMode.exit(),!1},cancel:function(t){return TVE.OldJumpData&&TVE.OldJumpData.element&&(TVE.OldJumpData.element.attr("id",TVE.OldJumpData.id.replace("#","")),TVE.OldJumpData={}),s.checkScrollTo(),TVE.state_manager.set_state("default"),TVE.main.EditMode.exit(),TVE.JumpElement&&TVE.JumpElement.removeClass("jump_target"),TVE.Editor_Page.focus_element(TVE.JumpSource),!1},checkScrollTo:function(){TVE.state_manager.is_jump()&&!TVE.inner.window.TCB_Front.isInViewport(TVE.JumpSource,200)&&TVE.inner_$("html").animate({scrollTop:TVE.JumpSource.offset().top-24},1e3)},updateUi:function(t){TVE.JumpElement&&TVE.JumpElement.removeClass("jump_target"),TVE.JumpElement=t.addClass("jump_target"),TVE.main.EditMode.$_buttons.filter("#add_jump").removeAttr("disabled").removeClass("grey").addClass("orange"),TVE.ElementIcons.show_icons(TVE.JumpElement)},isJumplink:function(t){var e=t.jquery?t[0]:t;if(!e||!e.hash)return!1;var i=!1;try{i=0<TVE.inner_$(e.hash).length}catch(t){i=!1}return e.hash.includes("tve-jump")||i},enterJumpMode:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.ActiveElement.filter(".edit_mode");TVE.JumpSource=t||TVE.ActiveElement.filter(".edit_mode"),TVE.do_action("tcb.jumpmode.enter"),TVE.main.EditMode.in_edit()&&TVE.inner_$(".tve-element-mask").addClass("tcb-permanently-hidden"),TVE.state_manager.set_state("jump"),TVE.main.EditMode.enter(TVE.JumpSource,{show_default_message:!1,can_insert_elements:!1,prevent_default_functions:!0,body_class:"jump-mode-active",restore_state:!0,view_label:TVE.t.select_target,callbacks:{before_exit:s.exitJumpMode}}),TVE.Editor_Page.editor.find("*").on("click.jumplink",function(t){return TVE.jumplinks.updateUi(n(t.target).closest(TVE.Editor_Page.selection_manager.selectors.get("mouseover"))),!1}).on("mousedown.jumplink",function(){return!1})},exitJumpMode:function(){TVE.do_action("tcb.jumpmode.exit"),TVE.main.EditMode.$componentPanel.removeClass("tcb-hide"),TVE.inner_$("body").removeClass("tcb-jump-mode"),TVE.main.EditMode.$_buttons.filter("#add_jump").attr("disabled","disabled").addClass("grey").removeClass("orange"),TVE.main.$(".tve-active-element").removeClass("no-states"),TVE.inner_$(".jump_target").removeClass("jump_target"),TVE.$body.removeClass("jump-mode-active"),TVE.Editor_Page.editor.find("*").off("click.jumplink").off("mousedown.jumplink"),TVE.state_manager.set_state("default"),TVE.Editor_Page.selection_manager.refresh_mouseover_selectors(),TVE.Editor_Page.editor.removeClass("tcb-editor-jump-mode"),TVE.main.EditMode.in_edit()&&TVE.inner_$(".tve-element-mask").removeClass("tcb-permanently-hidden"),setTimeout(function(){delete TVE.JumpSource,delete TVE.JumpElement}),TVE.do_action("tcb.jumpmode.after_exit")},isDynamicLink:function(t){return!!(t.attr("data-shortcode-id")&&t.attr("data-dynamic-link")||t.attr("dynamic-postlink"))},addPostlistCustomFieldsLinks:function(){function t(t){function e(e){if(!s.some(function(t){return t.name===i[e].name})){var t=i[e];t.id=i[e].name,s.push(t)}}var i=TVE.PostList.posts[t].tcb_post_custom_fields_links;for(var n in i)e(n)}var s=[];for(var e in TVE.PostList.posts)t(e);return s},updateDynamicCustomFieldsLink:function(){if(TVE.CONST.update_customfields&&TVE.PostList.utils.isInPostListEditMode()){var t=TVE.jumplinks.addPostlistCustomFieldsLinks();TVE.CONST.dynamic_links["Custom Fields"]={links:t.length?[t]:[],shortcode:"thrive_postlist_custom_fields_shortcode_url"},TVE.CONST.update_customfields=!1}else TVE.PostList.utils.isInPostListEditMode()||(TVE.CONST.dynamic_links["Custom Fields"]=TVE.CONST.dynamic_links["Custom Fields Global"])},categoryHasLinks:function(t){return!(!TVE.CONST.dynamic_links[t]||!TVE.CONST.dynamic_links[t].links||TVE._.isEmpty(TVE.CONST.dynamic_links[t].links))}},TVE.add_action("tcb.edit_mode.enter",function(t){TVE.state_manager.is_jump()&&(TVE.ActiveElement.removeClass(".edit_mode"),TVE.main.EditMode.$componentPanel.addClass("tcb-hide"),TVE.inner_$("body").addClass("tcb-jump-mode"),TVE.main.$(".tve-active-element").addClass("no-states"),TVE.Editor_Page.editor.addClass("tcb-editor-jump-mode"),TVE.Editor_Page.selection_manager.refresh_mouseover_selectors())}),TVE.add_filter("selectors_mouseover",function(t){return TVE.state_manager.is_jump()&&(t+=", .fr-element > *:not(:only-child)"),t}),TVE.add_filter("tcb.elem.type",function(t,e){if(!t&&TVE.state_manager.is_jump()){var i=e[0],n=i?i.nodeName:"";!(t=n&&TVE.CONST.FROALA_FORMAT_OPTIONS[n]?TVE.CONST.FROALA_FORMAT_OPTIONS[n]:t)&&e.hasClass("tcb-plain-text")&&(t="PlainText")}return t}),TVE.add_filter("tcb_filter_html_before_save",function(t,e){return t.find('[id*="tve-jump"]').each(function(t,e){TVE.inner_$("[href*="+e.getAttribute("id")+"]").length||e.removeAttribute("id")}),t.find('[href*="tve-jump"]').each(function(t,e){e.classList.add("tve-jump-scroll")}),t}),TVE.add_action("tcb.post_list_article.sync",function(t){t.find("article").each(function(t,e){var s=e.dataset.id;TVE.inner_$(e).find("a[dynamic-postlink]").each(function(t,e){var i=e.getAttribute("dynamic-postlink"),n=TVE.PostList.posts[s][i];e.setAttribute("href",n),e.setAttribute("data-shortcode-id",s)})})}),e.exports=s},"element-link.js":function(t,e,i){var n=i("../../base"),s=i("../tabs"),a=i("../link"),r=i("../checkbox"),l=i("../switch"),c=i("../../../libs/storage"),d=i("../../../libs/element-snapshot"),h=i("../../modals/base"),u=i("../select"),p="Content",f="Custom Fields";function m(t){var e=TVE._type(t);return TVE.Components[e]&&"function"==typeof TVE.Components[e].get_link?TVE.Components[e].get_link():(TVE.ClickedElement||t.filter(".edit_mode")).parent("a[href]")}TVE.jumplinks=i("./_utils"),e.exports=n.control.extend({template:TVE.tpl("controls/link/element-link"),after_initialize:function(t){TVE.add_action("tcb.jumpmode.enter",function(){return TVE.ActiveElement=TVE.ActiveElement.filter(".edit_mode")});var e=this;this.model.config.hide_buttons&&this.model.config.hide_buttons.length&&this.model.config.hide_buttons.forEach(function(t){e.$('[data-tab="'+t+'"]').hide()}),this.$edit_link=t.model.$edit_link},update:function(t,e){var i=1<arguments.length&&void 0!==e&&e;if(t.is(".thrv-content-box, .thrv-button, .tve_image_caption, .thrv_icon, a.tcb-logo, .menu-item")){var n=m(this.$edit_link=t),s=TVE.jumplinks.isJumplink(n),a=TVE.jumplinks.isDynamicLink(n),o="";this.updateJumplink(s),this.updateDynamicLink(a),this.LinkSearch.set_link(n.attr("data-tcb-href")||n.attr("href")||""),this.LinkNoFollow.setChecked(n?"nofollow"===n.attr("rel"):c.get(c.keys.link_no_follow)),this.LinkNewTab.setChecked(n?"_blank"===n.attr("target"):c.get(c.keys.link_new_tab)),this.SmoothAnim.setChecked(n?"smooth"===n.attr("jump-animation"):c.get(c.keys.jump_animation)),s&&(i||this.tabs.setActive("jump"),o=TVE.t.linkSet.replace("%s","jump")),a&&(i||this.tabs.setActive("dynamic"),o=TVE.t.linkSet.replace("%s","dynamic")),a||s?this.LinkSearch.$autocomplete.addClass("tve-disabled").parent().attr("data-side","top").attr("data-tooltip",o).attr("data-width","100%"):(this.LinkSearch.$autocomplete.removeClass("tve-disabled").parent().removeAttr("data-side data-tooltip data-width"),i||this.tabs.setActive("static"))}},getEditElement:function(){return this.$edit_link||(this.$edit_link=TVE.ActiveElement),this.$edit_link},after_render:function(){var o=this;this.tabs=new s({el:this.$el.find(".tve-link-tabs")[0],model:this.tabsConfig()}),this.tabs.change=function(){o.update(o.getEditElement(),!0)},this.postTypesOptionsModal=new h.base({el:h.get_element("options-post-types")}),this.LinkSearch=new a({el:this.$("#tcb-link-search-control")[0],hide_preview:!0}),this.SmoothAnim=new l({el:this.$el.find(".tve-jump-smooth-anim"),model:{config:{label:TVE.t.smooth_anim,default:!0}}}),this.SmoothAnim.change=function(e,i){d(function(){var t=m(e);c.set(c.keys.jump_animation,i.checked),i.checked?t.attr("jump-animation","smooth"):t.removeAttr("jump-animation"),t.removeAttr("target")},e),TVE.Components.animation.update()},this.LinkNewTab=new r({el:this.$el.find(".elem-link-newtab"),model:{config:{label:TVE.t.newtab,default:!1}}}),this.LinkNewTab.input=function(e,i){d(function(){var t=m(e);c.set(c.keys.link_new_tab,i.checked),i.checked?t.attr("target","_blank").removeAttr("jump-animation"):t.removeAttr("target")},e),TVE.Components.animation.update()},this.LinkNoFollow=new r({el:this.$el.find(".elem-link-nofollow"),model:{config:{name:"",label:TVE.t.nofollow,default:!1}}}),this.LinkNoFollow.input=function(e,i){d(function(){var t=m(e);c.set(c.keys.link_no_follow,i.checked),i.checked?t.attr("rel","nofollow").removeAttr("jump-animation"):t.removeAttr("rel")},e),TVE.Components.animation.update()},this.LinkSearch.on("select",function(t){o.LinkSearch.trigger("linkchange",t.url)}),this.LinkSearch.on("linkchange",function(t){var e=TVE.getSelectedElement(),i=m(o.getEditElement()),n=!0;if(!o.validateLink(e,i))return!1;e=TVE.apply_filters("tcb.link_element_wrap",e),0===i.length&&(i=e.wrapAll('<a href=""></a>').parent(),e.data("link-wrap",!0));var s=e.attr("data-tcb-events")||i.attr("data-tcb-events");i.length&&t.length&&s&&s.includes("click")&&(n=!1,TVE.page_message(TVE.t.anim.multiple_click_events,-1)),d(function(){i.attr("href",t),TVE.preserve_changed_link(i)},e),0<t.length?(TVE.Components.animation.update(),c.get(c.keys.link_new_tab)&&i.attr("target","_blank"),c.get(c.keys.link_no_follow)&&i.attr("rel","nofollow"),c.get(c.keys.jump_animation)&&i.attr("jump-animation","smooth"),t.includes("tve-jump")?(i.removeAttr("target"),i.addClass("tve-jump-scroll")):(i.removeAttr("jump-animation"),i.removeClass("tve-jump-scroll")),i.toggleClass("tve-dynamic-link",!!o.dynamicLink),n&&(o.jumpLink?(TVE.page_message(TVE.t.jumplink_added),delete o.jumpLink):o.dynamicLink&&TVE.page_message(TVE.t.dynamiclink_added)),o.dynamicLink?(o.dynamicLink["data-shortcode-id"]&&i.attr("data-shortcode-id",o.dynamicLink["data-shortcode-id"]),o.dynamicLink["data-dynamic-link"]&&i.attr("data-dynamic-link",o.dynamicLink["data-dynamic-link"]),o.dynamicLink["dynamic-postlink"]&&i.attr("dynamic-postlink",o.dynamicLink["dynamic-postlink"]),delete o.dynamicLink):i.removeAttr("data-shortcode-id data-dynamic-link dynamic-postlink")):o.model.config.keep_links||e.unwrap();var a=TVE._type(o.getEditElement());TVE.Components[a]&&TVE.Components[a].controls.ToggleURL&&"function"==typeof TVE.Components[a].controls.ToggleURL.update&&TVE.Components[a].controls.ToggleURL.update(o.getEditElement()),TVE.main.EditMode.in_edit()&&TVE.PostList.utils.checkForPostListSync(o.getEditElement()),o.update(o.getEditElement())}),this.dynamicCategorySelect=new u({el:this.$el.find(".tcb-dynamic-link-select-category")}),this.dynamicCategorySelect.get_options=this.getCategoryOptions,this.dynamicLinksSelect=this.$el.find(".tcb-dynamic-link-select"),this.dynamicCategorySelect.change=function(t,e){var i;e.value===f&&TVE.jumplinks.updateDynamicCustomFieldsLink(),i=e.value===p&&TVE.PostList.utils.shouldShowDynamicLinks()?TVE.tpl("inline/postlist-links"):TVE.tpl("controls/link/dynamic-links",{links:TVE.CONST.dynamic_links[e.value].links}),o.dynamicLinksSelect.html(i)},TVE.add_action("tcb.element.duplicate",function(t,e){e.attr("id")&&e.attr("id").includes("tve-jump")&&e.removeAttr("id")}),TVE.add_action("tcb.apply_jumplink",function(){if(TVE.JumpSource.hasClass(o.model.config.class)){var t="#"+TVE.JumpElement.attr("id"),e=m(o.getEditElement());o.validateLink(TVE.JumpSource,e)&&(o.jumpLink=!0,o.LinkSearch.trigger("linkchange",t)),TVE.JumpElement.removeClass("jump_target"),TVE.state_manager.set_state("default"),TVE.Editor_Page.focus_element(TVE.JumpSource)}})},tabsConfig:function(){var e=this,t=[{icon:"link",value:"static",tooltip:TVE.t.linkType.static,tooltip_side:"top"},{icon:"anchor-regular",value:"jump",tooltip:TVE.t.linkType.jump,tooltip_side:"top"},{icon:"database-regular",value:"dynamic",tooltip:TVE.t.linkType.dynamic,tooltip_side:"top"}];return e.model.config.hide_buttons&&e.model.config.hide_buttons.length&&(t=t.filter(function(t){return!e.model.config.hide_buttons.includes(t.value)})),{config:{target:".tve-link-boxes",buttons:t}}},open_link_search_settings:function(){return this.postTypesOptionsModal.open({top:"20%",complete:_.bind(function(){this.LinkSearch.focus()},this)}),!1},getCategoryOptions:function(){var e=[];return TVE.jumplinks.updateDynamicCustomFieldsLink(),TVE.CONST.dynamic_links_categories.forEach(function(t){t===p&&!TVE.PostList.utils.shouldShowDynamicLinks()||t===f&&!TVE.jumplinks.categoryHasLinks(t)||e.push({name:t,value:t})}),e},updateJumplink:function(t){var e=m(this.getEditElement()),i=this.$("#tcb-jump-target"),n=e.length?e[0].hash:"",s=this.$el.find("#tcb-jumplink-buttons");s.find("#remove-target").toggleClass("tcb-hide",!t),s.find("#modify-target").toggleClass("tcb-hide",!t),s.find("#select-target").toggleClass("tcb-hide",t),i.toggleClass("tcb-hide",!t),this.$(".tcb-jump-target-box").toggleClass("tcb-hide",!t),t&&!e.hasClass("tve-jump-scroll")&&e.addClass("tve-jump-scroll"),t&&i.html(TVE._type(TVE.inner_$(n))).attr("href",n)},removeJumpTarget:function(){var t=m(this.getEditElement())[0].hash;TVE.OldJumpData={},TVE.inner_$(t).removeAttr("id"),this.LinkSearch.trigger("linkchange",TVE.apply_filters("tcb.link_removed",""))},modifyJumpTarget:function(){var t=m(this.getEditElement())[0].hash;TVE.OldJumpData={element:TVE.inner_$(t),id:t},TVE.OldJumpData.element.removeAttr("id"),TVE.jumplinks.enterJumpMode()},selectJumpTarget:function(){TVE.jumplinks.enterJumpMode()},setLink:function(t){this.LinkSearch.trigger("linkchange",t)},validateLink:function(t,e){if((t=TVE.apply_filters("tcb.link_element_wrap",t)).parents("div[data-link-wrap]").parent("a[href]").length||0===e.length&&t.find("a[href]").length){var i=TVE.t.warning_link_insert_inside_link.split("##split##");return TVE.page_message(i[0]+'<strong>"'+TVE.get_element_name(t)+'"</strong>'+i[1],!0,1e4),!1}return!0},scrollTo:function(){TVE.inner_$(this.$("#tcb-jump-target").attr("href")).tve_highlight()},toggleURL:function(t,e){var i=1<arguments.length&&void 0!==e?e:"";if(t){var n=this.LinkSearch.$("input");n.focus().val(i),this.tabs.setActive("static"),i.length&&n.trigger("change")}else this.LinkSearch.$("input").val().includes("tve-jump")?this.removeJumpTarget():this.LinkSearch.$("input").val("").trigger("change")},setDynamicLink:function(){var t=this.dynamicCategorySelect.getValue(),e=this.dynamicLinksSelect.find("option:selected"),i=e.val();if(this.dynamicLink={},t===p&&TVE.PostList.utils.shouldShowDynamicLinks()){this.dynamicLink["dynamic-postlink"]=i;var n=TVE.PostList.utils.getArticleID(this.getEditElement());i=TVE.PostList.posts[n][i]}else this.dynamicLink={"data-shortcode-id":e.attr("data-shortcode-id"),"data-dynamic-link":TVE.CONST.dynamic_links[t].shortcode};i=i||"#";var s=m(this.getEditElement());s.is("a")&&s.removeAttr("data-shortcode-id data-dynamic-link dynamic-postlink"),this.validateLink(this.getEditElement(),s)&&this.LinkSearch.trigger("linkchange",i)},removeDynamicLink:function(){var t=m(this.getEditElement());t.removeAttr("data-shortcode-id data-dynamic-link dynamic-postlink"),t.removeClass("tve-dynamic-link"),this.LinkSearch.trigger("linkchange",TVE.apply_filters("tcb.link_removed",""))},updateDynamicLink:function(t){var e,i=m(this.getEditElement()),n=this.$el.find("#tcb-dynamic-link-buttons"),s=TVE.CONST.dynamic_links_categories,a=i.attr("data-dynamic-link"),o=!1,r=!1;if(t?i.attr("dynamic-postlink")&&TVE.PostList.utils.shouldShowDynamicLinks()?(o=p,r=!0,e=TVE.tpl("inline/postlist-links")):(TVE.jumplinks.updateDynamicCustomFieldsLink(),s.forEach(function(t){t!==p&&TVE.CONST.dynamic_links[t]&&TVE.CONST.dynamic_links[t].shortcode===a&&(o=t)})):o=TVE.CONST.dynamic_links_categories[0],r||(o&&TVE.jumplinks.categoryHasLinks(o)||(TVE.page_message(TVE.t.invalidLink,!0),o=TVE.CONST.dynamic_links_categories[0]),e=TVE.tpl("controls/link/dynamic-links",{links:TVE.CONST.dynamic_links[o].links})),this.dynamicCategorySelect.render(),this.dynamicCategorySelect.setValue(o),this.dynamicLinksSelect.html(e),t)if(r){var l=this.dynamicLinksSelect.find(' option[value="'+i.attr("dynamic-postlink")+'"]');0===l.length?TVE.page_message(TVE.t.invalidLink,!0):l.attr("selected","")}else{var c=this.dynamicLinksSelect.find('option[data-shortcode-id="'+i.attr("data-shortcode-id")+'"]');0===c.length?TVE.page_message(TVE.t.invalidLink,!0):c.attr("selected","")}n.find("#remove-dynamic").toggleClass("tcb-hide",!t),n.find("#modify-dynamic").toggleClass("tcb-hide",!t),n.find("#select-dynamic").toggleClass("tcb-hide",t)}})}},"knob.js":function(t,e,i){var n=i("../base");e.exports=n.control.extend({template:TVE.tpl("controls/knob"),initialize:function(t){t.template&&(this.template=t.template),this.render(),this.$input=this.$el.find(".input");var o=this;this.model.config.default&&o.setValue(this.model.config.default,!1),this.$(".tve-knob").tve_draggable({start:function(t,e,i){var n=o.$(".tve-knob").offset(),s=o.$(".tve-knob").outerWidth();o.knobX=isNaN(n.left)?0:n.left+s/2,o.knobY=isNaN(n.top)?0:n.top+s/2},move:function(t,e,i,n,s,a){o.setValue(o.getKnobValue(a.pageX,a.pageY),"input")},stop:function(){o.trigger_change()}})},getKnobValue:function(t,e){var i=Math.floor(this.angle(this.knobX,this.knobY,t,e));return void 0!==this.model.config.min&&(i=i<this.model.config.min?this.model.config.min:i),void 0!==this.model.config.max&&(i=i>this.model.config.max?this.model.config.max:i),this.alterKnobValue(i)},alterKnobValue:function(t){return t},value:function(){return this.$(".tve-input").val()},onChange:function(t,e){var i=parseInt(e.value);void 0!==this.model.config.min&&(i=i<this.model.config.min?this.model.config.min:i),void 0!==this.model.config.max&&(i=i>this.model.config.max?this.model.config.max:i),this.setValue(i),TVE.SkipUpdate=!1,this.change(t,e)},onInput:function(t,e){this.$input.val(e.value),TVE.SkipUpdate=!0,this.input(t,e)},setValue:function(t,e){(t=parseFloat(t))==parseInt(t)&&(t=parseInt(t)),isNaN(t)&&(t=0),this.$input.val(t),this.$(".tve-knob").css("transform","rotate("+this.alterKnobRotateDegree(t)+"deg)"),e&&(e="string"==typeof e?e:"change",this.$input.trigger(e))},alterKnobRotateDegree:function(t){return-1*t},up:function(){this.setValue(this.value(!1)- -1,!0)},down:function(){this.setValue(this.value(!1)-1,!0)},angle:function(t,e,i,n){var s=n-e,a=i-t,o=Math.atan2(s,a);return(o*=180/Math.PI)<0&&(o=360+o),this.alterAngleTheta(o)},alterAngleTheta:function(t){return 360-t},trigger_change:function(){this.$input.trigger("change")}})},"label-input.js":function(t,e,i){var n=i("../base");e.exports=n.control.extend({template:TVE.tpl("controls/label-input"),getValue:function(){return this.$(".tve-input-control").val()},changed:function(t,e){this.change(this.applyTo(),e)},setValue:function(t,e){var i=1<arguments.length&&void 0!==e&&e,n=this.$(".tve-input-control");n.val(t),i&&("string"==typeof i?n.trigger(i):n.trigger("change"))},get_extra_class:function(){return this.get_config("full-width")?" full-width":""}})},layout:{"position-absolute.js":function(t,e,i){var n=i("../../base"),s=i("../../controls/input");e.exports=n.control.extend({template:TVE.tpl("controls/layout/position-absolute"),css:{},sides:["top","right","bottom","left"],styles:{},initialize:function(){this.render(),this.$vertical=this.$(".vertical"),this.$horizontal=this.$(".horizontal");var t=new s({el:this.$vertical.find(".tve-control"),model:{config:{name:"Top",type:"number",um:"PX"}}}),e=new s({el:this.$horizontal.find(".tve-control"),model:{config:{name:"Left",type:"number",um:"PX"}}});t.input=t.change=e.input=e.change=this.change.bind(this)},setValue:function(e){var t=this.applyTo(),i=this,n={},s={};_.each(this.sides,function(t){-1===i.styles.indexOf(t)?s[t]="":n[t]=e[t]}),this.applyElementCss(s,t),this.applyElementCss(n,t)},positionChange:function(t,e){this.$(".position").removeClass("active"),e.className+=" active";var i=e.dataset.value,n=i.split("|");this.styles=n,this.css={},this.css[n[0]]="0px",this.css[n[1]]="0px",this.setValue(this.css),this.setPosition(i),TVE.Editor_Page.reposition_icons()},parse:function(t){return t&&"auto"!==t?(t=parseInt(t),t=isNaN(t)?0:t):"auto"},setPosition:function(t){if(t){this.$(".toggle-position").show();var e=t.split("|");this.$vertical.find(".input-label").html(TVE.ucFirst(e[0])),this.$vertical.find("input").val(this.parse(this.css[e[0]])).attr("data-style",e[0]),this.$horizontal.find(".input-label").html(TVE.ucFirst(e[1])),this.$horizontal.find("input").val(this.parse(this.css[e[1]])).attr("data-style",e[1])}else this.$(".toggle-position").hide()},update:function(t){t=t||this.applyTo();var e=this.parse(t.head_css("top")),i=this.parse(t.head_css("bottom")),n=this.parse(t.head_css("left")),s=this.parse(t.head_css("right")),a="";this.css={top:"auto",bottom:"auto",left:"auto",right:"auto"},"auto"!==i&&(a="bottom",this.css.bottom=i+this.um()),"auto"!==e&&(a="top",this.css.top=e+this.um()),a&&"auto"!==s&&(a+="|right",this.css.right=s+this.um()),a&&"auto"!==n&&(a+="|left",this.css.left=n+this.um()),-1===a.indexOf("|")&&(a=""),this.styles=a?a.split("|"):[],this.$(".position").removeClass("active"),this.$('.position[data-value="'+a+'"]').addClass("active"),this.setPosition(a)},change:function(t,e){this.css[e.dataset.style]=e.value+this.um(),this.setValue(this.css)},input:function(t,e){this.change(t,e)},um:function(){return"px"}})},"position-relative.js":function(t,e,i){var n=i("../../base"),s=i("../../controls/input");e.exports=n.control.extend({template:TVE.tpl("controls/layout/position-relative"),initialize:function(){this.render(),this.$vertical=this.$(".vertical"),this.$horizontal=this.$(".horizontal");var e=[],i=this;this.$(".ctrl").each(function(){var t=new s({el:this,model:{config:{name:this.dataset.label,type:"number",um:"px"}}});t.$("input").attr("data-style",this.dataset.style),t.input=t.change=i.change.bind(i),e.push(t)})},parse:function(t){return t&&"auto"!==t?(t=parseInt(t),t=isNaN(t)?0:t):"0"},update:function(t){var e=(t=t||this.applyTo()).head_css(["top","left"]);this.$('[data-style="top"]').val(this.parse(e.top)),this.$('[data-style="left"]').val(this.parse(e.left))},change:function(t,e){var i={};i[e.dataset.style]=e.value+this.um(),this.applyElementCss(i,t,"",""),TVE.Editor_Page.reposition_icons()},input:function(t,e){TVE.SKIP_CSS_STATE=!0,this.change(t,e),TVE.SKIP_CSS_STATE=!1},um:function(){return"px"}})},"width.js":function(t,e,i){var n,s;jQuery,n=i("../tabs"),s=i("../../../models/size"),e.exports=i("../../base").control.extend({template:TVE.tpl("controls/layout/width"),inputs:{},before_initialize:function(t){Object.assign(this,t,this.$el.data())},after_render:function(){this.tabs=new n({el:this.$(".tabs")[0],model:this.tabs_config()});var o=this;this.$inputs={},this.props().forEach(function(t){var a=this.$("[data-tab="+t+"] input");a.$$prop=t,a.$$size=new s,a.attr("data-uom","px"),this.$("[data-tab="+t+"]").find("[data-fn]").attr("data-prop",t),(this.$inputs[t]=a).tve_draggable({stepSize:1,dir:"top",start:function(){if(a.$$size.is_empty()){var t=o.readFrom(),e=a.$$size.get("uom"),i=t.css("box-sizing"),n=o.prop;"border-box"===i&&(n="outer"+TVE.ucFirst(o.prop));var s=t[n]();a.$$size.reset(s+"px").convert_to(e,{parent_size:t.parent().width(),em_size:parseInt(t.css("font-size"))}).get_real_value(0)}o.currentValue=a.$$size.get_real_value(0)},move:function(t){var e=o.currentValue-parseInt(t);e<0&&(e=0),a.$$size.set("value",e),a.val(a.$$size.get_value()).trigger("input")},stop:function(){a.trigger("change")}})},this),"height"===this.prop&&(this.$('.tve-input-um[data-value="%"]').remove(),this.$('.tve-input-um[data-value="vw"]').remove())},update:function(){var t=!1;TVE.FLAGS.hover_element&&(t=!(TVE.FLAGS.hover_element=!1));var i=this.applyTo();_.each(this.$inputs,function(t,e){this.set_input_value(t,this.read_head_css(i,e))},this),t&&(TVE.FLAGS.hover_element=!0),this.preselect()},props:function(){return[this.prop,"min-"+this.prop,"max-"+this.prop]},tabs_config:function(){return{config:{target:".inputs",buttons:[{value:this.prop,text:"Fixed"},{value:"min-"+this.prop,text:"Min"},{value:"max-"+this.prop,text:"Max"}]}}},set_input_value:function(t,e){t.$$size.reset(e),t.val(t.$$size.get_value()),this.update_uom(t.$$size.get("uom"),t.$$prop)},update_uom:function(t,e){this.$("[data-tab="+e+"] .input-um").text(t),this.$("[data-tab="+e+"] .tve-input-um").removeClass("active").filter('[data-value="'+t+'"]').addClass("active"),this.$inputs[e].attr("data-uom",t)},get_value:function(t){return this.$inputs[t].$$size},change_value:function(t,e){var i=this.get_value(e.dataset.prop);i.reset(e.value),e.classList.remove("has-error"),i.is_valid()&&!i.is_negative()?(this.apply_css(t,e.dataset.prop,!0),TVE.ElementEditIcons.toggle(),TVE.Editor_Page.reposition_icons(),TVE.do_action("tcb.width_slider.change",t,e)):e.classList.add("has-error")},on_input:function(t,e){var i=this.get_value(e.dataset.prop);i.reset(e.value),e.classList.remove("has-error"),i.is_valid()&&!i.is_negative()?(TVE.ElementEditIcons.toggle(!1),TVE.SKIP_CSS_STATE=!0,this.apply_css(t,e.dataset.prop,!1),TVE.SKIP_CSS_STATE=!1):e.classList.add("has-error")},apply_css:function(t,e,i){var n={},s=this.get_input(e);n[e]=s.$$size.get_css_value(this.config.important),this.applyElementCss(n,t,this.config.css_suffix,this.config.css_prefix),i&&s.val(s.$$size.get_value()),this.tabs.toggleChanged(e,!s.$$size.is_empty())},change_uom:function(t,e){var i=this.get_value(e.dataset.prop),n=this.readFrom();i.convert_to(e.dataset.value,{parent_size:n.parent().width(),em_size:parseInt(n.css("font-size"))}),this.update_uom(i.get("uom"),e.dataset.prop),this.apply_css(t,e.dataset.prop,!0)},clear_value:function(t,e){this.$inputs[e.dataset.prop].val("").trigger("change")},get_input:function(t){return this.$inputs[_.isString(t)?t:t.dataset.prop]},read_head_css:function(e,i){var n=e.head_css(i,null,this.config.css_suffix,!1,this.config.css_prefix);return n||TVE.main.get_inherited_media().some(function(t){return!!(n=e.head_css(i,t,this.config.css_suffix,!1,this.config.css_prefix))},this),n},get_prop_priority:function(){return"width"===this.prop?["max-width","min-width","width"]:["min-height","max-height","height"]},preselect:function(){var t=this.get_prop_priority(),i="";t.forEach(function(t){var e=this.get_value(t).is_empty();this.tabs.toggleChanged(t,!e),e||i||(i=t)},this),this.tabs.setActive(i||t[0])}})}},"lead-generation":{"apis.js":function(t,e,i){var d,n,s,a,o,r;d=jQuery,n=i("../drop-panel"),s=i("../../../models/api"),a=i("../../../models/html-parser"),o=i("../../../models/extended_apis"),r=i("../tooltip-base"),e.exports=n.extend({template:TVE.tpl("lead-generation/new-connection-area"),_template:TVE.tpl("controls/lead-generation/api-drop-panel"),apis:{},currentApi:null,currentApiModel:null,editMode:!1,after_initialize:function(){var n=this;TVE.add_filter("tcb.allow_input_focus",function(t,e){var i=d(e.target);return i.hasClass("select2-search__field")&&i.closest(".select2-container--tve-lg-tags").length&&(t=!1),t}),TVE.add_filter("tcb.droppanel.enter.pressed",function(t,e,i){return e.closest(".select2-container--tve-lg-api, .connection-setup").length&&(t=!1),e.hasClass("select2-selection")&&(n.$apiSelect.select2("close"),i.preventDefault(),i.stopPropagation()),t})},after_render:function(){var e=this;this.$apiSelectWrapper=this.$(".tve-api-select"),this.$apiSelect=this.$("#lg-api-select"),this.$setup=this.$(".connection-setup"),this.$applyButton=this.$(".btn-apply"),this.$noApi=this.$(".tve-no-apis"),this.$noList=this.$(".tve-lg-no-list"),this.initApis(),TVE.add_action("tve.lg.api.edit",this.editApi.bind(this)),TVE.StorageManager.on("tve_new_api",function(t){e.apis[t.key]||(e.apis[t.key]=new s({key:t.key,name:t.name}),e.editMode?e.apiToRemove=e.currentApiModel.key:e.editMode=!0,e.currentApiModel=e.apis[t.key],e.buildApis(),e.selectApiConnection(null,{value:t.key})),TVE.StorageManager.unset("tve_new_api")})},initApis:function(){var i=this;_.each(TVE.CONST.api_connections,function(t,e){_.contains(["recaptcha","sendowl"],e)||(i.apis[e]=new s({key:e,name:t}))})},buildApis:function(){var s=this,a=Object.keys(TVE.ActiveElement.data("lg").get("apis")),t=_.isEmpty(this.apis)||a.length===Object.keys(this.apis).length;if(a=a&&_.filter(a,function(t){return"email"!==t}),!t){this.$apiSelect.empty(),this.$apiSelect.append('<option selected="selected"></option>'),_.each(this.apis,function(t,e){var i=s.editMode&&t.key===s.currentApiModel.key;if(!_.contains(a,t.key)||i){var n=d('<option value="'.concat(t.key,'" data-image="').concat(t.logo(),'">').concat(t.name,"</option>"));i&&n.prop("selected",!0),s.$apiSelect.append(n)}});var e=function(t){return t.element&&t.element.dataset.image?d('<span><img src="'+t.element.dataset.image+'"><span>'+t.text+"</span></span>"):t.text};this.$apiSelect.select2({placeholder:TVE.t.apiChoose,theme:"tve-lg-api",templateResult:function(t){return e(t)},templateSelection:function(t){return e(t)}})}this.$apiSelectWrapper.toggleClass("tcb-hidden",t),this.$noApi.toggleClass("tcb-hidden",!(t&&!this.editMode))},onOpen:function(){this.editMode||(this.$setup.empty(),this.buildApis()),this.currentInput="",this.$el.closest(".tve-lg-api-panel").toggleClass("tve-lg-no-api",!this.editMode)},selectApiConnection:function(t,e){this.$el.closest(".tve-lg-api-panel").removeClass("tve-lg-no-api"),this.editMode&&this.currentApiModel.key!==e.value&&(this.apiToRemove=this.currentApiModel.key),this.currentApi=e.value,this.currentApiModel=this.apis[this.currentApi],this._initExtendedApi(this.currentApi),this.editMode||(this.currentApiModel.config={}),this.getApi(!1)},getApi:function(t){var i=this,e=TVE.tpl("lead-generation/apis/default");t="boolean"==typeof t&&t,TVE.is_tpl("lead-generation/apis/"+this.currentApiModel.get("key"))&&(e=TVE.tpl("lead-generation/apis/"+this.currentApiModel.get("key"))),this.loading(!0),this.currentApiModel.getApi(t,function(){i.loading(!1),i.$setup.html(e({api:i.currentApiModel})),"email"===i.currentApiModel.key&&new r({tooltipElem:i.$setup.find(".tcb-email-tooltip"),tooltipPosition:"top",no_buttons:!0,closeOnLeave:!0,no_callback:!0,options:{hover_delay:50,leave_delay:1e3,"z-index":99},template:TVE.tpl("controls/lead-generation/email-tooltip")});var t=0===i.currentApiModel.lists.length&&0<i.$setup.find(".api-list").length;i.$applyButton.toggleClass("tve-disabled",t),i.$noList.toggleClass("tcb-hidden",!t),i.$("#tve-lg-select-tags").length&&(i.$("#tve-lg-select-tags").select2({tags:!0,minimumInputLength:1,tokenSeparators:[","],theme:"tve-lg-tags",placeholder:TVE.t.addTag,createTag:function(t){if(t.term.length)return t.term=t.term.replace(/["']/g,""),{id:t.term,text:t.term}}}).on("select2:unselecting",function(t){var e=t.params.args.data.id;i.$('li[title="'.concat(e,'"]')).remove(),i.$('#tve-lg-select-tags option[value="'.concat(e,'"]')).remove(),t.preventDefault(),t.stopPropagation()}),i.$el.find(".select2-search__field").addClass("input").attr("data-fn","tagInput"),i.$el.find(".select2-search--inline").append('<span class="tcb-right click tve-lg-add-tag" data-fn="addTag" data-tooltip="'.concat(TVE.t.addTag,'" data-width="100%" data-side="top">').concat(TVE.icon("plus-regular"),"</span>"))),d(TVE.main).trigger("tve-api-after-render-"+i.currentApiModel.get("key"),{api:i.currentApiModel,$container:i.$setup})})},forceGet:function(){this.getApi(!0)},saveSettings:function(){var t=this.$(".api-list").val();this.currentApiModel.setConfig({list:t}),d(TVE.main).trigger("tve-api-options-"+this.currentApiModel.get("key"),{api:this.currentApiModel,$container:this.$el})},onApply:function(t,e,i){if(this.$(".v-error").removeClass("v-error"),this.currentApiModel&&!this.FORCE_CLOSE){if(this.saveSettings(),this.currentApiModel.validate(),!this.currentApiModel.ready())return this.currentApiModel.get("error-field")&&(this.$(this.currentApiModel.get("error-field")).addClass("v-error").first().focus(),this.currentApiModel.unset("error-field")),alert(this.currentApiModel.get("error")),i.stopPropagation(),!1;var n=TVE.ActiveElement.data("lg").get("apis"),s=this.currentApiModel.get("key");if("email"===s?(Array.isArray(n[s])||(n[s]=[]),this.editMode&&void 0!==this._curentApiIndex?n[s][this._curentApiIndex]=this.currentApiModel.config:n[s].push(this.currentApiModel.config)):n[s]=this.currentApiModel.get("config"),this.apiToRemove&&delete n[this.apiToRemove],0<Object.keys(n).length||"wordpress"===this.currentApiModel.get("key")){var a=this.component.getWrapper("form"),o=a.find("#_api_custom_fields"),r=0<o.length?TVE.unserialize(TVE.Base64.decode(o.val())):[];_.each(r,this.currentApiModel.addCustomField);var l=TVE.Base64.encode(TVE.serialize(this.currentApiModel.get("custom_fields")));o.length?a.find("#_api_custom_fields").val(l):a.append(this.component.generateHiddenInput({name:"_api_custom_fields",value:l}))}else this.component.getWrapper("form").find("#_api_custom_fields").remove(),TVE.ActiveElement.find('input[type!="hidden"]').each(function(t,e){var i=d(e);["email","name","phone"].includes(i.attr("data-field"))||i.parent().remove()}),this.component.controls.FieldsControl.update(TVE.ActiveElement);var c=1===Object.keys(n).length;n.email&&(c=c&&n.email.length<=1),c||"wordpress"===this.currentApiModel.get("key")?TVE.page_message(TVE.t.ApiConnected):TVE.page_message(TVE.t.multipleApis,-1),TVE.ActiveElement.data("lg").set("apis",n),this.saveApiData(),this.component.before_update(),this.hide()}else this.hide()},loading:function(t){this.$("button").toggleClass("disabled"),this.$setup.toggleClass("loading",!!t),this.$(".tcb-panel-arrow").toggleClass("loading-panel",!!t)},setupChange:function(t,e){var i={};i[e.dataset.name]=e.value,this.currentApiModel.setConfig(i)},saveApiData:function(){var t=TVE.ActiveElement.data("lg");t.set("read","form_fields"),t.set("write","apis"),t.set("write","custom_fields"),t.set({type:"api",write:"type"}),TVE.Editor_Page.reposition_icons(),TVE.apply_filters("lg_api_save",t)},onCancel:function(){this.hide()},onClose:function(){this.$apiSelect.data("select2")&&this.$apiSelect.select2("close"),this.$("#tve-lg-select-tags").length&&this.$("#tve-lg-select-tags").select2("close"),d(TVE.main).trigger("lg-api-list-close",{api_key:this.currentApi,dropPanel:this}),this.editMode=!1,delete this.apiToRemove,delete this.currentApiModel},editApi:function(e,i){var n=this;if(this.currentApiModel&&this.currentApiModel.key===e)return delete this.currentApiModel,this.onCancel(),!1;this.currentApiModel=this.apis[e],this._initExtendedApi(e),this.currentApiModel?(this.$setup.empty(),this.editMode=!0,this.buildApis(),this.setApiConfig(e,i),this.getApi(),setTimeout(function(){var t=i.dataset.index&&"email"===n.currentApiModel.get("key")?'[data-index="'+parseInt(i.dataset.index)+'"]':'[data-api="'+e+'"]';n.open(null,n.component.$el.find(t))})):TVE.page_message(TVE.t.lgConnectionRemoved,-1)},setApiConfig:function(t,e){var i=TVE.ActiveElement.data("lg").get("apis");this.currentApiModel.config=i[t],"email"===t&&(this._curentApiIndex=parseInt(e.dataset.index),this.currentApiModel.config=this.currentApiModel.config[this._curentApiIndex])},getCleanCode:function(){var t=d("#tve_lead_generation_code").val();return t=t.replace(/(\s)?(onclick|onkeyup|onkeypress|onkeydown)="(.+?)"/g,""),t=_.unescape(t)},parseHTML:function(){var t,e=this.getCleanCode(),i=new a(e);(t=i.parse()).code=e,i.isValid()?(TVE.ActiveElement.find('form input[type="hidden"]').remove(),t=o.custom_html(t),TVE.ActiveElement.data("lg").set("customHtml",t),TVE.ActiveElement.data("lg").set("write","customHtml"),TVE.ActiveElement.data("lg").set("type","custom-html"),TVE.ActiveElement.data("lg").set("write","type"),TVE.apply_filters("lg_custom_html_save",t),this.component.before_update()):TVE.page_message(TVE.t.InvalidHTML,!0)},_initExtendedApi:function(t){this.$el&&this.currentApiModel&&"function"==typeof o[t]&&(o[t].initialized||(o[t](this.$el,this.currentApiModel),o[t].initialized=!0))},addTag:function(){var t=this.$("#tve-lg-select-tags");if(!this.currentInput||t.find('option[value="'.concat(this.currentInput,'"][selected="selected"]')).length)return!1;t.find('option[value="'.concat(this.currentInput,'"][data-select2-tag="true"]')).length?t.find('option[value="'.concat(this.currentInput,'"][data-select2-tag="true"]')).attr("selected","selected").removeAttr("data-select2-tag"):t.append('<option value="'.concat(this.currentInput,'" selected="selected">').concat(this.currentInput,"</option>")),t.trigger("change"),this.currentInput=""},tagInput:function(t,e){this.currentInput=e.value}})},"consent.js":function(t,e,i){var n=i("../../base");e.exports=n.control.extend({template:TVE.tpl("lead-generation/consent"),after_initialize:function(){this.$dom={api_list:this.$(".api-list"),req_label:this.$(".req-control"),req:this.$(".req-control input"),info:this.$(".default-info"),warn:this.$(".api-list-warning")}},update:function(){var e=this._model().get("consent").always_send||[],i=this.$dom.api_list.empty(),n=[];_.each(this._model().get("apis"),_.bind(function(t,e){n.push({key:e,label:this.label(e)})},this)),n=TVE.apply_filters("lg_consent_apis",n),_.each(n,_.bind(function(t){t.selected=-1!==e.indexOf(t.key)?"always":"when_checked",i.append(this._control(t))},this)),this._model().trigger("consent_options",i),this.check_required_consent(),this.check_all_disabled()},action_select:function(t,e){var i=this._model().get("consent");i.always_send=i.always_send||[];var n=i.always_send.indexOf(e.name);"always"===e.value&&-1===n?i.always_send.push(e.name):"when_checked"===e.value&&-1!==n&&i.always_send.splice(n,1),this.check_required_consent(),this._view().write("consent"),this.check_all_disabled()},check_required_consent:function(){this._model().check_required_consent()?(this.$dom.req_label.show(),this.$dom.info.show()):(this.$dom.req_label.hide(),this.$dom.info.hide())},check_all_disabled:function(){this._model().get("consent").always_send.length===this.$(".api-list").children().length?this.$dom.warn.show():this.$dom.warn.hide()},input:function(){},lg_component:function(){return TVE.Components.lead_generation},_model:function(){return this.lg_component().leadGenerationModel},_view:function(){return this.lg_component().leadGenerationView},label:function(t){return this.model.config.labels[t]?this.model.config.labels[t]:this.model.config.labels.default.replace("{service}",TVE.CONST.api_connections[t])},_control:function(t){return new TVE.Views.Controls.Radio({model:{config:{name:t.key,label:t.label,options:this.model.config.options,selected:t.selected}}}).$el.off().addClass("pb-20")}})},"fields.js":function(t,e,i){var u,s,n,l;u=jQuery,s=i("./../drop-panel"),n=i("./../smart-complete"),l=i("../tooltip-base"),e.exports=s.extend({template:TVE.tpl("controls/lead-generation/edit-field"),_template:TVE.tpl("controls/drop-panel-light"),specialTemplateTypes:["radio","checkbox"],currentInputData:{type:"",placeholder:"",required:!1,mapping:{}},defaultFieldsTypes:[{id:"name",placeholder:"Name"},{id:"phone",placeholder:"Phone"}],mappingFields:function(){var e=[];function n(t,e){var i=!1;return _.each(t,function(t){!1===i&&t.id===e&&(i=!0)}),i}return _.each(tcb_main_const.apis_custom_fields_mapper,function(t){e.push(t)}),{getFields:function(){return e},getField:function(t){return this.available(t)?_.findWhere(this.getFields(),{id:t}):null},available:function(t){return n(this.getFields(),t)},pushIntoList:function(i){_.each(this.getFields(),function(t,e){n(i,t.id||"")||i.push(t)})},isHidden:function(t){var e=this.getField("mapping_hidden");return e&&e.id===t}}},emailType:[{id:"email",placeholder:"Email"}],editMode:!1,currentInputField:null,after_render:function(){this.$type=this.$("select.tve-lg-field-type-select"),this.$typeBox=this.$(".tve-lg-field-type"),this.$placeholder=this.$(".tve-lg-field-placeholder"),this.$lblPlaceholder=this.$(".tve-lg-placeholder > .label"),this.$required=this.$(".tve-lg-field-required"),this.$filedsMapping=this.$("#tcb-apis-fields-mapping"),this.$fieldsMappingUnsupported=this.$("#tcb-field-mapping-unsupported"),this.smartComplete=new n({component:this.component}),this.$(".popup-content").append(this.smartComplete.$el)},initialize:function(){var n=this;s.prototype.initialize.apply(this,arguments),TVE.add_action("tve.lg.api.disconnect",function(t){if("wordpress"===t){var e=n.component.getWrapper("form").find("#_api_custom_fields");try{var i=_.filter(TVE.unserialize(TVE.Base64.decode(e.val())),function(t){return!("password"===t.id||"confirm_password"===t.id)});e.val(TVE.Base64.encode(TVE.serialize(i)))}catch(t){}}})},getFields:function(){this.component.getWrapper("form").find("#_api_custom_fields").length?this.fieldTypes=[].concat(_toConsumableArray(this.emailType),_toConsumableArray(TVE.unserialize(TVE.Base64.decode(this.component.getWrapper("form").find("#_api_custom_fields").val())))):this.fieldTypes=[].concat(_toConsumableArray(this.emailType),_toConsumableArray(this.defaultFieldsTypes)),this.mappingFields().pushIntoList(this.fieldTypes)},renderTypes:function(){this.$type.empty();var i=[],t=TVE.ActiveElement.attr("data-connection").replace("-","");this.component["get"+TVE.ucFirst(t)+"Fields"]().forEach(function(t){t.fieldType&&!this.mappingFields().available(t.fieldType)&&i.push(t.fieldType)},this),_.each(this.fieldTypes,function(t,e){this.$type.append(jQuery("<option>",{text:t.placeholder,value:t.id,disabled:i.includes(t.id)}))},this)},onOpen:function(){this.editMode||(this.renderTypes(),this.clearInputs()),this.renderFieldsMapping();var t="email"===this.currentInputData.type,e=this.mappingFields().isHidden(this.currentInputData.type),i=["radio","checkbox"].includes(this.currentInputData.type&&this.currentInputData.type.replace("mapping_",""));this.$typeBox.toggleClass("tcb-hidden","api"!==TVE.ActiveElement.attr("data-connection")||t),this.$required.closest(".control-grid").toggleClass("tve-disabled",t).toggleClass("tcb-hidden",e),this.togglePlaceholderAutofill(e,i)},clearInputs:function(){this.currentInputData.type="",this.currentInputData.mapping={},this.$placeholder.val(""),this.$required.prop("checked",!1),this.currentInputField=null,this.smartComplete.clearInputs()},changeType:function(t,e){this.currentInputData.type=e.value,this.$required.closest(".control-grid").toggleClass("tcb-hidden",this.mappingFields().isHidden(e.value)),this.$lblPlaceholder.html(this.mappingFields().isHidden(e.value)?TVE.t.label:TVE.t.placeholder);var i=this.mappingFields().isHidden(e.value),n=["radio","checkbox"].includes(e.value&&e.value.replace("mapping_",""));this.togglePlaceholderAutofill(i,n),this.renderFieldsMapping()},togglePlaceholderAutofill:function(t,e){this.$(".tve-lg-placeholder").toggleClass("tcb-hidden",t||e),this.$(".tve-advanced-controls").toggleClass("tcb-hidden",e)},changePlaceholder:function(t,e){this.currentInputData.placeholder=e.value},onApply:function(t,e,i){TVE.$document.off("keydown.drop_panel");var n=t.data("lg").get("type").replace("-",""),s="insert"+TVE.ucFirst(n)+"Input";"function"==typeof this[s]&&this[s](),this.hide(),this.component.controls.FieldsControl.update(t),"customhtml"===n&&this.component.controls.HiddenFieldsControl.update(t)},onCancel:function(){this.hide(),this.currentInputField=null},insertCustomhtmlInput:function(t){var e=this.$placeholder.val(),i="radio"===this.currentInputData.type||"checkbox"===this.currentInputData.type,n=i?this.currentInputField.find("input"):this.currentInputField.children().first();!n.length&&this.currentInputField.is("input")&&(n=this.currentInputField),i||(n.attr("placeholder",e),n.attr("data-placeholder",e)),this.$required.is(":checked")?n.attr("data-required",1):n.removeAttr("data-required"),n.is("select")&&n.find("[disabled]").val(e).text(e),this.smartComplete.setData(n)},insertApiInput:function(){var t,e=this.$type.val(),s=e.replace("mapping_","");if(this.specialTemplateTypes.includes(s)){if((t=jQuery(TVE.tpl("controls/lead-generation/lg-"+s)())).find(".tve_lg_"+s+"_wrapper").each(function(t,e){var i=jQuery(e),n=TVE.CSS_Rule_Cache.generate_id("tve-lg-"+s+"-");i.find("input").attr("id",n),i.find("label").attr("for",n)}),this.editMode){var i=this.currentInputField.find("input").attr("name");t.find("input").attr("name",i)}}else t=this.editMode?this.currentInputField.clone():u(TVE.tpl("controls/lead-generation/lg-input")());var n=t.is("div")?t.find("input"):t,a=this.$placeholder.val(),o=e,r=this.component.getWrapper("form"),l=TVE.ActiveElement.find(".tve_submit_container");if(o){this.mappingFields().available(e)&&(e=e+"_"+parseInt(1e3*Math.random()+""),a=a||this.mappingFields().getField(o).placeholder);var c=TVE.ActiveElement.find(".tve_lg_input:not(.tcb-excluded-from-group-item)").first().attr("data-css"),d=this.getFieldType(s),h={name:this.editMode?n.attr("name"):e,placeholder:a,"data-field":o,"data-required":this.$required.is(":checked")?1:0,"data-validation":"email"===o?"email":"","data-placeholder":a};c&&t.attr("data-css",c),"password"===o?t.append(TVE.tpl("lead-generation/apis/extra/password-strength")()):t.find(".tve-password-strength-wrapper").remove(),this.mappingFields().available(o)&&(h["data-mapping"]=TVE.Base64.encode(TVE.serialize(this.currentInputData.mapping))),this.mappingFields().isHidden(o)&&(delete h["data-required"],delete h["data-validation"],h.value=this.smartComplete.$defaultValue.val()),n.attr(h),n.prop("type",d),this.smartComplete.setData(n),this.editMode&&this.currentInputField?(t.insertBefore(this.currentInputField),this.currentInputField.remove()):"hidden"===d?r.append(n):t.insertBefore(l),this.updateMappingInput(),this.update()}},updateMappingInput:function(){var t=TVE.ActiveElement.find([".tve_lg_input_container > input",".tve_lg_input_container.tve_lg_radio",'input[data-field="mapping_hidden"]'].join(",")),i={};if(t.length&&t.each(function(t,e){e.classList.contains("tve_lg_radio")&&(e=u(e).find("input").first()[0]),e.dataset.mapping&&(i[e.name]=TVE.unserialize(TVE.Base64.decode(e.dataset.mapping)))}),0!==!Object.keys(i).length){TVE.ActiveElement.find("form > input#tve_mapping").remove();var e=u("<input/>",{type:"hidden",id:"tve_mapping",name:"tve_mapping",value:TVE.Base64.encode(TVE.serialize(i))});TVE.ActiveElement.find("form").append(e)}},updateLabels:function(){var t=this.component.getWrapper("form"),e=t.find(['[data-field^="mapping"]','input[name="name"]','input[name="email"]','input[name="phone"]','input[name="password"]','input[name="confirm_password"]'].join(",")),n=[];e.each(function(t,e){var i=e.getAttribute("placeholder");i&&(n[e.getAttribute("name")]=i)}),t.find('input[name="tve_labels"]').remove();var i=u("<input/>",{type:"hidden",id:"tve_labels",name:"tve_labels",value:TVE.Base64.encode(TVE.serialize(n))});t.append(i)},editField:function(t,e){this.currentInputField=TVE.inner_$(t.get("item"));var i=this.currentInputField.is("div")?this.currentInputField.find("input,select,textarea"):this.currentInputField,n=!!t.get("hidden");this.smartComplete.editField(t),this.currentInputData=_objectSpread({},this.currentInputData,{},{type:n?"hidden":i.attr("data-field")||i.attr("type")}),this.currentInputData.mapping=i.attr("data-mapping")?TVE.unserialize(TVE.Base64.decode(i.attr("data-mapping"))):{};var s=["radio","checkbox"].includes(this.currentInputData.type&&this.currentInputData.type.replace("mapping_",""));n||(this.renderTypes(),this.$type.val(i.attr("data-field")),this.$type.find('option[value="'+i.attr("data-field")+'"]').removeAttr("disabled"),this.$placeholder.val(i.attr("data-placeholder")||i.attr("placeholder")),this.$required.prop("checked",!!parseInt(i.attr("data-required"))),this.$(".tve-lg-placeholder").toggleClass("tcb-hidden",s),this.$required.closest(".control-grid").toggleClass("tcb-hidden",s)),this.$lblPlaceholder.html(this.mappingFields().isHidden(this.currentInputData.type)?TVE.t.label:TVE.t.placeholder),this.editMode=!0,this.$(".tve-lg-field-data").toggleClass("tcb-hidden",n),this.open(null,u(e))},onClose:function(){this.editMode=!1,this.smartComplete.onClose()},getFieldType:function(t){return-1!==t.indexOf("password")?t="password":["email","text","hidden","radio","checkbox"].includes(t)||(t="text"),t},update:function(){this.getFields(),"api"===TVE.ActiveElement.attr("data-connection")&&(this.updateMappingInput(),this.updateLabels())},renderFieldsMapping:function(){var s=this;if(this.mappingFields().available(this.$type.val())){this.$filedsMapping.empty(),this.$filedsMapping.parent().show();var t=this.component.leadGenerationModel.get("apis"),a=TVE.tpl("controls/lead-generation/api-fields"),o=TVE.tpl("controls/lead-generation/api-no-custom-fields"),r=!1;new l({tooltipElem:this.$(".tcb-unav-field-mapping-tooltip"),tooltipPosition:"top",no_buttons:!0,closeOnLeave:!0,no_callback:!0,template:TVE.tpl("controls/lead-generation/unav-field-mapping-tooltip"),options:{hover_delay:50,leave_delay:1e3,"z-index":99}}),Object.keys(t).forEach(function(i){if("email"!==i){s.$filedsMapping.append(a({api_name:TVE.CONST.api_connections[i],api_key:i}));var n=s.$('select[data-api-key="'+i+'"]'),t=TVE.CONST.connected_apis_custom_fields[i];if(["mailchimp","aweber"].includes(i)&&(t=t[s.component.leadGenerationModel.get("apis")[i].list]),t&&0===t.length){n.parent().html(o());var e={tooltipElem:s.$(".tcb-unavailable-tooltip"),tooltipPosition:"top",no_buttons:!0,closeOnLeave:!0,no_callback:!0,template:TVE.tpl("controls/lead-generation/unavailable-tooltip"),options:{hover_delay:50,leave_delay:1e3,"z-index":99}};new l(e)}r=!1===r?0<t.length:r,_.each(t,function(t){var e=u("<option/>").attr("value",t.id).html(t.label);s.editMode&&s.currentInputData.mapping[i]==t.id&&e.prop("selected",!0),n.append(e)})}}),this.$fieldsMappingUnsupported.css({display:r?"none":"block"})}else this.$filedsMapping.parent().hide()},mappingField:function(t,e){this.currentInputData.mapping[e.dataset.apiKey]=e.value}})},"radio-style-picker.js":function(t,e,i){var n=i("../style-picker");e.exports=n.extend({_template:TVE.tpl("controls/drop-panel-light"),item_template:function(){return TVE.tpl("controls/lead-generation/radio-style-picker")},read_from_element:function(){return this.readFrom().attr("data-radio-style")},input:function(t,e){t.attr("data-radio-style",this.model.selected)},apply:function(t,e){this.model.selected&&this.parent_control&&this.parent_control.set_value(this.getLabel(this.model.selected)),this.model.selected_old=this.model.selected,this.trigger("change",this.model.selected,this),this.component.controls.RadioStyleColor.update(TVE.ActiveElement)},cancel:function(t,e){this.model.selected!==this.model.selected_old&&(t.attr("data-radio-style",this.model.selected_old),this.parent_control&&this.parent_control.set_value(this.getLabel(this.model.selected_old)))},setStyleColor:function(t){this.el.style.setProperty("--radio-style-color",t)}})},"submit-options.js":function(t,e,i){var n=i("../../controls/drop-panel");e.exports=n.extend({template:TVE.tpl("lead-generation/submit-options/submit-options"),selected_class:"card-selected",submit_options:[{key:"redirect",label:TVE.t.RedirectURL,icon:"url",preview_icon:"redirect-resp"},{key:"message",label:TVE.t.SuccessNotification,icon:"notif",preview_icon:"success-resp"}],submitOptionsCollection:null,currentModel:null,originalModel:null,before_initialize:function(){this.submitOptionsCollection=new Backbone.Collection(TVE.apply_filters("tve_form_submit_options",this.submit_options))},after_initialize:function(){this.$options=this.$("#lg-options-wrapper")},onOpen:function(){this.submitOptionsCollection=new Backbone.Collection(TVE.apply_filters("tve_form_submit_options",this.submit_options)),this.renderOptions(),this.$(".optin-option-card[data-key=".concat(this.currentModel.get("key"),"]")).addClass(this.selected_class)},renderOptions:function(){this.$options.empty(),this.submitOptionsCollection.each(function(t){this.$options.append(this.renderOption(t))},this)},renderOption:function(t){var e=TVE.tpl("lead-generation/submit-options/option"),i=t.get("icon");return e({item:t,icon:i,selected:!1})},reset:function(t){this.model=t||this.component.leadGenerationModel,this.updateDom()},selectSubmitOption:function(t,e){this.$(".optin-option-card").removeClass(this.selected_class),e.classList.add(this.selected_class),this.currentModel=this.submitOptionsCollection.findWhere({key:e.dataset.key})},renderOptionForm:function(t){var e=0<arguments.length&&void 0!==t?t:"";e=e.replace(/-/g,"_");TVE.ucFirst(e);this.component.$el.find(".lg-submit-options").addClass("tcb-hidden").filter('[data-key="'+this.currentModel.get("key")+'"]').removeClass("tcb-hidden"),TVE.main.trigger("lgRenderOptionForm",this.component.$el,this.model,e)},updateSubmitPreview:function(t){var e=this.component.$el.find(".tve-lg-submit-options-wrapper"),i=e.find(".preview"),n=e.find(".submit-value");i.html(TVE.icon(t.get("preview_icon")||t.get("icon"))),n.html(t.get("label")),TVE.do_action("tve.lg.submit-option-changed"),this.renderOptionForm(t.get("key"))},_renderMessageOption:function(){this.$successMessageArea.removeClass("tcb-hidden")},_renderRedirectOption:function(){this.$customUrlArea.removeClass("tcb-hidden")},updateDom:function(){this.currentModel=this.submitOptionsCollection.findWhere({key:this.model.get("submit_option")}),this.currentModel||(this.currentModel=this.submitOptionsCollection.first(),this.model.set("submit_option",this.currentModel.get("key"))),this.originalModel=this.currentModel,this.updateSubmitPreview(this.currentModel)},onApply:function(){this.model.set("submit_option",this.currentModel.get("key")),this.updateSubmitPreview(this.currentModel),this.hide()},onCancel:function(){this.currentModel=this.originalModel,this.$(".optin-option-card").removeClass(this.selected_class).filter('[data-key="'+this.currentModel.get("key")+'"]').addClass(this.selected_class),this.hide()}})},"submit-style.js":function(t,e,i){e.exports=i("../button/style").extend({apply:function(t){TVE.getClassThatContains(t,TVE.CONST.global_styles.prefix_button)?TVE.main.element_selected(t):(TVE.Components.background.update(),TVE.Components.borders.update(),TVE.Components.button.update(),this.component.update()),this.prev_btn_head_css={}},constructObject:function(t){var e=_.clone(this.css),i=_.clone(this.css);switch(t){case"default":e.color="#FFF",e["background-color"]="#1abc9c";break;case"ghost":e["background-color"]="rgba(26, 188, 156, 0.01) !important",e.color="#1abc9c !important",e["border-bottom"]="1px solid #1abc9c",e["border-top"]="1px solid #1abc9c",e["border-left"]="1px solid #1abc9c",e["border-right"]="1px solid #1abc9c",i["background-color"]="#1abc9c !important",i.color="#FFF !important";break;case"rounded":e["border-radius"]="8px";break;case"full_rounded":e["border-radius"]="200px";break;case"gradient":e["background-image"]="linear-gradient(0deg, rgb(17, 142, 117) 0%, rgb(44, 216, 145) 100%)",e["background-size"]="auto",e["background-attachment"]="scroll",e["background-position"]="0px 0px !important",e["background-repeat"]="no-repeat !important",i["background-image"]="linear-gradient(90deg, rgb(17, 142, 117) 0%, rgb(26, 188, 156) 100%)";break;case"elevated":e["box-shadow"]="rgba(0, 0, 0, 0.35) 0px 2px 5px 0px",i["box-shadow"]="rgba(0, 6, 8, 0.35) 0px 9px 5px 0px";break;case"border_1":e["border-bottom"]="4px solid rgb(15, 147, 124)",e["border-radius"]="4px";break;case"border_2":e["border-bottom"]="4px solid rgb(15, 147, 124)",e["border-radius"]="10px",e["font-weight"]="bold !important",e["text-shadow"]="rgba(0, 0, 0, 0.5) 0px 1px 2px"}return{default:e,hover:i}}})}},"line-height.js":function(t,e,i){var n=i("./slider");e.exports=n.extend({before_update:function(t){var e=t.is(TVE.TEXT_ALL)&&TVE.froala.editor?TVE.froala.get_block_element():t;this.model.config.max=parseInt(e.css("font-size"))*this.default_limits.max_em}})},link:{"effect-picker.js":function(t,e,i){var n,c,s,a,o,r,d;n=jQuery,c=i("../../../libs/tinycolor"),s=i("../style-picker"),a=i("../../../libs/functions"),o={"":{"box-shadow":"none","border-bottom":"none",background:"none","text-decoration":"none",animation:"none",transition:"none","padding-left":"0"},":hover":{"text-decoration":"none",background:"none","box-shadow":"none"}},r={"":{"box-shadow":"","border-bottom":"",background:"","text-decoration":"",animation:"",transition:"","padding-left":"","--eff-color":"","--eff-faded":"","--eff-ensure-contrast":"","--eff-ensure-contrast-complement":"","--eff":""},":hover":{"text-decoration":"",background:"","box-shadow":""}},d={none:{},thin:{name:"Thin Underline",css:{"":{"text-decoration":"underline solid var(--eff-color)"},":hover":{"text-decoration":"underline solid var(--eff-color)"}}},thick:{name:"Thick Underline",css:{"":{"border-bottom":"0.15em solid var(--eff-color)"}}},wiggle:{svgBackground:function(t){var e="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:ev='http://www.w3.org/2001/xml-events' viewBox='0 0 20 4'><style type='text/css'>.squiggle{animation:shift .3s linear infinite;}@keyframes shift {from {transform:translateX(0);}to {transform:translateX(-20px);}}</style><path fill='none' style='stroke:".concat(t,"' stroke-width='2' class='squiggle' d='M0,3.5 c 5,0,5,-3,10,-3 s 5,3,10,3 c 5,0,5,-3,10,-3 s 5,3,10,3'/></svg>");return'url("data:image/svg+xml;charset=utf8,'.concat(encodeURIComponent(e),'")')},colorChanged:function(t,e,i,n){n&&TVE.Components.link._write({"background-image":this.svgBackground(e)},null,":hover")},css:function(t){return{"":{"text-decoration":"none","background-image":"linear-gradient(to bottom, var(--eff-color) 0%, var(--eff-color) 100%)","background-position":"0 100%","background-size":"3px 3px","background-repeat":"repeat-x"},":hover":{"text-decoration":"none","background-image":this.svgBackground(t),"background-position":"0 100%","background-size":"auto 6px","background-repeat":"repeat-x"}}}},"gr-fade":{name:"Gradient Fade",colorChanged:function(t,e,i){t["--eff-faded"]=e.setAlpha(Math.max(i-.4,0)).toRgbString()},css:{"":{"background-image":"linear-gradient(to right, transparent 0%, var(--eff-faded) 35%, var(--eff-color) 50%, var(--eff-faded) 65%, transparent 100%)","background-position":"50% 100%","background-repeat":"no-repeat","background-size":"0 0.1em",transition:"background-size .15s .05s"},":hover":{"background-image":"linear-gradient(to right, transparent 0%, var(--eff-faded) 35%, var(--eff-color) 50%, var(--eff-faded) 65%, transparent 100%)","background-position":"50% 100%","background-repeat":"no-repeat","background-size":"100% 0.1em"}}},"anim-fill":{name:"Animated Fill",css:{"":{"background-image":"linear-gradient(var(--eff-ensure-contrast) 0%, var(--eff-ensure-contrast) 100%)","background-position":"0 100%","background-repeat":"repeat-x","background-size":"1px .1em",transition:"background-size .2s .05s"},":hover":{"background-image":"linear-gradient(var(--eff-ensure-contrast) 0%, var(--eff-ensure-contrast) 100%)","background-position":"0 100%","background-repeat":"repeat-x","background-size":"100% 100%"}}},"gr-fill":{name:"Gradient Fill",colorChanged:function(t,e,i){t["--eff-ensure-contrast"]=(1===i?e.setAlpha(.6):e).toRgbString(),t["--eff-ensure-contrast-complement"]=e.analogous(3,3).pop().toRgbString()},css:{"":{"text-decoration":"none","background-image":"linear-gradient(120deg, var(--eff-ensure-contrast) 0%, var(--eff-ensure-contrast-complement) 100%)","background-position":"0 100%","background-repeat":"no-repeat","background-size":"100% 0.1em",transition:"background-size 0.2s .05s"},":hover":{"background-image":"linear-gradient(120deg, var(--eff-ensure-contrast) 0%, var(--eff-ensure-contrast-complement) 100%)","background-position":"0 100%","background-repeat":"no-repeat","background-size":"100% 100%"}}},"dotted-fill":{name:"Dotted Fill",css:{"":{"border-bottom":"1px dashed var(--eff-color)","background-image":"linear-gradient(var(--eff-ensure-contrast) 0%, var(--eff-ensure-contrast) 100%)","background-position":"0 100%","background-repeat":"repeat-x","background-size":"1px 0",transition:"background-size .2s .05s, border-color .2s .05s"},":hover":{"background-image":"linear-gradient(var(--eff-ensure-contrast) 0%, var(--eff-ensure-contrast) 100%)","background-position":"0 100%","background-repeat":"repeat-x","background-size":"100% 100%","border-color":"transparent"}}},fill:{name:"Instant Fill",css:{"":{background:"none","box-shadow":"inset 0 -0.1em 0 var(--eff-ensure-contrast)",transition:"background 0.1s cubic-bezier(.33, .66, .66, 1), box-shadow 0.1s cubic-bezier(.33, .66, .66, 1)"},":hover":{background:"var(--eff-ensure-contrast)","box-shadow":"inset 0 -3px 0 transparent"}}},"left-right":{name:"Left to Right",css:{"":{"background-image":"linear-gradient(var(--eff-color), var(--eff-color))","background-position":"0 100%","background-repeat":"no-repeat","background-size":"0% .15em",transition:"background-size .2s .05s"},":hover":{"background-image":"linear-gradient(var(--eff-color), var(--eff-color))","background-position":"0 100%","background-repeat":"no-repeat","background-size":"100% .15em"}}},"right-left":{name:"Right to Left",css:{"":{"background-image":"linear-gradient(var(--eff-color), var(--eff-color))","background-position":"right bottom","background-repeat":"no-repeat","background-size":"0% .15em",transition:"background-size .2s .05s"},":hover":{"background-image":"linear-gradient(var(--eff-color), var(--eff-color))","background-position":"right bottom","background-repeat":"no-repeat","background-size":"100% .15em"}}},"fade-underline":{name:"Fade Underline",css:{"":{"box-shadow":"inset 0 -0.1em 0 transparent",transition:"box-shadow .2s ease-out .05s"},":hover":{"box-shadow":"inset 0 -0.1em 0 var(--eff-color)"}}},expand:{name:"Expand Underline",css:{"":{"background-image":"linear-gradient(var(--eff-color), var(--eff-color))","background-position":"center bottom","background-size":"0 0.1em","background-repeat":"no-repeat",transition:"background .15s ease-out .05s"},":hover":{"background-image":"linear-gradient(var(--eff-color), var(--eff-color))","background-position":"center bottom","background-size":"100% 0.1em","background-repeat":"no-repeat"}}},"left-gr-fill":{name:"Left Gradient Fill",css:{"":{"box-shadow":"inset 5px 0 var(--eff-color)","padding-left":"10px","background-image":"linear-gradient(to right, var(--eff-color) 0%, var(--eff-color) 5px, transparent)","background-position":"5px 0","background-repeat":"no-repeat","background-size":"0 100%",transition:"background-size .15s ease-out .05s"},":hover":{"box-shadow":"inset 5px 0 var(--eff-color)","background-image":"linear-gradient(to right, var(--eff-color) 0%, var(--eff-color) 5px, transparent)","background-position":"5px 0","background-repeat":"no-repeat","background-size":"100% 100%"}}}},e.exports=s.extend({_template:TVE.tpl("controls/drop-panel-light"),initialize:function(t){t.model.config.items=t.model.config.items||_.mapObject(d,function(t,e){return t.name||TVE.ucFirst(e)}),s.prototype.initialize.call(this,t),this.renderStyles()},renderStyles:function(){var e=this,n='<style type="text/css">.link-effect {text-decoration: none;font-size: 14px;color: '.concat("#222",";display: inline-block;position: relative;z-index: 1;").concat(TVE.CSS_Rule_Cache.objectToCss(this.getColorSpec("#4174dc",!1,"#222"))," }");_.each(this.model.config.items,function(t,i){_.each(e.getEffectCss(i,"#4174dc"),function(t,e){n+=".link-effect-".concat(i).concat(e," { ").concat(TVE.CSS_Rule_Cache.objectToCss(t)," }")})}),n+="</style>",this.$el.prepend(n),this.style=this.$el.children("style")[0]},item_template:function(){return TVE.tpl("controls/link/style-picker-item")},box_class:function(){return"tve-style-options"},container_class:function(){return""},update:function(){var t=String(this.component._read("--eff").toString()||"none");this.$(".tve-select-item").removeClass("active").filter("[data-value="+t+"]").addClass("active"),this.model.selected_old=this.model.selected=t,this.parent_control&&this.parent_control.set_value(this.getLabel(t)),this.refresh()},onOpen:function(){var t=TVE.ActiveElement.css("color"),e=TVE.getComputedStyle(TVE.ActiveElement,"--eff-color",!0)||t,i=this.getColorSpec(e,!1,t),n=a.getStyleBySelector(this.style.sheet,".link-effect");i.color=t,i["--eff-speed"]=this.component.controls.EffectSpeed.getValue(!0),_.each(i,function(t,e){n.setProperty(e,t)}),(n=a.getStyleBySelector(this.style.sheet,".link-effect-wiggle:hover")).setProperty("background-image",d.wiggle.svgBackground(e))},getColorSpec:function(t,e,i){var n=this,s=1<arguments.length&&void 0!==e&&e,a=2<arguments.length&&void 0!==i?i:null,o=c(t),r=o.getAlpha(),l={"--eff-color":String(t)};return _.each(d,function(t,e){"function"==typeof t.colorChanged&&t.colorChanged(l,o,r,s&&n.model.selected===e,a)}),o.setAlpha(r),l},setEffectColor:function(t,e){var i=1<arguments.length&&void 0!==e&&e,n=this.getColorSpec(t,i,this.component._read("color").toString());this.component._write(n)},getEffectCss:function(t,e){return t=t||this.model.selected,d[t]&&d[t].css?"function"==typeof d[t].css?d[t].css(e):d[t].css:{}},applyCss:function(t){var i=this;_.each(t,function(t,e){i.component._write(t,null,e),":hover"===e&&i.component._write(t,null,".tve-state-hover")})},clear:function(){var i=this;_.each(r,function(t,e){i.applyTo().head_css(t,null,e,!1,":not(#tve) "),":hover"===e&&i.applyTo().head_css(t,null,".tve-state-hover",!1,":not(#tve) ")})},input:function(){var i=n.extend(!0,{},o);this.component._read("--eff-color").toString()||this.setEffectColor(TVE.getComputedStyle(TVE.ActiveElement,"color",!0));var t=c(TVE.getComputedStyle(TVE.ActiveElement,"--eff-color",!0));_.each(this.getEffectCss(this.model.selected,t),function(t,e){return Object.assign(i[e],t)}),i[""]["--eff"]=this.model.selected,this.applyCss(i)},apply:function(t,e){this.trigger("change",this.model.selected,this),this.component.update()},cancel:function(){this.model.selected=this.model.selected_old,this.input(),this.refresh()},refresh:function(){var t=this.model.selected_old=this.model.selected;this.component.$(".eff-settings").toggle("none"!==t),this.component.$(".eff-speed").toggle(Boolean(d[t]&&d[t].speed)),this.component.refresh()}})}},"link.js":function(t,e,i){var n=i("../base"),s=/^(mailto:)?[a-z0-9._%+-]+@[a-z0-9][a-z0-9.-]*\.[a-z]{2,63}$/i,a=/\[([^)]+)\]/;e.exports=n.control.extend({template:TVE.tpl("util/link"),className:"tcb-link-search tcb-relative",after_initialize:function(t){this.href="",this.$autocomplete=this.$(".tcb-link-suggest"),this.$el.addClass(this.className),this.hide_preview=t.hide_preview||!1,this.attr_name=t.attr_name||"",this.search_lightbox=!!t.search_lightbox,this.ignore_settings=!!t.ignore_settings,this.hide_preview&&this.$(".url-preview").remove(),this.attr_name&&this.$autocomplete.attr("name",this.attr_name),this.bind()},get_full_url:function(t){return t=void 0!==t?t:this.href,a.test(t)?t.replace(/"/g,"'"):(!t||/^(?:[a-z]+:|#|\?|\.|\/)/.test(t)||s.test(t)||(t="http://"+t),t)},bind:function(){var n,s,a=this;this.$autocomplete.autocomplete({appendTo:this.$el,source:function(t,e){if(n!==t.term){if(/^https?:/.test(t.term)||-1!==t.term.indexOf("."))return a.trigger("directurl",t),e();var i={q:t.term,search_lightbox:a.search_lightbox?1:0,ignore_settings:a.ignore_settings?1:0};TVE.ajax("post_search","post",i).done(function(t){e(s=t)}),n=t.term}else e(s)},focus:function(t,e){t.preventDefault()},select:function(t,e){return a.href=a.get_full_url(e.item.url),a.$autocomplete.val(a.href),a._dom(),a.trigger("select",e.item),a.$autocomplete.autocomplete("destroy"),a.bind(),!1},minLength:2,delay:300,position:{my:"left top+2"},messages:{noResults:void 0!==window.uiAutocompleteL10n?window.uiAutocompleteL10n.noResults:"",results:function(t){if(void 0!==window.uiAutocompleteL10n)return 1<t?window.uiAutocompleteL10n.manyResults.replace("%d",t):window.uiAutocompleteL10n.oneResult}}}),this.$autocomplete.data("ui-autocomplete")._renderItem=function(t,e){return jQuery('<li role="option" id="mce-tcb-autocomplete-'+e.id+'">').append('<div class="post-name">'+e.label+'</div><span class="tcb-post-type">'+(e.post_type_name?e.post_type_name:e.type)+"</span>").appendTo(t)},this.$autocomplete.autocomplete("widget").addClass("tcb-suggest tcb-fixed-200 tcb-full-width tcb-absolute"),a.$autocomplete.on("focus",function(){var t=a.$autocomplete.val();t&&!/^https?:/.test(t)&&a.$autocomplete.autocomplete("search")}).on("keyup",function(){a.href=a.get_full_url(this.value),a.$(".url-preview").text(a.href)[a.href?"show":"hide"]()}).on("change",function(){a.href=a.get_full_url(this.value),a._dom(),a.trigger("linkchange",a.href)})},_dom:function(){this.$(".url-preview").text(this.href)[this.href?"show":"hide"]()},set_link:function(t){this.href=this.get_full_url(t),this.$autocomplete.val(t),this._dom()},get_link:function(){return this.href},focus:function(){return this.$autocomplete.focus(),this}})},"list.js":function(t,e,i){e.exports=i("../base").base_view.extend({template:TVE.tpl("util/list"),className:"tcb-list",initialize:function(t){t.items?(this.collection=new Backbone.Collection,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.render),this.$el.addClass(this.className),this.set_items(t.items),(t.value||t.selected)&&this.select(t.value||t.selected)):console.error("items are required when instantiating a list")},select:function(t){var e=t,i=this.$("li.item").removeClass("selected"),n="";if(_.isObject(t)?(e=t.currentTarget.getAttribute("data-value"),t.currentTarget.classList.add("selected"),this.trigger("change",e)):i.filter('[data-value="'+t+'"]').addClass("selected"),e){var s=this.collection.findWhere({id:parseInt(e)}),a=this.$el.closest(".action-settings").attr("data-action");if(!s)return this.select(0);a&&"tl_state_switch"!==a&&"tl_state_lightbox"!==a&&(n='<a class="blue-text edit-link" href="'+s.get("edit_url")+'" target="_blank">'+("thrive_lightbox"==a?TVE.t.EditLightBox:TVE.t.EditThriveBox)+"</a>");var o='<span class="info-text grey-text mt-0 mb-10"><span class="tcb-truncate">'+s.get("title")+"</span>"+n+"</span>",r=this.decodeHtml(s.get("title"));this.$(".selected-item").html(o),this.$(".list-filter").val(r),this.$(".list-container").hide()}else this.$(".selected-item").html(""),this.clear_input();this.value=e},decodeHtml:function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value},set_items:function(i){_.each(i,function(t,e){i[e].id=parseInt(i[e].id)}),this.collection.reset(i)},get_value:function(){return this.value},set_value:function(t){return this.select(t),this},filter:function(t,e){if(27===t.which)return e.value="",this.filter_string=e.value,this.$("li.item").show().length?this.$("li.no-entry").hide():this.$("li.no-entry").show(),!1;var i=this;this.filter_string=e.value,clearTimeout(this.filter_timeout),this.$(".list-container").show(),this.filter_timeout=setTimeout(function(){var t=i.$("li.item");jQuery.trim(e.value).length&&(t=i.$("li.item").hide().filter(function(){return 0<=i.$(this).text().toLowerCase().indexOf(e.value.toLowerCase())})),t.show(),t.length?i.$("li.no-entry").hide():i.$("li.no-entry").show()},100)},render:function(){return this.$el.html(this.template({collection:this.collection,filter_string:this.filter_string||""})),this.collection.length?this.$("li.no-entry").hide():this.$("li.no-entry").show(),this},clear_input:function(){this.$("input").val(""),this.$(".tcb-scroll").removeAttr("style")}})},"margin-padding.js":function(t,e,i){var n=i("../base"),l=i("../../libs/functions"),o=i("../../models/size"),a=i("../../libs/watcher");e.exports=n.control.extend({template:TVE.tpl("controls/margin-padding"),sides:["top","left","right","bottom"],disabledControls:"",link:!1,headCSSValues:{},initialize:function(){var s,o,i=this,r=this;this.render(),this.$inputs={},this.$edges={},_.each(["margin","padding"],function(e){_.each(i.sides,function(t){i.$inputs[e+"-"+t]=i.$("input."+t+'[data-style="'+e+'"]'),i.$edges[e+"-"+t]=i.$(".handle."+t+'[data-style="'+e+'"]')})}),this.$sliders=this.$el.find(".handle").tve_draggable({stepSize:2,incrementSize:this.getIncrement(),start:function(t,e,i){o=i.ctrlKey||r.link?r.sides:[e];var n=r.$inputs[t+"-"+e].val();r.currentValue=isNaN(n)?0:l.toFixed(n),s=TVE.SKIP_CSS_STATE},move:_.debounce(function(t,e,i,n,s){TVE.SKIP_CSS_STATE=!0;var a=l.toFixed(r.currentValue+r.parse(t));r.setValue(e,a,o,!0),"margin"===e&&TVE.Editor_Page.reposition_icons()},0),stop:function(t,e){TVE.SKIP_CSS_STATE=!1;var i=l.toFixed(r.currentValue+r.parse(t));r.setValue(e,i,o,!0),TVE.SKIP_CSS_STATE=s,TVE.Editor_Page.reposition_icons()}}),a(this,"uom",function(t,e){r.$(".input-um").html(e.toUpperCase()),r.$(".tve-input-um").removeClass("active").filter('[data-value="'+e+'"]').addClass("active")},this),this.uom="px"},change:function(t,e){var i=this.link?this.sides:[e.dataset.side];this.setValue(e.dataset.style,e.value,i,!0)},umChange:function(t,e){this.convertUM(e.dataset.value)},convertUM:function(t){var e=this.uom,i=this;this.uom=t,this.$sliders.data("tve_draggable.options").incrementSize=this.getIncrement(),this.$el.find(".tve-input").each(function(){if("auto"===this.value||!this.value||"0"===this.value)return!0;this.value=new o(this.value+e).getValueIn(t,i.sizeOptions[this.dataset.style]),i.setValue(this.dataset.style,this.value,this.dataset.side,!0)})},update:function(i){var n=this,t=TVE.FLAGS.hover_element;TVE.FLAGS.hover_element=!1,this.sizeOptions={margin:{em_size:parseInt(this.find_element("margin",i,!0).css("font-size")),parent_size:this.find_element("margin",i,!0).parent().width()},padding:{em_size:parseInt(this.find_element("padding",i,!0).css("font-size")),parent_size:this.find_element("padding",i,!0).parent().width()}};var e=this.readHeadCSS(),s=e.marginCSS,a=e.paddingCSS;this.uom="px",_.some(this.headCSSValues,function(t){return t.includes("em")?(n.uom="em",!0):t.includes("%")?(n.uom="%",!0):void 0}),_.each(this.sides,function(t){var e=s["margin-"+t];e=e&&e.replace("!important",""),(n.disabledControls.includes("margin-*")||n.disabledControls.includes("margin-"+t))&&(e=i.css("margin-"+t)),n.setValue("margin","auto"===e?e:new o(e).getValueIn(n.uom,n.sizeOptions.margin),t),n.setValue("padding",new o(a["padding-"+t]).getValueIn(n.uom,n.sizeOptions.padding),t)}),TVE.FLAGS.hover_element=t},readHeadCSS:function(){var e=this,i=this.prepare_config(),n=this.find_element("margin",this.applyTo()),s=this.find_element("padding",this.applyTo()),t=this.getAllProps(),a=t.margins,o=t.paddings;return this.headCSSValues=_.extend({},n.head_css(a,null,i.margin_suffix,!1,this.config.css_prefix),s.head_css(o,null,i.padding_suffix,!1,this.config.css_prefix)),_.isEmpty(this.headCSSValues)&&"desktop"!==TVE.main.device&&_.some(TVE.main.get_inherited_media(),function(t){if(e.headCSSValues=_.extend({},n.head_css(a,t,i.margin_suffix,!1,e.config.css_prefix),s.head_css(o,t,i.padding_suffix,!1,e.config.css_prefix)),!_.isEmpty(e.headCSSValues))return!0}),{marginCSS:n.head_css(a,null,i.margin_suffix,!0,this.config.css_prefix),paddingCSS:s.head_css(o,null,i.padding_suffix,!0,this.config.css_prefix)}},writeHeadCSS:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:null,s=this.prepare_config();this.applyElementCss(e,n||this.find_element(t,this.applyTo()),s[t+"_suffix"])},getAllProps:function(){return{margins:this.sides.map(function(t){return"margin-".concat(t)}),paddings:this.sides.map(function(t){return"padding-".concat(t)})}},linkInput:function(t,e){this.link=-1===e.className.indexOf("active");var i=this.$el.find(".link svg");this.link?i.replaceWith(TVE.icon("lock-light")):i.replaceWith(TVE.icon("unlock-light")),e.classList.toggle("active")},keyup:function(t,e,i){var n=38===i.keyCode?1:40===i.keyCode?-1:0;n&&(e.value=this.parse(isNaN(e.value)?0:e.value)+n,this.change(t,e))},value:function(t,e){if(-1!==this.sides.indexOf(e))return this.$el.find(".tve-input."+e+'[data-style="'+t+'"]').val()},getValue:function(t,e,i){if(-1!==this.sides.indexOf(e)&&t){var n,s=this.prepare_config();return"auto"===(n=(n=this.find_element(t,this.applyTo()).head_css(t+"-"+e,null,s[t+"_suffix"],!0)).replace("!important",""))||(""==n&&(n=0),void 0===i&&(n=this.parse(n),isNaN(n)&&(n=0))),n}},setValue:function(i,n,s,t){var a=this;"padding"===i&&n<0&&(n=0);var e=_.isArray(s)?_.map(s,function(t){return i+"-"+t}):[i+"-"+s];if(e=_.filter(e,function(t){return-1===a.disabledControls.indexOf(t)}),_.each(e,function(t){a.$inputs[t].val(n),a.color(t,n),a.error(a.validate(t))}),!isNaN(n)&&t){var o={},r=this.find_element(i,this.applyTo()).css(i+"-"+s,"");_.each(e,function(t){var e=void 0===a.config.important||a.config.important?"!important":"";o[t]=n+(isNaN(n)?"":a.uom)+e,a.headCSSValues[i+"-"+s]=n}),this.writeHeadCSS(i,o,r),TVE.do_action("tcb.margin_padding.set",r,{style:i,side:s,value:n}),TVE.Editor_Page.reposition_icons()}},validate:function(t){var e=this.$inputs[t].val();return("margin"!==t.split("-")[0]||"auto"!==e)&&(e=e.replace(this.uom,""),this.$inputs[t].toggleClass("error",isNaN(e)),isNaN(e))},parse:function(t){return t=this.getIncrement()<1?parseFloat(t):parseInt(t)},error:function(t){var e=this.$el.find(".error-details");e[t?"show":"hide"]()},disable_controls:function(t){this.$(".control-block").removeClass("control-block");var e=this;this.disabledControls="",_.each(t,function(t){t.side?e.$('[data-style="'+t.style+'"].'+t.side).addClass("control-block"):e.$('[data-style="'+t.style+'"]').addClass("control-block"),e.disabledControls+=t.style+"-"+(t.side||"*")})},find_element:function(t,e,i){var n=2<arguments.length&&void 0!==i&&i,s=this.prepare_config(),a=n&&s[t+"_suffix"];return e=e||TVE.ActiveElement,void 0===this.config[t+"_to"]?a?e.find(a):e:this.config[t+"_to"]?TVE.ActiveElement.find(this.config[t+"_to"]+(a||"")):a?TVE.ActiveElement.find(a):TVE.ActiveElement},prepare_config:function(){return{margin_suffix:void 0!==this.config.margin_suffix?this.config.margin_suffix:this.config.css_suffix,padding_suffix:void 0!==this.config.padding_suffix?this.config.padding_suffix:this.config.css_suffix}},color:function(t,e){e=parseFloat(e),this.$edges[t].toggleClass("p-value",0<e).toggleClass("n-value",e<0)},getIncrement:function(){return"em"===this.uom?.1:"%"===this.uom?.2:1}})},"master-color.js":function(t,e,i){var n=i("./color-picker"),s=i("./../../libs/tinycolor");e.exports=n.extend({originalColor:null,defaults:function(){return _.extend(n.prototype.defaults.call(this),{allowEmpty:!1})},before_initialize:function(){this.defaults.allowEmpty=!1,TVE.add_action("tcb.write_css",_.bind(function(){this.toggle_warning(TVE.ActiveElement)},this)),TVE.main.on("element_selected",_.bind(function(){this.toggle_warning(TVE.ActiveElement)},this))},toggle_warning:function(t){if(t&&t.is(".thrv-button")){var e=TVE.main.device,i=TVE.main.responsive[e].media,n=t.collect_head_css();n[i]||(n[i]=""),TVE.$(".master_color_warning").toggleClass("tcb-hide",!(-1<n[i].indexOf("var(")))}},cancel:function(){delete this.background_reset,TVE.Components.background.restore_state(),TVE.Components.borders.controls.Borders.restore_state()},change:function(t){delete this.background_reset,TVE.isCssVariable(t)&&(t=new s(TVE.getCssVariableValue(t))),this.changeColorsWithHover(t)},input:function(t){this.background_reset||(this.background_reset=!0),TVE.isCssVariable(t)&&(t=new s(TVE.getCssVariableValue(t))),this.runComponentChanges(t)},update:function(){},onShow:function(){this.component.update(),this.originalColor=this.getValue()},runComponentChanges:function(e){var i,n=this;_.each(this.config.config.affected_components,function(t){i=TVE.Components[t],"borders"===t&&(i=i.controls.Borders),i.changeColorPallette({originalColor:n.originalColor,color:e})})},changeColorsWithHover:function(t){this.runComponentChanges(t),TVE.state_manager.is_default()&&(TVE.state_manager.set_state("hover"),TVE.ActiveElement.addClass("tve-state-hover"),TVE.state_manager.induced_state=!0,this.runComponentChanges(t),TVE.ActiveElement.removeClass("tve-state-hover"),TVE.state_manager.set_state(""),TVE.state_manager.induced_state=!1),TVE.FLAGS.hover_update=!0,TVE.main.update_components(this.config.config.affected_components),delete TVE.FLAGS.hover_update}})},"max-width.js":function(t,e,i){var n=i("./slider");e.exports=n.extend({convertUM:function(t){var e=this.applyTo(!0),i=e.parentNode,n=this.$el.find(".tve-input, .tve-slider"),s=TVE.getComputedStyle(e,"maxWidth"),a=TVE.getComputedStyle(i,"width");switch(s="string"==typeof s&&-1!==s.indexOf("%")?parseFloat(s)*this.model.config.max/100:s||a,t){case"vw":s=parseFloat(100*s/document.documentElement.clientWidth).toFixed(1);break;case"%":s=parseFloat(100*s/TVE.getComputedStyle(i,"width")).toFixed(1);break;case"px":default:s=parseInt(s)}n.val(s)},isDefault:function(){var t=this.$el.find(".tve-input").val(),e=this.$(".width-input");return void 0!==e&&e.attr("placeholder","auto"),"auto"===t||"none"===t},umChange:function(t,e){var i=e.getAttribute("data-value");this.$('.tve-input-um[data-value="'+i+'"]').hasClass("active")||(this.setUM(i),this.isDefault()||(this.convertUM(i),this.currentEventType="change",this.change(this.applyTo(),this.$el.find(".tve-input")[0]),delete this.currentEventType))},onInput:function(t,e){e.value=this.prepareValue(e.value,this.getUM()),this.$el.find("input").val(e.value),TVE.SkipUpdate=!0,this.input(t,e),TVE.ElementEditIcons.toggle(!1)},setValue:function(t,e){var i=this.$el.find(".tve-input"),n=this.$el.find(".tve-slider");return void 0!==t&&isNaN(t)&&0===t.indexOf("auto")?(this.setUM("px"),i.val("auto"),n.val(this.model.config.max)):(this.setUM(this.readUM(t)),t=parseFloat(t),isNaN(t)&&(t="auto"),i.val(t),"auto"===t?n.val(this.model.config.max):n.val(t),e&&i.trigger("input")),TVE.do_action("tcb.set_max_width_value",t,this.applyTo()),this},update:function(){var t=this.applyTo(),e=t.head_css("max-width")||t.css("max-width");"none"===e&&(e="auto"),this.setValue(e)},input:function(t,e){var i=this.getUM(),n=e.value;"auto"!==n&&!isNaN(n)&&""!==n||(i="",n="none"),this.applyElementCss({"max-width":n+i+(this.config.important?" !important":"")},t,this.config.css_suffix,this.config.css_prefix)},change:function(t,e){this.input(t,e)},afterConfig:function(){this.model.config.max=parseInt(this.applyTo().parent().css("width"))}})},"modal-picker.js":function(t,e,i){var n=i("./style-change");e.exports=n.extend({before_render:function(){n.prototype.before_render.apply(this,arguments),this.get_config("label")||(this.model.config.label=TVE.t.Icon)},update:function(t){},setModal:function(t){this.modal=t},setModalProp:function(t,e){return this.modalProps=this.modalProps||{},this.modalProps[t]=e,this},setModalTopProp:function(t){return this.modalTop=t,this},onModalSave:function(t){this.change(this.applyTo(),t)},_getModal:function(){return this.modal},updateValue:function(t){return this.modal&&this.modal.setSelected&&this.modal.setSelected(t),this.set_value.call(this,t)},on_click:function(t,e){return"function"==typeof this.get_config("callback")?this.get_config("callback")(t,e):this.openModal.apply(this,arguments)},openModal:function(){var t=jQuery.extend(!0,{top:"20%"},{props:this.modalProps||{},top:this.modalTop||"20%"});this.listenTo(this._getModal(),"save",this.onModalSave),this._getModal().open(t)}})},"multilevel-list.js":function(t,e,i){function r(t,i){return void 0!==i?(t.each(function(t,e){return l(e).data("item").set("level",i,{silent:!0})}),t.removeClass("level-0 level-1").addClass("level-"+i).attr("data-level",i)):parseInt(t.attr("data-level"))}function a(t){var e=r(t),i='[data-level="'+(e+1)+'"], [data-level="'+(e+2)+'"], [data-level="'+(e+3)+'"]';return t.nextUntil('[data-level="'+e+'"]',i)}var l,n;l=jQuery,n=i("./preview-list"),e.exports=n.extend({attach_collection:function(t){var e=this;return n.prototype.attach_collection.apply(this,arguments),this.collection.on("change",function(){e.updateTree()}),this.collection},update:function(){void 0===this.collection&&this.attach_collection(new Backbone.Collection),this.collection.DURING_UPDATE=!0,this.collection.reset(this.getFlat()),this.updateTree(),delete this.collection.DURING_UPDATE},getFlat:function(){var s=[];return this.tree=this.get_items(this.readFrom()),this.tree.forEach(function(t){return function e(i,n){i.level=n,s.push(i),i.children&&i.children.forEach(function(t){t.parent=i.id,e(t,n+1)})}(t,0)}),s},updateTree:function(){var a,o=this,i=0;this.collection.each(function(t,e){0===t.get("level")&&(a=e,o.tree[i]=t.attributes,o.tree[i].children=function t(e){for(var i,n=[],s=e.get("level")+1;(i=o.collection.at(a+1))&&i.get("level")===s;)a++,i.attributes.children=t(i),n.push(i.attributes);return n}(t),i++)}),this.tree.splice(i,this.tree.length)},render:function(){var o=this,t=this._sortable;this._sortable=!1,n.prototype.render.call(this),this._sortable=t,this._sortable&&this.$el.data("ui-sortable")&&this.$el.sortable("destroy"),this.$(".preview-list-item").length&&this._sortable&&this.$el.sortable({handle:".preview-list-sort-handle",forcePlaceholderSize:!0,stop:_.bind(this.order_changed,this),helper:function(t,e){var i=r(e),n=a(e),s=e.outerHeight();return o.dragged={$children:n,item:e.data("item"),level:i,deepestLevel:0,childItems:n.map(function(t,e){return l(e).data("item")})},n.length&&(o.dragged.deepestLevel=_.max(n.map(function(t,e){return s+=l(e).outerHeight(!0),parseInt(e.dataset.level)}))-i),l("<div></div>").append(e.clone(!0).removeAttr("data-level")).append(n).css("height",s).css("width",e.outerWidth(!0)+"px")},start:function(t,e){o.$el.sortable("refreshPositions"),e.placeholder.removeClass("preview-list-item").css({marginTop:e.item.css("marginTop"),visibility:"visible",height:e.helper.outerHeight()})},sort:function(t,e){var i=e.position.left+25*o.dragged.level,n=e.placeholder.prevAll().not(e.item).first(),s=e.placeholder.nextAll().not(e.item).first(),a=Math.floor(i/25);a+o.dragged.deepestLevel>o.model.config.max_levels&&(a=o.model.config.max_levels-o.dragged.deepestLevel),n.length?(a>r(n)+1&&(a=r(n)+1),s.length&&a<r(s)&&(a=r(s))):a=0,a<0&&(a=0),e.placeholder.css("margin-left",25*a).attr("data-level",a)}}),this.$el.find(".preview-list-sort-handle").toggleClass("tcb-hidden",1===this.collection.length)},order_changed:function(t,e){var n=this,i=r(e.placeholder),s=i-this.dragged.level;r(e.item,i),this.dragged.$children.each(function(t,e){var i=n.dragged.childItems[t].get("level")+s;r(l(e).data("item",n.dragged.childItems[t]),i<=n.model.config.max_levels?i:n.model.config.max_levels)}),e.item.after(this.dragged.$children),this.$(".preview-list-item").each(function(t,e){var i=l(e).data("item");n.collection.remove(i,{silent:!0}),n.collection.push(i,{silent:!0}),delete i.attributes.children}),this.collection.trigger("change",{op:"sort"})},item_remove:function(t,e){var i=l(e).closest(".preview-list-item"),n=_.map(i.add(a(i)),function(t){return l(t).data("item")});this.collection.remove(n,{silent:!0}),this.collection.trigger("change",{op:"remove",item:n[0].attributes})},tab_click:function(t,e){return this.getEditPanel(this.collection.at(parseInt(e.getAttribute("data-index")))).open(null,e),!1},getEditPanel:function(){return null}})},"multiple-checkbox.js":function(t,e,i){var n=i("./checkbox");e.exports=n.extend({template:TVE.tpl("controls/multiple-checkbox"),render:function(){this.$el.html(this.template({item:this.model.config})),this._render_inputs()},_render_inputs:function(){var s=this.$(".tve-inputs-wrapper"),a=TVE.tpl("controls/checkbox/input");_.each(this.model.config.inputs,function(t,e,i){var n=a({item:new Backbone.Model(t)});s.append(n)},this)},setChecked:function(t,e){void 0===e&&(e=!0),this.$('input[name="'+t+'"]').prop("checked",!!e)},uncheckAll:function(){this.$("input:checked").prop("checked",!1)},get_checked_inputs:function(){var i=[];return this.$("input:checked").each(function(t,e){i.push(e.getAttribute("name"))}),i}})},"palettes.js":function(t,e,i){var r,n,c,d,s,h,u,p,f;r=jQuery,n=i("../base"),c=i("../../libs/functions"),d=i("./css-variables/color"),s=i("./css-variables/gradient"),h=".thrive-colors-palette-config",u="colors_palette",p=i("../../libs/tinycolor"),f={active_palette:function(t){return["number","string"].includes(_typeof(t))},config:function(t){return"object"===_typeof(t)&&t.hasOwnProperty("colors")&&t.hasOwnProperty("gradients")},palettes:function(t){return"object"===_typeof(t)&&0<Object.keys(t).length}},e.exports=n.control.extend({template:TVE.tpl("controls/palettes"),variable_template:TVE.tpl("controls/palettes-var-item"),configKey:u,configSelector:h,shortcodeConfig:null,localVarsSelector:"",vars_list:[],variablePanels:{},masterVariables:{},otherVariables:{},schema:f,after_initialize:function(){var r=this;this.variablePanels.colors=new d({panel_position:"left"}),this.variablePanels.gradients=new s({panel_position:"left"}),this.localVars={dependency:[],cache:[],oldMasterTinycolor:null},TVE.add_action("tcb.change_css_color_variable",function(t,e){var o=r.variablePanels.colors;r.localVars.dependency.length&&_.each(r.localVars.dependency,function(i){var n=r.localVars.oldMasterTinycolor.toHsl(),s=e.toHsl(),a=i.rootElement;a.length&&_.each(i.linked_variables,function(t,e){TVE.changeCssVariableValue(e,o.compute_linked_var_value(t,s,e,!0,i.linked_objects,n),a)})})}),TVE.add_action("tcb.edit_css_color_variable",function(t,e){r.localVars.dependency=TVE.Views.Controls.Palettes.getLocalVariablesDependency([TVE.getRawCssVariableName(t)]),r.localVars.cache=_.extend({},r.localVars.dependency),r.localVars.oldMasterTinycolor=e}),TVE.add_action("tcb.update_css_color_variable",function(t,e){r.localVars.dependency.length&&TVE.Views.Controls.Palettes.updatePaletteVariables(r.localVars.dependency),r.localVars={dependency:[],cache:[],oldMasterTinycolor:null}}),TVE.add_action("tcb.undo_css_color_variable",function(t,e,a){if(r.localVars.cache){var o=r.variablePanels.colors;_.each(r.localVars.cache,function(i){var n=a.toHsl(),s=i.rootElement;s.length&&_.each(i.linked_variables,function(t,e){TVE.changeCssVariableValue(e,o.compute_linked_var_value(t,n,e,!0,i.linked_objects,n),s)})}),r.localVars={dependency:[],cache:[],oldMasterTinycolor:null}}}),TVE.add_action("tcb_after_cloud_template",function(t){if(t.find(r.configSelector).length){var i=r.getPaletteConfig(t);_.isEmpty(i.palettes[0].original)&&(_.each(i.palettes,function(t,e){i.palettes[e].original=i.palettes[e].value}),r.shortcodeConfig=i,r.savePaletteConfig(t),delete r.shortcodeConfig)}}),TVE.add_action("tcb.focus.clear",function(){r.$paletteSelect&&r.$paletteSelect.data("select2")&&r.$paletteSelect.select2("close")})},after_render:function(){this.$paletteSelect=this.$(".tcb-select-palettes"),this.$paletteVarsWrapper=this.$(".tcb-palettes-variables")},update:function(t){this.shortcodeConfig=this.getPaletteConfig(),this.$el[jQuery.isEmptyObject(this.shortcodeConfig)?"hide":"show"](),jQuery.isEmptyObject(this.shortcodeConfig)||(t.data("keep-css_id",1),c.validateConfigElement(this.shortcodeConfig,this.schema)?(this.localVarsSelector='[data-css="'.concat(t.attr("data-css"),'"]'),this.$(".palette-controls").toggle(1<Object.keys(this.shortcodeConfig.palettes).length),this._setPaletteVariables(),this._buildPaletteSelect(),this._displayPaletteVariables()):console.warn("configuration array is not valid"))},_setPaletteVariables:function(){var s=this;this.masterVariables={},this.otherVariables={},_.each(this.shortcodeConfig.config,function(t,n){s.masterVariables[n]=[],s.otherVariables[n]=[],_.each(t,function(t,e){var i=parseInt(t.parent);-1===i?s.masterVariables[n].push(e):_.isNaN(i)&&s.otherVariables[n].push(e)})})},_displayPaletteVariables:function(){var r=this,l=this.shortcodeConfig.active_palette;this.$paletteVarsWrapper.empty();var c=0;_.each(this.masterVariables,function(t,o){Array.isArray(t)&&0<t.length&&t.forEach(function(t){var e=r.shortcodeConfig.palettes[l].value[o][t].val,i=r.shortcodeConfig.config[o][t].name,n={},s="colors"===o?"linear-gradient("+e+", "+e+")":e,a="var(".concat(TVE.CONST[o].local_prefix+t,")");r.$paletteVarsWrapper.append(r.variable_template({css_variable:a,extra_class:-1===e.indexOf("var")?"":"tcb-css-variable-identifier tcb-tpl-var",bg:s,name:i,type:o,index:c})),n.colors=e,n.gradients=e,r.shortcodeConfig.palettes[l].value[o][t].hsl&&(n.hsl=r.shortcodeConfig.palettes[l].value[o][t].hsl),r.vars_list[c]=new Backbone.Model({css_variable:a,css_variable_value:e,variable:n,linked_variables:r.getLinkedVars(o,t),linked_objects:r.getLinkedObjects(o,t)}),c++})})},getLinkedVars:function(t,i){var n=TVE.CONST[t].local_prefix,s=[];return _.each(this.shortcodeConfig.config[t],function(t,e){t.parent&&t.parent===i&&s.push(n+e)}),s},getLinkedObjects:function(s,t){var a=this,o={};return"colors"!==s||_.each(this.getLinkedVars(s,t),function(t){var e=t.split("-").slice(-1).pop(),i=a.shortcodeConfig.palettes[a.shortcodeConfig.active_palette].value[s][e].hsl_parent_dependency,n=a.shortcodeConfig.config[s][e].lock;o[t]={hsl_parent_dependency:i,tmp_hsl_parent_dependency:{h:parseInt(i.h),l:parseFloat(i.l),s:parseFloat(i.s)},lock:n}}),o},_buildPaletteSelect:function(){var s=this,a=[],o=this.shortcodeConfig.active_palette;_.each(this.shortcodeConfig.palettes,function(t,e){var i=e===o,n='<div class="tcb-palette">';_.each(t.value.colors,function(t,e){-1===s.shortcodeConfig.config.colors[e].parent&&(n+='<div class="tcb-palette-item" style="background-color: '.concat(t.val,'"></div>'))}),n+="</div>",a.push({id:e,text:t.name,preview:n,selected:i})}),this.$paletteSelect.data("select2")&&(this.$paletteSelect.empty(),this.$paletteSelect.off("select2:open"),this.$paletteSelect.off("select2:close"),this.$paletteSelect.select2("destroy")),this.$paletteSelect.select2({cache:!1,minimumResultsForSearch:-1,data:a,templateResult:function(t){return t.id?r("<div"+(o==t.id?' class="active"':"")+' data-tooltip="'+t.text+'" data-side="top">'+t.preview+"</div>"):t.text},templateSelection:function(t){return r('<div class="tcb-palette-selection">'+t.preview+'<span class="c-s-p-palette-title">'+t.text+"</span></div>")}}).on("select2:open",function(){TVE.Views.Controls.DropPanel.close_all()}).on("select2:close",function(){TVE.tooltips.hide()}).data("select2").$dropdown.addClass("tcb-palette-dropdown")},domChangePalette:function(t,e){if(!c.validateConfigElement(this.shortcodeConfig,this.schema))return console.warn("configuration array is not valid"),!1;var i=this.shortcodeConfig.palettes[e.value].value;return this._updateLocalVariables(i),this.shortcodeConfig.active_palette=e.value,this.savePaletteConfig(),this._displayPaletteVariables(),!1},domResetActivePalette:function(t,e){if(!confirm("Are you sure you want to reset this palette?"))return!1;if(!c.validateConfigElement(this.shortcodeConfig,this.schema))return console.warn("configuration array is not valid"),!1;var i=this.shortcodeConfig.active_palette,n=r.extend(!0,{},this.shortcodeConfig.palettes[i].original);return this.shortcodeConfig.palettes[i].value=n,this._updateLocalVariables(n),this.savePaletteConfig(),this._buildPaletteSelect(),this._displayPaletteVariables(),!1},domEditCssVariable:function(t,i){var s=this,e=arguments;if(!c.validateConfigElement(this.shortcodeConfig,this.schema))return console.warn("configuration array is not valid"),!1;var a=i.getAttribute("data-var"),n=i.getAttribute("data-index"),o=i.getAttribute("data-type"),r=this.variablePanels[o];if(r.isOpen())return r.onCancel(),!1;var l=this.vars_list[n];return r.reset(l),r.open(null,i),r.apply=function(){if(r.changed){var n=s.shortcodeConfig.active_palette,t=TVE.getRawCssVariableName(a).split("-").slice(-1).pop(),e=r.alter_sent_data({value:r.css_variable?r.css_variable:TVE.getCssVariableValue(a)});s.shortcodeConfig.palettes[n].value[o][t].val=e.value,s.shortcodeConfig.palettes[n].value[o][t].hsl=e.hsl,l.get("linked_variables").forEach(function(t){var e=r.prepare_variable_for_save(t),i=t.split("-").slice(-1).pop();s.shortcodeConfig.palettes[n].value[o][i].val=e.value,s.shortcodeConfig.palettes[n].value[o][i].hsl_parent_dependency=e.hsl_parent_dependency}),s.savePaletteConfig(),s._buildPaletteSelect(),s._displayPaletteVariables()}},r.cancel=function(){r.constructor.prototype.cancel.apply(r,e),r.changed&&(s._buildPaletteSelect(),s._displayPaletteVariables())},!(r.input=function(t){if(delete r.css_variable,TVE.isCssVariable(t)&&(r.css_variable=t,t=TVE.getCssVariableValue(t)),jQuery(i).find(".variable-square-control").toggleClass("tcb-css-variable-identifier tcb-tpl-var",!_.isEmpty(r.css_variable)),0===t.indexOf("rgb")){t="linear-gradient("+t+", "+t+")";var e="";_.each(s.masterVariables.colors,function(t){e+='<div class="tcb-palette-item" style="background-color: '.concat(TVE.getCssVariableValue(TVE.CONST.colors.local_prefix+t),'"></div>')}),s.$paletteSelect.data("select2").$container.find(".tcb-palette-selection .tcb-palette").html(e)}jQuery(i).find(".tcb-icon-inline").css("background-image",t)})},_updateLocalVariables:function(t){var e=0<arguments.length&&void 0!==t?t:{},s={};_.each(e,function(t,n){_.each(t,function(t,e){var i=TVE.CONST[n].local_prefix+e;s[i]=t.val})}),TVE.write_css(this.localVarsSelector,s,null)},_getConfigElement:function(t){return(t=t||TVE.getSelectedElement()).find(this.configSelector)},getPaletteConfig:function(t){return TVE.shortcode_manager(this._getConfigElement(t),this.configKey).get()},savePaletteConfig:function(t){TVE.shortcode_manager(this._getConfigElement(t),this.configKey).save(this.shortcodeConfig)}},{templatePaletteChanged:function(t,e,i){var n=0<arguments.length&&void 0!==t?t:[],r=1<arguments.length&&void 0!==e?e:{},l=2<arguments.length&&void 0!==i?i:{},s=TVE.Views.Controls.Palettes.getLocalVariablesDependency(n);0!==s.length&&(_.each(s,function(i){var t=TVE.getRawCssVariableName(i.parent_variable.value),n=p(l[t]).toHsl(),s=p(r[t]).toHsl(),a=i.rootElement,o=parseInt(n.h)!==parseInt(s.h);l[t]!==r[t]&&a.length&&_.each(i.linked_variables,function(t,e){TVE.changeCssVariableValue(e,d.modifyLinkedVarValue(t,s,e,o,i.linked_objects,n),a)})}),TVE.Views.Controls.Palettes.updatePaletteVariables(s))},getVariableLinkedVars:function(t,e,i){var n=TVE.inner_$(t),s=e.split("-").slice(-1).pop(),a=TVE.shortcode_manager(n.find(h),u).get(),o=TVE.CONST.colors.local_prefix,r={},l={};return!!c.validateConfigElement(a,f)&&(_.each(a.config.colors,function(t,e){t.parent&&t.parent===s&&(r[o+e]=TVE.getCssVariableValue(o+e,n))}),_.each(r,function(t,e){var i=e.split("-").slice(-1).pop(),n=a.palettes[a.active_palette].value.colors[i].hsl_parent_dependency,s=a.config.colors[i].lock;l[e]={hsl_parent_dependency:n,tmp_hsl_parent_dependency:{h:parseInt(n.h),l:parseFloat(n.l),s:parseFloat(n.s)},lock:s}}),{linked_variables:r,linked_objects:l,parent_variable:{id:s,value:i},rootElement:n})},updatePaletteVariables:function(t){var e=0<arguments.length&&void 0!==t?t:[];Array.isArray(e)&&e.length&&_.each(e,function(t){var n=t.rootElement,s=TVE.shortcode_manager(n.find(h),u).get(),a=s.active_palette,e=p(TVE.getCssVariableValue(TVE.CONST.colors.local_prefix+t.parent_variable.id,n)).toHsl();s.palettes[a].value.colors[t.parent_variable.id].val=t.parent_variable.value,s.palettes[a].value.colors[t.parent_variable.id].hsl={h:parseInt(e.h),s:c.toFixed(e.s,2),l:c.toFixed(e.l,2)},_.each(t.linked_objects,function(t,e){var i=e.split("-").slice(-1).pop();s.palettes[a].value.colors[i].val=TVE.getCssVariableValue(e,n),s.palettes[a].value.colors[i].hsl_parent_dependency=t.tmp_hsl_parent_dependency}),TVE.shortcode_manager(n.find(h),u).save(s)})},getLocalVariablesDependency:function(s){var a=this,o=[],t=TVE.CSS_Rule_Cache.getLocalVariables();return _.each(t,function(t,n){TVE.inner_$(n).is(TVE.Elements.contentblock.identifier)||_.each(t,function(t,e){if(s.includes(TVE.getRawCssVariableName(t))){var i=a.getVariableLinkedVars(n,e,t);_.isObject(i)&&o.push(i)}})}),o}})},"preview-list.js":function(t,e,i){var o,r=i("./drop-panel"),n=i("./tooltip-base"),s=i("../base").control;e.exports=s.extend({_sortable:!1,_clickable:!0,events:function(){return _.extend({},s.prototype.events,{"mousedown .preview-list-sort-handle":"sortableHeight","mouseup .preview-list-sort-handle":"sortableHeight"})},initialize:function(t){var e=this;this.$el.addClass("tcb-preview-list"),this.tpl=t.tpl||"controls/preview-list-item",t.model&&t.model.config&&(t.model.config.sortable&&this.sortable(!0),t.model.config.extra_class&&this.$el.addClass(t.model.config.extra_class),t.model.config.tpl&&(this.tpl=t.model.config.tpl),void 0!==t.model.config.clickable&&(this._clickable=t.model.config.clickable),t.model.config.deleteConfirmation&&(this.deleteConfirmation=new n({tooltipPosition:"top",_template:TVE.tpl("page-events/delete-confirmation/delete-template"),template:TVE.tpl("page-events/delete-confirmation/delete-message"),anim_duration:300,onApply:function(){o&&e.item_remove(null,o,null,!0),e.deleteConfirmation.hide()},onCancel:function(){e.deleteConfirmation.hide()}}))),"function"==typeof this.after_initialize&&this.after_initialize(t),this.$el.toggleClass("no-sort",!this._sortable)},get_collection:function(){return this.collection||this.attach_collection(new Backbone.Collection)},attach_collection:function(t){if(this.collection)throw new Error("Collection already attached (preview list instance)");return this.collection=t,this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"remove",this.render),this.listenTo(this.collection,"change",this.render),this.collection},update:function(){void 0===this.collection&&this.attach_collection(new Backbone.Collection),this.collection.DURING_UPDATE=!0,this.collection.reset(this.get_items(this.readFrom())),delete this.collection.DURING_UPDATE},get_items:function(t){throw new Error("Preview list: get_items not implemented")},render:function(){this._sortable&&this.$el.data("ui-sortable")&&this.$el.sortable("destroy"),this.$el.empty().css("height","");var n=!1,s=!0;this.collection.each(function(t,e){if(this.collection.prepare_item&&(t.attributes=this.collection.prepare_item(t.attributes)),t.index=e,t.get("__new"))return!0;n=!0;var i=jQuery(TVE.tpl(this.tpl,{view:this,item:t}));this.$el.append(i),i.data("item",t),t.get("icon")||(s=!1)},this),n?this._sortable&&this.$el.sortable({axis:"y",handle:".preview-list-sort-handle",update:_.bind(this.order_changed,this)}):this.$el.html(TVE.tpl(this.tpl,{no_item:!0})),s||this.$(".item-icon").remove(),this._clickable||this.$(".preview-list-item").removeClass("click"),this.$el.find(".preview-list-sort-handle").toggleClass("tcb-hidden",1===this.collection.length||!this._sortable)},sortableHeight:function(t){var e=this.$el.height();"mouseup"===t.type&&(e=""),this.$el.css("height",e)},order_changed:function(t,e){var i=e.item.index(),n=parseInt(e.item.data("index"));if(i!==n){var s=this.collection.at(n);this.collection.remove(s,{silent:!0}),this.collection.add(s,{at:i,silent:!0}),this.collection.trigger("change"),this.trigger("order_changed")}},item_remove:function(t,e,i,n){var s=3<arguments.length&&void 0!==n&&n;if(this.model&&this.model.config&&this.model.config.deleteConfirmation&&!s)return this.deleteConfirmation.isOpen()?this.deleteConfirmation.onCancel():(this.deleteConfirmation.open(null,this.$el.find(e)),o=e),!1;o="";var a=this.collection.at(parseInt(e.getAttribute("data-index")));return a.get("type")&&TVE.do_action("tcb.preview.list.remove."+a.get("type")),this.collection.remove(a),r.close_all(),this.trigger("item_remove",e.dataset.index,a),!1},item_click:function(t,e){return this.trigger("item_click",this.collection.at(parseInt(e.getAttribute("data-index"))),e),!1},iconClick:function(t,e){return this.trigger("icon_click",this.collection.at(parseInt(e.getAttribute("data-index"))),e),!1},item_duplicate:function(t,e){var i=this.collection.at(parseInt(e.getAttribute("data-index")));return this.trigger("item_duplicate",i),!1},sortable:function(t){return this._sortable=void 0===t||t,this}})},"preview-toggle-list.js":function(t,e,i){var n=i("./drop-panel");e.exports=i("../base").control.extend({content_hidden_icon:TVE.icon("a_down"),content_shown_icon:TVE.icon("a_up"),content_view:null,_sortable:!1,initialize:function(t){this.$el.addClass("tcb-preview-toggle-list"),this.tpl=t.tpl||"controls/preview-toggle-list-item",t.model&&t.model.config&&(t.model.config.sortable&&this.sortable(!0),t.model.config.extra_class&&this.$el.addClass(t.model.config.extra_class),t.model.config.tpl&&(this.tpl=t.model.config.tpl)),"function"==typeof this.after_initialize&&this.after_initialize(t)},attach_collection:function(t){if(this.collection)throw new Error("Collection already attached (preview list instance)");this.collection=t,this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"remove",this.render),this.listenTo(this.collection,"change",this.render)},attach_view:function(t){this.content_view=t},update:function(){this.collection.DURING_UPDATE=!0,this.collection.reset(this.get_items(this.readFrom())),delete this.collection.DURING_UPDATE},get_items:function(t){throw new Error("Preview list: get_items not implemented")},render:function(){!1===this._sortable&&this.$el.data("ui-sortable")&&this.$el.sortable("destroy"),this.$el.empty();var i=!1;this.collection.each(function(t,e){if(this.collection.prepare_item&&(t.attributes=this.collection.prepare_item(t.attributes)),t.index=e,t.get("__new"))return!0;i=!0,this.$el.append(TVE.tpl(this.tpl,{view:this,item:t})),!1===t.get("hide_content")&&(this.toggle_view instanceof Backbone.View&&this.toggle_view.destroy(),this.$('.preview-toggle-list-content[data-index="'+e+'"]').append('<div id="tcb-preview-toggle-list-'+e+'"></div>'),this.toggle_view=new this.content_view({el:this.$("#tcb-preview-toggle-list-"+e),model:t}))},this),i?this._sortable&&this.$el.sortable({axis:"y",handle:".preview-toggle-list-sort-handle",update:_.bind(this.order_changed,this)}):this.$el.html(TVE.tpl(this.tpl,{no_item:!0}))},order_changed:function(t,e){var i=e.item.index();if(i!==parseInt(e.item.data("index"))){var n=this.collection.at(parseInt(e.item.data("index")));this.collection.remove(n,{silent:!0}),this.collection.add(n,{at:i,silent:!0}),this.collection.trigger("change")}},item_remove:function(t,e){return this.collection.remove(this.collection.at(parseInt(e.getAttribute("data-index")))),n.close_all(),!1},item_click:function(t,e){return this.trigger("item_click",this.collection.at(parseInt(e.getAttribute("data-index"))),e),!1},item_toggle:function(t,e){if("false"===e.getAttribute("data-hidden"))return!1;this.collection.findWhere({hide_content:!1}).set({hide_content:!0},{silent:!0});var i=parseInt(e.getAttribute("data-index")),n=this.collection.at(i);return n.set({hide_content:!1}),this.collection.trigger("item-toggle",n),!1},item_duplicate:function(t,e){var i=this.collection.at(parseInt(e.getAttribute("data-index")));return this.trigger("item_duplicate",i),!1},sortable:function(t){return this._sortable=void 0===t||t,this}})},"pricing-table":{"edit-instance.js":function(t,e,i){var n=i("../drop-panel");e.exports=n.extend({template:TVE.tpl("controls/pricing-table/edit-instance"),_template:TVE.tpl("controls/drop-panel-light"),silent_model:!0,after_initialize:function(t){this.pricing_table_view=t.pricing_table_view},after_render:function(){this.$label=this.$("#price-instance-label"),this.$default=this.$('input[data-setting="is_default"]')},onOpen:function(t,e){this.$(".instance-default-setting-container").toggleClass("tcb-hidden",!0!==this.model.get("__new"))},reset:function(t){this.model=t,this.listenTo(this.model,"change",this.write),this.dom()},input_setting:function(t,e){"checkbox"===e.type&&(e.value=e.checked);var i={};i[e.getAttribute("data-setting")]=e.value,this.model.set(i,{silent:this.silent_model}),this.write()},change_setting:function(t,e){this.silent_model=!1,this.input_setting(t,e),this.silent_model=!0},write:function(){var t=this.model.get("item");t.find(".tcb-button-text").text(this.model.get("label")),this.model.get("is_default")?t.attr("data-default",!0):t.removeAttr("data-default")},dom:function(){this.$label.val(this.model.get("label")),this.$default.prop("checked",this.model.get("is_default"))},cancel:function(){this.model.get("__new")?this.model.destroy():this.model.restoreState()},apply:function(){this.model.get("__new")?(this.model.unset("__new",{silent:!0}),this.pricing_table_view.add_instance_callback(this.model)):(this.model.trigger("change"),this.pricing_table_view.check_collection_length())}})},"edit-price-box.js":function(t,e,i){e.exports=i("../drop-panel").extend({template:TVE.tpl("controls/pricing-table/edit-price-box"),_template:TVE.tpl("controls/drop-panel-light"),after_initialize:function(t){this.price_instance_controls=t.price_instance_controls},after_render:function(){this.$label=this.$("#tcb-price-box-label")},reset:function(t){this.model=t,this.listenTo(this.model,"change",this.write),this.dom()},write:function(){this.model.get("item").attr("data-label",this.model.get("label"))},dom:function(){this.$label.val(this.model.get("label"))},change_settings:function(t,e){var i={};i[e.getAttribute("data-setting")]=e.value,this.model.set(i)},cancel:function(){this.model.get("__new")?this.model.destroy():this.model.restoreState()},apply:function(){this.model.get("__new")&&(this.model.unset("__new",{silent:!0}),this.price_instance_controls.add_price_box_callback(this.model))}})},"price-instance-controls.js":function(t,e,i){var o=i("../slider"),r=i("../checkbox"),l=i("../preview-list"),c=i("../../../models/base"),d=i("../../controls/pricing-table/edit-price-box"),h=new Backbone.Collection({});e.exports=i("../../base").base_view.extend({template:TVE.tpl("controls/pricing-table/price-instance-controls"),$priceInstance:null,before_initialize:function(t){this.model=t.model,this.$priceInstance=t.model.get("instance")},after_initialize:function(t){this.edit_price_box_view=new d({price_instance_controls:this});var n=this.$priceInstance,i=this.model.get("item"),e=this.model.get("is_default"),s=this.model,a=this;this.gutter_width=new o({el:this.$el.find(".tve-price-box-gutter-width-control"),model:{css_suffix:" > .tcb-flex-col",config:{default:"0",min:"0",max:"200",label:"Gutter Width",um:["px"]}}}),this.price_boxes=new l({el:this.$el.find(".tve-price-box-preview-list-control"),model:{config:{settings_icon:"edit",clone_icon:"duplicate",sortable:!0}}}),this.default=new r({el:this.$el.find(".tve-price-box-default-control"),model:{config:{name:"",label:"Make this default instance",default:!1}}}),this.wrap=new r({el:this.$el.find(".tve-price-box-wrap-control"),model:{config:{name:"",label:"Wrap price boxes",default:!1}}}),this.column_width=new o({el:this.$el.find(".tve-price-box-column-width-control"),model:{css_suffix:" .tcb-flex-col",config:{default:"250",min:"40",max:"700",label:"Minimum Price Box Width",um:["px"]}}}),this.gutter_width.input=function(t,e){this.applyElementCss({"padding-left":e.value+"px"},n,this.model.css_suffix,""),this.applyElementCss({"margin-left":-e.value+"px"},n,"",""),"change"===this.currentEventType&&TVE.drag.position_resizables(n,e.value)},this.gutter_width.update=function(){this.setValue(n.find(this.model.css_suffix).css("padding-left"))},this.price_boxes.attach_collection(h),this.price_boxes.update=_.bind(function(){var s=[],t=n.find("> .tcb-flex-col");_.each(t,function(t,e){var i=jQuery(t),n=new c({item:i,label:i.attr("data-label")});s.push(n)},this),h.reset(s),this.check_collection_length()},this),this.price_boxes.on("item_click",_.bind(this.edit_price_box,this)),this.price_boxes.on("item_duplicate",_.bind(this.clone_price_box,this)),this.listenTo(h,"change",_.bind(function(){this.$priceInstance.empty(),h.each(function(t){this.$priceInstance.append(t.get("item"))},this),TVE.drag.bind_element(this.$priceInstance)},this)),this.listenTo(h,"remove",_.bind(function(t){t.get("item")instanceof jQuery&&(t.get("item").remove(),this.reset_column_resize_settings(),TVE.drag.row_class(this.$priceInstance),this.check_collection_length())},this)),this.wrap.change=function(t,e){var i="tablet"===TVE.main.device?"medium":TVE.main.device;n.toggleClass("tcb-"+i+"-wrap",e.checked),n.toggleClass("tcb-"+i+"-no-wrap",!e.checked),n.head_css({"flex-wrap":a.get_wrap_value()+" !important"}),a.column_width.update(),n.head_css({"flex-basis":e.checked?a.column_width.value(!0)+" !important":""},!1," .tcb-flex-col"),a.column_width.$el.slideToggle(),"tablet"!==TVE.main.device||n.hasClass("m-edit")?"mobile"===TVE.main.device&&n.addClass("m-edit"):n.toggleClass("tcb-mobile-no-wrap",!e.checked)},this.wrap.update=function(){var t=n.css("flex-wrap"),e=!t||-1===t.indexOf("nowrap");this.setChecked(e),a.column_width.$el[e?"show":"hide"]()},this.default.change=function(t,e){e.checked&&(s.collection.each(function(t){s!==t&&(t.set({is_default:!1},{silent:!0}),t.get("item").removeAttr("data-default"))},this),s.set({is_default:!0},{silent:!0}),i.attr("data-default",!0),this.disable(),this.$("label").find(".grey-text").text("Default instance"))},this.default.update=function(){this.setChecked(e),this.isChecked()&&(this.disable(),this.$("label").find(".grey-text").text("Default instance"))},this.column_width.input=function(t,e){this.applyElementCss({"flex-basis":e.value+"px !important"},n,this.model.css_suffix,"")},this.column_width.update=function(){var t=n.find(this.model.css_suffix).css("flex-basis");t&&"auto"!==t||(t=this.model.config.default+"px"),this.setValue(t)},this.price_boxes.update(),this.wrap.update(),this.default.update(),this.column_width.update(),this.gutter_width.update()},get_wrap_value:function(){return this.wrap.getValue()?"wrap":"desktop"===TVE.main.device?"":"nowrap"},add_price_box:function(t,e){var i=this.$priceInstance.find(".thrv-button:not(.tcb-excluded-from-group-item)")?this.$priceInstance.find(".thrv-button:not(.tcb-excluded-from-group-item)").first().attr("data-css"):"",n=this.$priceInstance.find(".thrv-content-box:not(.tcb-excluded-from-group-item)")?this.$priceInstance.find(".thrv-content-box:not(.tcb-excluded-from-group-item) .tcb-pt-card").first().attr("data-css"):"",s=this.$priceInstance.find(".thrv-content-box:not(.tcb-excluded-from-group-item)")?this.$priceInstance.find(".thrv-content-box:not(.tcb-excluded-from-group-item) .tcb-pt-card-content").first().attr("data-css"):"",a=jQuery(TVE.tpl("controls/pricing-table/pricing-table-item")({btn_data_css:i,content_box_data_css:s,content_box_background_data_css:n})),o=new c({__new:!0,item:a,label:a.attr("data-label").substring(0,20)});return this.edit_price_box_view.isOpen()?this.edit_price_box_view.onCancel():(o.saveState(),this.edit_price_box_view.reset(o),this.edit_price_box_view.open(null,e)),!1},add_price_box_callback:function(t){this.$priceInstance.append(t.get("item")),this.reset_column_resize_settings(),TVE.drag.row_class(this.$priceInstance),TVE.drag.bind_element(this.$priceInstance),this.price_boxes.update()},reset_column_resize_settings:function(){this.$priceInstance.hasClass(TVE.drag.get_resize_class())&&(this.$priceInstance.removeClass(TVE.drag.get_resize_class()),this.$priceInstance.children().head_css({"max-width":""},"_ALL"))},check_collection_length:function(){var t=this.$("#tcb-add-price-box-item"),e=this.price_boxes.$('.click[data-fn="item_duplicate"]');(t.removeAttr("disabled"),e.removeClass("tcb-hidden"),1===h.length)?this.price_boxes.$('.click[data-fn="item_remove"]').addClass("tcb-hidden"):10<=h.length&&(t.attr("disabled","disabled"),e.addClass("tcb-hidden"))},clone_price_box:function(t){var e=t.get("item").clone(),i=e.attr("data-label");e.attr("data-label",i+" (copy)"),this.$priceInstance.append(e),this.reset_column_resize_settings(),TVE.drag.row_class(this.$priceInstance),TVE.drag.bind_element(this.$priceInstance),this.price_boxes.update()},edit_price_box:function(t,e){return this.edit_price_box_view.isOpen()?this.edit_price_box_view.onCancel():(t.saveState(),this.edit_price_box_view.reset(t),this.edit_price_box_view.open(null,e)),!1}})}},"radio.js":function(t,e,i){var n=i("../base");e.exports=n.control.extend({template:TVE.tpl("controls/radio"),action_select:function(t,e){this.change(t,e)},getValue:function(){return this.$(".radio:checked").val()},setValue:function(t){this.$('.radio[value="'+t+'"]').prop("checked",!0)},get_selected_label:function(){var e=this.getValue(),t=this.model.config.options.filter(function(t){return t.value==e}).shift();return t?t.name:null}})},rating:{"rating-value.js":function(t,e,i){e.exports=i("../../base").control.extend({template:TVE.tpl("controls/rating-value"),after_initialize:function(t){this.$max=this.$(".rating-max"),this.$value=this.$(".rating-value"),this.renderer=t.component.renderer;for(var e="",i="",n=.5;n<=this.model.config.max_size;n+=.5)i+='<option value="'+n+'">'+n+"</option>",parseInt(n)==n&&(e+='<option value="'+n+'">'+n+"</option>");this.$value.html(i).val(this.model.config.default_value),this.$max.html(e).val(this.model.config.default_max)},enable_disable:function(){var t=this;this.$max.find("option").each(function(){this.disabled=parseFloat(this.value)<t.renderer.data.value}),this.$value.find("option").each(function(){this.disabled=parseFloat(this.value)>t.renderer.data.max})},option_changed:function(){this.update_renderer(),this.enable_disable(),this.change()},change:function(){this.renderer.render_to(this.applyTo(!1,!1,!0),!0)},update_renderer:function(){this.renderer.set_data({value:parseFloat(this.$value.val()),max:parseFloat(this.$max.val())})},update:function(t){this.$max.val(t.attr("data-max")),this.$value.val(t.attr("data-value")),this.enable_disable(),this.update_renderer()}})},"style.js":function(t,e,i){var n=i("../style-picker");e.exports=n.extend({read_from_element:function(){var t=this.applyTo().attr("data-style");return this.renderer.set_data({style:t}),t},item_template:function(){return _.template('<div class="col-xs-6 rating-item"><div class="tve-select-item click" data-fn="select" data-value="<#=key #>"><#=value.html#></div></div>')},input:function(t){this.renderer.set_data({style:this.model.selected}).render_to(t)},cancel:function(t){this.model.selected=this.model.selected_old,this.renderer.set_data({style:this.model.selected_old}).render_to(t),this.renderer.clear_undo_snapshot()},onOpen:function(t){this.renderer.take_undo_snapshot(t)},apply:function(t){this.renderer.render_to(t,!0)}})}},"responsive-video":{"style.js":function(t,e,i){var n=i("../style-picker");e.exports=n.extend({no_style_class:"rv_style_none",after_initialize:function(t){var i=this;n.prototype.after_initialize.apply(this,arguments),TVE.add_filter("tcb_filter_shadow_before_add",function(t){return t.is(".thrv_responsive_video")&&(i.remove_video_style_class(t),i.update()),t}),TVE.add_action("tcb_action_corners_added",function(t){return t.is(".thrv_responsive_video")&&(i.remove_video_style_class(t),i.update()),t}),TVE.add_action("tcb_action_borders_added",function(t){return t.is(".thrv_responsive_video")&&(i.remove_video_style_class(t),i.update()),t}),TVE.add_action("tcb_action_vooplayer_added",function(t){return t.attr("data-type").includes("vooplayer")&&(i.remove_video_style_class(t),i.update()),t}),TVE.add_action("tcb_action_aspect_ratio_changed",function(t,e){return e.length&&!e.includes("16:9")?(i.remove_video_style_class(t),i.update(),i.style_picker.disable()):i.style_picker.enable(),t}),this.style_picker=t.component.controls.responsive_video.style_picker},remove_video_style_class:function(t){t.removeClass(function(t,e){return(e.match(/(^|\s)rv_style_\S+/g)||[]).join(" ")})},item_template:function(){return TVE.tpl("controls/responsive-video/style-picker")},container_class:function(){return"control-grid wrap video-styles"},update:function(){for(var t=this.applyTo().attr("class").split(" "),e=this.model.config.default||this.no_style_class,i=0;i<t.length;i++)if("rv_style_"==t[i].substr(0,9)){e=t[i];break}this.$(".tve-select-item").removeClass("active").filter("[data-value="+e+"]").addClass("active"),this.model.selected_old=e,this.style_picker.updateValue(this.getLabel(e))},input:function(t,e){t.head_css({"box-shadow":"",overflow:"",border:"","border-radius":""}),TVE.Components.shadow.update(),t.removeClass(function(t,e){return(e.match(/(^|\s)rv_style_\S+/g)||[]).join(" ")}),this.model.selected!==this.no_style_class&&t.addClass(this.model.selected)},apply:function(t,e){this.model.selected&&this.style_picker.updateValue(this.getLabel(this.model.selected)),this.undo_manager_api(t,this.model)},cancel:function(t,e){this.model.selected&&this.model.selected!==this.no_style_class&&t.removeClass(this.model.selected),this.model.selected_old&&this.model.selected_old!==this.no_style_class&&t.addClass(this.model.selected_old),this.undo_manager_api(t,this.model)},undo_manager_api:function(t,e){var i=this,n=e.selected&&e.selected!==this.no_style_class?e.selected:"",s=e.selected_old&&e.selected_old!==this.no_style_class?e.selected_old:"";TVE.UndoManager.add({undo:function(){this.undo_redo()},redo:function(){this.undo_redo()},undo_redo:function(){t.is('[class*="rv_style_"]')?t.removeClass(n).addClass(s):t.addClass(n).removeClass(s),TVE.ActiveElement&&i.update()}})}})},"video.js":function(t,e,i){var n=i("../../components/responsive-video/video-controls"),s=i("../../base"),o=i("../../controls/modal-picker"),r=i("../tooltip/tooltip-download-media-resources"),a=i("../../../libs/storage"),l=i("../../../libs/tinycolor"),c=i("./voo-settings");e.exports=s.control.extend({activeElement:null,videoOverlaySVG:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><title>play</title><path fill="#fff" d="M18.659 4.98c-0.889-1.519-2.12-2.75-3.593-3.614l-0.047-0.025q-2.298-1.341-5.020-1.341t-5.019 1.341c-1.52 0.889-2.751 2.12-3.614 3.593l-0.025 0.047q-1.341 2.298-1.341 5.020t1.341 5.020c0.889 1.519 2.12 2.75 3.593 3.614l0.047 0.025q2.298 1.341 5.020 1.341t5.020-1.341c1.519-0.889 2.75-2.12 3.614-3.593l0.025-0.047q1.341-2.298 1.341-5.020t-1.341-5.020zM15 10.716l-7.083 4.167c-0.118 0.074-0.262 0.117-0.416 0.117-0 0-0 0-0.001 0h0c-0.153-0.002-0.296-0.040-0.422-0.107l0.005 0.002q-0.417-0.247-0.417-0.729v-8.333q0-0.482 0.417-0.729 0.43-0.234 0.833 0.013l7.084 4.167q0.416 0.234 0.416 0.716t-0.416 0.716z"></path></svg>',update:function(t){this.activeElement=t;var e=this.get_attribute("type"),i=this.get_attribute("start-time"),n=this.get_attribute("end-time");if(this.model=new Backbone.Model(this.read()),this.video_settings.set_model(this.model),t.hasClass("tcb-elem-placeholder")&&(this.$("#v-settings-youtube input.tve_provider_url").val(""),this.$(".v-source").val("youtube").trigger("change"),this.set_attribute("type","youtube",t)),void 0===i||"0"===i?this.$(".tve-time-control input").val(0):(this.$('.tve-time-control[data-time="Minute"] input').val(parseInt(i/60)),this.$('.tve-time-control[data-time="Second"] input').val(parseInt(i%60))),void 0===n||"0"===n?this.$(".responsive-video-end-time-settings .tve-time-control input").val(0):(this.$('.responsive-video-end-time-settings .tve-time-control[data-time="Minute"] input').val(parseInt(n/60)),this.$('.responsive-video-end-time-settings .tve-time-control[data-time="Second"] input').val(parseInt(n%60))),this.update_extra_settings(e),this.activeElement.find(".video_overlay ").hasClass("video_overlay_image")){var s=this.activeElement.find(".video_overlay ").css("background-image"),a="1234567";0<(s=s.replace("url(","").replace(")","").replace(/\"/gi,"")).length&&(a=s.split("/").slice(-1)[0]),this.video_settings.set_thumbnail({id:_.random(1,1e3),title:a})}else this.video_settings.set_thumbnail(null);this.show_hide_provider_options(e),e.includes("vooplayer")&&this.voo_settings.update(t),this.video_settings.aspectRatio.update(t),this.video_settings.aspectRatioBtnGroup.update(t)},update_extra_settings:function(t){t&&_.each(this.$("#r-v-checkbox-settings-"+t).find('input[type="checkbox"]'),_.bind(function(t){var e=t.getAttribute("data-elem-attr"),i=t.getAttribute("data-elem-attr-val");t.checked=this.get_attribute(e)===i,"autoplay"===e&&this.show_hide_video_thumbnail_options(t.checked)},this))},read:function(){var t=this.applyTo(),e={p:{}},i=t.find("video.tcb-responsive-video").first(),n=t.find("iframe").first();if(i.length){var s=i.find("source");e.s=this.get_attribute("type"),e.p={id:i.attr("data-id"),title:i.attr("data-title"),url:i.children(":first-of-type").attr("src"),attachment:{id:i.attr("data-id"),title:i.attr("data-title"),url:s.attr("src"),mime:s.attr("type")}}}else n.length?(e.s=this.get_attribute("type"),e.p={c:this.get_attribute("video-color"),id:n.attr("data-code"),url:this.get_attribute("url")}):e.s=this.get_attribute("type");return{config:e}},input:function(t,e){},restoreAspectRatio:function(t){var e=t.attr("data-aspect-ratio").split(":"),i=(e[1]/e[0]*100).toFixed(2);t.find(".tve_responsive_video_container").css("padding-bottom",i+"%")},clear:function(t){(t=void 0!==t?t:this.applyTo()).removeClass("tcb-elem-placeholder"),t.find(".tcb-inline-placeholder-action").remove(),t.find(".tve_responsive_video-no_video").remove(),t.find(".tve_responsive_video_container").removeAttr("style"),t.attr("data-aspect-ratio")&&this.restoreAspectRatio(t),t.find("iframe,video,script,.wistia_embed").remove(),t.find(".voo-id.video-skin-player").remove()},set_extra_settings_from_session:function(i,t){t&&(void 0!==a.get(a.keys.video.rel)&&null!==a.get(a.keys.video.rel)||a.set(a.keys.video.rel,!0),this.$("#r-v-checkbox-settings-"+t).find('input[type="checkbox"]').each(function(){var t=this.getAttribute("data-elem-attr"),e=this.getAttribute("data-elem-attr-val");a.get(a.keys.video[t])&&i.attr("data-"+t,e)}))},open_style_picker:function(t,e){return this.component.controls.style.open(null,e),!1},after_initialize:function(t){var a=this;TVE.add_filter("element_drop",_.bind(function(t){if(t&&t.hasClass("thrv_responsive_video")){var e=t.attr("data-type");this.set_extra_settings_from_session(t,e)}return t},this)),this.video_settings=new n({config:{component_controls:t.component.controls},key:"VideoControls"}),this.$el.append(this.video_settings.$el.addClass("video-options")),this.video_settings.on("change",_.bind(this.apply,this)),this.video_settings.on("start-time-changed",_.bind(this.start_time_changed,this)),this.video_settings.on("end-time-changed",_.bind(this.endTimeChanged,this)),this.video_settings.on("color-change",_.bind(this.color_changed,this)),this.video_settings.on("thumbnail-changed",_.bind(this.thumbnail_changed,this)),this.video_settings.on("thumbnail-removed",_.bind(this.thumbnail_removed,this)),this.style_picker=new o({el:this.$("#style-picker")[0],model:{config:{callback:_.bind(this.open_style_picker,this),label:t.component.config.style.config.label}}}),this.voo_settings=new c({el:this.$(".tcb-voo-settings")[0],config:t.component.config}),TVE.add_filter("tcb_filter_html_before_save",function(t,e){var i=t.find('.thrv_responsive_video[data-url][data-type="youtube"][data-start-time]'),n=t.find('.thrv_responsive_video[data-url][data-type="wistia"][data-start-time]'),s=t.find('.thrv_responsive_video[data-url][data-type="vooplayer"][data-start-time]');return a.updateTime(i,"start","start"),a.updateTime(n,"start","time"),a.updateTime(s,"start","s"),a.updateTime(s,"end","e"),t}),this.downloadTooltip=new r({no_buttons:!0})},updateTime:function(t,a,o){t.each(function(){var t=TVE.inner_$(this),e=t.find("iframe"),i=t.attr("data-".concat(a,"-time")),n=e.attr("data-src")||e.attr("src");if(i)if(n)n=TVE.setOrReplaceUrlParam(n,o,i),e.attr("data-src",n),e.attr("src",n);else{var s=e.attr("url-params");s?e.attr("url-params","".concat(s,"&").concat(o,"=").concat(i)):e.attr("url-params","".concat(o,"=").concat(i))}})},openDownloadTooltip:function(t,e){return this.downloadTooltip.isOpen()?this.downloadTooltip.onCancel():this.downloadTooltip.open(null,e),!1},extra_settings_changed:function(t,e){var i=e.getAttribute("data-elem-attr"),n=e.checked?e.getAttribute("data-elem-attr-val"):e.getAttribute("data-elem-attr-val-unchecked");this.set_attribute(i,n),a.set(a.keys.video[i],e.checked),"autoplay"===i&&(this.show_hide_video_thumbnail_options(e.checked),this.display_autoplay_warning(e.checked)),this.apply()},start_time_changed:function(t){var e=parseInt(this.$('.tve-time-control[data-time="Minute"]').find("input").val()),i=parseInt(this.$('.tve-time-control[data-time="Second"]').find("input").val());this.set_attribute("start-time",60*e+i,t)},endTimeChanged:function(t){var e=parseInt(this.$('.responsive-video-end-time-settings .tve-time-control[data-time="Minute"]').find("input").val()),i=parseInt(this.$('.responsive-video-end-time-settings .tve-time-control[data-time="Second"]').find("input").val());this.set_attribute("end-time",60*e+i,t)},color_changed:function(t){this.set_attribute("video-color",t.toRgbString()),this.apply()},thumbnail_changed:function(t){this.set_attribute("overlay",1),this.activeElement.find(".video_overlay").addClass("video_overlay_image").html('<span class="overlay_play_button">'+this.videoOverlaySVG+"</span>"),this.activeElement.find(".video_overlay").css({"background-image":"url('"+t.url+"')","background-repeat":"no-repeat","background-size":"cover","background-position":"center"}).attr({"data-width":t.width,"data-height":t.height})},thumbnail_removed:function(){this.set_attribute("overlay",0),this.activeElement.find(".video_overlay").removeClass("video_overlay_image").html(""),this.activeElement.find(".video_overlay").removeAttr("data-width").removeAttr("data-height").removeAttr("style")},show_hide_provider_options:function(t){this.$(".responsive-video-time-settings").hide(),this.$(".responsive-video-end-time-settings").hide(),this.$(".responsive-video-end-time-label").hide(),this.$(".r-v-checkbox-settings").hide(),this.$(".tcb-voo-settings").hide(),this.$("#style-picker").show(),this.$(".tcb-default-aspect-ratio").show(),"youtube"!==t&&"wistia"!==t&&"vooplayer"!==t||this.$(".responsive-video-time-settings").show(),"vooplayer"===t?(this.$(".responsive-video-end-time-settings").show(),this.$(".responsive-video-end-time-label").show(),this.$(".tcb-voo-settings").show(),this.$("#style-picker").hide(),this.$(".tcb-default-aspect-ratio").hide(),this.$(".responsive-video-time-label").detach().appendTo("#tcb-custom-start-end-time"),this.$(".responsive-video-time-settings").detach().appendTo("#tcb-custom-start-end-time"),this.$(".responsive-video-end-time-label").detach().appendTo("#tcb-custom-start-end-time"),this.$(".responsive-video-end-time-settings").detach().appendTo("#tcb-custom-start-end-time")):(this.$(".responsive-video-time-label").detach().insertBefore(this.$(".tcb-voo-settings")),this.$(".responsive-video-time-settings").detach().insertBefore(this.$(".tcb-voo-settings")),this.$(".responsive-video-end-time-label").detach().insertBefore(this.$(".tcb-voo-settings")),this.$(".responsive-video-end-time-settings").detach().insertBefore(this.$(".tcb-voo-settings"))),this.$('.r-v-checkbox-settings[data-setting="'+t+'"]').show(),this.$("#style-picker").toggleClass("tcb-disabled",this.activeElement.attr("data-aspect-ratio")&&!this.activeElement.attr("data-aspect-ratio").includes("16:9"))},show_hide_video_thumbnail_options:function(t){var e=this.$el.find(".tcb-responsive-video-thumbnail");t?(this.video_settings.videoThumbnail.file_picker.remove(),e.addClass("tcb-hidden")):e.removeClass("tcb-hidden")},display_autoplay_warning:function(t){this.$el.find(".info-text").toggleClass("tcb-hidden",!t)},video_provider_changed:function(t,e,i){TVE.removeDataAttributes(t),this.$(".tve_provider_url").val(""),this.activeElement.hasClass("tcb-elem-placeholder")||(this.clear(this.activeElement),t.find(".tve_responsive_video_container").append('<div class="tve_responsive_video-no_video">'+TVE.icon("video-player","svg","editor")+"</div>")),this.$('input[type="checkbox"]:hidden').each(function(){this.checked=!1}),this.video_settings.videoThumbnail.file_picker.remove(),this.$(".tcb-responsive-video-thumbnail").removeClass("tcb-hidden"),this.show_hide_provider_options(e.value),this.set_attribute("type",e.value,t),["custom","external"].includes(e.value)&&this.activeElement.attr("data-no-download","1"),this.set_extra_settings_from_session(this.activeElement,e.value),this.update_extra_settings(e.value),e.value.includes("vooplayer")&&this.voo_settings.update(t),this.video_settings.aspectRatio.update(t),this.video_settings.aspectRatioBtnGroup.update(t),TVE.do_action("tcb_action_vooplayer_added",t)},apply:function(t){var e=this.applyTo(),i=this,n=this.video_settings.get_embed_code("responsive",this.queryString(this.get_attribute("type")));return this.clear(e),n?(e.find(".tve_responsive_video_container").append(n),this.set_attribute("url",this.$el.find(".tve_provider_url:visible").val()),this.activeElement.find("video").on("loadedmetadata",function(){var t=this.videoHeight/this.videoWidth*100;i.activeElement.find(".tve_responsive_video_container").css("padding-bottom",t+"%"),parseFloat((16/9*100).toFixed(2))===parseFloat(t.toFixed(2))&&(i.activeElement.attr("data-aspect-ratio-default",1),i.video_settings.aspectRatio.update(e),i.video_settings.aspectRatio.setValue(!1,!0),i.video_settings.applyAspectRatio(i.activeElement,"9:16"),i.video_settings.aspectRatioBtnGroup.setValue("9:16"))}),"function"==typeof this.video_settings.active_view.init_video&&(this.video_settings.active_view.init_video(),e.find(".video-skin-player").css("width",""),e.find(".video-skin-player").css("height",""))):e.find(".tve_responsive_video_container").append('<div class="tve_responsive_video-no_video">'+TVE.icon("video-player","svg","editor")+"</div>"),this},queryString:function(t){var e,i="?",n=new l(this.get_attribute("video-color"));switch(t){case"youtube":i+=(e=["rel="+(void 0===this.get_attribute("rel")?"1":this.get_attribute("rel")),"modestbranding="+(void 0===this.get_attribute("modestbranding")?"0":this.get_attribute("modestbranding")),"controls="+(void 0===this.get_attribute("controls")?"1":this.get_attribute("controls")),"showinfo="+(void 0===this.get_attribute("showinfo")?"1":this.get_attribute("showinfo")),"fs="+(void 0===this.get_attribute("fs")?"1":this.get_attribute("fs")),"wmode=transparent"]).join("&");break;case"wistia":e=["chromeless=false","controlsVisibleOnLoad="+(void 0===this.get_attribute("onload-controls")?"true":"1"===this.get_attribute("onload-controls")),"playbar="+(void 0===this.get_attribute("play-bar")?"true":"1"===this.get_attribute("play-bar")),"fullscreenButton="+(void 0===this.get_attribute("fs")?"true":"1"===this.get_attribute("fs")),"playerColor="+(void 0===this.get_attribute("video-color")?"fff":n.toHex()),"videoFoam=true"],"popover"===this.get_attribute("embed_type")?(e.push("popover=true popoverAnimateThumbnail=true"),i+=e.join(" ")):i+=e.join("&");break;case"vimeo":i+=(e=["portrait="+(void 0===this.get_attribute("modestbranding")?"1":this.get_attribute("modestbranding")),"title="+(void 0===this.get_attribute("showinfo")?"1":this.get_attribute("showinfo")),"color="+(void 0===this.get_attribute("video-color")?"fff":n.toHex()),"byline="+(void 0===this.get_attribute("byline")?"1":this.get_attribute("byline")),"autopause=0"]).join("&");break;case"external":case"custom":i="",void 0!==this.get_attribute("controls")&&"1"!==this.get_attribute("controls")||(i+=' controls="controls" '),void 0!==this.get_attribute("loop")&&"1"===this.get_attribute("loop")&&(i+=" loop "),void 0!==this.get_attribute("no-download")&&"1"===this.get_attribute("no-download")&&(i+=' controlsList="nodownload" ');break;case"vooplayer":default:i=""}return i},get_attribute:function(t){return this.activeElement.attr("data-"+t)},set_attribute:function(t,e,i){(i=void 0===i?this.activeElement:i).attr("data-"+t,e)}})},"voo-settings.js":function(t,e,i){var n=i("../switch"),a=i("../input"),o=i("../button-group");e.exports=i("../../base").base_view.extend({sizes:["1280 x 720 (16:9)","853 x 480 (16:9)","560 x 315 (16:9)","640 x 480 (4:3)","Custom"],aspects:["HD Standard (16:9)","Square (1:1)","Standard Definition (4:3)","US Theatrical (1.85:1)","European Theatrical (1.66:1)","Wide Screen (2.39:1)","Ultra-Panavision (4:1)"],orientations:["Landscape","Portrait"],float:["Top Fixed","Top Right","Right Hand","Left Hand","Keep Original Position"],template:TVE.tpl("controls/responsive-video-voo-settings"),after_initialize:function(t){var i=this;this.controls={};var s=this;this.settings=new Backbone.Model({performance_optimizations:!0,adjustable_size:!0,custom_aspect:"",floating:"",custom_time:"",anonymize:"",custom_width:"",custom_height:"",custom_ratio:""}),this.listenTo(this.settings,"change",this.prepareUrl),this.controls.performance_optimizations=new n({el:this.$el.find(".tcb-performance-optimizations"),model:{config:{label:t.config.performance.config.label}}}),this.controls.adjustable_size=new n({el:this.$el.find(".tcb-adjustable-size"),model:{config:{label:t.config.adjustable_size.config.label}}}),this.controls.custom_aspect=new n({el:this.$el.find(".tcb-custom-aspect"),model:{config:{label:t.config.custom_aspect.config.label}}}),this.controls.floating=new n({el:this.$el.find(".tcb-floating-video"),model:{config:{label:t.config.floating.config.label}}}),this.controls.custom_time=new n({el:this.$el.find(".tcb-custom-time"),model:{config:{label:t.config.custom_time.config.label}}}),this.controls.anonymize=new n({el:this.$el.find(".tcb-anonymize-view"),model:{config:{label:t.config.anonymize.config.label}}}),this.custom_width=new a({el:this.$el.find(".tve-adjust-width"),model:{config:{default:300,stepSize:3,name:"Width",min:0,um:["px"]}}}),this.custom_height=new a({el:this.$el.find(".tve-adjust-height"),model:{config:{default:169,stepSize:3,name:"Height",min:0,um:["px"]}}}),this.custom_ratio=new o({el:this.$el.find(".tve-adjust-custom-ratio"),model:{config:{name:"",buttons:[{icon:"",text:"16:9",value:"16:9",default:!0},{icon:"",text:"4:3",value:"4:3"}]}}}),this.player_width=new a({el:this.$el.find(".tve-adjust-player-width"),model:{config:{default:300,stepSize:3,name:"Player Width",min:0,um:["px"]}}}),!0===this.settings.attributes.adjustable_size&&(this.$el.find("#tcb-adjust").hide(),this.$el.find(".tcb-custom-adjust-size").hide()),this.settings.attributes.custom_aspect||this.$el.find("#tcb-custom-aspect").hide(),this.settings.attributes.custom_time||this.$el.find("#tcb-custom-start-end-time").hide(),this.settings.attributes.floating||this.$el.find("#tcb-floating").hide(),this.controls.custom_aspect.$el.toggleClass("tcb-disabled",!(!0===this.settings.attributes.adjustable_size)),this.controls.performance_optimizations.change=function(t,e){i.settings.set("performance_optimizations",e.checked)},this.controls.adjustable_size.change=function(t,e){s.$("#tcb-adjust").toggle(!e.checked),e.checked?(s.custom_ratio.setValue("16:9"),s.custom_width.setValue("300"),s.custom_height.setValue("169"),i.$el.find(".tcb-custom-adjust-size").hide(),t.find("iframe").attr("width",""),t.find("iframe").attr("height",""),t.css("width",""),t.css("height",""),t.find(".tve_responsive_video_container").css("padding-bottom",""),s.$("#tcb-adjust").find("select").prop("selectedIndex",0),s.settings.set("adjustable_size",!0),TVE.Editor_Page.reposition_icons()):(i.controls.custom_aspect.setValue(!1,!0),"Custom"!==s.$("#tcb-adjust").find("option:selected").get(0).value&&(s.custom_ratio.setValue("16:9"),t.find("iframe").attr("width",1280),t.find("iframe").attr("height",720),s.settings.set("adjustable_size","1280 x 720 (16:9)"))),t.attr("data-adjust",s.$("#tcb-adjust").find("option:selected").get(0).value),s.settings.set("adjustable_size",e.checked?e.checked:s.$("#tcb-adjust").find("option:selected").get(0).value),t.find(".animated,.spinner,link").filter(":not(:first)").remove()},this.controls.custom_aspect.change=function(t,e){e.checked?(TVE.$("#tcb-custom-aspect").show(),s.settings.set("custom_aspect",s.aspect_changed())):(s.$("#tcb-custom-aspect").hide(),s.aspect_changed(!0),s.settings.set("custom_aspect",""))},this.controls.floating.change=function(t,e){if(e.checked){var i=s.$("#tcb-float-position").val().toLocaleLowerCase().split(" ").join("-"),n=s.$(".tve-adjust-player-width input").attr("value");s.$("#tcb-floating").show(),s.settings.set("floating","".concat(i,"-").concat(n)),s.float_changed()}else s.$("#tcb-floating").hide(),s.settings.set("floating",""),t.attr({"data-float-position":"","data-float-width":"","data-float-height":""})},this.controls.custom_time.change=function(t,e){e.checked?(TVE.$("#tcb-custom-start-end-time").show(),s.settings.set("custom_time",!0)):(s.$("#tcb-custom-start-end-time").hide(),s.settings.set("custom_time",""),t.attr({"data-start-time":"","data-end-time":""}))},this.controls.anonymize.change=function(t,e){s.settings.set("anonymize","anonymous=".concat(e.checked))},this.custom_ratio.change=function(t,e){s.size_changed(TVE.ActiveElement,"Custom")},this.custom_ratio.update=function(t,e){TVE.ActiveElement&&s.settings.set("custom_ratio",e.value)},this.custom_width.change=function(t,e){e&&s.size_changed(t,s.$("#tcb-adjust select"))},this.custom_height.change=function(t,e){e&&s.size_changed(t,s.$("#tcb-adjust select"))},this.custom_width.update=function(t,e){e&&s.settings.set("custom_width",e.value)},this.custom_height.update=function(t,e){e&&s.settings.set("custom_height",e.value)},this.player_width.update=function(t,e){},this.custom_width.input=function(t,e){e&&s.size_changed(t,e,"width")},this.custom_height.input=function(t,e){e&&s.size_changed(t,e,"height")},this.player_width.input=function(){s.float_changed()},_.each(this.controls,function(t,e){t.update=function(){this.setValue(s.settings.get(e))}}),this.custom_width.update(),this.custom_height.update(),this.custom_ratio.update(),TVE.inner_$(".video-player-container").each(function(t,e){var i=TVE.inner_$(e),n=i.attr("src");i.attr("src",n),i.parent().find(".animated,.spinner,link").filter(":not(:first)").remove()}),TVE.add_action("tve.reposition.icons",function(t){t.find('.thrv_responsive_video[data-type="vooplayer"]').length&&TVE.inner.window.initVooPlayer()})},defaultSettings:function(){this.settings.set({performance_optimizations:!0,adjustable_size:!0,custom_aspect:"",floating:"",custom_time:"",anonymize:"",custom_width:"",custom_height:"",custom_ratio:""})},update:function(i){var n=this,t=i.find("iframe"),e=t.attr("src"),s=t.attr("url-params"),a=[];if(s||e||(this.defaultSettings(),TVE.$("#tcb-custom-aspect").hide(),TVE.$("#tcb-adjust").hide(),TVE.$("#tcb-aspect-ratio").prop("selectedIndex",0),TVE.$("#tcb-aspect-orientation").prop("selectedIndex",0),TVE.$("#tcb-adjust select").prop("selectedIndex",0)),s?a=s.split("&"):e&&((a=e.split("&")).shift(),this.settings.set("performance_optimizations",!1)),a.forEach(function(t,e){t.includes("anon")&&(n.settings.set("anonymize",t),t.includes("false")&&n.controls.anonymize.setValue(!1,!1)),t.includes("aspect")&&(n.settings.set("custom_aspect",t),TVE.$("#tcb-custom-aspect").show(),TVE.$("#tcb-aspect-ratio").val(i.attr("data-aspect-ratio")),TVE.$("#tcb-aspect-orientation").val(i.attr("data-aspect-orientation")))}),i.attr("data-start-time")?(this.settings.set("custom_time",!0),this.controls.custom_time.setValue(!0,!1),TVE.$("#tcb-custom-start-end-time").show()):TVE.$("#tcb-custom-start-end-time").hide(),i.attr("data-float-position")){var o=i.attr("data-float-position").split("-").map(TVE.ucFirst).join(" "),r=i.attr("data-float-width");o&&r&&(this.settings.set("floating","".concat(o,"-").concat(r)),TVE.$("#tcb-floating").show(),TVE.$("#tcb-float-position").val(o.includes("Keep Original")?"Keep Original Position":o),TVE.$(".tcb-player-width input").attr("value",r))}else this.settings.set("floating",""),TVE.$("#tcb-floating").hide(),TVE.$("#tcb-float-position").prop("selectedIndex",0);var l=parseInt(t.attr("width")),c=parseInt(t.attr("height")),d=parseFloat(c/l).toFixed(2);l?(this.settings.set("adjustable_size",i.attr("data-adjust")),TVE.$("#tcb-adjust select").val(i.attr("data-adjust")),TVE.$("#tcb-adjust").show(),i.attr("data-adjust").includes("Custom")&&(TVE.$(".tcb-custom-adjust-size").show(),this.custom_width.setValue(l),this.custom_height.setValue(c),"0.56"===d?this.custom_ratio.setValue("16:9"):this.custom_ratio.setValue("4:3"))):(this.settings.set("adjustable_size",!0),TVE.$("#tcb-adjust").hide()),_.each(this.controls,function(t){return t.update(i)}),l&&(this.controls.adjustable_size.setValue(!1,!1),this.controls.custom_aspect.setValue(!1,!1),TVE.$("#tcb-custom-aspect").hide()),this.settings.attributes.anonymize.includes("false")&&this.controls.anonymize.setValue(!1,!1),this.custom_width.update(),this.custom_height.update()},prepareUrl:function(t){var e=TVE.ActiveElement,i=e.attr("data-url"),n="?";_.each(this.settings.attributes,function(t,e){t&&!["performance_optimizations","adjustable_size","floating","custom_time"].includes(e)&&(n+=1===n.length?"".concat(t):"&".concat(t))}),e.find("iframe").attr("url-params",this.settings.attributes.performance_optimizations?n.substr(1):"").attr("src",this.settings.attributes.performance_optimizations?"":i+n),"performance_optimizations"in this.settings.changed&&(TVE.inner.window.initVooPlayer(),e.find(".animated,.spinner,link").filter(":not(:first)").remove()),this.controls.custom_aspect.$el.toggleClass("tcb-disabled","string"==typeof this.settings.attributes.adjustable_size)},parseSize:function(t){var e=new RegExp("(.+) x (.+) "),i={};return t&&t.match(e)?(i.width=RegExp.$1,i.height=RegExp.$2):t&&t.includes("Custom")&&(this.$(".tcb-custom-adjust-size").show(),this.custom_width.show(),this.custom_height.show(),this.custom_ratio.show(),i.width=this.custom_width.$el.find("input").attr("value"),i.height=this.custom_height.$el.find("input").attr("value")),i},parseAspect:function(t){var e=new RegExp("\\((.+):(.+)\\)"),i={};return t.match(e)&&(i.width=parseFloat(RegExp.$1),i.height=parseFloat(RegExp.$2)),i},size_changed:function(t,e,i){var n,s,a=this,o=2<arguments.length&&void 0!==i?i:"width",r=this.parseSize("string"==typeof e||e.classList&&e.classList.value.includes("tve-input")?"Custom":e.value),l=TVE.ActiveElement,c=l.find("iframe");if("Custom"!==this.$("#tcb-adjust").find("option:selected").get(0).value){this.$(".tcb-custom-adjust-size").hide(),s="640 x 480 (4:3)"===this.$("#tcb-adjust").find("option:selected").get(0).value?4/3:16/9;l.find("iframe").attr("url-params");this.settings.set("custom_aspect","aspect=".concat(s.toFixed(2))),this.controls.custom_aspect.setValue(!1,!1)}else this.$(".tcb-custom-adjust-size").show(),n=this.custom_ratio.getValue().split(":"),s=n[0]/n[1];_.each(r,function(t,e){if(c.attr(e,t),c.parent(".video-skin-player").css(e,""),o.includes(e)&&e.includes("width")){var i=Math.ceil(parseInt(t)/s);r.height=i,l.css(e,t),l.css("height","100%"),l.find(".tve_responsive_video_container").css("padding-bottom",1/s*100+"%"),a.custom_height.$el.find("input").attr("value",i),a.settings.set("custom_aspect","aspect=".concat(s.toFixed(2))),a.controls.custom_aspect.setValue(!1,!1)}if(o.includes(e)&&e.includes("height")){var n=Math.ceil(parseInt(t)*s);r.width=n,l.css(e,t),l.css("width",parseInt(t)*s),l.find(".tve_responsive_video_container").css("padding-bottom",1/s*100+"%"),a.custom_width.$el.find("input").attr("value",n)}}),TVE.Editor_Page.reposition_icons(),this.settings.set("adjustable_size",this.$("#tcb-adjust").find("option:selected").get(0).value),l.attr("data-adjust",this.$("#tcb-adjust").find("option:selected").get(0).value)},aspect_changed:function(t){var e,i=0<arguments.length&&void 0!==t&&t,n=TVE.$("#tcb-aspect-ratio").val(),s=TVE.$("#tcb-aspect-orientation").val(),a=TVE.ActiveElement,o=this.parseAspect(n);return a.attr("data-aspect-ratio",n),a.attr("data-aspect-orientation",s),s.includes("Landscape")?(e=(o.width/o.height).toFixed(2),a.find(".tve_responsive_video_container").css("padding-bottom",!0===i?"":100*(o.height/o.width).toFixed(4)+"%")):(e=(o.height/o.width).toFixed(4),a.find(".tve_responsive_video_container").css("padding-bottom",!0===i?"":100*(o.width/o.height).toFixed(4)+"%")),this.settings.set("custom_aspect",i?"aspect=1.78":"aspect="+e),a.find("iframe").css("height",""),"aspect="+e},parseFloatingPosition:function(t){var e=t.split(" ");return(e[0]+"-"+e[1]).toLocaleLowerCase()},float_changed:function(){var t=this.parseFloatingPosition(TVE.$("#tcb-float-position").val()),e=TVE.$(".tve-adjust-player-width input").attr("value"),i=TVE.ActiveElement,n=i.find(".tve_responsive_video_container").css("padding-bottom").match(/(\d+)/)[0]/i.find(".tve_responsive_video_container").css("width").match(/(\d+)/)[0],s=parseInt(e*n);this.settings.set("floating",t||e?"".concat(TVE.$("#tcb-float-position").val(),"-").concat(e):""),i.attr({"data-float-position":t,"data-float-width":e,"data-float-height":s})}})}},scroll:{"parallax-effect.js":function(t,e,i){var a,n,o,r,l,c,d,h,u,p,_,s,f,m,g;a=jQuery,n=i("../drop-panel"),o=i("../slider"),r=i("../select"),l=i("../knob"),c=i("../tooltip-base"),d=[{value:"in",name:TVE.t.scroll.up},{value:"out",name:TVE.t.scroll.down}],h=[{value:"in",name:TVE.t.scroll.left},{value:"out",name:TVE.t.scroll.right}],u=[{value:"in",name:TVE.t.scroll.fadeIn},{value:"out",name:TVE.t.scroll.fadeOut}],p=[{value:"in",name:TVE.t.scroll.scaleUp},{value:"out",name:TVE.t.scroll.scaleDown}],_=[{value:"from",name:TVE.t.scroll.fromPerspective},{value:"to",name:TVE.t.scroll.toPerspective}],s={vertical:TVE.t.scroll.vertical,horizontal:TVE.t.scroll.horizontal,transparency:TVE.t.scroll.transparency,blur:TVE.t.scroll.blur,rotate:TVE.t.scroll.rotate,scale:TVE.t.scroll.scale},f={vertical:{key:"TY",um:"px"},horizontal:{key:"TX",um:"px"},rotate:{key:"R",um:"deg"},scale:{key:"S",um:""},blur:{key:"B",um:"px"},transparency:{key:"O",um:""},"3dperspective":{key:"P",um:"px"}},m={},g=TVE.apply_filters("tve.parallax.effects",s),e.exports=n.extend({template:TVE.tpl("controls/scroll/parallax-effect"),_template:TVE.tpl("controls/drop-panel-light"),after_initialize:function(){var s=this,i=this;this.viewportTooltip=new c({tooltipPosition:"top",no_buttons:!0,template:TVE.tpl("controls/scroll/viewport-tooltip"),anim_duration:300,no_callback:!0,validate:function(){return!s.viewportTooltip.FORCE_CLOSE},preventCloseAll:!0}),this.ParallaxEffects=new r({el:this.$el.find(".tve-parallax-effect-type"),model:{config:{options:g}}}),this.ParallaxDirection=new r({el:this.$el.find(".tve-parallax-effect-direction"),model:{config:{options:d,controlEffect:"direction",showIconsOnInput:!0}}}),this.ParallaxSpeed=new o({el:this.$el.find(".tve-parallax-effect-speed"),model:{config:{label:TVE.t.scroll.speed,default:3,min:.1,max:10,um:[""],step:.1,controlEffect:"speed",showIconsOnInput:!0}}}),this.ParallaxStart=new o({el:this.$el.find(".tve-parallax-effect-viewport-start"),model:{config:{default:"0",min:"0",max:"100",um:["%"],controlEffect:"start",info:!0,showIconsOnInput:!0}}}),this.ParallaxEnd=new o({el:this.$el.find(".tve-parallax-effect-viewport-end"),model:{config:{default:"100",min:"0",max:"100",um:["%"],controlEffect:"end",showIconsOnInput:!0}}}),this.ParallaxDegrees=new l({el:this.$el.find(".tve-parallax-effect-perspective-angle"),model:{config:{default:"45",min:"0",max:"359",controlEffect:"degrees",showIconsOnInput:!0}}}),this.ParallaxPerspective=new o({el:this.$el.find(".tve-parallax-effect-perspective"),model:{config:{default:"1000",min:"100",max:"1000",um:["px"],controlEffect:"perspective",showIconsOnInput:!0}}}),this.ParallaxEffects.change=function(t,e){var i=d,n=!1;switch(e.value){case"rotate":case"horizontal":i=h;break;case"transparency":case"blur":n=!0,i=u;break;case"scale":i=p;break;case"3dperspective":i=_}s.oldEffectValue&&!s.preventUpdatePreview&&s.resetEffect(s.oldEffectValue),s.cleanEffects(e.value),s.$(".if-perspective").toggle("3dperspective"===e.value),s.ParallaxSpeed.$el.find(".slider-label").text(n?TVE.t.scroll.level:TVE.t.scroll.speed),s.ParallaxDirection.build_options(i),s.updatePreview()},this.ParallaxSpeed.prepareValue=function(t,e){return t},this.ParallaxPerspective.change=this.ParallaxSpeed.change=this.ParallaxDirection.change=function(t,e){m[this.model.config.controlEffect]=e.value,i.updatePreview()},this.ParallaxDegrees.change=function(t,e){m.degrees=e.value<180?e.value:e.value-360,s.updatePreview()},this.ParallaxDegrees.input=a.noop,this.ParallaxStart.change=function(t,e){var i=Number(s.ParallaxEnd.getValue());Number(e.value)>=i&&(e.value=i-1,s.ParallaxStart.setValue(e.value)),m.start=e.value,s.updatePreview()},this.ParallaxEnd.change=function(t,e){var i=Number(s.ParallaxStart.getValue());Number(e.value)<=i&&(e.value=i+1,s.ParallaxEnd.setValue(e.value)),m.end=e.value,s.updatePreview()},this.ParallaxPerspective.input=this.ParallaxSpeed.input=this.ParallaxDirection.input=this.ParallaxStart.input=this.ParallaxEnd.input=function(t,e){m[this.model.config.controlEffect]=e.value},this.ParallaxStart.openTooltip=function(){return s.viewportTooltip.isOpen()?s.viewportTooltip.onCancel():(s.viewportTooltip.open(null,s.$(".tve-slider-info")),s.viewportTooltip.$el.css("z-index",99)),!1},this.viewportTooltip.onClose=function(){s.isOpen()&&TVE.main.$cpanel.find(".tve-panel").addClass("drop-panel-open")}},onOpen:function(){var e=this;if(!Object.keys(m).length){this.preventUpdatePreview=!0,["Speed","Start","End","Perspective","Degrees"].forEach(function(t){e["Parallax".concat(t)].setValue(e["Parallax".concat(t)].getDefault(),!0)});var t=Object.keys(g);this.component.getConfig().parallax?(this.usedEffects=Object.keys(this.component.getConfig().parallax),this.ParallaxEffects.setValue(t.find(function(t){return!e.usedEffects.includes(t)}),!0),this.disabledEffects()):(this.ParallaxEffects.$select.find("option").prop("disabled",!1),this.ParallaxEffects.setValue(t[0],!0)),this.preventUpdatePreview=!1}this.inPreview=TVE.$body.hasClass("tve-parallax-preview"),this.inPreview||(this.component.controls.ParallaxPreview.setChecked(!0,!0),this.updatePreview())},editEffect:function(t,e){var i=this,n=t.get("effectValue");this.usedEffects=Object.keys(this.component.getConfig().parallax),this.disabledEffects(),this.preventUpdatePreview=!0,this.oldEffectValue=t.get("item"),this.ParallaxEffects.setValue(this.oldEffectValue,!0),Object.keys(n).forEach(function(t){["middle","settings"].includes(t)||("degrees"===t&&Number(n[t])<0&&(n[t]=Number(n[t])+360),i["Parallax".concat(TVE.ucFirst(t))].setValue(n[t],!0))}),this.preventUpdatePreview=!1,this.ParallaxEffects.$select.find('option[value="'.concat(this.oldEffectValue,'"]')).prop("disabled",!1),this.open(null,a(e))},onClose:function(){delete this.oldEffectValue,this.viewportTooltip.hide(),m={},this.inPreview||this.component.controls.ParallaxPreview.setChecked(!1,!0),delete this.inPreview},onCancel:function(){var i=this;if(this.oldEffectValue&&TVE.ActiveElement.data("parallaxSettings")&&!TVE.ActiveElement.data("parallaxSettings")[this.oldEffectValue]&&(TVE.ActiveElement.each(function(t,e){TVE.inner_$(e).data("parallaxSettings")[i.oldEffectValue]=i.component.getConfig().parallax[i.oldEffectValue]}),TVE.inner.$window.trigger("scroll")),m={},TVE.ActiveElement.data("parallaxSettings"))if(this.usedEffects)this.cleanEffects();else{var t=this.ParallaxEffects.getValue();this.resetEffect(t),TVE.inner.$window.trigger("scroll")}this.hide()},getEffectSettings:function(t){m.direction||(m.direction=this.ParallaxDirection.getValue()),["in-out","out-in"].includes(m.direction)&&(m.middle=(m.end-m.start)/2+Number(m.start)),m.settings=f[t]},onApply:function(){var t=this.ParallaxEffects.getValue();this.oldEffectValue&&this.oldEffectValue!==t&&(this.component.deleteEffect(this.oldEffectValue),delete this.oldEffectValue),this.getEffectSettings(t),this.component.saveParallaxEffect(t,m),this.hide()},disabledEffects:function(){var e=this;this.ParallaxEffects.$select.find("option").prop("disabled",!1),this.usedEffects.forEach(function(t){e.ParallaxEffects.$select.find('option[value="'.concat(t,'"]')).prop("disabled",!0)})},resetEffect:function(i){TVE.ActiveElement.each(function(t,e){TVE.inner.window.TCB_Front.inlineCssVariable(e,_defineProperty({},"--parallax".concat(f[i].key),"")),delete TVE.inner_$(e).data("parallaxSettings")[i]})},updatePreview:function(){if(!this.preventUpdatePreview&&TVE.$body.hasClass("tve-parallax-preview")){var e=this.ParallaxEffects.getValue();this.getEffectSettings(e),TVE.ActiveElement.each(function(){var t=TVE.inner_$(this);t.data("parallaxSettings")||t.data("parallaxSettings",{}),t.data("parallaxSettings")[e]=m}),TVE.inner.$window.trigger("scroll")}},cleanEffects:function(n){var s=this;if(TVE.ActiveElement.data("parallaxSettings")){var a=this.usedEffects||[this.ParallaxEffects.getValue()];TVE.ActiveElement.each(function(t,e){var i=TVE.inner_$(e);Object.keys(i.data("parallaxSettings")).forEach(function(t){if(!a.includes(t)){if(n&&t===n)return;s.resetEffect(t)}})})}}})}},"search-form":{"add-post-type.js":function(t,e,i){var n=i("../drop-panel"),s=i("../checkbox");e.exports=n.extend({template:TVE.tpl("controls/search-form/add-post-type"),checkboxInstances:{},after_render:function(){var i=this;_.each(TVE.CONST.post_types,function(t,e){i.checkboxInstances[e]=new s({model:{config:{label:t,value:e}}}),i.checkboxInstances[e].input=function(){},i.$("#search_form_post_types").append(i.checkboxInstances[e].$el)})},reset:function(t,e){var i=this,n=1<arguments.length&&void 0!==e?e:[];return this.$element=t,_.each(this.checkboxInstances,function(t){t.setChecked(!1)}),n.forEach(function(t){i.checkboxInstances[t]instanceof s&&i.checkboxInstances[t].setChecked(!0)}),this},apply:function(){var e=this;this.$element.find(".tcb_sf_post_type").remove(),_.each(this.checkboxInstances,function(t){t.isChecked()&&e.$element.append('<input type="hidden" class="tcb_sf_post_type" name="tcb_sf_post_type[]" value="'.concat(t.model.config.value,'" data-label="').concat(t.model.config.label,'">'))}),this.collection.trigger("change")},cancel:function(){}})}},"select-multiple.js":function(t,e,i){var n=i("../base");e.exports=n.control.extend({template:TVE.tpl("controls/select-multiple"),initialize:function(e){var i=this;this.render(),this.$select=this.$el.find("select"),this.$select.data("select2")&&this.$select.select2("destroy"),void 0===e.model.config.no_results&&(e.model.config.no_results="No Results Found"),void 0!==e.model.config.remote&&(!0===e.model.config.remote?this.$select.select2({minimumInputLength:e.model.config.min_input_length,multiple:!0,tags:e.model.config.tags,ajax:{url:TVE.CONST.ajax_url,type:"POST",dataType:"json",data:function(t){return{term:t.term,action:TVE.CONST.ajax.action,custom:e.model.config.custom_ajax,nonce:TVE.CONST.nonce}},delay:250,processResults:function(t){return{results:t}},cache:!0},language:{noResults:function(){return e.model.config.no_results}}}):this.$select.select2({tags:e.model.config.tags,multiple:!0,minimumInputLength:e.model.config.min_input_length,data:e.model.config.data,language:{noResults:function(){return e.model.config.no_results}},escapeMarkup:function(t){return t}}),this.$select.on("select2:select",function(t){jQuery(this).select2("data");i.changed(jQuery(this).select2("data"))}).on("select2:unselect",function(t){i.changed(jQuery(this).select2("data")),t.params.originalEvent&&t.params.originalEvent.stopPropagation()}))},changed:function(t){this.change(this.applyTo(),t)},getValue:function(){return this.$select.val()},setValue:function(t){this.$select.val(t).trigger("change")},setValueRemote:function(t){var e=[];this.$select.empty(),_.each(t,function(t){e.push(t.id),this.$select.append('<option value="'+t.id+'">'+t.text+"</option>")},this),this.$select.val(e).trigger("change")}})},"select.js":function(t,e,i){var n=i("../base");e.exports=n.control.extend({template:TVE.tpl("controls/select"),after_render:function(){this.$select=this.$el.find("select"),!1!==this.get_config("default",!1)&&this.setValue(this.get_config("default"))},changed:function(t,e){this.change(this.applyTo(),e)},getValue:function(){return this.$select.val()},setValue:function(t,e){var i=1<arguments.length&&void 0!==e&&e;this.$select.val(t),i&&this.$select.trigger("change")},get_selected_label:function(){var e=this.getValue(),t=this.model.config.options.filter(function(t){return t.value==e}).shift();return t?t.name:null},build_options:function(t){this.$select.empty(),_.each(t,function(t,e){var i="";t.disabled&&(i='disabled="disabled"'),this.$select.append('<option value="'+t.value+'" '+i+">"+t.name+"</option>")},this)},get_options:function(){var i=[];return _.each(this.get_config("options"),function(t,e){jQuery.isPlainObject(t)?i.push(t):"string"!=typeof t&&"number"!=typeof t||i.push({name:t,value:jQuery.isNumeric(e)?t:e})}),i},get_extra_class:function(){var t="";return this.get_config("full-width")&&(t+=" full-width"),t}})},"shadow.js":function(t,e,i){i("../base");var s=i("./color-picker"),a=i("./knob"),o=i("./slider"),n=i("./drop-panel");e.exports=n.extend({template:TVE.tpl("controls/shadow"),_template:TVE.tpl("controls/drop-panel-light"),after_initialize:function(t){var n=this;function i(t){var e=n.model.get("angle");n.model.set("distance",t.value),n.model.set("horizontal",Math.round(t.value*Math.cos(e*(Math.PI/180)))),n.model.set("vertical",Math.round(-t.value*Math.sin(e*(Math.PI/180)))),n.change()}this.IS_TEXT=t.IS_TEXT,this.controls={ShadowColor:new s({el:this.$el.find(".tve-shadow-color"),model:{config:{label:"Color",default:"rgba(0,0,0,0.4)",options:{showInput:!0,showGradient:!0,allowEmpty:!1},icon:!0}}}),ShadowDistance:new o({el:this.$el.find(".tve-shadow-distance"),model:{config:{default:"3",min:"0",max:"100",label:"Distance",um:["px"]}}}),ShadowBlur:new o({el:this.$el.find(".tve-shadow-blur"),model:{config:{default:"2",min:"0",max:"100",label:"Blur",um:["px"]}}}),ShadowAngle:new a({el:this.$el.find(".tve-shadow-angle"),model:{config:{default:"320",min:"0",max:"359",label:"Angle"}}})},this.controls.ShadowDistance.input=function(t,e){n.IS_TEXT&&TVE.BROWSER.mozilla||i(e)},this.IS_TEXT&&TVE.BROWSER.mozilla&&(this.controls.ShadowDistance.change=function(t,e){i(e)}),this.controls.ShadowAngle.input=this.controls.ShadowAngle.change=function(t,e){var i=n.model.get("distance");n.model.set("angle",e.value),n.model.set("horizontal",Math.round(i*Math.cos(e.value*(Math.PI/180)))),n.model.set("vertical",Math.round(-i*Math.sin(e.value*(Math.PI/180)))),n.change()},this.controls.ShadowColor.change=this.controls.ShadowColor.input=function(t){n.model.set("color",t),n.change()},this.controls.ShadowBlur.input=function(t,e){n.IS_TEXT&&TVE.BROWSER.mozilla||(n.model.set("blur",e.value),n.change())},this.IS_TEXT&&TVE.BROWSER.mozilla&&(this.controls.ShadowBlur.change=function(t,e){n.model.set("blur",e.value),n.change()}),this.simplified||(this.controls.ShadowSpread=new o({el:this.$el.find(".tve-shadow-spread"),model:{config:{default:"0",min:"-50",max:"50",label:"Spread",um:["px"]}}}),this.controls.ShadowSpread.input=this.controls.ShadowSpread.change=function(t,e){n.model.set("spread",e.value),n.change()})},update:function(){},getCollection:function(){return this.collection},setCollection:function(t){this.collection=t},updateControls:function(t,e,i){this.model=null,t?this.model=t:(this.config=i,this.model=this.getDefaultModel(e),this.collection.add(this.model),this.collection.trigger("change-attributes")),this.toSettings(this.model),this.controls.ShadowAngle.setValue(this.model.get("angle")),this.controls.ShadowDistance.setValue(this.model.get("distance")),this.model.get("color")&&this.controls.ShadowColor.setValue(this.model.get("color")),this.controls.ShadowBlur.setValue(this.model.get("blur")),this.simplified||this.controls.ShadowSpread.setValue(this.model.get("spread"))},change:function(){this.collection.trigger("change-attributes")},toSettings:function(t){var e=t.get("horizontal"),i=t.get("vertical"),n=Math.ceil(Math.sqrt(Math.pow(e,2)+Math.pow(i,2))),s=Math.floor(this.getAngle(e,i));this.model.set("distance",n),this.model.set("angle",s)},getAngle:function(t,e){var i=Math.atan2(e,t);return(i*=180/Math.PI)<0&&(i=360+i),360-i},getDefaultModel:function(t){var e,i,n,s,a,o=new Backbone.Model;return a=this.config.angle?(e=this.config.distance,i=this.config.color,n=this.config.angle,s=this.config.spread,this.config.blurr):(e=this.controls.ShadowDistance.getDefault(),i=this.controls.ShadowColor.getDefault(),n=this.controls.ShadowAngle.getDefault(),s=this.controls.ShadowSpread.getDefault(),this.controls.ShadowBlur.getDefault()),o.set("blur",a),this.simplified||o.set("spread",s),o.set("color",i),o.set("inner","inner"==t?"inset":""),o.set("index","new"),o.set("distance",e),o.set("angle",n),o.set("horizontal",Math.round(e*Math.cos(n*(Math.PI/180)))),o.set("vertical",Math.round(-e*Math.sin(n*(Math.PI/180)))),o},cancel:function(){this.collection.trigger("cancel-changes")},apply:function(){this.collection.trigger("apply-changes")}})},"slider.js":function(t,e,i){var n=i("../base");e.exports=n.control.extend({template:TVE.tpl("controls/slider"),default_limits:{max_em:8},initialize:function(){this.render(),this.originalConfig=Object.assign({},this.model.config),this.umInit();var s=this;1===this.model.config.um.length&&this.$(".input-um").show();var a,o,i=this.$(".tve-input");this.$(".handle").tve_draggable({start:function(t,e,i,n){s.currentValue=isNaN(s.value(!1))?0:parseInt(s.value(!1)),a=TVE.SKIP_CSS_STATE,o=s.getUM(),n.incrementSize="em"===o?.1:1,s.dragStart(s.currentValue,o)},move:function(t){var e=s.currentValue+parseFloat(t);void 0!==i.attr("min")&&(e=e<i.attr("min")?i.attr("min"):e),void 0!==i.attr("max")&&(e=e>i.attr("max")?i.attr("max"):e),TVE.SKIP_CSS_STATE=!0,s.setValue(e+s.getUM(),"input")},stop:function(){s.currentValue!==parseInt(i.val())&&(TVE.SKIP_CSS_STATE=a,i.trigger("change"))}})},umInit:function(){if(this.model.config.um&&this.model.config.um.length){var t=this.getUM().toLowerCase(),e=this.$(".tve-input, .tve-slider"),i=0,n="",s=this.originalConfig.step||1;switch(t){case"px":i=this.originalConfig.min||i,n=this.originalConfig.max,s=this.originalConfig.step||s;break;case"em":n=this.default_limits.max_em,s=.05;break;case"vw":case"vh":n=100,i=0,s=.1;break;case"deg":n=90,i=0,s=.1;break;case"%":n=100,i=this.originalConfig.forceMin||0;break;default:i=this.originalConfig.min,n=this.originalConfig.max}e.attr("min",this.model.config.min=i),e.attr("max",this.model.config.max=n),e.attr("step",s),this.isDefault&&this.isDefault()&&e.filter(".tve-slider").val(n)}},umChange:function(t,e){var i=e.getAttribute("data-value");this.$('.tve-input-um[data-value="'+i+'"]').hasClass("active")||(this.setUM(i),0!==this.readFrom().length&&(this.convertUM(i),this.currentEventType="change",this.change(this.applyTo(),this.$(".tve-input")[0]),delete this.currentEventType))},convertUM:function(t){var e,i=this.readFrom()[0],n=i==TVE.ActiveElement[0]?TVE.ActiveElement.parent()[0]:TVE.ActiveElement[0],s=this.$(".tve-input, .tve-slider"),a=TVE.froala.has_selection();TVE.ActiveElement.hasClass("thrv-tabbed-content")&&(n=TVE.ActiveElement.find(".tve_scT > ul")[0],i=TVE.ActiveElement.find(".tve_scT > ul li")[0]),a&&(i=a,n=TVE.ActiveElement[0]),e=(e=TVE.convertUM(i,t,n,this.model.config.css))==parseInt(e)?parseInt(e):parseFloat(e).toFixed(2),s.val(e)},pixel_em_conversion:function(t,e){void 0===e&&(e=this.readFrom());var i,n=this.$(".tve-input"),s=parseFloat(n.val()),a=parseInt(e.css("font-size"));switch(isNaN(s)&&(s=0),t){case"em":i=(s/a).toFixed(2);break;case"px":i=parseInt(s*a);break;default:i=s*a}n.add(this.$(".tve-slider")).val(i)},setUM:function(t){-1!==this.model.config.um.indexOf(t)&&(this.$(".tve-input-um.active").removeClass("active"),this.$('.tve-input-um[data-value="'+t+'"]').addClass("active"),this.$(".input-um").text(t),this.umInit())},getValue:function(){return this.value.apply(this,arguments)},value:function(t){var e=t?this.getUM():"";return this.$(".tve-input").val()+e},getUM:function(){return this.$(".tve-input-um.active").data("value")||this.model.config.um[0]},onChange:function(t,e){this.setValue(e.value+this.getUM()),TVE.SkipUpdate=!1,this.model.config.showIconsOnInput||(TVE.Editor_Page.reposition_icons(),TVE.ElementEditIcons.toggle()),this.change(t,e)},onInput:function(t,e){e.value=this.prepareValue(e.value,this.getUM()),this.$("input").val(e.value),TVE.SkipUpdate=!0,this.input(t,e),this.model.config.showIconsOnInput||TVE.ElementEditIcons.toggle(!1)},readUM:function(t){if(t==parseFloat(t))return"px";var e="px",i=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/.exec(t);return i&&i[2]&&(e=i[2]),e},setValue:function(t,e){return this.setUM(this.readUM(t)),(t=parseFloat(t).toFixed(2))==parseInt(t)&&(t=parseInt(t)),isNaN(t)||(this.$(".tve-input").val(t),this.$(".tve-slider").val(t),e&&(e="string"==typeof e?e:"change",this.$(".tve-input").trigger(e))),this},getIncrement:function(){return"em"===this.getUM()?.1:1},up:function(){this.setValue(this.value(!1)- -1*this.getIncrement()+this.getUM(),"change")},down:function(){this.setValue(this.value(!1)-1*this.getIncrement()+this.getUM(),"change")},trigger_input:function(){this.$("input.input").first().trigger("input")},trigger_change:function(){this.$("input.input").first().trigger("change")},getCssProps:function(){return[]},dragStart:function(t,e){},setMax:function(t){this.$(".tve-input, .tve-slider").attr("max",this.model.config.max=t)},openTooltip:function(){}})},"smart-complete.js":function(t,e,i){var n;jQuery,n=i("../base"),e.exports=n.control.extend({template:TVE.tpl("controls/smart-complete"),after_initialize:function(){TVE.add_filter("tcb.droppanel.enter.pressed",function(t,e){return e.closest(".tve-lg-variable").length&&(t=!1),t})},after_render:function(){this.$defaultValue=this.$(".tve-lg-field-default-value"),this.$smartComplete=this.$(".tve-lg-smart-complete"),this.$smartCompleteSelect=this.$(".tve-lg-autocomplete-select"),this.$dropdown=this.$(".dropdown-header")},clearInputs:function(){this.defaultValue="",this.$defaultValue.val(""),this.$(".tve-switch-smart").prop("checked",!1),this.$smartCompleteSelect.val(""),this.$smartComplete.addClass("tcb-hidden"),this.$(".tve-lg-variable").addClass("tcb-hidden"),this.$('[data-fn="changeAutofillValue"]').val(""),this.$(".open").removeClass("open"),this.$(".dropdown-content").hide(),this.$(".tve-lg-field-data").removeClass("tcb-hidden")},toggleAutofill:function(t,e){"hidden"!==this.currentType&&this.$dropdown.toggleClass("open").siblings(".dropdown-content").toggle(this.$dropdown.hasClass("open"))},changeDefaultValue:function(t,e){var i=e.value;"checkbox"===e.type&&(i=e.checked?"checked":"unchecked"),this.defaultValue=i.replace(/(["'`])/g,"")},changeSmartComplete:function(t,e){this.$smartComplete.toggleClass("tcb-hidden",!e.checked),e.checked||(this.autofillValue="",this.autofillType="",this.currentInputField&&this.currentInputField.find("input").removeAttr("data-complete-type data-complete-value"))},changeAutocompleteType:function(t,e){var i=e.value;this.autofillType=e.value,this._showAutocompleteType(i)},changeAutofillValue:function(t,e){this.autofillValue=e.value.replace(/(["'`])/g,"")},_showAutocompleteType:function(t,e){var i=1<arguments.length&&void 0!==e&&e,n="";["query","post"].includes(t)&&(t="url"),this.$(".tve-lg-variable").addClass("tcb-hidden").filter("[data-key=".concat(t,"]")).removeClass("tcb-hidden"),i&&(this.$smartCompleteSelect.val(this.autofillType),n=this.autofillValue),this.$(".tve-lg-variable:not(.tcb-hidden) [data-fn]").val(n)},setData:function(t){t.removeAttr("default-value data-complete-type data-complete-value"),["radio","checkbox"].includes(t.attr("type"))||(this.defaultValue&&t.attr("default-value",this.defaultValue),this.autofillType&&t.attr("data-complete-type",this.autofillType),this.autofillValue&&t.attr("data-complete-value",this.autofillValue))},onClose:function(){delete this.autofillType,delete this.autofillValue,delete this.defaultValue,this.$dropdown.removeClass("open").siblings().hide()},editField:function(t){this.currentInputField=TVE.inner_$(t.get("item"));var e=this.currentInputField.find("input,select,textarea"),i=!!t.get("hidden");this.currentType=i?"hidden":e.attr("type"),this.defaultValue=t.get("defaultValue"),this.autofillType=t.get("autofillType"),this.autofillValue=t.get("autofillValue");var n=!!this.autofillType||i,s="radio"===this.currentType||"checkbox"===this.currentType;i||(this.$(".tve-lg-check-type").toggleClass("tcb-hidden","checkbox"!==this.currentType),this.$(".tve-lg-value-type").toggleClass("tcb-hidden","checkbox"===this.currentType),"checkbox"===this.currentType&&this.$(".tve-lg-field-default-check").prop("checked","checked"===this.defaultValue)),this.$defaultValue.val(this.defaultValue),this.autofillType?this._showAutocompleteType(this.autofillType,!0):(this.$smartCompleteSelect.val(""),this.$(".tve-lg-variable [data-fn]").val(""),this.$(".tve-lg-variable").addClass("tcb-hidden")),n&&this.$dropdown.addClass("open").siblings().show(),this.$(".tve-switch-smart").prop("checked",!!this.autofillType),this.$smartComplete.toggleClass("tcb-hidden",!this.autofillType),this.$(".tve-smart-complete").toggleClass("tcb-hidden",s),this.$dropdown.toggleClass("hide-icon",i)}})},social:{"network-options.js":function(t,e,i){var n,s,a,o,r;n=jQuery,s=i("../drop-panel"),a=i("../../../libs/watcher"),o=i("../file"),i("../../base"),r=s.extend({template:TVE.tpl("controls/social/network-settings"),events:function(){return _.extend(s.prototype.events,{"change [data-setting]":"change_value"})},before_initialize:function(t){this.data={},this.network=t.network},after_initialize:function(t){var e=this;this._tpl&&this.$(".n-settings").append(this._tpl()),this.$("[data-setting]").each(function(){var t=this.getAttribute("data-setting");a(e.data,t,e.value_changed,e)}),this.after_init&&this.after_init(),this.$m=this.$(".inline-message")},change_value:function(t){var e=t.currentTarget;this.data[e.getAttribute("data-setting")]=this.$(e).val()},value_changed:function(t,e){this.$('[data-setting="'+t+'"]').val(e)},update:function(t){this.$element=t,this.read_from_element();var e={};e[this.network]=this.data,this.component.renderer.set_config(e)},set_model:function(t){return this.$(".n-title").html(t.get("label")),this.$("[data-setting]").first().focus(),this.read_from_element(),this},read_from_element:function(){var t=this.$element.find(".tve_s_"+this.network);this.data.label=t.attr("data-label"),this.data.href=t.attr("data-href"),this.read_specific&&this.read_specific(t)},apply:function(t){this.trigger("apply",t,this.data)},cancel:function(){},message:function(t,e){return t?(e=e||"info",this.$m.removeClass("m-success m-info m-error").addClass("m-"+e).empty().show(),"success"!==e&&"error"!==e||(t=TVE.icon("success"===e?"check":"close2")+"&nbsp;"+t),this.$m.html(t)):this.$m.hide(),this}}),e.exports={fb_share:r.extend({_tpl:TVE.tpl("controls/social/fb-share"),after_init:function(){this.image_picker=new o({}),this.$(".fb-image-upload").append(this.image_picker.$el),this.listenTo(this.image_picker,"select",function(t){this.data.image=t.url}),this.listenTo(this.image_picker,"remove",function(){this.data.image=""}),this.app_id=TVE.CONST.social_fb_app_id,this.app_valid=!!this.app_id},read_specific:function(e){_.each(["name","caption","description"],function(t){this.data[t]=e.attr("data-"+t)},this),this.image_picker.set({url:e.attr("data-image")||""})},validate_app_id:function(t,e){if(this.app_id=e.value,this.app_valid=!1,this.app_id){this.message(TVE.t.validating_app_id,"info");var i=this;n.ajax({url:"https://graph.facebook.com/"+this.app_id,dataType:"json",xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(t){t.id?(i.app_valid=!0,TVE.CONST.social_fb_app_id=i.app_id,i.message(TVE.t.fb_app_id_valid,"success"),TVE.ajax("update_option","post",{option_name:"tve_social_fb_app_id",option_value:i.app_id})):i.message(TVE.t.fb_app_id_invalid,"error")}).error(function(){i.message(TVE.t.fb_app_id_invalid,"error")})}else this.message(TVE.t.fb_app_id_required,"error")},validate:function(){return!0}}),t_share:r.extend({_tpl:TVE.tpl("controls/social/t-share"),after_init:function(){this.$tweet=this.$("textarea.tweet"),this.$via=this.$(".via")},read_specific:function(t){this.data.tweet=t.attr("data-tweet"),this.data.via=(t.attr("data-via")||"").replace(/^@/,""),this.$m.hide(),this.char_count()},char_count:function(){var t=280,e=this.$via.val(),i=this.$tweet.val();this.data.href||location.href,t-=23,t-=i.length+1,t-=e?6+e.replace("@","").length:0,this.$("#t-counter").css("color",t<0?"#ff8484":"").html(t),this.remaining=t},validate:function(){return!(this.remaining<0&&(this.message(TVE.t.tweet_too_long,"error"),1))}}),pin_share:r.extend({_tpl:TVE.tpl("controls/social/pin-share"),after_init:function(){this.image_picker=new o({}),this.$(".pin-image-upload").append(this.image_picker.$el),this.listenTo(this.image_picker,"select",function(t){this.data.media=t.url}),this.listenTo(this.image_picker,"remove",function(){this.data.media=""})},read_specific:function(t){this.data.description=t.attr("data-description"),this.image_picker.set({url:t.attr("data-media")||""})},validate:function(){var t=this.image_picker.get();return!(!t||!t.url)||(this.inline_message(TVE.t.pinterest_img_required,"error",this.image_picker.$el),!1)},onOpen:function(){}}),in_share:r,xing_share:r}},"selector.js":function(t,e,i){var n=i("../drop-panel");e.exports=n.extend({networks:{fb_share:"Facebook",t_share:"Twitter",xing_share:"Xing",in_share:"Linkedin",pin_share:"Pinterest"},after_initialize:function(){this.networks=TVE.apply_filters("tcb-social-add-networks",this.networks),this.$(".popup-content").html(TVE.tpl("controls/social/network-checkboxes")({networks:this.networks})).addClass("inline-checkboxes")},attach_collection:function(t){this.collection=t},apply:function(){var e=this;this.$(".s-network").each(function(){var t=e.collection.findWhere({key:this.value});this.checked?t||e.collection.add({key:this.value,label:e.networks[this.value]},{silent:!0}):t&&e.collection.remove(t)}),this.collection.trigger("change")},cancel:function(){},update:function(t){},get_selected:function(){var t=[];return this.$(".s-network:checked").each(function(){t.push(this.value)}),t},read_element:function(t){var e=this.$(".s-network").prop("checked",!1),i=[],n=[],s=this.networks;return arguments.length||(t=this.applyTo()),t.find(".tve_s_item").each(function(){var t=this.getAttribute("data-s");n.push(t),i.push({key:t,label:s[t]}),e.filter('[value="'+t+'"]').prop("checked",!0)}),this.component.renderer.set_config({selected:n},!1),i}})},"style.js":function(t,e,i){var n=i("../style-picker");e.exports=n.extend({read_from_element:function(){var t=void 0!==this.model.config.match?this.model.config.match:"tve_style_",e=new RegExp("(\\s+)?"+t+"(\\d+)"),i=this.applyTo().find(".tve_social_items").attr("class").match(e),n=i?t+i[2]:t+"1";return this.renderer.set_config({style:n}),n},box_class:function(){return"tcb-list tve_social_ib tve-style-options"},container_el:function(){return"div"},container_class:function(){return"tcb-scroll control-grid wrap social-styles"},item_template:function(){return _.template('<div class="item click tve-select-item tcb-social-share-preview-item" data-fn="select" id="<#=key #>" data-value="<#=key #>"></div>')},input:function(t){this.renderer.set_config({style:this.model.selected}).render_to(t),TVE.do_action("tcb.after_social_style_change",t,this)},cancel:function(t){this.model.selected=this.model.selected_old,this.renderer.set_config({style:this.model.selected_old}).render_to(t),this.renderer.clear_undo_snapshot()},onOpen:function(t,e,i){var n=t.find(".tve_social_items"),s=i.find(".tcb-list");s.removeClass("tve_social_ib tve_social_itb tve_social_cb"),n.hasClass("tve_social_ib")?s.addClass("tve_social_ib"):n.hasClass("tve_social_itb")?s.addClass("tve_social_itb"):n.hasClass("tve_social_cb")&&s.addClass("tve_social_cb"),this.renderer.take_undo_snapshot(t)},apply:function(t){this.renderer.render_to(t,!0)}})}},"style-change.js":function(t,e,i){var n=i("./drop-panel");e.exports=i("../base").control.extend({template:TVE.tpl("controls/style-change"),set_drop_panel:function(t){if(!t instanceof n)throw new Error("Style changer expects a DropPanel instance");this.panel=t,(this.panel.parent_control=this).listenTo(this.panel,"update",this.update_ui)},on_click:function(){return this.open_panel.apply(this,arguments)},open_panel:function(t,e){return!this.panel||e.classList.contains("drop-panel-focus")||this.panel.open(t,e),!1},input:function(){return!!this.panel&&(this.panel.getLabel&&this.update_ui(),this.panel.input.apply(this.panel,arguments))},update:function(){return!!this.panel&&this.panel.update.apply(this.panel,arguments)},set_value:function(t){t&&0!==t.length||(t=this.get_config("label_none",tcb_main_const.i18n.none)),this.$(".value").html(t)},get_value:function(){return this.$(".value").text()},update_ui:function(t){return!(t=t||"")&&this.panel&&this.panel.getLabel&&(t=this.panel.getLabel()),this.set_value(t),this}})},"style-picker.js":function(t,e,i){var n,s;jQuery,n=i("./drop-panel"),s=i("../../libs/watcher"),e.exports=n.extend({template:TVE.tpl("controls/style"),_template:TVE.tpl("controls/drop-panel-light"),after_initialize:function(){s(this.model,"selected",this.change,this)},box_class:function(){return"tve-style-options"},container_class:function(){return""},container_el:function(){return"div"},change:function(){this.trigger("update",this.getLabel(this.model.selected)),this.$el.find(".tve-select-item").removeClass("active").filter('[data-value="'+this.model.selected+'"]').addClass("active")},select:function(t,e){this.model.selected=e.dataset.value,this.input(t,e)},getLabel:function(t){if(!(t=void 0===t?this.model.selected:t)||!this.model.config.items[t])return this.model.config.default_label?this.model.config.default_label:"";var e=this.model.config.items[t];return this.modifyLabel(e.label?e.label:e)},modifyLabel:function(t){return t},render_item:function(t,e){return this.item_template()({key:t,label:e.label||e,value:e})},item_template:function(){return TVE.tpl("implement me")},read_from_element:function(){throw new Error("Implement read_from_element function")},update:function(){var t=this.read_from_element();this.model.selected=t,this.model.selected_old=t}})},"switch-toggle.js":function(t,e,i){var n=i("./switch");e.exports=n.extend({template:TVE.tpl("controls/switch-toggle"),trigger_select:function(t,e){return this.check(t,{checked:!!parseInt(e.dataset.value)}),!1},setChecked:function(t){return this.$("a").removeClass("weight-500").filter(t?".right":".left").addClass("weight-500"),n.prototype.setChecked.apply(this,arguments)},check:function(t,e){this.setChecked(e.checked),this.change(t,e)}})},"switch.js":function(t,e,i){var n=i("./checkbox");e.exports=n.extend({template:TVE.tpl("controls/switch"),openTooltip:function(){}})},"table-borders.js":function(t,e,i){var n=i("./borders");e.exports=n.extend({controls_init:function(){n.prototype.controls_init.apply(this,arguments)},setConfig:function(){n.prototype.setConfig.apply(this,arguments);var t=this.applyTo();t.hasClass("tve_no_border")&&(t.head_css({"border-width":"0px"},null,this.config.css_suffix,!1,TVE.CONST.global_css_prefix+" "),t.removeClass("tve_no_border"))},change:function(t){if("none"===this.controls.Style)return!1;var e={},i=""===this.border_side?"border":"border-"+this.border_side,n=this.config.important?" !important":"";e[i]=this.controls.Width.getValue()+"px "+this.controls.Style.getValue()+" "+this.controls.Color.getValue(!0)+n,this.apply_css(this.applyTo(),e,{css_suffix:this.config.css_suffix,css_prefix:TVE.CONST.global_css_prefix+" "})},remove_sides:function(){return this.$el.children(".row").addClass("middle-xs"),this.$(".border-boxes").empty(),this}})},"tabs.js":function(t,e,i){jQuery,e.exports=i("./button-group").extend({after_render:function(t){var i=this;(t=t||{}).css_class=void 0===t.css_class?"btn-group-light":"",this.$el.addClass(t.css_class),this.$target=this.get_config("target")?this.$el.parent().find(this.model.config.target):this.$el.next(),0===this.$target.children().length&&this.get_config("target")&&(this.$target=this.$el.closest(".dropdown-content").find(this.model.config.target)),this.$target.children().each(function(t,e){i.model.config.buttons[t]&&Object.assign(e.dataset,{tab:i.model.config.buttons[t].value})}),this.setActive(this.model.config.buttons[0].value)},_click:function(t,e){return this.setActive(e.dataset.value),this.triggerChange(t,e),!1},setActive:function(t){this.$$selected!==t&&(this.clearActive(),this.$('[data-value="'+t+'"]').addClass("active"),this.$$selected=t,this.refresh())},refresh:function(){this.$target.children().hide().filter('[data-tab="'+this.$$selected+'"]').show()},update:function(){},change:function(){}})},text:{"line-spacing.js":function(t,e,i){var o,n,s;o=jQuery,n=i("../../base").control,s=i("../../../models/size"),e.exports=n.extend({template:TVE.tpl("controls/text/line-spacing"),getElement:function(){return TVE.froala.get_block_element().closest(":not(a)")},after_render:function(t){var n,s=this,a={top:0,bottom:0};this.$(".m-handle, .m-value").draggable({axis:"y",start:function(t,e){o("body").addClass("cursor-resize-y"),n=e.helper.closest(".m-handle").data("side"),a[n]="top"===n?e.offset.top+s.values[n]:e.offset.top-s.values[n]},stop:function(t,e){var i=Math.max(0,"top"===n?a[n]-e.offset.top:e.offset.top-a[n]);o("body").removeClass("cursor-resize-y"),s.values[n]=parseFloat(s.$preview.css("padding-".concat(n))),s.sizes[n].set("value",s.values[n]),s.triggerChange(i,n)},drag:function(t,e){var i=Math.max(0,"top"===n?a[n]-e.offset.top:e.offset.top-a[n]).toFixed(0);s.$preview.css("padding-".concat(n),i+"px"),s.$(".".concat(n," .value")).html(i),s.triggerInput(i,n)}}),this.$preview=this.$(".m-preview")},shouldConvertMarginToPadding:function(t){if(t.is("blockquote")||t.is("pre"))return!1;var e=parseInt(t.css("margin-top")),i=parseInt(t.css("margin-bottom"));return!(!e&&!i)&&{"padding-top":parseInt(t.css("padding-top"))+e+"px","padding-bottom":parseInt(t.css("padding-bottom"))+i+"px","margin-top":this.cssImportant("0px"),"margin-bottom":this.cssImportant("0px")}},readValues:function(){var t={top:"",bottom:""};if(this.$element=this.getElement(),!this.$element||!this.$element.length)return t;var e=this.shouldConvertMarginToPadding(this.$element);return e?(t.top=e["padding-top"],t.bottom=e["padding-bottom"]):(t.top=this.$element.head_css("padding-top",!1,this.config.css_suffix,!0,this.config.css_prefix),t.bottom=this.$element.head_css("padding-bottom",!1,this.config.css_suffix,!0,this.config.css_prefix)),t},moveMarginToPadding:function(){var s=this;this.getElement().each(function(t,e){var i=TVE.inner_$(e),n=s.shouldConvertMarginToPadding(i);n&&s.writeStyle(n,i)})},update:function(){var t=this.readValues();this.sizes={top:new s(t.top),bottom:new s(t.bottom)},this.values={top:this.sizes.top.get_real_value(0),bottom:this.sizes.bottom.get_real_value(0)},this.$preview.css({paddingTop:this.values.top,paddingBottom:this.values.bottom}),this.$(".top .value").html(this.values.top),this.$(".top .uom").html(this.sizes.top.get("uom")),this.$(".bottom .value").html(this.values.bottom),this.$(".bottom .uom").html(this.sizes.bottom.get("uom"))},triggerInput:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:"px";TVE.ElementEditIcons.toggle(!1),TVE.SKIP_CSS_STATE=!0,this.input(t,e,n),TVE.SKIP_CSS_STATE=!1},triggerChange:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:"px";TVE.SKIP_CSS_STATE=!1,this.input(t,e,n),TVE.Editor_Page.reposition_icons(),TVE.ElementEditIcons.toggle(!0)},input:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:"px",s={};s["padding-".concat(e)]=this.cssImportant(t+n),s["margin-".concat(e)]=this.cssImportant("0px"),this.writeStyle(s)},writeStyle:function(t,e){var i=1<arguments.length&&void 0!==e?e:this.$element;this.applyElementCss(t,i)}})},"typefocus-settings.js":function(t,e,i){var r,n,s;r=jQuery,n=i("../drop-panel"),s=i("../color-picker"),e.exports=n.extend({template:TVE.tpl("controls/text/typefocus-settings"),_template:TVE.tpl("controls/drop-panel-light"),after_initialize:function(t){this.listenTo(this.model,"change",this.render),this.control=t.control},box_class:function(){return"tve-style-options"},render:function(){this.picker&&this.picker.destroy(),this.$(".popup-content").html(this.template()),this.$speed=this.$("#timer-ms"),this.render_callback&&(this.render_callback.call(this),delete this.render_callback);var t=this.$(".highlight-color");t.length&&(this.picker=new s({el:t[0],model:{config:{options:{output:"object",preferredFormat:"hex",showInput:!1,showGradient:!1,showAlpha:!0,allowEmpty:!0}}},change:_.bind(this.h_color_change,this)}),this.picker.setValue(this.model.get("colors")))},h_color_change:function(t){this.model.set("colors",t?t.toString():"",{silent:!0})},add_variation:function(){this.model.get("variations").push(""),this.render_callback=function(){this.$("input.variation-item").last().focus()},this.render()},edit_variation:function(t,e,i){return 13===i.which?(this.add_variation(),!0):(this.model.get("variations")[e.getAttribute("data-index")]=e.value,!1)},remove_variation:function(t,e){var i=e.getAttribute("data-index");return this.model.get("variations").splice(i,1),this.model.trigger("change"),!1},attr:function(t,e){this.model.set(e.getAttribute("data-field"),!!e.checked)},speed:function(t,e){return this.model.set({speed:e.value},{silent:!0}),this.$speed.html(e.value),!1},validate:function(){return!!this.model.validate()||(TVE.page_message(this.model.error,!0),!1)},apply:function(){if(TVE.froala.editor){var t=TVE.froala.editor,e=t.snapshot.get(),i=this.model.get_dom_attr(),n=this.model.__dom;if(n)_.each(i,function(t,e){n.setAttribute(e,t)});else{var s=function(t){for(;t.is("strong,em,u,s");)t=t.parent();return t}(r(t.selection.element())),a=function(t){return t.attr("style")?t.attr("style"):""}(s),o=function(t){return t.attr("class")?t.attr("class"):""}(s);t.commands.clearFormatting(),t.format.apply("span",i),n=t.format.is("span",{class:i.class},!0),a&&n.setAttribute("style",a),"tcb-plain-text"===o&&n.parentElement.setAttribute("class",o)}n.textContent!==this.model.get("text")&&jQuery(n).text(this.model.get("text")),n&&n.removeAttribute("data-tve-custom-colour"),t.events.focus(),t.undo.saveStep(e),t.undo.saveStep(),this.control.update_preview()}},cancel:function(){this.model.restoreState(),TVE.froala.exec("toolbar.showInline")},default_changed:function(t,e){this.model.set("text",e.value)}})},"typefocus.js":function(t,e,i){var n=i("./typefocus-settings"),s=new(i("../../../models/typefocus"));e.exports=i("../../base").control.extend({template:TVE.tpl("controls/text/typefocus"),_template:TVE.tpl("controls/drop-panel-light"),after_initialize:function(){this.settings=new n({model:s,control:this})},open_settings:function(t,e){s.saveState(),this.settings.open(t,e)},update:_.debounce(function(){var t;TVE.froala.editor&&(t=TVE.froala.editor.format.is("span",{class:"tve_typefocus"},!0))?this.state("edit",t):this.state("add")},20),input:function(){},box_class:function(){return"tve-style-options"},state:function(t,e){this.$(".state-toggle").hide().filter(".state-"+t).show();var i=this.$("#typefocus-preview").html("");"edit"===t?(s.read(e),i.html(TVE.tpl("controls/preview-list-item")({view:this,item:s})).find(".item-icon").remove().end().find(".preview-list-sort-handle")):(s.reset(!0),s.set("text",TVE.froala.editor&&TVE.froala.editor.selection.text()),this.settings.render())},update_preview:function(){s.update_label(),this.$("#typefocus-preview").html(TVE.tpl("controls/preview-list-item")({view:this,item:s}))},item_click:function(){this.open_settings.apply(this,arguments)},item_remove:function(){n.close_all();var t=s.__dom,e=t.parentNode;if(t.getAttribute("style"))t.removeAttribute("class"),t.removeAttribute("data-typist"),t.removeAttribute("data-speed"),t.removeAttribute("data-highlight"),t.removeAttribute("data-colors");else{for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}return this.state("add"),!1}})}},"text-style.js":function(t,e,i){var n,s;n=jQuery,s=i("./button-group"),e.exports=s.extend({getElement:function(){return this.applyTo()},initialize:function(t){t.model.config=n.extend(!0,{},this.configDefaults,t.model.config),s.prototype.initialize.call(this,t)},update:function(){var i=this,n=[],s=this.getElement();_.each(this.model.config.buttons,function(t){var e=s.head_css("--tve-".concat(t.data.style))||s.head_css(t.data.style,!1,i.config.css_suffix,!0,i.config.css_prefix);e&&e.includes(t.value)&&n.push(t.value),"bold"===t.value&&("bold"===e||!isNaN(e)&&400<parseInt(e))&&n.push(t.value)}),this.setActive(n)},applyStyles:function(t,e){var i=e.dataset.style,n=e.classList.contains("active"),s={};s[i]=n?e.getAttribute("data-value"):"",i&&i.includes("text-decoration")?s[i]=this.decoration():n||(s[i]=e.dataset.off),"font-weight"===i&&(s[i]="var(".concat(n?"--g-bold-weight, bold":"--g-regular-weight, normal",")")),s[i]&&(s[i]+=this.cssImportant()),this.writeStyle(s,i),TVE.do_action("tcb.text_style_change.".concat(TVE._type(TVE.ActiveElement)),i,s[i]),TVE.Editor_Page.reposition_icons()},writeStyle:function(t,e){this.applyElementCss(t,this.getElement())},decoration:function(){var t="";return this.$('.tve-btn.active[data-style*="decoration"]').each(function(){t+=(t?" ":"")+this.dataset.value}),t||"none"},get_buttons:function(){return this.model.config.buttons},configDefaults:{checkbox:!0,name:TVE.t.Formatting,buttons:{bold:{value:"bold",data:{style:"font-weight",off:"normal"},icon:"format-bold"},italic:{value:"italic",data:{style:"font-style",off:"normal"},icon:"format-italic"},underline:{value:"underline",data:{style:"text-decoration"},icon:"format-underline"},"line-through":{value:"line-through",data:{style:"text-decoration"},icon:"format-strikethrough-variant"}}}})},"textarea.js":function(t,e,i){e.exports=i("./label-input").extend({template:TVE.tpl("controls/textarea")})},"time-slider.js":function(t,e,i){var n=i("../base");e.exports=n.control.extend({template:TVE.tpl("controls/time-slider"),min:0,max:21600,initialize:function(){void 0!==this.model.config.min&&(this.min=this.model.config.min),void 0!==this.model.config.max&&(this.max=this.model.config.max),this.render();var i=this;this.$el.find(".minutes-handle").tve_draggable({start:function(){i.currentMinutesValue=isNaN(i.valueMinutes())?0:parseInt(i.valueMinutes())},move:function(t){var e=i.currentMinutesValue+parseInt(t);e<i.min&&(e=i.min),e>Math.floor(i.max/60)&&(e=Math.floor(i.max/60)),i.$(".tcb-input-minutes").val(e)},stop:function(){i.$el.find(".tcb-input-minutes").trigger("change")}}),this.$el.find(".seconds-handle").tve_draggable({start:function(){i.currentSecondsValue=isNaN(i.valueSeconds())?0:parseInt(i.valueSeconds())},move:function(t){var e=i.currentSecondsValue+parseInt(t);e<0&&(e=0),59<e&&(e=59),i.$(".tcb-input-seconds").val(e)},stop:function(){i.$el.find(".tcb-input-seconds").trigger("change")}})},valueMinutes:function(){return this.$el.find(".tcb-input-minutes").val()},valueSeconds:function(){return this.$el.find(".tcb-input-seconds").val()},onChange:function(t,e){var i;if(e.classList.contains("tve-slider"))i=e.value;else if(e.classList.contains("tcb-input-minutes")||e.classList.contains("tcb-input-seconds")){(i=60*(isNaN(this.valueMinutes())?0:parseInt(this.valueMinutes()))+(isNaN(this.valueSeconds())?0:parseInt(this.valueSeconds())))>this.max&&(i=this.max)}this.setValue(i),this.change(t,i)},onInput:function(t,e){var i=Math.floor(e.value/60),n=e.value%60;this.$(".tcb-input-minutes").val(i),this.$(".tcb-input-seconds").val(n)},setValue:function(t){var e=Math.floor(t/60),i=t%60;this.$(".tcb-input-minutes").val(e),this.$(".tcb-input-seconds").val(i),this.$(".tve-slider").val(t)},up:function(t,e){var i=e.getAttribute("data-time");this._changeTimeFromArrows(i,1)},down:function(t,e){var i=e.getAttribute("data-time");this._changeTimeFromArrows(i,-1)},_changeTimeFromArrows:function(t,e){if("min"===t){var i=parseInt(this.valueMinutes())+parseInt(e);i<0&&(i=0),this.$(".tcb-input-minutes").val(i)}else"sec"===t&&this.$(".tcb-input-seconds").val(parseInt(this.valueSeconds())+parseInt(e));this.$(".tcb-input-minutes").trigger("change")}})},toc:{"headings.js":function(t,e,i){var n=i("../multiple-checkbox");e.exports=n.extend({max_headings:3,distribute_even:!1,template:TVE.tpl("controls/toc/headings"),update_content:function(t,e){var s=this,a=t.find(".tve_ct_content"),i=this.get_checked_inputs();t.find(".tve_ct_content").html(""),i.length<=0||(TVE.apply_filters("tcb.toc.headers",TVE.Editor_Page.editor.find(i.join(","))).each(function(){var t=jQuery(this),e=s.generateID(t),i=jQuery('<div class="'+s.getCssClass(t)+'" ><a href="#'+e+'" rel="nofollow">'+t.text()+"</a></div>");t.is(":visible")&&a.append(i),t.attr("id",e);var n=t.parents(".tve_wp_shortcode");0<n.length&&s.update_shortcode_raw.call(t,n,e)}),this.splitInColumns(t))},update_shortcode_raw:function(t,e){var i=t.find("> .tve_shortcode_raw"),n=i.html().replace("___TVE_SHORTCODE_RAW__","").replace("__TVE_SHORTCODE_RAW___",""),s=this,a=document.createElement("textarea");a.innerHTML=n,n=a.value;var o=jQuery(n),r="";o.each(function(){this.innerText&&s.text().replace(/—|–|-/,"")===this.innerText.replace(/—|–|-/,"")&&this.setAttribute("id",e),r+=this.outerHTML?this.outerHTML:""}),i.text("___TVE_SHORTCODE_RAW__"+r+"__TVE_SHORTCODE_RAW___")},generateID:function(t){for(var e=0,i=t&&t.attr("id")?t.attr("id"):"tab-con-"+e;0<TVE.Editor_Page.editor.find("#"+i).length;)i="tab-con-"+ ++e;return t.attr("id",i),i},getCssClass:function(t){return"tve_ct_level"+this.get_checked_inputs().indexOf(t[0].nodeName.toLowerCase())},splitInColumns:function(t){t.find(".tve_ct_content").children(".leftCol, .rightCol").remove();for(var i=t.find(".tve_ct_content .tve_ct_level0").length,e=t.find(".tve_ct_content .tve_ct_level1").length,n=t.find(".tve_ct_content .tve_ct_level2").length,s=t.find(".tve_ct_level0, .tve_ct_level1, .tve_ct_level2"),a=0,o=[],r=".tve_ct_level0",l=0;l<t.attr("data-columns");l++){var c=jQuery('<div class="ct_column sep"></div>');o.push(c)}o.push(o.pop().removeClass("sep")),t.find(".tve_ct_content .ct_column").remove(),i<1&&(i=e<1?(r=".tve_ct_level2",n):(r=".tve_ct_level1",e));var d=0;if(this.distribute_even){var h=i+e+n,u=Math.ceil(h/o.length);s.each(function(t){var e=jQuery(this);t&&t%u==0&&d++,o[d].append(e)})}else s.each(function(t){var e=jQuery(this);0!==t||e.is(r)||(i++,a++),e.is(r)&&(d=Math.floor(a*o.length/i)),o[d].append(e),e.is(r)&&a++});t.find(".tve_ct_content").html("");for(l=0;c=o[l++];)c.css("width",100/o.length+"%"),t.find(".tve_ct_content").append(c);var p=0;t.find(".ct_column").each(function(){var t=jQuery(this);t.height()>p&&(p=t.height())}),t.find(".ct_column").css("min-height",p+"px")},distribute_evenly:function(t,e){this.distribute_even=e,this.update_content(t)}})}},tooltip:{"tooltip-download-media-resources.js":function(t,e,i){jQuery,e.exports=i("../tooltip-base").extend({tooltipPosition:"top",template:_.template(TVE.t.download_media_msg),anim_duration:300,_apply_btn_tpl:_.template(""),apply:TVE.$.noop})}},"tooltip-base.js":function(t,e,i){var n,s;n=jQuery,s=i("./drop-panel"),e.exports=s.extend({tooltipPosition:"top",no_callback:!1,_template:TVE.tpl("controls/tooltip/tooltip-panel"),_apply_btn_tpl:TVE.tpl("controls/tooltip/tooltip-panel-apply-btn"),tooltipElem:!1,closeOnLeave:!1,options:{hover_delay:500,leave_delay:2e3,"z-index":9},after_initialize:function(t){t&&t.options&&(this.options=_objectSpread({},this.options,{},t.options)),this.tooltipElem&&(this.tooltipElem.data("self",this),n("body").off("mouseenter.paneltlt mouseleave.paneltlt").on("mouseenter.paneltlt mouseleave.paneltlt","[data-paneltlt-hover]",this.handleMouseEvents)),this._handleDesign()},after_render:function(){this.$(".tve-tooltip-action").html(this._apply_btn_tpl())},position:function(t){if(t){var e=jQuery(t),i=e.offset(),n=this.el_css||{};e.is("svg")&&(e=e.parent()),this["position".concat(TVE.ucFirst(this.tooltipPosition))](e,n,i),this.last_target=e.addClass("drop-panel-focus")}},positionLeft:function(t,e,i){var n=1<arguments.length&&void 0!==e?e:{},s=2<arguments.length&&void 0!==i?i:{};if(n.top=s.top-70,this.anim_duration){var a={top:n.top},o=this.anim_duration;this.$el.css(a),this.$el.find(".tooltip-panel").css("display","none"),this.$el.animate(n,{duration:o,start:function(t){jQuery(t.elem).find(".tooltip-panel").fadeIn(o)}})}this.$(".tcb-panel-arrow").css(_.extend({top:s.top-n.top-15+"px"},this.arrow_css||{}))},positionTop:function(t,e,i){var n=1<arguments.length&&void 0!==e?e:{},s=2<arguments.length&&void 0!==i?i:{},a=this.$(".drop-panel").offset()||{top:0,left:9},o=40+(TVE.ActiveElement&&TVE.Elements[TVE._type(TVE.ActiveElement)].hover?20:0),r=TVE.main.$scrollbar[0].scrollTop,l=s.top-this.$(".drop-panel").outerHeight()-50-o;if(r&&(l+=r),TVE.main.EditMode.in_edit()&&(l-=TVE.main.EditMode.$sidebarComponent.outerHeight(!0)),this.anim_duration){var c=this.anim_duration;n.top=l,n.opacity=1,this.$el.css({top:l+20,opacity:0,"z-index":this.options["z-index"]||9}),this.$el.animate(n,{duration:c,start:function(t){jQuery(t.elem).find(".tooltip-panel").slideDown(c)}})}else this.$el.css({top:l});this.$(".tcb-panel-arrow").css({left:Math.ceil(s.left-a.left+t.outerWidth()/2+1)+"px"})},onCancel:function(){this.$el.removeAttr("style"),this.hide()},handleMouseEvents:function(t){var e="mouseenter"===t.type?"ShowOnHover":"PreventOpen";n(t.currentTarget).data("self")["tooltip".concat(e)](t.currentTarget)},tooltipShowOnHover:function(t){var e=this;clearTimeout(this.tooltipShowTimeout),this.tooltipShowTimeout=setTimeout(function(){e.isOpen()||e.open(null,n(t))},this.options.hover_delay||500)},tooltipPreventOpen:function(){var t=this;clearTimeout(this.tooltipShowTimeout),this.closeOnLeave&&this.isOpen()&&setTimeout(function(){t.onCancel()},this.options.leave_delay||2e3)},_handleDesign:function(){this.no_callback&&this.$('[data-fn="onApply"]').hide(),this.closeOnLeave&&this.$(".tve-tooltip-close").css({display:"none"})},open:function(t,e){return this.visible=!0,this.el.style.display="block",this.position(e),this.onOpen(t,e,this.$el),!1},hide:function(t,e){this.visible=!1,this.last_target&&this.last_target.removeClass("drop-panel-focus"),this.el.style.display="none",this.trigger("close"),this.onClose(t,e)}})},typography:{"paragraph-style-picker.js":function(t,e,i){var n,s;n=jQuery,s=i("../style-picker"),e.exports=s.extend({_template:TVE.tpl("controls/drop-panel-light"),initialize:function(t){var e=this;t.model.config.items=this.getItems(),s.prototype.initialize.call(this,t),this.$el.addClass("tcb-style-wrap"),TVE.CONST.landing_page&&this.$el.addClass("tve_lp").attr("id","tcb_landing_page"),TVE.add_action("global_styles.text.update",function(){e.model.config.items=e.getItems(),e.render(),e.$("."+e.box_class()).scrollbar({disableBodyScroll:!0})})},getItems:function(){return[{name:TVE.CONST.landing_page?TVE.t.lp_default:TVE.t.State_Default,cls:"",id:""}].concat(TVE.CONST.global_styles.text.filter(function(t){return"p"===t.attr.tag}))},item_template:function(){return TVE.tpl("controls/typography/paragraph-style-picker-item")},box_class:function(){return"tve-style-options"},container_class:function(){return""},update:function(){var t=(TVE.ActiveElement.tcbJsonData("child-styles").text||{}).p||"";if(this.$(".tve-select-item").removeClass("active").filter('[data-value="'.concat(t,'"]')).addClass("active"),this.model.selected_old=this.model.selected=t,this.selectedStyle=_.findWhere(this.model.config.items,{id:t}),this.parent_control){var e=this.selectedStyle&&this.selectedStyle.name||this.model.config.default_label;this.parent_control.set_value(e)}},onOpen:function(){},input:function(){var t=TVE.ActiveElement.tcbJsonData("child-styles")||{};n.extend(!0,t,{text:{p:this.model.selected}}),TVE.ActiveElement.tcbJsonData("child-styles",t),this.selectedStyle=_.findWhere(this.model.config.items,{id:this.model.selected}),TVE.ActiveElement.applyChildrenGlobalStyle()},clear:function(){this.model.selected="",this.input()},apply:function(t,e){this.trigger("change",this.model.selected,this),this.component.update()},cancel:function(){this.model.selected=this.model.selected_old,this.input()}})}}},"drop-panels":{"reset-state.js":function(t,e,i){var n=i("../controls/drop-panel");e.exports=n.extend({states:{default:"Normal",hover:"Hover",active:"Active",expanded:"Expanded"},copyFromState:"",_template:TVE.tpl("drop-panels/reset-state"),template:"",cancel:function(){this.hide()},onOpen:function(){var t=TVE.state_manager.get_state(),e=this.hasExtraStates()&&("hover"===t||"active"===t||"expanded"===t);this.$(".reset-to-state").toggle(!e),this.$(".reset-multiple-states").toggle(e),this.hasExtraStates()&&(this.$(".reset-select option").show(),this.hideUnavailableOptions(),this.$('.reset-select option[value="'.concat(t,'"]')).hide(),this.$(".reset-select option:first").prop("selected",!0)),this.$(".reset-state-initial .btn-apply").attr("data-fn",this.hasExtraStates()?"showConfirmState":"resetStateAction"),this.showState("initial")},showConfirmState:function(){this.copyFromState=this.$(".reset-select").attr("value"),this.$el.html(this._template()),this.position(".reset-state-button"),this.showState("confirm")},showState:function(t){var e=0<arguments.length&&void 0!==t?t:"initial";this.$(".reset-state-initial").toggle("initial"===e),this.$(".reset-state-confirm").toggle("confirm"===e),this.$(".reset-state-panel").toggleClass("reset-state-panel-confirm","confirm"===e)},hasExtraStates:function(){return TVE.Elements[TVE._type(TVE.ActiveElement)].active||TVE.Elements[TVE._type(TVE.ActiveElement)].expanded},hideUnavailableOptions:function(){this.$('.reset-select option[value="active"]').toggle(TVE.Elements[TVE._type(TVE.ActiveElement)].active),this.$('.reset-select option[value="expanded"]').toggle(TVE.Elements[TVE._type(TVE.ActiveElement)].expanded)},resetStateAction:function(){var a,o=TVE.state_manager.get_state(),r=this.copyFromState.length?this.copyFromState:this.$(".reset-select").attr("value"),t=TVE.ActiveElement,e='[data-css="'.concat(TVE.CSS_Rule_Cache.uniq_id(t),'"]');switch(TVE._type(t)){case"menu_item":var i=TVE.escapedRegEx(TVE.ActiveElement.attr("data-selector")).toString().slice(0,-1).slice(1);a={from:new RegExp("".concat(i,".*(\\.tve-state-").concat(o,"|:").concat(o,")")),to:new RegExp("".concat(i,".*(\\.tve-state-").concat(r,"|:").concat(r,")"))};break;case"megamenu_item":var n=TVE.escapedRegEx(TVE.ActiveElement.attr("data-selector")).toString().slice(0,-1).slice(1);a={from:new RegExp("".concat(n,"(.*(\\.tve-state-").concat(o,"|:").concat(o,"))")),to:new RegExp("".concat(n,"(.*(\\.tve-state-").concat(r,"|:").concat(r,"))"))};break;case"button_group_item":var s=t.attr("data-selector").match(/\[.*\]/)[0];a={from:new RegExp("\\".concat(s,"(.*)(\\.tve-state-").concat(o,"|:").concat(o,")")),to:new RegExp("\\".concat(s,"(.*)(\\.tve-state-").concat(r,"|:").concat(r,")"))};break;case"toggle_title":a={from:TVE.escapedRegEx(TVE.ActiveElement.attr("data-selector"),"g","","(\\.tve-state-".concat(o,"|:").concat(o,")")),to:TVE.escapedRegEx(TVE.ActiveElement.attr("data-selector"),"g","","(\\.tve-state-".concat(r,"|:").concat(r,")")),process:function(t){return"hover"===r?t=t.replace(/:not\(\.tve-state-(\w+?)\)/g,""):"hover"===o&&(t=t.replace("hover","hover:not(.tve-state-expanded)")),t}};break;case"article":var l='[data-css="'+t.parent().attr("data-css")+'"]',c=t.attr("data-selector");a={from:new RegExp("\\".concat(l,"(.*)\\").concat(c,"(.*)(\\.tve-state-").concat(o,"|:").concat(o,")")),to:!1};break;default:var d=t.attr("class").match(/tcb-global-\S*/);a=d?{from:new RegExp("\\.".concat(d[0],"(\\.tve-state-").concat(o,"|:").concat(o,")")),to:!1}:{from:new RegExp("\\".concat(e,"(\\.tve-state-").concat(o,"|:").concat(o,")")),to:!1}}if("default"===r)TVE.head_css_remove(a.from);else{var h,u=TVE.CONST.global_css_prefix+" ",p=[];_.each(TVE.stylesheet.cssRules,function(t){var e=TVE.compat.conditionText(t);if(t.type===CSSRule.MEDIA_RULE&&e&&e.length){for(var i=0;i<t.cssRules.length;i++){var n=t.cssRules[i];n&&n.style.length&&n.cssText.match(a.from)?(t.deleteRule(i),i--):n&&n.cssText.match(a.to)&&!n.cssText.includes(":hover")&&(h=n.cssText.replace(r,o),"function"==typeof a.process&&(h=a.process(h,n)),n.cssText.includes(".tve-state-hover")?p.push(h.replace(u,"")):h.includes(".tve-state-hover")&&(h=u+h,p.push(h.replace(".tve-state-hover",":hover"),h)))}for(var s=0;s<p.length;s++)p[s]&&t.insertRule(p[s],t.cssRules.length)}})}TVE.main.update_components(),this.hide(),TVE.page_message(TVE.t.resetStateAction,!1)}})},"toggle-title.js":function(t,e,i){var n=i("../controls/drop-panel");e.exports=n.extend({template:TVE.tpl("drop-panels/toggle-title"),after_initialize:function(t){this.initialModel=this.model.toJSON()},render:function(){this.$(".popup-content").html(this.template())},onCancel:function(){this.hide(),this.model.set(this.initialModel)},changeTitle:function(t,e){this.model.set("label",e.value)},onApply:function(){this.model.get("$toggle").find(".tve-toggle-text").html(this.model.get("label")).closest(".edit_mode").removeClass("edit_mode"),this.hide()}})}},"edit-mode.js":function(t,l,e){var c=e("./base").base_view,d=e("../libs/undo-manager");!function(s){var i={COMPACT:"tcb-compact-element",EDIT:"tcb-compact-edit-mode",BODY:"edit-mode-active",HIDING:"edit-mode-hiding"};function e(){var t='#tcb-editor-settings .side:first-child a,.preview-content,#sidebar-right .sidebar-item:not([data-fn="blur"]'+(o.options.can_insert_elements?",.add-element":"")+")";return TVE.apply_filters("tcb.edit_mode.disabled_buttons",TVE.main.$(t))}function n(t,e){this.$element=t||TVE.ActiveElement,this.options=function(t){return t=s.extend(!0,{extra_element_class:"",view_label:"",default_sidebar_params:["custom","edit-mode"],blur:!1,hidden_elements:[],element_selectable:!0,states:[],show_default_message:!1,can_insert_elements:!1,body_class:i.BODY,prevent_default_functions:!1,overlayOffset:!1,callbacks:{before_exit:s.noop,state_change:s.noop,exit:s.noop}},t),Array.isArray(t.default_sidebar_params)||(t.default_sidebar_params=[t.default_sidebar_params]),t.extra_element_class&&(t.extra_element_class=" "+t.extra_element_class.trim()),t}(e),this.CSS_CLASS="tcb-compact-"+ ++r}n.prototype.enter=function(){this.$element.addClass(this.CSS_CLASS+" "+i.EDIT+this.options.extra_element_class+" tve_no_drag"),TVE.$body.addClass(this.options.body_class),this.options.show_overlay&&this.$element.tve_overlay("no-bg",this.options.overlayOffset),e().addClass("tve-disabled"),this.$element.data("breadcrumbs.disabled",!this.options.element_selectable),TVE.main.set_navigation_root(this.$element),TVE.$("#tcb-top-nav-list").addClass("tcb-compact-edit-mode"),TVE.ActiveElement&&!this.options.blur&&TVE.main.active_element_navigation(),TVE.ElementEditIcons.hide_icons(),this.options.prevent_default_functions&&TVE.ElementIcons.hide_icons(),this.options.hidden_elements&&TVE.main.sidebar_toggle_elements(this.options.hidden_elements,!1),this.options.blur?TVE.Editor_Page.blur():this.$element.focus(),TVE.InitialUndoManager=TVE.UndoManager,TVE.UndoManager=new d(10,s("#tcb-undo , #tcb-undo-sim "),s("#tcb-redo, #tcb-redo-sim")),TVE.do_action("tcb.edit_mode.enter",this.$element)},n.prototype.exit=function(t){void 0===t&&(t=!0),TVE.state_manager.is_default()||(delete TVE.froala.maintain_focus,TVE.main.states_dropdown.done(),TVE.clearUpdateTimeout()),this.options.callbacks.before_exit(this.$element),TVE.do_action("tcb.edit_mode.exit",this.$element),this.$element.removeClass(i.EDIT+" "+this.CSS_CLASS+this.options.extra_element_class+" tve_no_drag"),this.$element.data("breadcrumbs.disabled",null),TVE.main.remove_navigation_root(this.$element),TVE.$("#tcb-top-nav-list").removeClass("tcb-compact-edit-mode"),this.options.callbacks.exit(),this.options.hidden_elements&&TVE.main.sidebar_toggle_elements(this.options.hidden_elements,!0),(t||this.options.restore_state)&&(e().removeClass("tve-disabled"),TVE.$body.removeClass(this.options.body_class?this.options.body_class:i.BODY).addClass(i.HIDING),setTimeout(function(){return TVE.$body.removeClass(i.HIDING)},800),TVE.apply_filters("tve.edit.mode.refocus",!0,this.options.body_class)&&(TVE.ActiveElement?TVE.Editor_Page.focus_element(this.$element.removeClass("edit_mode")):TVE.Editor_Page.blur())),TVE.UndoManager=TVE.InitialUndoManager,TVE.remove_element_overlay(),this.options={}};var a=[],o=null,r=1,t={template:TVE.tpl("util/edit-mode"),after_initialize:function(){var e=this;this.$el.draggable({handle:".tcb-em-drag",containment:"body",start:function(){TVE.main.$container.addClass("overlay")},stop:function(){TVE.main.$container.removeClass("overlay")}}),this.$_buttons=this.$(".tve-button"),this.$_arrow=this.$(".direction-arrow"),TVE.inner.$window.on("scroll",this.on_scroll.bind(this)),TVE.add_filter("tcb.element.editable",this.filters.editable.bind(this)),TVE.add_filter("selectors_no_highlight",this.filters.no_highlight.bind(this),100),TVE.add_filter("tcb.dragenter.bubble",this.filters.dragenter.bind(this)),TVE.add_filter("allow_dragenter",this.filters.allow_dragenter.bind(this),100),TVE.add_action("tcb.dragstart",this.actions.drag_start.bind(this)),TVE.add_action("tcb.dragstart.main",this.actions.drag_start.bind(this)),TVE.add_action("tcb.dragend",this.actions.drag_end.bind(this)),TVE.add_action("tcb.editor.undo",this.actions.editor_undo.bind(this)),TVE.add_action("tcb.focus.clear",this.refresh.bind(this)),TVE.inner.$body.on("mousedown.edit-mode",".tve-element-mask",function(t){if(e.overlayClicked(t))return!1;TVE.do_action("tcb.overlay_clicked")}),this.$sidebarComponent=TVE.main.$("#component-edit-mode"),this.$componentPanel=TVE.main.$("#tve-components"),TVE.main.on("tcb-ready",this.bindEvents)},filters:{editable:function(t,e){return this.in_edit()&&(!o.options.element_selectable&&o.$element.is(e)&&(t=!1),t=t&&e.closest(o.$element).length),t},no_highlight:function(t){return this.in_edit()&&!o.options.prevent_default_functions&&(t+=",*:not(."+o.CSS_CLASS+" *)"),t},dragenter:function(t,e){return this.in_edit()&&(0!==o.$element.find(e.target).length&&!o.$element.closest(e.target).length||(e.stopPropagation(),t=!1)),t},allow_dragenter:function(t,e){return this.in_edit()?o.$element.closest(e).length&&(t=!1):0<e.parents("."+i.COMPACT).length&&(t=!1),t}},actions:{drag_start:function(){this.in_edit()&&TVE.inner_$(".tve-element-mask").removeClass("no-bg")},drag_end:function(){this.in_edit()&&TVE.inner_$(".tve-element-mask").addClass("no-bg")},editor_undo:function(){this.in_edit()&&this.reinitialize_stack()}},overlayClicked:function(t){var e=this;return!!TVE.apply_filters("tve.edit.mode.overlay.click",1===t.which&&TVE.state_manager.is_default()&&this.in_edit())&&(TVE.inner_$(".tve-element-mask").removeClass("no-bg"),setTimeout(function(){return e.$el.addClass("notify")},100),setTimeout(function(){return e.$el.removeClass("notify")&&TVE.inner_$(".tve-element-mask").addClass("no-bg")},350),!0)},on_scroll:function(){if(this.in_edit()&&!o.options.prevent_default_functions){var t=o.$element[0].getBoundingClientRect();this.$_arrow.hide(),this.$_buttons.hide(),t.bottom<0?this.$_arrow.show().children().removeClass("down").addClass("up"):t.top>window.innerHeight?this.$_arrow.show().children().removeClass("up").addClass("down"):this.$_buttons.show()}},set_element_data:function(t){t=void 0===t?{}:t;var e=o.$element,i=TVE.get_element_name(e),n=this.$(".tve-select");this.$(".tcb-element-name").html(t.view_label||"Editing "+i),TVE.main.$(".fill-element-name").html(i),t.show_default_message&&this.$sidebarComponent.removeClass("tcb-hide"),n.html(""),_.each(t.states,function(t){n.append(s("<option>",{text:t.label,value:t.value}))}),n.toggleClass("tcb-hide",_.isEmpty(t.states))},enter:function(t,e){o=new n(t,e),a.push(o),this.set_element_data(e),o.enter()},exit:function(){return a.pop(),o.exit(!a.length),(o=a.length?_.last(a):null)?(this.set_element_data(o.options),o.enter()):this.$sidebarComponent.addClass("tcb-hide"),!1},state_changed:function(t,e){o.options.callbacks.state_change(e.value)},scroll_to:function(){var t=o.$element.offset().top-24,e=TVE.inner.window.innerHeight/2;e<t?t-=e:t=0,TVE.inner_$("html").animate({scrollTop:t},{duration:1e3})},in_edit:function(){return null!==o},reinitialize_stack:function(){_.each(a,function(t){t.$element=TVE.reinitialize_element(t.$element)})},element:function(){return o&&o.$element},get_default_sidebar_params:function(){return o&&o.options.default_sidebar_params?o.options.default_sidebar_params:["elements"]},refresh:function(){o&&!o.options.prevent_default_functions&&o.$element.tve_overlay("no-bg",o.options.overlayOffset)},bindEvents:function(){TVE.Editor_Page.$body.on("mouseenter.editMode","."+i.EDIT,function(){TVE.inner_$(".tve-element-mask").addClass("behind")}).on("mouseleave.editMode","."+i.EDIT,function(){TVE.inner_$(".tve-element-mask").removeClass("behind")})}};l.exports=c.extend(t)}(jQuery)},"editor-settings.js":function(t,n,s){!function(i){TVE.RevisionManager=s("./modals/revision");var t=s("./base").base_view,e=TVE.RevisionManager.get_instance(TVE.modal.get_element("revision-manager"));n.exports=t.extend({initialize:function(t){var e=TVE.CONST.post.post_type,i=["post","page","thrive_template"].includes(e),n=this.$("#tve-save-dash-return");this.$save_options=this.$(".save-options"),this.$save_container=this.$save_options.prev(".side.save"),n.toggleClass("tcb-hide",!i),i&&n.text(TVE.apply_filters("tve.dash.return.save.label",TVE.t.save_dash_return)),this.bind_events()},bind_events:function(){function t(t){"mousedown"===t.type?i.contains(e.el,t.target)||e.toggle_save_options(!1):27===t.which&&e.toggle_save_options(!1)}var e=this;TVE.$document.add(TVE.inner.$document).keyup(t).mousedown(t),this.$(".save-btn .drop").on("mouseenter",function(){e.$save_container.addClass("hover")}).on("mouseleave",function(){e.$save_container.removeClass("hover")})},toggle_save_options:function(t){this.$save_options.add(this.$(".save-btn .drop")).add(this.$save_container).toggleClass("active",t),this.toggle_without_save_options(!!t)},toggle_without_save_options:function(t){var e=!(0<arguments.length&&void 0!==t)||t;return this.$(".exit-without-save").toggle(!!e),this.$(".save-options-dropdown").toggle(!e),!1},exit_without_save:function(t){window.onbeforeunload=null,this.toggle_save_options(),TVE.KEEP_OVERLAY=!0,TVE.main.overlay(),location.href=t.currentTarget.getAttribute("href")},cancel_exit:function(){this.toggle_without_save_options(!1)},click_save_arrow:function(){return this.toggle_save_options(),!1},save_exit:function(t){return this.toggle_save_options(!1),TVE.KEEP_OVERLAY=!0,TVE.main.overlay(),this.save(null,null,function(){location.href=t.currentTarget.getAttribute("href")}),!1},save:function(t,e,i){if(!TVE.apply_filters("validate_saved_content",!0,i))return!1;var n=(e=e||this.$(".save-btn")[0]).innerHTML;return e.classList.add("tve-disabled"),e.querySelector(".txt").innerHTML=TVE.t.saving,TVE.set_login_callback(this.save,this),setTimeout(function(){TVE.Editor_Page.save(!0).always(function(){e.classList.remove("tve-disabled"),e.innerHTML=n,"function"==typeof i&&i()})}),!1},undo:function(){return TVE.UndoManager.undo(),!1},redo:function(){return TVE.UndoManager.redo(),!1},revisions:function(){e.open({top:"20%"})}})}(jQuery)},"element-icons.js":function(t,e,i){var n,s,a=i("./base"),o=i("../../../js/editor/src/util/selectors");function r(){return this.addClass("-v")}function l(){return this.removeClass("-v")}function c(t){return this.toggleClass("-v",t)}function d(t){return t.show=r,t.hide=l,t.toggle=c,t}n=jQuery,s=a.base_view.extend({events:function(){return _.extend({},TVE.Views.Base.base_view.prototype.events,{"mousedown *":n.noop})},is_active_element:!1,className:"tcb-action-icons",hide_remove_classes:".active_delete,.active_duplicate,.active_highlight,.on_hover",delete_remove_classes:".active_delete, .active_highlight, .active_duplicate, .edit_mode",for_edit:function(){return this.is_active_element},left_icons:function(){return this.for_edit()?{"look-outline":{name:"lock-outline",fn:"click_lock_unlock",selector:"lock",property:"lock"},"look-open-outline":{name:"lock-open-outline",fn:"click_lock_unlock",selector:"unlock",property:"unlock"}}:{}},right_icons:function(){var t={custom:{name:"custom",fn:"click_custom_action",selector:"custom_action",property:"custom_action"},save:{name:"save",fn:"click_save",selector:"save",property:"save"},copy:{name:"copy",fn:"click_duplicate",selector:"clone",property:"clone"},trash:{name:"trash",fn:"click_delete",selector:"delete",property:"delete"},expand:{name:"expand-regular",fn:"click_expand",selector:"expand",property:"expand",text:"Expand"},collapse:{name:"collapse-regular",fn:"click_collapse",selector:"collapse",property:"collapse",text:"Collapse"}};return this.for_edit()||(delete t.expand,delete t.collapse),t},template:TVE.tpl("element-icons"),initialize:function(t){t&&t.edit_icons&&(this.$el.attr("id","edit-icons"),this.is_active_element=!0),this.icons_left=this.left_icons(),this.icons_right=this.right_icons();var e=TVE.state_manager.is_jump()?{}:this.prepare_render();this.icons=TVE.state_manager.is_jump()?{}:Object.assign({},this.icons_left,this.icons_right),this.render(e),this.add_filters()},render:function(t){return this.$el.empty(),this.$el.html(this.template(t)),TVE.inner_$("#tcb-inner-actions").prepend(this.$el),this.after_render(),this},after_render:function(){var e=this;_.forEach(this.icons,function(t){e["$"+t.property]=d(e.$el.find(".tcb-"+t.name))}),this.$drag_handle=d(this.$(".tve-drag-handle")),this.$name=d(this.$("#tcb-el-name")),this.name_outer_with=0,this.$icons_right=this.$(".tcb-icons-right"),this.$icons_left=this.$(".tcb-icons-left")},add_filters:function(){TVE.add_action("tcb.element.focus",_.bind(this.after_element_focus,this)),TVE.add_action("tcb.state.change",this.onStateChange.bind(this))},after_element_focus:function(t){var e=TVE._type(t);this.$el.attr("class","".concat(this.className," tcb-icons-").concat(e))},get_left_icons:function(){var e=this,i=[];return _.forEach(this.icons_left,function(t){i.push({html:e.get_icon_html(t)})}),TVE.apply_filters("tcb.left_icons",i)},get_right_icons:function(){var e=this,i=[];return _.forEach(this.icons_right,function(t){i.push({html:e.get_icon_html(t)})}),TVE.apply_filters("tcb.right_icons",i,this)},prepare_render:function(){return{left_icons:this.get_left_icons(),right_icons:this.get_right_icons()}},get_icon_html:function(t){var e=TVE.icon(t.name,"svg","editor")+(t.text?t.text:"");return"<div class='no-blur -v click tcb-i tcb-"+t.name+"' data-fn='"+t.fn+"'>"+e+"</div>"},click_duplicate:function(t){if(!this.$target)return!1;TVE.Editor_Page.before_action().duplicate_element(this.$target).after_action()},click_delete:function(t){if(!this.$target)return!1;TVE.Editor_Page.editor.find(this.delete_remove_classes).removeClass(this.delete_remove_classes.replace(/,\./g," ").substring(1)),TVE.Editor_Page.before_action().remove_element(this.$target).after_action(),this.hide_icons()},click_save:function(){if(!this.$target)return!1;TVE.Editor_Page.save_element(this.$target)},click_lock_unlock:function(t){TVE.Components.group.controls.ButtonToggle.change(TVE.ActiveElement,{from_el_icons:!0})},click_expand:function(t){var e=TVE.apply_filters("tcb.show_icons.target.expand",this.$target);if(!e)return!1;e.tcbToggle("show"),TVE.Editor_Page.focus_element(e),TVE.state_manager.change("expanded",!0),TVE.main.states_dropdown.s="expanded"},click_collapse:function(t){var e=TVE.apply_filters("tcb.show_icons.target.expand",this.$target);if(!e)return!1;e.tcbToggle("hide"),TVE.Editor_Page.focus_element(e),TVE.state_manager.change("default",!0),TVE.main.states_dropdown.s="default"},click_custom_action:function(){TVE.do_action("tve.icons.custom_action.".concat(TVE._type(this.$target)),this.$target,!!this.is_active_element)},hide_icons:function(t){return void 0!==t?(Array.isArray(t)||(t=[t]),t.forEach(function(t){this["$"+t]&&this["$"+t].hide&&this["$"+t].hide()},this)):(this.$el[0].style.display="none",this.$target=null,TVE.inner_$(this.hide_remove_classes).removeClass(this.hide_remove_classes.replace(/,\./g," ").substring(1)),this.$el[0].className=this.className),this},show_icons:function(t){if(TVE.FLAGS.drag||!t||!t.length||t.is(".canvas-mode")||t.is(".tve_distraction_free .thrv_text_element.edit_mode"))return!1;t=TVE.apply_filters("tcb.show_icons.target",t);var e=this.getElementCoords(t);this.$el.css(e),!1===TVE.drag.handle_mouseover(t)?this.$drag_handle.hide():this.$drag_handle.show().data("el",t).toggleClass("tve-selected",this.is_active_element),t.addClass("on_hover"),this.$target=t,this.$el[0].style.display="block",this.hide_icons_elements(),this.for_edit()||(this.set_element_name(t),this.name_outer_with=this.$name.outerWidth(),this.smaller_widths(e)),this.$name.toggleClass("jump_target_name",t.hasClass("jump_target")),TVE.do_action("tcb.show_icons",t,this.$el,this)},smaller_widths:function(t){this.$name.toggleClass("tcb-strip-text",(t.width<200||t.width<3*this.name_outer_with)&&!TVE.state_manager.is_jump());var e=this.$(".tcb-i.-v").length;this.$el.css("min-width",TVE.apply_filters("tve.edit.icons.width.".concat(TVE._type(this.$target)),25*e-1)+"px");var i={float:""};this.$target&&parseInt(this.$target.css("width"))<25*e-1&&(i.float="left"),this.$icons_right.css(i)},set_element_name:function(t){return this.$name.html(TVE.get_element_name(t)),this},hide_icons_elements:function(){var i=this;if(!this.$target||!this.$target.length||"disabled"===TVE.Editor_Page.STATE||this.$target.is(".tve_grabbed"))return this.hide_right(),!1;this.$target.is(o.get("no_icons"))?(this.$target.addClass("active_highlight"),this.hide_right(),(this.$target.hasClass("tve_p_lb_control")||this.$target.hasClass("tve_p_lb_content"))&&this.$target.closest(".tve_p_lb_content").addClass("active_highlight")):_.forEach(this.icons,function(t){var e=i.$target.is(o.get("no_"+t.selector));i["$"+t.property][e?"hide":"show"](),e||TVE.apply_filters("tve.change.icon.".concat(t.property,".").concat(TVE._type(i.$target)),i["$".concat(t.property)],i.$target)}),this.$name.toggle(!this.$target.is(o.get("no_title")))},hide_right:function(){this.$clone.hide(),this.$delete.hide(),this.$expand&&(this.$collapse.hide(),this.$expand.hide()),this.$custom_action.hide(),this.$save&&this.$save.hide(),this.$drag_handle.hide()},show_icons_by_device:function(){var t="desktop"===TVE.main.device;return this.$icons_right.toggle(t),this.$icons_left.toggle(t),this},onStateChange:function(t){this.$icons_left.add(this.$icons_right).toggle("default"===t||"expanded"===t)},getElementCoords:function(t){var e=t.offset();return e.width=t.outerWidth(),(e=TVE.apply_filters("tve.element.icons.coords",e,t)).width+=2,e.left-=1,this.is_active_element&&(e=TVE.apply_filters("tcb.edit_icons.coords."+TVE._type(t),e,t)),e.top<24&&(e.top=23),e},reposition_icons:function(t){var e=this.getElementCoords(t);this.$target||(this.$target=t),this.$el.css(e),this.smaller_widths(e),TVE.do_action("tve.reposition.icons",t),TVE.do_action("tve.reposition.icons.".concat(TVE._type(t)),t)},toggle:function(t){var e=!(0<arguments.length&&void 0!==t)||t;this.$el.toggleClass("tcb-hide-all",!e)}}),e.exports=s},inline:{"column-options.js":function(t,e,i){var n=i("./inline-drop-panel");e.exports=n.extend({template:TVE.tpl("inline/column-options"),render_row:function(t,e){this.component.renderer.render_to(this.$element.removeClass("tcb-elem-placeholder"),!0,e.parentNode.getAttribute("data-cols"),this.$(e).index()),TVE.drag.refresh(),TVE.Editor_Page.blur(),this.hide(),TVE.Editor_Page.focus_element(this.$element.removeClass("edit_mode"))}})},"content-templates.js":function(t,e,i){var a,n=i("./inline-drop-panel");a=jQuery,e.exports=n.extend({template:TVE.tpl("inline/content-templates"),after_initialize:function(){this.$(".drop-panel").addClass("small-pad tcb-autocomplete"),this.autocomplete()},autocomplete:function(){var s=this;this.$input=this.$(".tcb-search").autocomplete({minLength:0,source:function(t,e){e(a.ui.autocomplete.filter(TVE.CONST.content_templates,t.term))},appendTo:this.$(".popup-content"),select:function(t,e){return TVE.drag.fetch({data:{key:e.item.id,usertpl:!0}},TVE.ActiveElement),TVE.Editor_Page.blur(),t.stopPropagation(),!1}}),this.$input.data("ui-autocomplete")._renderItem=function(t,e){t.addClass("tcb-suggest");var i=new RegExp(this.term,"i"),n=a("<li></li>").on("click",".item-delete",_.bind(s.delete_template,s)).data("item.autocomplete",e).append('<a href="#" class="tcb-truncate">'+e.label.replace(i,'<span class="highlight">'+this.term+"</span>")+"</a>").append(TVE.icon("trash","svg",null,"item-delete")).appendTo(t);return n.find(".item-delete").attr("title",TVE.t.delete),n},this.$input.data("ui-autocomplete")},onOpen:function(){this.$input.val("").focus().autocomplete("search")},delete_template:function(t){var e=this.$input.autocomplete("widget").addClass("force-display");if(!confirm(TVE.t.confirm_delete_tpl))return!1;var i=this,n=a(t.currentTarget),s=n.closest("li").data("item.autocomplete").id;return n.replaceWith('<img class="tcb-loading" src="'+TVE.url("editor/css/images/loader_transparent.gif")+'">'),TVE.ajax("delete_content_template","post",{key:s}).done(function(t){TVE.CONST.content_templates=t.list,TVE.page_message(t.message)}).always(function(){e.removeClass("force-display"),i.$input.focus().autocomplete("search")}),!1}})},"inline-drop-panel.js":function(t,e,i){var n,s=i("../controls/drop-panel");n=jQuery,e.exports=s.extend({append_element:function(t){this.setElement(n("<div>",{id:"tcb-drop-"+(this.$el.data("view")||this.key()),class:"tcb-drop-panel inline-panel",html:this._template(),"data-view":this.key()}).appendTo("#inline-drop-panels")[0]),t&&t.minWidth&&this.$el.css("min-width",t.minWidth+"px")},after_initialize:function(){this.__drop_panel_height=this.$(".drop-panel").outerHeight()},open:function(t,e){this.visible=!0;var i=TVE.$document.add(TVE.inner.$document);return i.on("keydown.drop_panel",_.bind(function(t){27===t.which&&(this.onCancel(),i.off("keydown.drop_panel"))},this)),this.$element=t,this.show(),this.$target=e.jquery?e:e=n(e),this.position(),this.onOpen(t,e),TVE.inner.$window.off("scroll."+this.key()).on("scroll."+this.key(),_.bind(this.on_window_scroll,this)),!1},hide:function(t,e){s.prototype.hide.call(this,t,e),TVE.inner.$window.off("scroll."+this.key())},onOpen:function(t,e){},cancel:function(){},on_window_scroll:function(){var t=this.offset.top-TVE.inner.$window.scrollTop();t=t<=this.base_offset.top?this.base_offset.top:t,this.$el.css({top:t+"px"})},position:function(){this.base_offset=TVE.main.$container.offset(),this.offset=this.$target.offset(),this.offset.left+=this.base_offset.left,this.offset.top+=this.base_offset.top+this.$target.outerHeight();var t=this.__drop_panel_height+this.$target.outerHeight()+45;this.offset.top+this.__drop_panel_height-TVE.inner.$window.scrollTop()>TVE.inner.$window.height()?(this.offset.top-=t,this.$element.hasClass("thrive_leads_shortcode")&&(this.offset.top-=t),this.$element.hasClass("thrive-quiz-builder-shortcode")&&(this.offset.top-=2*this.$target.outerHeight()+t),this.$(".tcb-panel-arrow").addClass("arrow-bottom")):(this.$(".tcb-panel-arrow").removeClass("arrow-bottom"),this.offset.top-=this.$target.outerHeight()),this.$el.css({left:this.offset.left+this.$target.outerWidth()/2-this.$el.outerWidth()/2+"px",top:this.offset.top-TVE.inner.$window.scrollTop()+"px"})}})}},"landing-page.js":function(t,e,i){e.exports={initialize:function(){var i=!1;TVE.add_action("tve.lazyload.done",function(t){t.lp_blocks&&Array.isArray(t.lp_blocks.tpls)&&t.lp_blocks.tpls.length&&(TVE.LpBlockModal.get_instance(TVE.modal.get_element("lp-blocks")),TVE.BlockBelow=new TVE.AddBlockBelowView,TVE.BlockAbove=new TVE.AddBlockAboveView({insertRule:"insertBefore"}),i=!0)}),TVE.add_action("tcb_after_element_drop",function(){i&&TVE.Editor_Page.editor.find(".tcb-add-block-placeholder").remove()}),TVE.add_action("tcb.element.remove",function(t,e){i&&0===TVE.Editor_Page.editor.find(TVE.Editor_Page.selection_manager.selectors.get("editable")).length&&(TVE.BlockBelow.hideControls(),TVE.BlockAbove.hideControls(),TVE.Editor_Page.editor.append(TVE.tpl("content-blocks/block-placeholder")()))})}}},"main.js":function(t,e,i){tcb_main_const.debug_mode&&jQuery.noConflict(),function(h){var u=null,p=null;i("../libs/spectrum"),_.templateSettings={evaluate:/<#([\s\S]+?)#>/g,interpolate:/<#=([\s\S]+?)#>/g,escape:/<#-([\s\S]+?)#>/g};var f=window.TVE=window.TVE||{};h.extend(f,{_:window._,CONST:tcb_main_const,t:tcb_main_const.i18n,$document:h(document),$body:h(document.body),$window:h(window),$:h,outer:{document:document,window:window,$window:h(window),$document:h(document)}}),f.CONST.display={},h.extend(f,i("../_utils.js")),f.setDefaultAjaxParams(h),f.$window.trigger("tcb.register-hooks"),h.extend(!0,f,i("./_includes")),(f=f.apply_filters("tcb.includes",f)).Landing_Page=i("./landing-page"),f.CONST.landing_page&&f.Landing_Page.initialize(),f.tooltips=i("../libs/tooltips"),f.FLAGS=f.FLAGS||{};var t=f.Views.Base.base_view.extend({device:"desktop",no_auto_collapse_components:["group","cloud_templates"],responsive:{desktop:{media:"(min-width: 300px)",rule_index:0},tablet:{media:"(max-width: 1023px)",rule_index:1},mobile:{media:"(max-width: 767px)",rule_index:2}},media_query_tpl:function(t){return void 0===t&&(t=this.device),this.responsive[t].media},media_rule_index:function(t){var e=0<arguments.length&&void 0!==t?t:this.device;return this.responsive[e].rule_index},getDeviceForMedia:function(i){var n=this.device;return h.each(this.responsive,function(t,e){if(e.media===i)return n=t,!1}),n},get_inherited_media:function(t){var e=[],i=this.media_rule_index(t);return 1<i&&e.push(this.media_query_tpl("tablet")),0<i&&e.push(this.media_query_tpl("desktop")),e},get_smaller_media:function(){var t=[],e=this.media_rule_index();return e<2&&t.push(this.media_query_tpl("mobile")),e<1&&t.push(this.media_query_tpl("tablet")),t},all_media:function(){var i=[];return h.each(this.responsive,function(t,e){i.push(e.media)}),i},events:function(){return _.extend({},f.Views.Base.base_view.prototype.events,{"click #tcb-frame-container":function(){f.Editor_Page.blur()}})},initialize:function(){this.$cpanel=this.$("#tve_cpanel"),this.$loader=this.$("#tve-page-loader"),this.$cpanel.find(".tve-element").attr("draggable","true"),this.$container=this.$("#tcb-frame-container"),this.$components=this.$cpanel.find("#tve-components"),this.$frame=this.$("iframe#tve-editor-frame"),this.$dropPanels=this.$("#tcb-drop-panels"),this.$dropPanelsRight=this.$("#tcb-right-drop-panels"),this.$ActiveElement=this.$(".tve-active-element"),this.$multiple_selection_menu=this.$("#multiple-select-elements"),this.$static_elements=this.$("#tve-static-elements"),this.custom_events(),f.frame_offset=this.$container.offset(),this.panel_offset(),this.states_dropdown=new(i("./controls/element-states"))({el:this.$ActiveElement.find(".element-states")[0]}),f.state_manager=new(i("../libs/state-manager"))(this.states_dropdown),this.sidebar_bottom=new(i("./sidebar-bottom"))({el:this.$("#sidebar-bottom")[0]}),this.sidebar_extra=new(i("./sidebar-right"))({el:this.$("#sidebar-right")[0]})},panel_offset:function(){return f.panel_offset=this.$cpanel.offset(),f.panel_offset},deselect_element:function(){f.ActiveElement?(f.Editor_Page.blur(),delete f.ActiveElement,delete f.ClickedElement):this.switch_menu_to("elements")},custom_events:function(){this.on("overlayevent",this.overlay),f.$document.on("tvd_after_auth",function(t,e){f.CONST.nonce=e.tcb_nonce,f.CONST.rest_nonce=e.rest_nonce,f.login_callback&&(f.login_callback.fn.apply(f.login_callback.scope),delete f.login_callback),f.main.trigger("tcb_auth_login",e)}),this.on("device_change",function(t){var e=f.ActiveElement&&f.Elements[f._type(f.ActiveElement)].hover;"desktop"===t.device&&e?f.main.states_dropdown.enable().hide_dropdown():f.main.states_dropdown.disable(),this.change_element_text(t.device)}),this.on("before_device_change",function(){f.Views.Controls.DropPanel.close_all()})},change_element_text:function(t){if(void 0!==t){var e=jQuery('.tve-control[data-view="MediumWrap"]');switch(t){case"tablet":void 0!==e&&e.find("span").text(f.t.WrapColumnsOnTablet);break;case"mobile":void 0!==e&&e.find("span").text(f.t.WrapColumnsOnMobile)}}},active_elem_nav_view:null,active_element_navigation:function(){if(!this.active_elem_nav_view){var t=i("./components/sel-elem-nav");this.active_elem_nav_view=new t({el:this.$("#tcb-top-nav-list")[0]})}this.active_elem_nav_view.reset_breadcrumbs()},postOptionsClicked:function(t,e){f.Editor_Page.focus_element(f.inner_$(e.getAttribute("data-selector").replace(/\\/g,""))),e.classList.add("tcb-breadcrumb-active"),t.stopPropagation()},postOptionsBlur:function(){this.$("#tcb-post-option-breadcrumb").removeClass("tcb-breadcrumb-active")},set_navigation_root:function(t){if(!this.active_elem_nav_view)return this;this.active_elem_nav_view.push_root_element(t)},remove_navigation_root:function(t){this.active_elem_nav_view.pop_root_element(t)},toggle_navigation:function(t){this.active_elem_nav_view&&(t=void 0===t||t,this.active_elem_nav_view.$el.toggleClass("tcb-nav-hide",t))},editor_loaded:function(){if(this.overlay(!0),!f.is_loaded){this.EditMode=new(i("./edit-mode"))({el:h("#tcb-edit-mode-button")[0]}),f.is_loaded=!0,this.undo_manager_init(),this.menu_init(),this.$frame.contents().on("click","a",function(){if(!h(this).parents(".media-modal").length)return!1}),this.$frame.contents().find(".postform").attr("disabled","disabled"),this.editor_settings=new(i("./editor-settings"))({el:this.$("#tcb-editor-settings")[0]}),f.main.off("after_undo_redo").on("after_undo_redo",function(){if(f.ActiveElement&&f.inner.document.contains(f.ActiveElement[0])){var t=f.SkipUpdate;f.SkipUpdate=!1,f.main.update_components(),f.SkipUpdate=t}else f.main.switch_menu_to("elements")});var t=f.apply_filters("tcb.lazyload.data",{post_id:f.CONST.post_id});f.ajax("lazy_load","post",t).success(function(e){delete e.success,["lp_templates","saved_lp_templates","cloud_lp_templates","lp_blocks","symbols","content_templates"].forEach(function(t){void 0!==e[t]&&(f.CONST[t]=e[t])}),f.do_action("tve.lazyload.done",e)})}},overlay:function(t){return t?(f.KEEP_OVERLAY||this.$loader.removeClass("tve-open"),delete f.KEEP_OVERLAY):this.$loader.addClass("tve-open"),this},static_element:function(t){return this.$static_elements.children("[data-elem='"+t+"']")},undo_manager_init:function(){var t=i("../libs/undo-manager");f.UndoManager=new t(10,this.$("#tcb-undo , #tcb-undo-sim "),this.$("#tcb-redo, #tcb-redo-sim")),f.UndoManager.setCallback(function(t){!f.CONST.debug_mode&&void 0!==t&&t.length?window.onbeforeunload=function(){return f.t.LeavePageUnsavedChanges}:window.onbeforeunload=null}),f.SKIP_CSS_STATE=!1},close_notification_box:function(){h("#tve_notification_box").animate({top:-1200},700)},notification_box_show_more:function(){var t=h("#tve_notification_box"),e=t.find(".tcb-notification-error-response"),i=t.find(".tve_error_show_more"),n=t.find(".tve_error_show_less");e.toggleClass("tcb-hidden"),i.toggleClass("tcb-hidden"),n.toggleClass("tcb-hidden")},menu_init:function(){f.Elements=tcb_main_const.elements,f.Components={},this.hide_components(),this.init_dynamic_components(),h.each(f.Elements,function(s,t){t.is_placeholder?f.Components[s]=new(void 0===f.Views.Components[s]?f.Views.Base.component:f.Views.Components[s])({config:{},options:{}}):(t.inherit_from&&_.extend(t.components,f.Elements[t.inherit_from].components),h.each(t.components,function(t,e){if(void 0===f.Components[t]){var i=h("#tve-"+t+"-component"),n=i.data("view");if(void 0===n)f.Components[t]=new f.Views.Base.component({el:i[0],key:t,config:{}});else{if("function"!=typeof f.Views.Components[n])return console.warn&&console.warn("ERR: cannot instantiate component: "+n+" for element: "+s),!0;f.Components[t]=new f.Views.Components[n]({el:i[0],config:e.config,options:tcb_main_const.options[t]||{},renderer:f.renderers[t]||null,key:t})}if(!f.Components[t].key)throw new Error("Component "+t+" did not set key")}}))}),this.$scrollbar=this.$("#tve-scroll-panel").scrollbar(),this.$scrollbar.__height=this.$scrollbar.height(),this.switch_menu_to("elements"),f.$(".tve-style-options").scrollbar({disableBodyScroll:!0})},scroll_panel_to:function(t,e){void 0===e&&(e="fast");var i=t.offset().top,n=t.outerHeight(),s=i+n-f.main.$scrollbar.outerHeight(),a=f.main.$scrollbar.scrollTop(),o=f.main.$(".tve-active-element").outerHeight();n&&o<s&&(null!==e?f.main.$scrollbar.animate({scrollTop:a+s-o},e):f.main.$scrollbar.scrollTop(a+s-o))},menu_reinit:function(){this.clear_focus(),h.each(f.Components,function(t,e){void 0!==f.Elements.general.components[t]&&f.Elements.general.components[t].options&&(e.options=f.Elements.general.components[t].options,e.reinit())})},__execute_menu_switch:_.debounce(function(t,e){"elements"===t&&this.EditMode.in_edit()&&(t=this.EditMode.get_default_sidebar_params()[0],e=this.EditMode.get_default_sidebar_params()[1]);var i=Array.prototype.join.call(arguments,",");if(this.__current_menu!==i){this.__current_menu=i,this.$(".sidebar-block").hide(),this.$cpanel.toggleClass("panel-default","elements"===t);var n=null;switch(t){case"multiple_select_elements":n="Multiple-Selected Mode",this.$multiple_selection_menu.show();break;case"migrate_element":n="Migrate Element",this.$("#migrate-element").show();break;case"components":n=-1,this.$components.show();break;case"custom":n=this.$("#sidebar-"+e).show().attr("data-title");break;case"elements":this.$(".default-visible").show()}-1!==n&&this.set_panel_title(n),f.do_action("tcb.switch_menu",t)}},5),switch_menu_to:function(t,e){if(!0!==f.FLAGS.disable_menu_switch)return!!f.prevent_blur||void this.__execute_menu_switch(t,e)},components_menu:function(){return this.switch_menu_to("components"),!1},hide_components:function(){this.$components.find(".tve-component").each(function(t,e){return e.style.display="none"}),_.each(f.Components,function(t){t.toggleHighlight(),delete t._visible})},collapse_components:function(i){i=i||[],_.each(f.Components,function(t,e){_.contains(i,e)||t.$el.find(".dropdown-header").removeClass("open")}),_.each(f.CONST.display,function(t,e){_.contains(i,e)||(t.docked=!1)}),f.Views.Controls.DropPanel.close_all()},close_select2:function(){this.$(".tcb-select-multiple").select2("close")},clear_focus:function(){f.state_manager.is_default()&&(this.postOptionsBlur(),f.Views.Controls.DropPanel.close_all(),this.$(".tve-panel").removeClass("drop-panel-open"),this.switch_menu_to("elements"),this.$(".color-picker").spectrum("blurApply"),clearTimeout(p),p=setTimeout(function(){delete f.ActiveElement,delete f.ClickedElement}),h.each(f.Components,function(t,e){e.reset()}),f.state(f.STATE_DEFAULT),this.trigger("clear_focus"))},enable_element_state_dropdown:function(t,e){var i=f.Elements[e].active;return!(_.isString(i)&&-1<i.indexOf(".")&&t.is(i))},set_element_name_suffix:function(t,e){var i=f.Elements[e].active;return _.isString(i)&&-1<i.indexOf(".")&&t.is(i)?":ACTIVE":null},set_panel_title:function(t,e){return t=t||this.$ActiveElement.data("default"),this.$ActiveElement.toggleClass("no-states",!e).find(".element-name").html(t),this},set_element_name:function(t,e){f.ActiveElement&&(t=t||f.get_element_name(f.ActiveElement),void 0!==e&&e&&(t+=e),this.$ActiveElement.find(".element-name").html(t))},element_selected:function(t,e,i){if(clearTimeout(p),f.state_manager.allowSelection(t)){var n=f._type(t),s=this,a=t.hasClass("tcb-elem-placeholder");if(!f.apply_filters("tcb.elem.selected.undefined_type",n,!1)){if(f.ActiveElement=f.ClickedElement=f.apply_filters("tcb.element_selected",t,n),t.hasClass("tcb-ct-placeholder"))return f.modal_open(f.Components[n]&&f.Components[n].templatesModal||"cloud-templates",{element:t,modal_element_id:"cloud-templates"}),!0;if(void 0===i&&(i=!0),this.$el.attr("data-element",n),f.UndoManager.temp.delete(),t.is(f.state_manager.get_parent())||(this.set_element_name(f.get_element_name(t),this.set_element_name_suffix(t,n)),this.enable_element_state_dropdown(t,n)&&f.Elements[n].hover&&"desktop"===this.device?this.states_dropdown.enable().hide_dropdown():this.states_dropdown.disable()),f.state_manager.set_element(t),f.Elements[n].hover&&e&&e.is_mouse&&(f.FLAGS.hover_element=!0),f.state(f.STATE_EDIT),i&&setTimeout(function(){return f.ElementEditIcons.show_icons(f.ActiveElement&&f.ActiveElement.filter(".edit_mode"))}),f.Components[n]){if(a&&f.Components[n].placeholder_action)return e&&e.preventDefault(),f.Elements[n].is_placeholder||f.Components[n].setConfig(f.Elements[n].components[n].config,!0),clearTimeout(u),u=setTimeout(function(){f.Components[n].placeholder_action(t)},200),f.do_action("tcb.placeholder.selected",t),!0;if(f.Components[n].needs_update(t))return this.component_migration=f.Components[n],void this.switch_menu_to("migrate_element")}this.hide_components(),this.trigger("element_selected",f.ActiveElement,n);var o=!0;f.clearUpdateTimeout();var r=[];if(h.each(f.Elements[n].components,function(t,e){if(!f.apply_filters("tcb.components.hide",e.hidden||_.contains(s.no_auto_collapse_components,t),t,n)){r.push(f.Components[t].open(e,n));var i=f.CONST.display[t];i&&i.docked&&(o=!1)}}),o){var l=n;f.Elements[n].inherit_from&&(l=f.Elements[n].inherit_from),-1<l.indexOf("label")&&f.Elements[n].components.text?l="text":"post_read_more"===l&&(l="button"),l=f.apply_filters("tcb.components.expanded_key",l,n),f.Components[l]&&r.push(f.Components[l].toggleDropdown("docked",!0))}if(t.hasClass("tcb-group-editing")||t.parents(".tcb-group-editing").length){var c=f._type(t.closest(".tcb-group-editing")),d=f.Elements[c].components.group;d.order=0,r.push(f.Components.group.open(d,n,{docked:!0}))}f.Components[n]&&!f.Components[n].hideCloudTemplatesComponent&&t.attr("data-ct")&&(f.Components.cloud_templates.open({order:0,config:f.Components.cloud_templates.config||{}},n),r.push(f.Components.cloud_templates.toggleDropdown("docked",!0))),this.switch_menu_to("components"),f.ClickedElement.not(".tve-froala:not(a)").filter(".edit_mode").one("mouseleave",function(){setTimeout(function(){f.ActiveElement&&(f.FLAGS.hover_element=!1,s.update_components())})}),this.active_element_navigation(),f.do_action("tcb.element.selected",f.ActiveElement,n),f.do_action("tcb.element.selected.".concat(n),f.ActiveElement),Promise.all(r).then(function(){return f.ActiveElement.trigger("element.selected")})}}},migrate_element:function(){if(!this.component_migration)return!1;f.Editor_Page.before_action(),this.component_migration.migrate_element(f.ActiveElement),f.Editor_Page.after_action(),f.Editor_Page.focus_element(f.ActiveElement.removeClass("edit_mode"))},exit_multiple_selected_mode:function(){f.drag.clear_selection(),f.drag.keyup(),f.main.switch_menu_to("elements")},update_components:function(t){if(!f.ActiveElement||f.SkipUpdate||!f.inner.document.contains(f.ActiveElement[0]))return f.SkipUpdate=!1,this;var e=f._type(f.ActiveElement),i=this;return void 0!==t&&t.length?_.each(t,function(t){f.Components[t]&&f.Components[t].isOpen()&&f.Components[t].update()}):(h.each(f.Elements[e].components,function(t,e){e.hidden||_.contains(i.no_auto_collapse_components,t)||!f.Components[t].isOpen()||f.Components[t].update()}),this.trigger("tve_all_components_updated"),f.Editor_Page.reposition_icons()),this},enable_components:function(){h.each(f.Components,function(t){f.Components[t].enable()})},hide_side_panel:function(){this.$el.addClass("panel-hidden")},show_side_panel:function(){this.$el.removeClass("panel-hidden")},togglePanel:function(t){this.$el.toggleClass("editor-collapsed");var e=this.$el.hasClass("editor-collapsed")?"collapsed":"expanded";return e&&this.sidebar_extra.hide_drawers(),t.currentTarget.setAttribute("title",t.currentTarget.getAttribute("data-title-"+e)),f.ActiveElement&&setTimeout(function(){f.state_manager.is_hover()?f.ActiveElement.tve_overlay():f.Editor_Page.reposition_icons()},100),f.main.EditMode.in_edit()&&setTimeout(function(){f.main.EditMode.refresh()},100),!1},sidebar_toggle_elements:function(t,e){return this.sidebar_extra.elements.toggle_elements(t,e),this},follow:function(t,e){var i=e.getAttribute("data-device"),n=e.getAttribute("data-func");return i?this.$cpanel.find("[data-fn = "+n+"][data-device = "+i+"]").click():this.$cpanel.find("[data-fn = "+n+"]").click()},init_dynamic_components:function(){this.$(".dynamic-component").each(function(){f.Components[this.dataset.key]=new f.Views.Components[this.dataset.view]({el:this,key:this.dataset.key,config:{}})})}});h(function(){f.main=window.TCB_Main=new t({el:document.body}),f.main.overlay.close=function(){return f.main.overlay("close")},f.browser(),window.TCB_READY=!0,h(window).trigger("tcb_main_ready"),f.main.$frame.attr("src",f.main.$frame.attr("data-src")),f.tooltips()})}(jQuery)},modals:{"_open.js":function(t,e,i){var n={base:i("./base").base,"options-post-types":i("./options-post-types"),"page-events":i("./page-events"),"cloud-templates":i("./cloud-templates"),symbols:i("./symbols"),sections:i("./sections"),"ct-symbols":i("./ct-symbols/ct-symbols"),"widget-settings":i("./widget-settings"),"save-elements":i("./save-elements"),"save-template":i("./save-template"),"lp-save-template":i("./lp-save-template"),"lp-export":i("./lp-export"),"content-blocks":i("./content-blocks"),menu:i("./menu")};e.exports=function(t,e){if(!n[t])throw new Error("Modal: "+t+" not found");if(!n[t].$$instance){var i=e&&e.modal_element_id||"string"==typeof e&&e||t;n[t].$$instance=new n[t]({el:TVE.modal.get_element(i)})}return n[t].$$instance.open("object"===_typeof(e)?e:{}),n[t].$$instance}},"base.js":function(t,e,i){var n=i("../base"),s=n.base_view.extend({options:{opacity:.8,dismissible:!0},close_options:{},events:function(){return _.extend({},n.base_view.prototype.events,{"click .tcb-modal-cancel":"close","click .tcb-modal-close":"close","click .tcb-modal-save":"save","click .tcb-modal-back":"backClicked","keyup input":"handle_keyup"})},has_fixed_footer:function(){return!1},render:function(){},open:function(t){this.instanceProps=t&&t.props||{},"function"==typeof this.before_open&&this.before_open.call(this,t);var e="function"==typeof this.options?this.options():this.options,i=_.extend({},e,t),n=i.ready||null,s=this;i.css&&this.$el.css(i.css),this.has_fixed_footer()&&this.$el.addClass("tcb-fixed-footer"),i.ready=function(){"function"==typeof s.after_open&&s.after_open.call(s,this),n&&n.call(this)},i.complete&&(this.close_options.complete=i.complete),jQuery(".tvd-lean-overlay").remove(),!1===i.dismissible?this.$el.find(".tcb-modal-close").hide():this.$el.find(".tcb-modal-close").show(),this.$el.openModal(i),this.$("input:not([type=hidden]):not([type=radio]):not([type=checkbox]),textarea").filter(":visible").first().focus()},close:function(t){return t&&t.preventDefault(),"function"==typeof this.before_close&&this.before_close.call(this,t),this.$el.closeModal(this.close_options),!1},save:function(t){return"function"==typeof this.before_save&&this.before_save.call(this,t),this.close(),t.preventDefault(),!1},handle_keyup:function(t){13===t.which&&this.save(t)}}),a=n.base_view.extend({className:"tve-modal-step",input_error_class:"tcb-invalid",initialize:function(t){void 0!==t&&t.model instanceof Backbone.Model&&this.listenTo(this.model,"invalid",this.on_invalid),n.base_view.prototype.initialize.apply(this,arguments)},on_invalid:function(t,e){var i=TVE.tpl("contact-form/error");for(var n in e)if(e.hasOwnProperty(n)){var s=this.$('input[name="'+n+'"], textarea[name="'+n+'"], select[name="'+n+'"] ');if(!s.hasClass(this.input_error_class)){s.addClass(this.input_error_class);var a=jQuery(i({error:e[n]}));s.after(a),a.fadeIn()}}},get_title:function(){throw new Error("get_title() has to be implemented")},input:function(t,e){var i=jQuery(e),n="validate_"+e.getAttribute("name"),s={};i.hasClass(this.input_error_class)&&this.has_model()&&"function"==typeof this.model[n]&&(this.model[n](e.value,s),0===Object.keys(s).length&&(i.removeClass(this.input_error_class),i.next().is(".tcb-error")&&i.next().fadeOut(200,function(){this.remove()})))},has_model:function(){return void 0!==this.model&&this.model instanceof Backbone.Model},change:function(t,e){if(this.model instanceof Backbone.Model){var i=e.getAttribute("name"),n=e.type;"text"===n||"textarea"===n||"select-one"===n?this.model.set(i,e.value):"checkbox"===n&&this.model.set(i,e.checked)}},is_valid:function(){var t=!0;return this.has_model()&&(t=this.model.isValid()),t}}),o=n.base_view.extend({tagName:"ul",className:"modal-steps-list",active_class:"tve-active",initialize:function(){this.listenTo(this.collection,"add",this.render_item)},render_item:function(t,e){var i=TVE.tpl("breadcrumbs/item");this.$el.append(i({index:e.indexOf(t),item:t}))},set_active:function(t){t=parseInt(t)+1,this.$("li").removeClass(this.active_class),this.$("li:nth-child("+t+")").addClass(this.active_class)},push_item:function(t){if("string"==typeof t&&(t={title:t}),void 0===t||t instanceof Array||void 0===t.title)throw new Error("Invalid item to be added into breadcrumbs");this.collection.add(new Backbone.Model(t))},click:function(t,e){var i=parseInt(e.dataset.index);this.parent.go_to_step(i)}}),r=s.extend({className:"tcb-modal",step_instances:[],current_step:0,breadcrumbs_view:null,events:function(){return _.extend({},s.prototype.events(),{"click .tcb-modal-back":"prev_step","click .tcb-modal-next":"next_step"})},initialize:function(t){if(void 0===t.steps||!(t.steps instanceof Array)||t.steps.length<=0)throw new Error("Multi-step modal should have steps");this.step_instances=t.steps,this.breadcrumbs_view=new o({collection:new Backbone.Collection}),this.breadcrumbs_view.parent=this,s.prototype.initialize.apply(this,arguments),this.options.complete=_.bind(this.complete,this)},complete:function(){this.remove()},has_fixed_footer:function(){return!0},render:function(){this.$el.html(this.template()),jQuery(".tcb-modals").first().append(this.$el),_.each(this.step_instances,function(t,e){t.$el.attr("data-index",e).hide(),this.get_steps_wrapper().append(t.$el),this.breadcrumbs_view.push_item(t.get_title())},this),this.get_steps_wrapper().before(this.breadcrumbs_view.$el),this.go_to_step(0)},go_to_step:function(t){if((t=parseInt(t))>this.step_instances.length||t<0||void 0===this.step_instances[t])throw new Error("Cannot go to invalid step: "+t);t>this.current_step&&!this.step_instances[this.current_step].is_valid()||(this.get_all_steps().hide(),this.current_step=t,this.breadcrumbs_view.set_active(this.current_step),this.get_step(t).show(),this.step_instances[t].trigger("tcb_step_active",this),this.update_footer())},update_footer:function(){var t=this.get_footer().find("button.tcb-left"),e=this.get_footer().find("button.tcb-right");0===this.current_step?(t.text("Cancel"),t.addClass("tcb-modal-cancel").removeClass("tcb-modal-back")):0<this.current_step&&(t.text("Back"),t.removeClass("tcb-modal-cancel").addClass("tcb-modal-back")),this.current_step<this.step_instances.length-1?e.text("Next").removeClass("tcb-modal-save").addClass("tcb-modal-next"):this.current_step===this.step_instances.length-1&&e.text("Save").removeClass("tcb-modal-next").addClass("tcb-modal-save")},next_step:function(){this.go_to_step(this.current_step+1)},prev_step:function(){this.go_to_step(this.current_step-1)},get_steps_wrapper:function(){return this.$(".tcb-modal-steps")},get_footer:function(){return this.$(".tcb-modal-footer")},get_all_steps:function(){return this.get_steps_wrapper().children()},get_step:function(t){return t=parseInt(t),t++,this.get_steps_wrapper().children(":nth-child("+t+")")},save:function(){this.step_instances[this.current_step].is_valid()&&s.prototype.save.apply(this,arguments)}}),l=s.extend({initialize:function(){s.prototype.initialize.apply(this,arguments),this.$$before_open=this.before_open||jQuery.noop,this.before_open=this.maybe_fetch_data,this.$status=this.$(".tpl-ajax-status"),this.$status.length||(this.$status=jQuery('<div class="status tpl-ajax-status">'+TVE.t.FetchingData+"</div>").hide().appendTo(this.$el),this.$error=jQuery('<div class="error-container"></div>').insertAfter(this.$(".tcb-modal-title")))},beforeShow:function(t){},should_fetch_data:function(){return void 0===this.$$stored_data},maybe_fetch_data:function(t){if(this.beforeShow(t),!this.should_fetch_data())return this.$$before_open(t);this.$status.show(),this.$error.hide();var e=this.fetch_data();if(!e.done||!e.fail)throw new Error("fetch_data should return a jquery promise");e.done(this.bind(this.on_success,t)).fail(this.bind(this.on_error)).always(this.bind(this.on_finished))},get_ajax_params:function(){throw new Error('Implement "get_ajax_params" function in modal with cached data')},fetch_data:function(){var t=this.get_ajax_params();return delete t.error,jQuery.ajax(t)},process_data:function(t){return t},on_success:function(t,e){var i=this.process_data(e);if(void 0===i)throw new Error("process_data should not return undefined");this.$$stored_data=i,this.$$before_open(t)},on_error:function(t,e,i){this.$status.hide();var n=TVE.getDetailedErrorMessage(t,e,i,!0);this.$error.fadeIn(200).html(TVE.tpl("inline-error")({error_message:this.decorate_error_message(n),hide_extra:!0}))},on_finished:function(){this.$status.hide()},decorate_error_message:function(t){return t}});e.exports={base:s,with_cached_data:l,multi_step:r,step_view:a,get_element:function(t){return document.getElementById("tcb-modal-"+t.replace(/_/g,"-"))}}},"cf-error-messages.js":function(t,e,i){var n=i("./base"),s=null;e.exports=n.base.extend({is_valid:!0,invalid_inputs:[],has_fixed_footer:function(){return!0},render_errors:function(){this._get_fields_container().empty(),_.each(this.model.attributes,function(t,e,i){this.render_error({key:e,value:t,label:TVE.t.cf_errors[e].label})},this)},restore_defaults:function(){_.each({email:TVE.t.cf_errors.email,phone:TVE.t.cf_errors.phone,url:TVE.t.cf_errors.url,required:TVE.t.cf_errors.required},function(t,e,i){this._set(e,t.text)},this),this.render_errors()},change:function(t,e){var i=e.value,n=e.getAttribute("data-key");this._set(n,i)},input:function(t,e){if(e.classList.contains("tcb-invalid")){e.classList.remove("tcb-invalid");var i=jQuery(e).next().removeClass("tcb-invalid");i.text(i.data("label"))}},_set:function(t,e){return this.model.set(t,e),!0},_get_fields_container:function(){return this.$container||(this.container=this.$(".tcb-fields-error").first()),this.container},render_error:function(t){var e=TVE.tpl("lead-generation/errors/item");t=t||{},t=_.extend({key:"key",label:"label",value:"value"},t),this._get_fields_container().append('<div class="half-width">'+e({item:t})+"</div>")},save:function(t){if("function"==typeof this.before_save&&this.before_save.call(this,t),!1!==this.is_valid)return this.close(),this.undelegateEvents(),t.preventDefault(),!1;for(var e in this.invalid_inputs){var i=this.$('input[name="'+this.invalid_inputs[e]+'"]').addClass("tcb-invalid").next("label");i.addClass("tcb-invalid").attr("data-label",i.text().trim()).html(TVE.ucFirst(this.invalid_inputs[e]+" error is required"))}return!1}},{get_instance:function(t,e){return s=s||new TVE.CFErrorMessages({el:t,model:e||new Backbone.Model})}})},"cf-settings.js":function(t,e,i){function s(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())}function n(t){var e=t.split(","),n=!1;return 1===(e=e.map(function(t){return t.trim()})).length?s(t):(_.each(e,function(t,e,i){!1!==n||s(t)||(n=!0)},this),!1===n)}function a(t,e){var i=t.value,n=t.selectionStart,s=t.selectionEnd;t.value=i.slice(0,n)+e+i.slice(s),t.selectionStart=t.selectionEnd=n+e.length,jQuery(t).trigger("change")}var o,r,l,c,d,h,u,p;jQuery,o=i("./base"),r=i("./../../models/step-model"),l=i("./../controls/link"),c=o.step_view.extend({template:TVE.tpl("contact-form/email-setup-form"),shortcodes:[],initialize:function(t){t.shortcodes&&(this.shortcodes=t.shortcodes),o.step_view.prototype.initialize.apply(this,arguments)},get_title:function(){return"Set email details"},add_more_recipients:function(t,e){this.$("#tcb-recipients").show(),this.$(e).hide()},render:function(){this.$el.html(this.template({model:this.model}));var n=this.$(".tcb-shortcodes"),s=TVE.tpl("contact-form/shortcode-button");_.each(this.shortcodes,function(t,e,i){n.append(s({shortcode:t}))}),(this.model.get("cc")||this.model.get("bcc"))&&this.$("#tcb-add-more-recipients").click()},insert_shortcode:function(t,e){return"subject"!==document.activeElement.getAttribute("name")&&this.$('input[name="subject"]').focus(),a(this.$('input[name="subject"]')[0],e.innerText.replace("+","")),!1}}),d=r.extend({defaults:{to:"to@to.com",subject:"subject"},errors:{to:{empty:TVE.t.cf_errors.to.empty,invalid:TVE.t.cf_errors.to.invalid},subject:{empty:TVE.t.cf_errors.subject.empty},cc:{invalid:TVE.t.cf_errors.cc.invalid},bcc:{invalid:TVE.t.cf_errors.bcc.invalid}},validate_subject:function(t,e){0===t.length&&(e.subject=this.errors.subject.empty)},validate_to:function(t,e){return 0===t.length?e.to=this.errors.to.empty:n(t)||(e.to=this.errors.to.invalid),e},validate_cc:function(t,e){0<t.length&&!n(t)&&(e.cc=this.errors.cc.invalid)},validate_bcc:function(t,e){0<t.length&&!n(t)&&(e.bcc=this.errors.bcc.invalid)}}),h=o.step_view.extend({template:TVE.tpl("contact-form/submit-setup-form"),shortcodes:["[wp_site_title]"],selected_class:"tcb-selected",events:function(){return _.extend({'input input[name="from_email"]':function(t){this.$('select[name="reply_to"] option:nth-child(1)').text(t.target.value).attr("value",t.target.value),0===this.$('select[name="reply_to"]')[0].selectedIndex&&this.model.set("reply_to",t.target.value)},"click .tcb-cf-submit-action":this.toggle_action},o.step_view.prototype.events)},initialize:function(t){t.shortcodes&&(this.shortcodes=_.union(this.shortcodes,t.shortcodes)),o.step_view.prototype.initialize.apply(this,arguments),this.on("tcb_step_active",function(t){var e=t.step_instances[0].model.get("to").split(",");this.populate_reply_to(e)}),this.listenTo(this.model,"change:send_confirmation_email",this.toggle_confirmation_email),this.listenTo(this.model,"change:sender_personalized",this.toggle_sender_details)},populate_reply_to:function(t){var i=this.$('select[name="reply_to"]');_.each(t,function(t,e){0===this.$('select[name="reply_to"] option[value="'+t.trim()+'"]').length&&i.append('<option value="'+t.trim()+'">'+t.trim()+"</option>")},this)},render:function(){this.$el.html(this.template({model:this.model}));var n=this.$(".tcb-shortcodes"),s=TVE.tpl("contact-form/shortcode-button");_.each(this.shortcodes,function(t,e,i){n.append(s({shortcode:t}))}),this.$('input[name="send_confirmation_email"]').prop("checked",this.model.get("send_confirmation_email")),this.$('input[name="sender_personalized"]').prop("checked",this.model.get("sender_personalized")),this.$("select").append('<option value="'+this.model.get("reply_to")+'">'+this.model.get("reply_to")+"</option>"),this.$('.tcb-cf-submit-action[data-action="'+this.model.get("action")+'"]').addClass(this.selected_class),this.toggle_action_form(this.model.get("action")),this.toggle_confirmation_email(),this.toggle_sender_details(),this.bind_link_search()},get_title:function(){return TVE.t.cf_defaults.submit_title},insert_shortcode:function(t,e){return"subject"!==document.activeElement.getAttribute("name")&&this.$('textarea[name="confirmation_message"]').focus(),a(this.$('textarea[name="confirmation_message"]')[0],e.innerText.replace("+","")),!1},bind_link_search:function(){this.buttonLink=new l({el:this.$("#tcb-cf-url")[0],attr_name:"url",hide_preview:!0}),this.buttonLink.on("linkchange",_.bind(function(t){this.model.set("url",t),t.length&&(this.buttonLink.$autocomplete.removeClass("tcb-invalid"),this.buttonLink.$el.find(".tcb-error").remove())},this)),this.buttonLink.set_link(this.model.get("url"))},toggle_confirmation_email:function(){this.$("#tcb-confirmation-message-wrapper").toggle(this.model.get("send_confirmation_email"))},toggle_sender_details:function(){this.$("#tcb-sender-details-wrapper").toggle(this.model.get("sender_personalized"))},toggle_action:function(t){if(!t.currentTarget.classList.contains(this.selected_class)){var e=t.currentTarget.dataset.action;this.$(".tcb-cf-submit-action").removeClass(this.selected_class),this.model.set("action",e),t.currentTarget.classList.add(this.selected_class),this.toggle_action_form(e)}},toggle_action_form:function(t){this.$(".tcb-action-form").hide(),this.$(".tcb-action-form#tcb-action-"+t).show()}}),u=r.extend({defaults:{action:"reload",send_confirmation_email:!1,sender_personalized:!1,confirmation_subject:TVE.t.cf_defaults.confirmation_subject,confirmation_message:"some confirmation message",from_name:"site title",from_email:"from@email.com",reply_to:"reply@to.com",url:"",notification:"notification text"},errors:{action:{empty:TVE.t.cf_errors.action.empty},confirmation_message:{empty:TVE.t.cf_errors.confirmation_message.empty},confirmation_subject:{empty:TVE.t.cf_errors.confirmation_subject.empty},from_name:{empty:TVE.t.cf_errors.from_name.empty},from_email:{empty:TVE.t.cf_errors.from_email.empty,invalid:TVE.t.cf_errors.from_email.invalid},reply_to:{invalid:TVE.t.cf_errors.reply_to.invalid},url:{empty:TVE.t.cf_errors.url.empty,invalid:TVE.t.cf_errors.url.invalid},notification:{empty:TVE.t.cf_errors.notification.empty}},validate_action:function(t,e){0===t.length&&(e.action=this.errors.action.empty)},validate_confirmation_message:function(t,e){!0===this.get("send_confirmation_email")&&0===t.length&&(e.confirmation_message=this.errors.confirmation_message.empty)},validate_confirmation_subject:function(t,e){!0===this.get("send_confirmation_email")&&0===t.length&&(e.confirmation_subject=this.errors.confirmation_subject.empty)},validate_from_name:function(t,e){!0===this.get("sender_personalized")&&0===t.length&&(e.from_name=this.errors.from_name.empty)},validate_from_email:function(t,e){!1!==this.get("sender_personalized")&&(0===t.length?e.from_email=this.errors.from_email.empty:s(t)||(e.from_email=this.errors.from_email.invalid))},validate_reply_to:function(t,e){this.get("sender_personalized")&&!s(t)&&(e.reply_to=this.errors.reply_to.invalid)},validate_url:function(t,e){if("redirect"===this.get("action"))return t.length<=0?e.url=this.errors.url.empty:void(function(t){return/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/.test(t=t||"")}(t)||(e.url=this.errors.url.invalid))},validate_notification:function(t,e){"notification"===this.get("action")&&t.length<=0&&(e.notification=this.errors.notification.empty)}}),p=o.multi_step.extend({template:TVE.tpl("modals/cf-settings"),id:"tcb-modal-contact-form",initialize:function(t){(t=t||{}).steps=[new c({model:new d(t.model?t.model.get("to_email"):{}),shortcodes:t.form_shortcodes||[]}),new h({model:new u(t.model?t.model.get("submit"):{}),shortcodes:t.form_shortcodes||[]})],o.multi_step.prototype.initialize.apply(this,[t])}}),e.exports=p},"cloud-templates.js":function(t,e,i){var n,s,a,o;n=jQuery,s=i("./base"),a=new(i("../../models/cloud-templates")),o=i("../../libs/element-snapshot"),e.exports=s.base.extend({item_template:TVE.tpl("cloud-templates/item"),_setElement:function(t){(t=t.jquery?t:Backbone.$(t)).hasClass("bound")&&(t=t.clone(!1).removeAttr("id").removeClass("bound").insertAfter(t)),this.$el=t,this.el=t[0],this.el.classList.add("bound")},isPlaceholder:function(t){return(t=t||this.applyTo).hasClass("tcb-elem-placeholder")},has_fixed_footer:function(){return!0},set_element:function(t){return this.applyTo=t,this},after_initialize:function(){this.$content=this.$(".content-templates"),this.$el_name=this.$(".element-name"),this.$error=this.$(".error-container").hide(),this.$status=this.$(".status"),this.$warning=this.$(".warning-ct-change").hide(),this.$save=this.$(".tcb-modal-save").prop("disabled",!0),this.$$store=a},ensure_type_container:function(){this.$list=this.$content.children("#templates-"+this.$$type),this.$list.length||(this.$list=n('<div data-type="'+this.$$type+'" id="templates-'+this.$$type+'" class="template-list row middle-xs"></div>').appendTo(this.$content))},read_element:function(t){this.applyTo=t.element;var e=t.element.attr("data-ct").split("-");t.type=e.shift(),t.selected=e.join("-")||"0",this.applyTo.attr("data-ct-name")?this.$warning.show().find(".tcb-notification-content").html(TVE.t.warning_change_ct.replace(/%s/g,TVE.apply_filters("tcb.cloud_templates.element_name",t.type))):this.$warning.hide()},before_open:function(t){this.$(".instance-options").remove(),this.$(".tcb-modal-content").show(),this.$(".tcb-modal-back").hide(),this.read_element(t),this.selected=t.selected,this.$el_name.html(TVE.apply_filters("tcb.cloud_templates.element_name",t.type)),t.type&&t.type!==this.$$type?this.fetchTemplates(t.type):this.select_template(this.selected)},fetchTemplates:function(t){this.$$type=t,this.on_start(),a.fetch(this.$$type).done(_.bind(this.on_success,this)).fail(_.bind(this.on_error,this)).always(_.bind(this.on_finished,this))},before_close:function(){this.isPlaceholder()&&this.applyTo.removeClass("edit_mode")},on_start:function(){this.ensure_type_container(),this.$content.children().hide().filter(this.$list).show(),this.$error.hide(),this.$save.prop("disabled",!0),this.$el_name.html(TVE.t.elements[this.$$type]),this.$status.html(TVE.t.FetchingData),this.$list.addClass("disabled")},on_success:function(t){if(t.error)return this.on_error({responseJSON:t});"function"==typeof this.processTemplateList&&(t.templates=this.processTemplateList(t.templates)),this.$list.empty(),_.each(t.templates,function(t){this.$list.append(this.item_template({item:t,selected:this.selected===t.id}))},this),this.select_template(this.selected,!0)},processTemplateList:function(t){return t=_.sortBy(t,function(t,e){return void 0!==t.order?t.order:e})},on_error:function(t,e,i){this.$$type=null;var n=TVE.getDetailedErrorMessage(t,e,i,!0);this.$error.fadeIn(200).html(TVE.tpl("inline-error")({error_message:n})),this.$content.empty(),this.on_finished()},on_finished:function(){this.$status.html(""),this.$list.removeClass("disabled")},dom_select:function(t,e){return this.select_template(e.dataset.id),!1},select_template:function(t){var e=this.$list.find('[data-id="'+t+'"]');if(e.length&&e.parent().hasClass("locked"))return!1;this.selected=t,this.$list.find(".template-wrapper").removeClass("active").filter('[data-id="'+t+'"]').addClass("active").length&&this.$save.prop("disabled",!1)},save:function(){this.on_start();var e=this;a.set("type",this.$$type),a.download(this.selected).done(function(t){if(t.error)return e.on_error({responseJSON:t});TVE.apply_filters("tcb.cloud_templates.apply_callback",e.apply_cloud_template).call(e,t.data),e.close(),e.on_finished(),e.select_template(e.selected)}).fail(_.bind(this.on_error,this)).always(_.bind(this.on_finished,this))},alter_wrapper_attributes:function(t,e){return t},apply_cloud_template:function(s){var i,t=this,a={};o(function(){var t=TVE.inner_$(s.content);this.applyTo.parent().is(".tcb-clear")?this.applyTo.parent().replaceWith(t):this.applyTo.replaceWith(t),this.applyTo=t.is(".thrv_wrapper")?t:t.find("> .thrv_wrapper").first(),TVE.ActiveElement=this.applyTo;var e=this.alter_wrapper_attributes({"data-ct-name":s.name,"data-ct":s.type+"-"+s.id,"data-element-name":TVE.t.elements[this.$$type]},s);this.applyTo.data("tcb-elem-type","").attr(e);var i=t.find("[data-css]"),n=TVE._type(this.applyTo);["table","contentblock","lpblock","toggle","tabs"].includes(n)&&(i=i.add(t.filter("[data-css]"))),i.each(function(){this.dataset.css&&(void 0===a[this.dataset.css]?a[this.dataset.css]=TVE.CSS_Rule_Cache.uniq_id(this,!0):this.dataset.css=a[this.dataset.css])}),TVE.drag.bind_element(this.applyTo),TVE.Editor_Page.reposition_icons()},this.applyTo,this),i=s.head_css,n.each(a,function(t,e){i=i.replace(new RegExp("("+t+")","g"),e)}),TVE.do_action("tcb_after_cloud_template",this.applyTo,"cloud-template"),TVE.Editor_Page.content_manager.insert_head_css(i).done(function(){TVE.do_action("tcb_after_cloud_template_css_inserted",t.applyTo),TVE.Editor_Page.focus_element(t.applyTo)})}})},"content-blocks.js":function(t,e,i){var r,n,l;r=jQuery,l=new(i("../../models/content-blocks")),e.exports=i("./cloud-templates").extend({default_pack_key:"cb-modal-default-pack",default_pack_id:0,no_templates:TVE.tpl("content-blocks/no-template"),item_template:TVE.tpl("content-blocks/template-item"),group_item:TVE.tpl("content-blocks/group-item"),category_item:TVE.tpl("content-blocks/category-item"),favorites:TVE.tpl("content-blocks/favorites"),no_groups_found:'<div class="cb-no-results" style="display: block;">No Results Found</div>',packBlocksCollection:new Backbone.Collection({}),preselectOnEdit:!1,$$type:"contentblock",favorite_data:{0:{tooltip:"Add to Favorites",icon:"heart-light"},1:{tooltip:"Remove from Favorites",icon:"heart-solid"}},packs:[],packStuff:{category:[],group:[]},filters:{category:[],group:[],favorites:[]},after_initialize:function(){this.$content=this.$(".cb-modal-step"),this.$error=this.$(".error-container").hide(),this.$modalSteps=this.$(".cb-modal-step"),this.$packSelect=this.$("#cb-pack-select"),this.$packTitle=this.$("#cb-pack-title"),this.$packContent=this.$("#cb-pack-content"),this.$packCategories=this.$("#cb-pack-categories"),this.$packGroups=this.$("#cb-pack-groups"),this.$save=this.$("#cb-preview-insert-block").prop("disabled",!0),this.$previewFrame=this.$("#cb-preview-frame"),this.$previewFrameTitle=this.$("#cb-frame-title"),this.$previewFrameFav=this.$("#cb-frame-favorite"),this.$cloudMenu=this.$("#cb-cloud-menu"),this.$seachIcon=this.$(".cb-search-icon"),this.$clearSearch=this.$(".cb-clear-search").hide(),this.$filterGroupsInput=this.$("#filter_groups")},before_open:function(t){this.applyTo=TVE.ActiveElement,this.go_to_step(1),this.on_start(),this.default_pack_id=TVE.ActiveElement.attr("tcb-template-pack")||TVE.StorageManager.get(this.default_pack_key)||"",l.fetch(this.$$type,{pack:this.default_pack_id}).done(_.bind(this.on_success_before_open,this)).fail(_.bind(function(){this.on_error(),this.on_finished()},this))},create_lazyloader:function(){this.lazyLoader=new TVE.inner.window.LazyLoad({container:this.$el[0],elements_selector:".tve-lazy-img",threshold:0,load_delay:0,callback_loaded:function(t){r(t).parent().removeClass("lazy-loading")}})},on_start:function(){this.$error.hide(),this.create_lazyloader()},on_finished:function(){this.lazyLoader.update()},on_success_before_open:function(t){if(t.error||_.isEmpty(t.templates))return this.on_error({responseJSON:t});this.packs=t.templates.packs,this.categories=t.templates.categories,this.packBlocksCollection.reset(t.templates.tpls),this.build_select_pack(this.default_pack_id||t.templates.from_pack),this.$cloudMenu.removeClass("tcb-hidden")},on_success_pack_changed:function(t){if(t.error)return this.on_error({responseJSON:t});this.packBlocksCollection.reset(t.templates.tpls),this.pack_changed(this.$packSelect.val())},pack_changed:function(t){TVE.StorageManager.set(this.default_pack_key,t),this.$packTitle.html(this.packs[t].name),_.each(this.packStuff,function(t,e){this.packStuff[e]=[]},this),_.each(this.filters,function(t,e){this.filters[e]=[]},this),this.$packCategories.empty(),this.$packGroups.empty(),this.$packCategories.append(this.favorites({extra_cls:_.isEmpty(this.packBlocksCollection.findWhere({fav:1}))?" tcb-disabled":""})),this.packBlocksCollection.each(function(t){_.each(t.get("category"),function(t){-1===this.packStuff.category.indexOf(t)&&(this.packStuff.category.push(t),this.$packCategories.append(this.category_item({id:t,name:this.categories[t].name,icon:this.categories[t].icon})))},this),_.each(t.get("group"),function(t){-1===this.packStuff.group.indexOf(t)&&(this.packStuff.group.push(t),this.$packGroups.append(this.group_item({group:t})))},this)},this),this.dom_clear_groups_search(),this.build_preview()},get_favorite_status:function(t){var e=this.packBlocksCollection.findWhere({id:t}).get("fav");return Number(!e)},dom_fav:function(t,e){var i=e instanceof jQuery||e.jquery?e:r(e),n=parseInt(i.attr("data-id")),s=this.get_favorite_status(n),a=this.$packCategories.find('[data-source="favorites"]');i.find("span").attr("data-tooltip",this.favorite_data[s].tooltip).html(TVE.icon(this.favorite_data[s].icon)),i.closest(".cb-template-item").toggleClass("cb-fav",s),this.packBlocksCollection.findWhere({id:n}).set("fav",s);var o=this.packBlocksCollection.where({fav:1}).length;a.toggleClass("tcb-disabled",0===o),a.hasClass("active")&&(this.$packContent.find(".cb-template-item").length<=1&&(a.removeClass("active"),this.filters.favorites=[]),TVE.tooltips.hide(),this.build_preview()),l.toggle_favorites(this.$packSelect.val(),n,s).fail(_.bind(this.on_error,this))},dom_prev_fav:function(t,e){var i=r(e),n=parseInt(i.attr("data-id")),s=this.get_favorite_status(n);i.find("span").attr("data-tooltip",this.favorite_data[s].tooltip).html(TVE.icon(this.favorite_data[s].icon)),this.dom_fav(null,this.$packContent.find('.cb-template-item[data-id="'+n+'"]').find(".cb-favorite"))},dom_pack_changed:function(t,e){this.$packSelect.attr("data-refreshed")?(this.$packSelect.removeAttr("data-refreshed"),this.pack_changed(e.value)):(this.on_start(),l.fetch(this.$$type,{pack:e.value}).done(_.bind(this.on_success_pack_changed,this)).fail(_.bind(this.on_error,this)).always(_.bind(this.on_finished,this)))},dom_preview:function(t,e){var i=parseInt(e.dataset.id),n=this.packBlocksCollection.findWhere({id:i});return this.select_template(i),this.on_start(),this.$previewFrameTitle.html(n.get("name")),this.$previewFrame.attr("src",n.get("preview")),this.$previewFrameFav.attr("data-id",n.get("id")).find("span").attr("data-tooltip",this.favorite_data[n.get("fav")].tooltip).html(TVE.icon(this.favorite_data[n.get("fav")].icon)),this.$save.attr("data-id",n.get("id")),this.$previewFrame.one("load",_.bind(function(){this.go_to_step(2),this.on_finished()},this)),!1},dom_insert_into_content:function(t,e){this.select_template(e.dataset.id),this.applyTo.addClass("tcb-block-placeholder tcb-elem-placeholder").empty(),this.close(),TVE.inner_$("html").stop().animate({scrollTop:this.applyTo.offset().top-50},{duration:500}),this.save()},dom_go_to_step:function(t,e){return this.go_to_step(e.getAttribute("data-step")),!1},go_to_step:function(t){this.$modalSteps.hide().filter('[data-step="'+t+'"]').show()},select_template:function(t){this.selected=parseInt(t),this.$packContent.find(".cb-template-item").removeClass("active").filter('[data-id="'+t+'"]').addClass("active"),this.$save.prop("disabled",!1)},filter_groups:function(t,e){if(this.$packGroups.empty(),0!==this.packStuff.group.length){var i=!1;this.$clearSearch[0===e.value.length?"hide":"show"](),this.$seachIcon[0===e.value.length?"show":"hide"](),_.each(this.packStuff.group,function(t){(0===e.value.length||-1<t.toLowerCase().indexOf(e.value.toLowerCase()))&&(this.$packGroups.append(this.group_item({group:t})),i=!0)},this),this.$packGroups.toggleClass("cb-gr-search-enabled",0<e.value.length),i||this.$packGroups.append(this.no_groups_found)}},dom_clear_groups_search:function(t,e){this.$filterGroupsInput.val("").trigger("keyup")},filter:function(t,e){var i=r(e),n=i.attr("data-source"),s=i.attr("data-item"),a=r.isNumeric(s)?parseInt(s):s,o=this.filters[n].indexOf(a);-1===o?("group"!==n&&"category"!==n||(this.filters.group=[],this.$packGroups.find(".cb-group").removeClass("active")),this.filters[n].push(a),i.addClass("active")):(this.filters[n].splice(o,1),i.removeClass("active"),"category"===n&&(this.filters.group=[],this.filter_groups(null,{value:""}))),this.build_preview(),"category"===n&&0<this.filters.category.length&&this.remove_empty_groups()},remove_empty_groups:function(){var t=this.packBlocksCollection.clone(),e=[],i=[];for(var n in t.each(function(t){_.intersection(this.filters.category,t.get("category")).length!==this.filters.category.length&&e.push(t)},this),e)t.remove(e[n]);t.each(function(t){_.each(t.get("group"),function(t){-1===i.indexOf(t)&&i.push(t)})},this),_.each(this.packStuff.group,function(t){-1===i.indexOf(t)&&this.$packGroups.find('.cb-group[data-item="'+t+'"]').parent().remove()},this),0===this.$packGroups.children().length&&this.$packGroups.append(this.no_groups_found)},build_preview:function(){var e=[],t=this.packBlocksCollection.clone(),i=this.preselectOnEdit?parseInt(this.applyTo.attr("tcb-template-id")):null,n="";for(var s in t.each(function(t){0<this.filters.category.length&&_.intersection(this.filters.category,t.get("category")).length!==this.filters.category.length&&e.push(t),0<this.filters.group.length&&_.intersection(this.filters.group,t.get("group")).length!==this.filters.group.length&&e.push(t),0<this.filters.favorites.length&&0===t.get("fav")&&e.push(t)},this),e)t.remove(e[s]);if(t.each(function(t){n+=this.item_template({item:t.toJSON(),favorite_data:this.favorite_data,selected:i&&t.get("id")===i})},this),0<n.length){this.$packContent.html(n);var a=parseInt(this.$packContent.find(".cb-template-item").outerWidth(!0));this.$packContent.find("img").each(function(){var t=this.getAttribute("data-ratio");t&&r(this).parent().css("height",a*parseFloat(t))}),this.$packContent.hasClass("masonry")&&this.$packContent.masonry("destroy"),this.$packContent.masonry({gutter:20,transitionDuration:"0.0s",isAnimated:!0})}else this.$packContent.hasClass("masonry")&&this.$packContent.masonry("destroy"),this.$packContent.html(this.no_templates());this.on_finished()},build_select_pack:function(t){t=t||_.keys(this.packs)[0];var i=[];_.each(this.packs,function(t,e){i.push({id:e,text:t.name,secondary_text:t.description,image:t.image})}),this.$packSelect.data("select2")&&this.$packSelect.select2("destroy"),this.$packSelect.select2({cache:!1,data:i,templateResult:function(t){return t.id?r('<div class="cb-results"><img src="'+t.image+'" width="64" height="64" /><div><span class="cb-title">'+t.text+'</span><span class="cb-description">'+t.secondary_text+"</span></div></div>"):t.text},templateSelection:function(t){return r('<img src="'+t.image+'" width="32" height="32" /><span>'+t.text+"</span>")}}),this.$packSelect.attr("data-refreshed","true").val(t).trigger("change")},alter_wrapper_attributes:function(t,e){return{"tcb-template-name":e.name,"tcb-template-id":e.id,"tcb-template-pack":e.pack,"data-keep-css_id":1}}},{get_instance:function(t){return n=n||new TVE.ContentBlockModal({el:t})}})},"ct-symbols":{"content-templates.js":function(t,e,i){var n;jQuery,n=i("../../base"),e.exports=n.base_view.extend({template:TVE.tpl("symbols/content-template-item"),type:"ct",no_templates_in_site:[],before_initialize:function(t){this.modal_view=t.modal_view,this.$text_no_templates=this.$(".text-no-templates"),this.$template_list=this.$(".tve-default-templates-list"),this.no_templates_in_site=null},render:function(){this.render_templates()},render_templates:function(t){var i=this,e=t||TVE.CONST.content_templates;this.$template_list.empty(),this.no_templates(e),_.each(e,function(t){var e=i.template({item:t});i.$template_list.append(e)})},select_item:function(t,e){var i=e.dataset.id;this.$(".symbol-item .symbol-wrapper").each(function(){this.classList.remove("active"),this.dataset.id===i&&this.classList.add("active")})},insert_item:function(t){return TVE.drag.fetch({data:{key:t,usertpl:!0}},TVE.ActiveElement),TVE.Editor_Page.blur(),!1},search_items:function(t){var e,i=new RegExp(t.currentTarget.value,"i");e=TVE.CONST.content_templates.filter(function(t){return-1!==t.label.search(i)}),this.render_templates(e)},no_templates:function(t){if(!_.isEmpty(t))return this.$el.parent().removeClass("no-symbols"),this.$text_no_templates.hide(),void(this.no_templates_in_site=!1);_.isNull(this.no_templates_in_site)&&(this.no_templates_in_site=!0),this.$el.parent().toggleClass("no-symbols",this.no_templates_in_site)}})},"ct-symbols.js":function(t,e,i){var r,n,s,l;r=jQuery,n=i("./symbols"),s=i("./content-templates"),l=new(i("../../../models/ct-symbols-abstract")),e.exports=i("../lp-blocks").extend({blocksCollection:new Backbone.Collection({}),item_template:TVE.tpl("symbols/content-template-item"),itemClass:".symbol-item",filters:{category:[],search:[],group:[]},groupMap:{},tooltipOpen:!1,renameInProgress:!1,windowResized:!1,after_initialize:function(t){var e=this;this.$content=this.$el,this.$cloudMenu=this.$("#cb-cloud-menu"),this.$packTitle=this.$("#lp-blk-pack-title"),this.$packContent=this.$("#cb-pack-content"),this.$packGroupsWrapper=this.$("#lp-groups-wrapper"),this.$error=this.$(".error-container").hide(),this.$searchInput=r('input[data-source="search"]'),this.symbols=TVE.CONST.symbols,this.templates=TVE.CONST.content_templates,this.activeGroup="Templates",window.addEventListener("resize",function(){e.windowResized=!0}),this.initClickHandler(),this.$symbolView=new n({modal_view:this,el:this.$content}),this.$ctView=new s({modal_view:this,el:this.$content}),TVE.add_action("tcb.lp_blocks.filter",function(t){e.$el.attr("id").includes("tcb-modal-ct-symbols")&&0===e.$searchInput.val().length&&t&&0===e.filters.search.length&&(e.$packTitle.text(t),e.activeGroup=t)})},getSearchTerm:function(t,e){switch(e.get("group")[0]){case"Templates":t=e.get("label");break;case"Symbols":t=e.get("post_title")}return t},before_open:function(){this.resetFilters(),this.$packContent.empty(),this.groupMap={templates:{key:"Templates"},symbols:{key:"Symbols"}},this.$packTitle.text(this.$packGroupsWrapper.find(".lp-group.active").innerText),this.$el.addClass("loading")},after_open:function(){if(void 0===TVE.CONST.symbols)return setTimeout(this.after_open.bind(this),100);0!==this.$searchInput.val().length&&this.$searchInput.val("");var t=[];this.templates=TVE.CONST.content_templates,this.symbols=TVE.CONST.symbols,t=[].concat(_toConsumableArray(this.addSourceToTemplates(this.templates,"templates")),_toConsumableArray(this.addSourceToTemplates(Object.values(this.symbols),"symbols"))),t=this.addThumbnailRatios(t),this.blocksCollection.reset(t),TVE.LpBlockModal.prototype.after_open.call(this),this.$el.removeClass("loading"),this.renderGroups(),this.renderFirstTab()},addSourceToTemplates:function(t,e){var i=this;return t=_.map(t,function(t){return Object.assign(t,{source:e,group:[i.groupMap[e].key]})})},renderGroups:function(){var t,i=this;this.groups=(_defineProperty(t={},this.groupMap.templates.key,{counter:this.templates.length}),_defineProperty(t,this.groupMap.symbols.key,{counter:Object.keys(this.symbols).length}),t),this.$packGroupsWrapper.empty(),_.each(this.groups,function(t,e){i.$packGroupsWrapper.append(i.group_item({group:e,counter:t.counter}))})},activateFirstTab:function(){this.filter("",this.$packGroupsWrapper.find('.lp-group[data-item="'.concat(this.activeGroup,'"]'))),this.applyMasonry()},renderFirstTab:function(){this.resetFilters(),this.applyMasonry(),this.activateFirstTab()},addThumbnailRatios:function(t){return t.map(function(t){var e=1;if(t.thumb&&t.thumb.w&&t.thumb.h){var i=parseInt(t.thumb.w),n=parseInt(t.thumb.h);e=parseFloat(n/i).toFixed(3),t.ratio=e}return t})},domDownloadTpl:function(t,e){this.selected=parseInt(e.getAttribute("data-id"));var i=e.getAttribute("data-source").includes("templates")?"ct":"symbol";"function"==typeof this["$"+i+"View"].insert_item&&this["$"+i+"View"].insert_item(this.selected,this.symbols),this.close()},openOptionsTooltip:function(t){r(t.target).closest(".template-name-section").toggleClass("tooltip-open"),this.tooltipOpen=!0},closeOptionsTooltip:function(){this.tooltipOpen&&(this.$packContent.find(".tooltip-open").removeClass("tooltip-open"),this.tooltipOpen=!1)},initClickHandler:function(){var i=this;this.$el.on("mousedown",function(t){var e=r(t.target);i.tooltipOpen&&0===e.closest(".tcb-template-options-tooltip, .tcb-dropdown-dots").length?i.closeOptionsTooltip():i.renameInProgress&&0===e.closest(".symbol-name-edit, .tcb-template-options-tooltip").length&&i.triggerRename()})},openDelete:function(t){r(t.target).closest(this.itemClass).addClass("symbol-template-delete").find(".symbol-wrapper").removeClass("click"),this.closeOptionsTooltip()},hideDelete:function(t){r(t.target).closest(this.itemClass).removeClass("symbol-template-delete")},delete:function(t){var n=this,s=t.target,a=parseInt(s.dataset.id);if(0<=a&&!this.duringAjax){this.duringAjax=!0;var o=this.blocksCollection.get(a).get("source"),e="symbols"===o?"delete_symbols":"delete_content_template";l.delete(e,a).done(function(t){n.blocksCollection.remove(n.blocksCollection.get(a)),o.includes("symbols")?delete TVE.CONST.symbols[t.data.ID]:TVE.CONST.content_templates=t.list,r(s).closest(n.itemClass).remove();var e=n.$packGroupsWrapper.find(".active .lp-group-count"),i=parseInt(e.text())-1;e.text(i),0<i?n.applyMasonry():n.$packContent.html(n.no_templates())}).always(function(){n.duringAjax=!1})}},openRename:function(t){var e=r(t.target).closest(this.itemClass);e.addClass("symbol-template-edit").find(".symbol-rename-input").focus().select(),this.closeOptionsTooltip(),this.renameInProgress=Number(e.attr("data-id"))},closeRename:function(t){var e=!(0<arguments.length&&void 0!==t)||t,i=this.$(this.itemClass.trim()+'[data-id="'.concat(this.renameInProgress,'"]')),n=i.find(".symbol-rename-input"),s=i.find(".template-name");i.removeClass("symbol-template-edit").find(".symbol-name-check").removeClass("loading small"),e?n.val(s.text()):s.text(n.val())},triggerRename:function(){var t=this.$packContent.find(".symbol-template-edit");0<t.length&&t.find(".symbol-name-check").click()},handle_keyup:function(t){if(this.renameInProgress)switch(t.which){case 13:this.triggerRename();case 27:this.closeRename()}return!1},rename:function(t){var n=this,e=r(t.target).closest(".symbol-name-check"),s=e.closest(this.itemClass),a=e.prev(".symbol-rename-input").val();if(e.addClass("loading small"),a){if(!this.duringAjax){this.duringAjax=!0;var o=s.attr("data-id"),i="symbols"===this.blocksCollection.get(o).get("source")?"rename_symbols":"rename_content_template";l.update(i,o,a).done(function(t){n.closeRename(!1);var e=_.findWhere(n.symbols,{id:parseInt(o)}),i=_.findWhere(n.templates,{id:parseInt(o)});e&&(e.post_title=a,s.find(".symbol-name").text(a),n.blocksCollection.get(o).set("post_title",a)),i&&(i.label=a,s.find(".symbol-name").text(a),n.blocksCollection.get(o).set("label",a))}).always(function(){n.duringAjax=!1,n.renameInProgress=!1})}}else TVE.page_message(TVE.t.ct_symbol_missing_new_title,!0)}})},"symbols.js":function(t,e,i){var n,s;jQuery,n=i("../../base"),s=i("../../components/symbols/insert-symbol"),e.exports=n.base_view.extend({type:"symbol",symbol_template:TVE.tpl("symbols/item"),no_symbols_in_site:[],before_initialize:function(t){this.modal_view=t.modal_view,this.$text_no_symbols=this.$(".text-no-symbols").hide(),this.$symbols_list=this.$(".symbols-container"),this.no_symbols_in_site=null},render:function(){var t=TVE.StorageManager.get("thrive_symbols"),e={args:{category__not_in:this.get_hf_categories()}};t?this.show_symbols(t):this.get_symbols(e)},get_hf_categories:function(){var e=[];return _.forEach(TVE.CONST.sections_tax_terms,function(t){e.push(t.term_id)}),e},get_symbols:function(t){TVE.ajax("get_symbols","get",t).success(_.bind(this.on_success,this,t)).tcb_error=_.bind(this.on_error,this)},on_success:function(t,e){if(e.error)return this.on_error(e);t||TVE.StorageManager.set("thrive_symbols",e.symbols),this.show_symbols(e.symbols)},show_symbols:function(t){var i=this;this.$symbols_list.empty(),this.symbols=t,_.each(t,function(t){var e=i.symbol_template({item:t});i.$symbols_list.append(e)})},on_error:function(t,e,i){var n=TVE.getDetailedErrorMessage(t,e,i,!0);return this.modal_view.$error.fadeIn(200).html(TVE.tpl("symbols/get-symbols-error")({error_message:n})),this.$el.empty(),!1},search_items:function(t){var e={s:t.currentTarget.value,category__not_in:this.get_hf_categories()};this.get_symbols({args:e})},select_item:function(t,e){var i=e.dataset.id;this.$(".symbol-item .symbol-wrapper").each(function(){this.classList.remove("active"),this.dataset.id===i&&this.classList.add("active")})},insert_item:function(t,e){s.init(e[t]),s.insert_symbol_in_content(!1,function(e){TVE.PostList.utils.fetchExistingPosts(),TVE.add_action("tcb.post_list.posts_loaded",function t(){TVE.PostList.dynamicImage.regeneratePostListStyleNodes(e.find(".tcb-post-list")),TVE.remove_action("tcb.post_list.posts_loaded",t)})})}})}},"custom-html.js":function(t,e,i){var n=i("./base"),s=i("../../../editor/src/util/content"),a=null;e.exports=n.base.extend({editor:null,has_code_mirror:!1,no_preview_html:'<div class="tve_shortcode_overlay"><span>No preview available.</span></div>',iframe_cover:'<div class="tve_iframe_cover"></div>',after_initialize:function(){var t=TVE.codemirror_editor_settings("#tcb-custom-html-code","htmlmixed");t?(this.has_code_mirror=!0,this.editor=t):this.editor=this.$("#tcb-custom-html-code")},save:function(){var t=TVE.ActiveElement,e=this.has_code_mirror?this.editor.getValue():this.editor.val(),i=jQuery.trim(e),n=t.html();t.removeClass("tcb-elem-placeholder"),0<i.length&&(i=s.convert_script_tags(i)),i=this.prepare_content_for_save(i),t.html(i),t.height()<=10&&0===t.find("img").length?(t.append(this.no_preview_html),i+=this.no_preview_html):t.find("iframe").length&&0===t.find("."+jQuery(this.iframe_cover).attr("class")).length&&(t.append(jQuery(this.iframe_cover)),i+=this.iframe_cover),t.trigger("click"),TVE.UndoManager.add({undo:function(){t.html(n)},redo:function(){t.html(i)}}),this.close()},after_open:function(){this.has_code_mirror&&(this.editor.refresh(),this.editor.setCursor(this.editor.lineCount(),0)),this.editor.focus()},before_open:function(){var t=s.revert_script_tags(this.prepare_content_for_load());this.has_code_mirror?TVE.ActiveElement.hasClass("tcb-elem-placeholder")?this.editor.setValue(""):this.editor.setValue(t):TVE.ActiveElement.hasClass("tcb-elem-placeholder")?this.editor.val(""):this.editor.val(t)},has_fixed_footer:function(){return!0},prepare_content_for_save:function(t){return t},prepare_content_for_load:function(){return TVE.ActiveElement.html()}},{get_instance:function(t){return a=a||new TVE.CustomHTML({el:t})}})},"fancy-divider.js":function(t,e,i){var n,s,a,o;jQuery,s=i("./cloud-templates"),a=new(i("../../models/cloud-templates")),o=i("../../libs/element-snapshot"),e.exports=s.extend({cache:[],svg:"",after_initialize:function(t){this.component=t.component,this.$content=this.$(".tve-templates-container"),this.$error=this.$(".error-container").hide(),this.$save=this.$(".tcb-modal-save").prop("disabled",!0),this.$status=this.$(".status"),this.$el_name=this.$(".element-name")},before_open:function(t){this.applyTo=this.component.applyTo(),t.type="fancydivider",this.selected=parseInt(this.applyTo.find('[data-position="'+this.side+'"]').attr("data-ct")||"0"),t.type&&t.type!==this.$$type?(this.$$type=t.type,this.$(".template-list").hide().filter("#templates-"+this.$$type).show().length||(this.on_start(),TVE.add_filter("template_store_fetch_ajax_action",this.change_fetch_action),TVE.add_filter("template_store_download_ajax_action",this.change_download_action),a.fetch(this.$$type).done(_.bind(this.on_success,this)).fail(_.bind(this.on_error,this)).always(_.bind(this.on_finished,this)))):this.select_template(this.selected)},change_fetch_action:function(t){return"fancydivider"===t.type&&(t.action="cloud_content_templates_without_element"),t},change_download_action:function(t){return"fancydivider"===t.type&&(t.action="cloud_content_template_download_without_element"),t},apply_cloud_template:function(e){o(function(){this.svg=TVE.inner_$(e.content),this.buildSVG(e);var t={"data-ct-name":e.name,"data-ct":e.type+"-"+e.id,"data-element-name":TVE.t.elements[this.$$type]};this.applyTo.data("tcb-elem-type","").attr(t),TVE.drag.bind_element(this.applyTo),TVE.Editor_Page.reposition_icons()},this.applyTo,this),TVE.do_action("tcb_after_cloud_template",this.applyTo,"fancy-divider"),this.component.update(),TVE.Editor_Page.focus_element(TVE.apply_filters("tve.fancydivider.focus",this.applyTo.parent(),this.applyTo))},buildSVG:function(t){var e=jQuery(this.svg).filter("svg"),i={},n=this.component.svgShapesSelector(),s=e[0],a=e.find("style"),o={};if(e.find("[class]").each(function(){var e="";this.classList.forEach(function(t){o[t]=o[t]||TVE.CSS_Rule_Cache.generate_id("p"),e+=" "+o[t]}),this.setAttribute("class",e.trim())}),a.length){var r=a.text().replace(/fill:(.+?);/g,"");r=r.replace(/([^{}]+){}/g,""),_.each(o,function(t,e){return r=r.replace(new RegExp("."+e+"({|,|\\.)","g"),"."+t+"$1")}),a.text(r)}e.find("title").remove(),e.attr({"data-position":this.side,"data-ct":t.id,"decoration-type":t.name,class:n.replace(".",""),width:"100%"}),t.config=Object.assign({},{scaling:"constrain"},t.config);var l="top"===t.config.side?"xMidYMax slice":"xMidYMin slice",c=(s.getAttribute("viewBox")||s.getAttribute("viewbox")||"").split(" ").map(Number);i.height=Math.round(4===c.length?c[3]*this.applyTo.outerWidth()/c[2]:120)+"px",i[this.side]=0,t.config&&t.config.side!==this.side&&(i.transform="rotate(180deg)"),s.setAttribute("preserveAspectRatio",t.config&&"none"===t.config.scaling?"none":l),e.find("[fill]").removeAttr("fill");var d=this.applyTo.find(n).remove();this.applyTo.append(e),this.component.$element.find(n).head_css(i),d.length&&this.component.controls.fancy_divider_styles.controls.ShapeSvgColor.reApply()},setSide:function(t){delete this.cache.height,delete this.cache.fill,this.side=t}},{get_instance:function(t,e){return n=n||new TVE.FancyDividerModal({el:t,component:e})}})},"icons.js":function(t,e,i){var n,s,a;n=jQuery,a=i("./base"),e.exports=a.with_cached_data.extend({selected_class:"tve-icon-selected",listOffset:0,load_count:200,container_scroll:0,events:function(){return _.extend({},a.base.prototype.events(),{"keyup .tve-search-icon":_.debounce(this.search_icon,50)})},after_initialize:function(){var t=this.$("#tve-icomoon-icons"),e=this;t.scroll(function(){e.container_scroll=e.$(".tve-custom-icons").height()+e.$(".tve-font-awesome-icons").height(),t.scrollTop()+330>e.container_scroll&&(e.listOffset+=e.load_count,e.container_scroll+=t.height(),e._render_svg_icons(e.$icons,e.listOffset))})},close:function(){a.base.prototype.close.apply(this,arguments),this.reset_list()},reset_list:function(){this.$("#tve-icomoon-icons .tve-font-awesome-icons").html(""),this.$("#tve-icomoon-icons").scrollTop(0),this.listOffset=0,this.container_scroll=0},before_open:function(){this.$("#tve-icomoon-icons .tve-icomoon-icon").show(),this.$(".tve-custom-header").show(),this.$(".tve-search-icon").val(""),this.$icons=n("#tve-default-icons symbol"),this._render_svg_icons(this.$icons,this.listOffset)},before_close:function(){this.off("save"),TVE.ActiveElement.hasClass("tcb-elem-placeholder")?TVE.Editor_Page.blur():TVE.state_manager.is_hover()||TVE.Editor_Page.selection_manager.select_element(TVE.is_group_editing?TVE.ActiveElement.filter(".edit_mode"):TVE.ActiveElement)},_render_svg_icons:function(t,e){var n=this;e=e||0,t.slice(e,e+this.load_count).each(function(t,e){var i=e.getAttribute("id").replace("icon-","");n.$("#tve-icomoon-icons .tve-font-awesome-icons").append('<span class="tve-icon click tve-svg-icon'+(i===n.selected?" "+n.selected_class:"")+'" data-cls="icon-'+i+'" title="'+i+'" data-fn="icon_click">'+TVE.icon(i)+"</span>")})},_deselect_all_icons:function(){this.$(".tve-icon").removeClass(this.selected_class)},icon_click:function(t,e){this._deselect_all_icons(),e.classList.add(this.selected_class)},search_icon:function(t){var e=t.currentTarget.value.toLowerCase();this.search_fontawesome_icons(e,e.replace(/ /g,"-")),this.search_custom_icons(e)},search_fontawesome_icons:function(t,e){this.$icons=jQuery("#tve-default-icons symbol").filter(function(){return-1!==this.id.indexOf(t)||-1!==this.id.indexOf(e)}),this.$icons.length?this.$(".tve-icons-header").show():this.$(".tve-icons-header").hide(),this.reset_list(),this._render_svg_icons(this.$icons,0)},search_custom_icons:function(t){var e,i=this.$("#tve-icomoon-icons .tve-icomoon-icon");i.hide(),(e=i.filter(function(){return-1!==this.getAttribute("title").toLowerCase().indexOf(t)})).show(),e.length?this.$(".tve-custom-header").show():this.$(".tve-custom-header").hide()},save:function(){var t=TVE.ActiveElement,e=this.$("."+this.selected_class),i={icon:e};e.length&&(t.removeClass("tcb-elem-placeholder").addClass("tcb-icon-display"),this.trigger("save",i),t.find("title").remove(),this.close())},get_ajax_params:function(){return TVE.ajax_data("font_awesome_svg","get",{expect:"html"},"html")},process_data:function(t){return TVE.main.$("#main-icons").append(t),1},decorate_error_message:function(t){return"Could not fetch FontAwesome icons: "+t},beforeShow:function(){var e=this.$(".set-toggle").removeClass("tcb-hidden"),t=this.instanceProps.icon_sets;t&&(n.isArray(t)||(t=[t]),t&&(t.forEach(function(t){e=e.not(".set-"+t)}),e.addClass("tcb-hidden")))},setSelected:function(t){this.selected=t,this.$(".tcb-icon-"+t).parent().trigger("click")}},{get_instance:function(t){return s=s||new TVE.IconsModal({el:t})}})},"landing-page.js":function(t,e,i){var o,n,s;o=jQuery,n=i("./base"),s=i("../controls/tooltip-base"),e.exports=n.base.extend({el:TVE.modal.get_element("lp-templates"),lp_set:TVE.tpl("landing-pages/lp-set"),lp_template:TVE.tpl("landing-pages/lp-template"),lp_delete_confirmation:TVE.tpl("landing-pages/delete-confirmation"),tag_item:TVE.tpl("landing-pages/tag-item"),events:{"click .tcb-modal-save":"save","click .tcb-modal-close":"close","click .tab-item":"tab_click","click .exp-set":"expand_set","click .close-icon":"render_sets","change .template-tag":"filter_templates","click .tags-title":function(){this.$filter.toggle()},click:function(t){this.$filter.is(t.target)||0!==this.$filter.has(t.target).length||t.target.classList.contains("tags-title")||this.$filter.hide()},"click .tve-template-item .template-wrapper":function(t){this.$(".template-wrapper.active").removeClass("active"),t.currentTarget.classList.toggle("active"),this.$choose_btn.removeClass("tcb-disabled")},"input .tags-search":function(t){this.render_tags(t.target.value)},"click .tcb-delete-saved-template":"delete_saved_template","click .tcb-cancel-delete-template":"no_delete_template","click .tcb-apply-delete-template":"yes_delete_template","click .toggle-lp-type":"toggle_lp_type","mouseover .show-block-tooltip":"toggleBlockTooltip","mouseleave .show-block-tooltip":"toggleBlockTooltip"},initialize:function(){var t=this;this.$el.addClass("large"),this.$tabs=this.$(".tab-item"),this.$choose_btn=this.$(".tcb-modal-save"),this.$content=this.$(".tve-tab-content"),this.$filter=this.$(".tags-select"),this.$preview=this.$(".tve-template-preview"),this.$templates_list=this.$(".tve-templates-list"),this.$default_templates=this.$(".tve-default-templates-list"),this.$smart_templates=this.$(".tve-smart-templates-list"),this.$saved_templates=this.$(".tve-saved-templates-list"),this.$tag_list=this.$(".template-tags"),this.$scroll=this.$(".tve-tabs-content").scrollbar(),TVE.add_action("tve.lazyload.done",function(){t._filter_templates(),t.render_sets(),t.render_tags()}),TVE.add_action("tcb-ready",function(){t.blockTooltip=t.initTooltip(t.$el,"landing-pages/lp-set-block")})},before_open:function(){this.render_sets();var t,e,i=o.extend({},TVE.CONST.lp_templates,TVE.CONST.cloud_lp_templates,TVE.CONST.saved_lp_templates);void 0!==i[TVE.CONST.landing_page]&&(t=i[TVE.CONST.landing_page].set.toLowerCase().replace(/ /g,"-"),e={currentTarget:o('.tve-template-set[data-set="'+t+'"]')},this.expand_set(e),e.currentTarget.find('.template-wrapper[data-key="'+TVE.CONST.landing_page+'"]').addClass("active"),this.$choose_btn.removeClass("tcb-disabled"))},tab_click:function(t){var e=t.currentTarget.getAttribute("data-content");this.$tabs.removeClass("active"),t.currentTarget.classList.add("active"),this.$content.removeClass("active"),this.$content.filter('[data-content="'+e+'"]').addClass("active"),this.$(".tags-filter")["default"===t.currentTarget.getAttribute("data-content")?"visible":"invisible"]()},initTooltip:function(a,t,e){return new s({tooltipPosition:"top",no_buttons:!0,after_render:function(){this.$(".tve-tooltip-close").hide(),this.$el.addClass(e)},positionTop:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:{},s=a.offset();this.$el.css({top:"".concat(n.top-s.top-170,"px"),left:"".concat(n.left-s.left-120,"px")}),this.$(".tcb-panel-arrow").css({left:"215px"})},template:TVE.tpl(t),appendTo:this.$("#lp-lightbox-drop-panels"),apply:TVE.$.noop})},delete_saved_template:function(t){var e=jQuery(t.currentTarget).closest(".tve-template-item");e.find(".template-wrapper").hide(),e.append(this.lp_delete_confirmation())},no_delete_template:function(t){var e=jQuery(t.currentTarget).closest(".tve-template-item");e.find(".template-wrapper").show(),e.find(".tcb-delete-template-confirmation").remove()},yes_delete_template:function(t){var e=jQuery(t.currentTarget).closest(".tve-template-item"),i={custom_action:"landing_page_delete",tve_landing_page:this.$saved_templates.find(".tve-template-item").index(e)},n=this;TVE.main.overlay(),TVE.Editor_Page.save(!1,function(t){!0===t.success&&(e.remove(),n.saved_templates=n.saved_templates.filter(function(t){return t.key!==e.attr("data-key")})),TVE.main.overlay("hide")},i)},render_tags:function(e){var i=this;this.$tag_list.empty(),void 0===e&&(e=""),_.each(this.tags,function(t){-1!==t.indexOf(e)&&i.$tag_list.append(i.tag_item({tag:t}))})},render_sets:function(){var i=this;_.each(this.sets,function(t,e){this.sets_containers[e].empty(),t=TVE.apply_filters("tcb_landing_page_set_before_show",t),_.each(t,function(t){this.sets_containers[e].append(this.lp_set(t))},this)},this),this.$saved_templates.empty(),_.each(this.saved_templates,function(t,e){t.count=e,i.$saved_templates.append(i.lp_template(t))}),this.$scroll&&this.$scroll.scrollTop(this.scroll_top||0)},expand_set:function(t){var i=o(t.currentTarget).closest(".tve-template-set"),e=i.data("set"),n=i.data("type"),s=this;if(void 0!==e){var a=this.sets[n];this.$templates_list.find(".expanded-set").length&&(this.render_sets(),i=this.$('.tve-template-set[data-set="'+e+'"]')),i.empty().removeClass("tve-template-set").addClass("expanded-set"),i.append("<span>"+a[e].label+'</span><div class="close-icon"></div>'),_.each(a[e].templates,function(t,e){t.count=e,i.append(s.lp_template(t))}),this.scroll_top=this.$scroll.scrollTop(),this.$choose_btn.addClass("tcb-disabled"),requestAnimationFrame(_.bind(function(){this.$scroll.animate({scrollTop:this.scroll_top+i.position().top},"fast")},this))}},toggle_lp_type:function(t){var e=t.currentTarget.getAttribute("data-lp-type"),i=this.$('.lp-type-section[data-lp-type="'+e+'"]');i.toggleClass("tcb-hidden"),t.currentTarget.innerHTML=i.hasClass("tcb-hidden")?TVE.icon("chevron-up-regular"):TVE.icon("chevron-down-regular")},filter_templates:function(){var n=[];this.$tag_list.find(".template-tag:checked").each(function(){n.push(this.value)}),0===n.length?(this.$templates_list.removeClass("expanded-set"),this.render_sets()):(this.$templates_list.addClass("expanded-set").empty(),_.each(this.sets,function(t,e){var i=this.sets_containers[e];_.each(t,function(t){_.each(t.templates,function(e){_.each(n,function(t){-1===e.tags.indexOf(t)||i.append(this.lp_template(e))},this)},this)},this)},this))},save:function(){var t=this.$(".tve-template-item .active");if(t&&t.length){var e=this.$saved_templates.find(".tve-template-item").index(t.parent()),i={tve_landing_page:-1!==t.data("key").indexOf("user-saved-template")?"user-saved-template-"+e:t.data("key"),custom_action:"landing_page"};t.data("cloud")&&"1"===t.attr("data-cloud")&&(i=TVE.apply_filters("tcb_cloud_template_download",{action:"tve_cloud_templates",task:"download",template:t.data("key"),post_id:TVE.CONST.post_id})),TVE.set_login_callback(this.save,this),TVE.main.overlay(),TVE.PreventPreviewImageGenerate=!0,TVE.Editor_Page.save(!1,function(){TVE.KEEP_OVERLAY=!0,TVE.CONST.landing_page=e,window.onbeforeunload=null,TVE.page_message(TVE.t.TemplateChange),top.window.location.reload()},i)}else TVE.page_message(TVE.t.SelectTemplate,!0,5e3)},show_preview:function(t){if(0!==t.currentTarget.parentElement.getAttribute("data-key").indexOf("user-saved-template-")){var e=t.currentTarget.getBoundingClientRect(),i=70+190*(1+parseInt(t.currentTarget.getAttribute("data-count")));this.$preview.css({left:i,top:e.top-t.currentTarget.offsetHeight,"background-image":t.currentTarget.style.backgroundImage}),this.$preview.show()}},hide_preview:function(t){this.$preview.hide()},_filter_templates:function(){var r=this;return this.default_sets={},this.smart_sets={},this.saved_templates=[],this.tags=[],this.sets={s:this.smart_sets,l:this.default_sets},this.sets_containers={s:this.$smart_templates,l:this.$default_templates},_.each(TVE.CONST.lp_templates,function(t,e){var i=t.set.toLowerCase().replace(/ /g,"-"),n=(t.downloaded?"http://landingpages.thrivethemes.com/wp-content/plugins/thrive-visual-editor/landing-page/templates/thumbnails/":TVE.CONST.templates_path+"/thumbnails/")+e+".png";void 0===r.default_sets[i]&&(r.default_sets[i]={set:i,label:t.set,type:"l",thumbnail:n,templates:[],hasBlocks:!1},r.default_sets[i]=TVE.apply_filters("tcb_default_landing_page_set",r.default_sets[i])),r.default_sets[i].templates.push({key:e,name:t.name,tags:t.tags,thumbnail:n}),_.each(t.tags,function(t){-1===r.tags.indexOf(t)&&r.tags.push(t)})}),_.each(TVE.CONST.cloud_lp_templates,function(t,e){var i=t.set.toLowerCase().replace(/ /g,"-"),n=t.type||"l",s=this.sets[n],a=void 0!==t.locked&&t.locked,o=void 0!==t.blocks&&parseInt(t.blocks);void 0===s[i]&&(s[i]={set:i,label:t.set,type:n,thumbnail:t.thumb,templates:[],hasBlocks:o,order:t.order},s[i]=TVE.apply_filters("tcb_category_landing_page_set",s[i],t)),void 0!==s[i]&&a&&(s[i].locked=1),s[i].templates.push({key:e,name:t.name,tags:t.tags,thumbnail:t.thumb,cloud:!0,locked:a}),_.each(t.tags,function(t){-1===r.tags.indexOf(t)&&r.tags.push(t)})},this),_.each(TVE.CONST.saved_lp_templates,function(t,e){r.saved_templates.push({key:"user-saved-template-"+e,name:t.name,tags:t.tags,thumbnail:t.thumbnail?t.thumbnail:TVE.CONST.templates_path+"/thumbnails/"+t.template+".png"})}),this.tags.sort(),this},force_modal_close:function(){TVE.outer.$document.find(".tvd-lean-overlay").remove()},toggleBlockTooltip:function(t,e){this.blockTooltip&&this.blockTooltip["mouseover"===t.type?"open":"onCancel"](null,t.currentTarget)}})},"lg-error-messages.js":function(t,e,i){var n=i("./base"),s=null;e.exports=n.base.extend({labels:TVE.t.error_labels,default_errors:TVE.t.lg_errors,events:function(){return _.extend({},n.base.prototype.events(),{"click #tcb-sign-up-error-enabled":"toggle_signup_error_editor"})},has_fixed_footer:function(){return!0},_get_type:function(){return this.type},_get_signup_error_editor:function(){return this.$signup_error_editor||(this.$signup_error_editor=this.$("#tcb-lg-signup-error-editor")),this.$signup_error_editor},toggle_signup_error_editor:function(t){var e=this;this._get_signup_error_editor().toggle({duration:0,complete:function(){e.display_editor=t.currentTarget.checked}})},render_errors:function(){this._get_fields_container().empty(),this._get_signup_error_wrapper()["api"===this._get_type()?"show":"hide"](),this.display_editor&&(this.$("#tcb-sign-up-error-enabled").prop("checked",!0),this._get_signup_error_editor().show()),this._set_editor_content(this.custom_messages.error||""),_.each(this.model.attributes,function(t,e,i){if("phone"===e)return!0;this.render_error({key:e,value:t,label:this.labels[e]})},this)},get_editor:function(){return this.editor||(this.editor="undefined"!=typeof tinymce?tinymce.get("tcb_lg_error"):null),this.editor},get_editor_content:function(){return this.get_editor()?this.get_editor().getContent():""},_set_editor_content:function(t){return!!this.get_editor()&&this.get_editor().setContent(t)},restore_defaults:function(){_.each(this.default_errors,function(t,e,i){this._set(e,t)},this),this.render_errors()},change:function(t,e){var i=e.value,n=e.getAttribute("data-key");this._set(n,i)},_set:function(t,e){return this.model.set(t,e),!0},_get_fields_container:function(){return this.$container||(this.container=this.$(".tcb-fields-error").first()),this.container},_get_signup_error_wrapper:function(){return this.$signup_error_wrapper||(this.$signup_error_wrapper=this.$("#tcb-signup-error-wrapper")),this.$signup_error_wrapper},render_error:function(t){var e=TVE.tpl("lead-generation/errors/item");t=t||{},t=_.extend({key:"key",label:"label",value:"value"},t),this._get_fields_container().append('<div class="half-width">'+e({item:t})+"</div>")}},{get_instance:function(t,e){return s=s||new TVE.LGErrorMessages({el:t,model:e||new Backbone.Model})}})},"lp-blocks.js":function(t,e,i){var r,n,s,a;r=jQuery,a="insertAfter",e.exports=i("./content-blocks").extend({blocksCollection:new Backbone.Collection({}),item_template:TVE.tpl("content-blocks/lp-template-item"),category_item:TVE.tpl("content-blocks/lp-category-item"),group_item:TVE.tpl("content-blocks/lp-group-item"),itemClass:".cb-template-item",filters:{category:[],group:[],search:[]},windowResized:!1,after_initialize:function(){var i=this;this.$error=this.$(".error-container").hide(),this.$content=this.$el,this.$cloudMenu=this.$("#cb-cloud-menu"),this.$packTitle=this.$("#lp-blk-pack-title"),this.$packDescription=this.$("#lp-blk-pack-description"),this.$packContent=this.$("#cb-pack-content"),this.$packCategoryWrapper=this.$("#lp-blk-pack-categories"),this.$packGroupsWrapper=this.$("#lp-groups-wrapper"),this.$matchLpColorsCheckbox=this.$('input[type="checkbox"]'),this.matchLpColors=!0,this.$save=r("<div></div>"),this.templates=TVE.CONST.lp_blocks.tpls,this.pack=TVE.CONST.lp_blocks.packs[Object.keys(TVE.CONST.lp_blocks.packs)[0]],this.categories={},this.groups={},this.$packTitle.text(this.pack.name),this.$packDescription.text(this.pack.description),_.each(this.templates,function(t){_.each(t.category,function(t){_.isEmpty(i.categories[t])?i.categories[t]={name:TVE.CONST.lp_blocks.categories[t].name,counter:1}:i.categories[t].counter++}),_.each(t.group,function(t){_.isEmpty(i.groups[t])&&(i.groups[t]={counter:0}),i.groups[t].counter++})}),this.$packCategoryWrapper.append(this.category_item({id:"All Categories",name:TVE.t.all_categories,counter:TVE.CONST.lp_blocks.tpls.length})),_.each(this.categories,function(t,e){i.$packCategoryWrapper.append(i.category_item({id:e,name:t.name,counter:t.counter}))}),this.$packGroupsWrapper.append(this.group_item({group:"All Block Types",counter:TVE.CONST.lp_blocks.tpls.length})),_.each(this.groups,function(t,e){i.$packGroupsWrapper.append(i.group_item({group:e,counter:t.counter}))}),this.blocksCollection.reset(TVE.CONST.lp_blocks.tpls),window.addEventListener("resize",function(){i.windowResized=!0})},domClearSearch:function(t,e){this.filters.search=[],this.$('input[data-source="search"]').val("").trigger("keydown")},resetFilters:function(){this.hasFilters=_.some(this.filters,function(t){return 0<t.length}),this.filters.group=[],this.filters.category=[],this.filters.search=[],this.$(".active").removeClass("active"),this.$('.click[data-item="All Categories"],.click[data-item="All Block Types"]').addClass("active")},filter:_.debounce(function(t,e){var i=r(e),n=i.attr("data-source"),s="search"===n?i.val().trim():i.attr("data-item"),a=r.isNumeric(s)?parseInt(s):s,o=this.filters[n].indexOf(a);-1===o?("search"!==n&&(i.parent().find(".active").removeClass("active"),i.addClass("active")),this.filters[n]=[],["All Categories","All Block Types"].includes(a)||this.filters[n].push(a)):(this.filters[n].splice(o,1),i.removeClass("active")),TVE.do_action("tcb.lp_blocks.filter",a),this.build_preview()},50),after_open:function(){var t=this.$packContent.hasClass("masonry");(!t||t&&this.hasFilters||this.windowResized)&&(this.on_start(),this.build_preview()),this.windowResized=!1},before_open:function(){this.matchLpColors=!0,this.$matchLpColorsCheckbox.prop("checked",this.matchLpColors),this.resetFilters()},before_close:r.noop(),build_preview:function(){var e=this,t=this.blocksCollection.clone(),i=0<this.filters.search.length&&0<this.filters.search[0].length,n=[],s="";for(var a in t.each(function(t){0<e.filters.category.length&&_.intersection(e.filters.category,t.get("category")).length!==e.filters.category.length&&n.push(t),0<e.filters.group.length&&_.intersection(e.filters.group,t.get("group")).length!==e.filters.group.length&&n.push(t),i&&(e.getSearchTerm(t.get("name"),t).toLowerCase().includes(e.filters.search[0].toLowerCase())||n.push(t))}),this.$cloudMenu.find(".tcb-icon-search-regular").toggle(!i),this.$cloudMenu.find(".tcb-icon-close2").toggle(i),n)t.remove(n[a]);if(t.each(function(t){s+=e.item_template({item:t.toJSON()})}),0<s.length){this.$packContent.html(s).append('<div class="tpl-gutter-sizer"></div>');var o=parseInt(this.$packContent.find(this.itemClass).outerWidth(!0));this.$packContent.find("img").each(function(){var t=this.getAttribute("data-ratio");t&&r(this).parent().css("height",o*parseFloat(t))}),this.applyMasonry()}else this.$packContent.html(this.no_templates());this.on_finished()},getSearchTerm:function(t,e){return t},applyMasonry:function(){this.$packContent.hasClass("masonry")&&this.$packContent.masonry("destroy"),this.$packContent.masonry(this.getMasonryOptions())},getMasonryOptions:function(){return{gutter:20,columnWidth:this.itemClass,isAnimated:!0}},domMatchLpColors:function(t,e){this.matchLpColors=e.checked},domDownloadTpl:function(t,e){this.selected=parseInt(e.getAttribute("data-id"));var i=r('<div class="thrv_wrapper tcb-block-placeholder tcb-elem-placeholder"></div>');i[a](s),this.close(),TVE.inner_$("html").stop().animate({scrollTop:i.offset().top-50},{duration:500}),this.set_element(i),TVE.Editor_Page.editor.find(".tcb-add-block-placeholder").remove(),this.save()}},{setTarget:function(t,e){s=t,a=1<arguments.length&&void 0!==e?e:"insertAfter"},get_instance:function(t){return n=n||new TVE.LpBlockModal({el:t})}})},"lp-export.js":function(t,e,i){var n,s;jQuery,n=i("./base"),s=i("../../libs/file-picker"),e.exports=n.base.extend({events:{"click .choose-image":function(){this.picker.open()},"click .remove-image":function(){this.thumbnail="",this.$remove_image.hide(),this.$preview.css("background-image",'url("'+this.$preview.data("default")+'")')},"click .tcb-modal-save":"save","click .tcb-modal-close":"close","click .tcb-notification-icon-error":"hide_error_container"},initialize:function(){this.$template_name=this.$("#tve-template-name"),this.picker=(new s).on_select(this.change_image,this),this.$remove_image=this.$(".remove-image"),this.$preview=this.$(".thumbnail-preview"),this.$error_container=this.$(".error-container"),this.$el.addClass("medium-small"),this.reset()},reset:function(){this.thumbnail="",this.$template_name.val(""),this.$remove_image.hide(),this.$preview.css("background-image",'url("'+this.$preview.data("default")+'")')},before_open:function(){this.reset(),this.$symbols=TVE.Editor_Page.editor.find(".thrv_symbol"),this.$symbols.length&&this.$error_container.fadeIn(200).html(TVE.tpl("symbols/save-templates-symbols-error")({show_forum_link:0,error_message:TVE.t.warning_symbol_inside_lp}))},hide_error_container:function(){this.$error_container.fadeOut(200)},change_image:function(t){this.thumbnail=t.id,this.$remove_image.show(),this.$preview.css("background-image",'url("'+t.url+'")')},save:function(){var e={action:"tve_lp_export",post_id:TVE.CONST.post_id,template_name:this.$template_name.val().trim(),thumb_id:this.thumbnail},i=this;if(0===e.template_name.length)return TVE.page_message(TVE.t.ExportFileNameRequired,!0,5e3),!1;TVE.main.overlay(),TVE.set_login_callback(this.save,this),TVE.apply_filters("tcb.before_lp_export"),setTimeout(function(){TVE.Editor_Page.save(!0,function(t){i.export_landing_page(e)})},0)},export_landing_page:function(t){var e=this;t.global_styles_css=TVE.Components["shared-styles"].collect_used_global_css_from_page(),TVE.Editor_Page.save(!0,function(t){e.close(),TVE.page_message(t.message,!1,8e3),TVE.main.overlay("close"),window.top.location.href=t.url},t)}})},"lp-save-template.js":function(t,e,i){var n,s;n=jQuery,s=i("./base"),e.exports=s.base.extend({events:{"click .tcb-modal-save":"save","click .tcb-modal-close":"close","click .tve-add-tag":"add_tag","keydown .tve-new-tag-name":function(t){13===t.keyCode&&this.add_tag()},"click .close-icon":function(t){n(t.currentTarget).parent().remove()}},initialize:function(){this.lp_templates=TVE.main.sidebar_extra.lp_templates,this.$tag_input=this.$(".tve-new-tag-name"),this.$tag_list=this.$(".tve-tags-list"),this.$template_name=this.$("#tve-template-name"),this.tags=[],this.$el.addClass("medium-small")},add_tag:function(){var t=this.$tag_input.val().trim();this.$tag_input.val(""),""!==t&&-1===this.tags.indexOf(t)&&(this.tags.push(t),this.$tag_list.append('<div class="tag" data-tag="'+t+'">'+t+'<span class="close-icon"></span></div>'))},save:function(){var t={tve_landing_page_save:this.$template_name.val(),tve_landing_page:TVE.CONST.landing_page,template_tags:this.$tag_list.find(".tag").map(function(){return this.getAttribute("data-tag")}).get()},e=this;0!==t.tve_landing_page_save.length?(TVE.main.overlay(),TVE.set_login_callback(this.save,this),TVE.Editor_Page.save(!1,function(t){TVE.main.overlay("close"),TVE.page_message(TVE.t.PageTemplateSave,!1,5e3),TVE.CONST.saved_lp_templates=t.saved_lp_templates,TVE.main.sidebar_extra.lp_templates._filter_templates().render_sets(),e.close()},t)):TVE.page_message(TVE.t.EnterTemplateName,!0,5e3)},before_open:function(){this.$tag_input.val(""),this.$template_name.val(""),this.$tag_list.empty(),this.tags=[]}})},"menu.js":function(t,r,l){!function(i){var n,t=l("./cloud-templates"),e=l("../base").base_view,s=l("../../elements/menu-element");function a(e,t){var i=0;return t=t.filter(function(t){return!t.local}),Array.prototype.unshift.apply(t,s.defaultTemplates.map(function(t){return(t=_.extend({},t)).id=-++i,t.local=!0,t.class="tve-menu-template-"+t.key,t.config={dropdown_icon:"style_1",mobile_icon:"style_1"},t.thumb="".concat(TVE.CONST.plugin_url,"editor/css/images/custom-menu-thumbs/").concat(t.thumb,"-").concat(e,".jpg"),t})),t}TVE.add_filter("tcb.cloud_templates.menu",a.bind(this,"menu")),TVE.add_filter("tcb.cloud_templates.megamenu",a.bind(this,"megamenu"));var o=e.extend({template:TVE.tpl("controls/custom-menu/modal-menu-type"),initialize:function(){this.model=n,this.model.set("step",1),this.model.on("change",this.refresh.bind(this)),this.menus=TVE.Components.menu.getWPMenus(!1),this.render()},selectOption:function(t){var e={};return e[t.currentTarget.dataset.attr]=t.currentTarget.dataset.value||t.currentTarget.value,this.model.set(e),i(t.currentTarget).addClass("selected").siblings().removeClass("selected"),!1},hasWordpressMenus:function(){return 0<TVE.Components.menu.getWPMenus(!1).length},step1:function(){this.model.set("step",1)},step2:function(){this.hasWordpressMenus()?this.model.set("step",2):this.done()},refresh:function(){var t=this.model.attributes;this.$(".menu-options").hide().filter(".step"+t.step).show(),this["refreshStep"+t.step]()},refreshStep1:function(){this.$(".goto-2")[this.model.get("type")?"show":"hide"]()},refreshStep2:function(){this.$(".wp")["wp"===this.model.get("source")?"show":"hide"]();var t="custom"===this.model.get("source")||"wp"===this.model.get("source")&&this.model.get("menu_id");this.$(".goto-3")[t?"show":"hide"]()},done:function(){this.undelegateEvents(),this.$el.removeData().off().remove(),this.trigger("done",this.model.attributes),this.unbind(),this.model.unbind()}});r.exports=t.extend({item_template:TVE.tpl("controls/custom-menu/modal-menu-item"),insertInstanceOptions:function(t){var e=this;0<arguments.length&&void 0!==t&&!t||(n=new Backbone.Model).set("step",1);var i=new o;return this.$(".tcb-modal-content").hide().before(i.render().$el),i.on("done",function(t){e.$(".tcb-modal-content").show(),e.$(".tcb-modal-back").show(),e.menu_id="custom"===t.source?"custom":t.menu_id,e.menu_type=t.type,TVE.Components.menu.menuView.config("menu_id",e.menu_id),TVE.Components.menu.menuView.config("type",e.menu_type),e.fetchTemplates(e.getTemplateType())}),this.$$store.fetch("megamenu"),i},ensure_type_container:function(){t.prototype.ensure_type_container.apply(this,arguments),this.$list.addClass("list-wide")},getTemplateType:function(t){return((0<arguments.length&&void 0!==t?t:this.menu_type)||this.menu_type||"").replace("regular","")+"menu"},read_element:function(t){this.applyTo=t.element,this.isPlaceholder()&&(TVE.Components.menu.before_update(this.applyTo),this.insertInstanceOptions(!0)),this.$$menu=TVE.Components.menu.menuView,this.menu_id=this.$$menu.config("menu_id")||"custom",this.menu_type=this.$$menu.config("type")||"regular",t.type=this.getTemplateType(),t.selected=this.$$menu.getTemplateId()},backClicked:function(){var t=this.insertInstanceOptions(!1);n.set("step",t.hasWordpressMenus()?2:1)},save:function(){var e=this,t=_.find(this.$$store.get(this.$$type),function(t){return t.id==e.selected});this.on_start();function i(t){return e.$$menu.applyTemplate(t).done(function(){e.select_template(e.selected),e.close(),e.on_finished()})}if(t.local)return i(t);this.$$store.set("type",this.$$type),this.$$store.download(this.selected).done(function(t){if(t.error)return e.on_finished(),e.on_error({responseJSON:t});i(t.data)}).fail(_.bind(this.on_error,this))},processTemplateList:function(t){return this.$list.toggleClass("list-tall","megamenu"===this.getTemplateType()),t}})}(jQuery)},"options-post-types.js":function(t,e,i){e.exports=i("./base").base.extend({save:function(){var t=TVE.ajax_data("save_link_post_types","post",{post_types:this.checkbox_values(".post-type")});jQuery.ajax(t).done(function(t){TVE.page_message(t.message)}),this.close()}})},"page-events.js":function(t,c,d){!function(s){var e,n,t=d("./base").base,i=t.extend({template:TVE.tpl("page-events/form"),main:null,after_initialize:function(t){this.main=t.main},render:function(){},reset:function(t){return void 0===t&&(t=n.newEvent()),this.model=t,this},has_multiple_actions:function(){var i=0;return s.each(n.actions,function(t,e){e.disabled||i++}),1<i},state:function(t){"action"!==t||!this.model||this.model.a||this.has_multiple_actions()||(this.model.a="thrive_lightbox"),this.$el.html(this.template()),this.$(".form-state").hide().filter(".state-"+t).show(),this["render_"+t]&&this["render_"+t]()},get_triggers:function(){return n.triggers},get_actions:function(){return n.actions},render_trigger:function(){if(this.model.t){var t=n.triggers[this.model.t].view;t.model=this.model,t.setElement(this.$("#trigger-settings")),t.render(),this.toggle_continue(!0)}},render_action:function(){if(this.model.a&&n.actions[this.model.a].view){var t=n.actions[this.model.a].view;t.model=this.model,t.parent=this,t.setElement(this.$("#action-settings")),t.render()}},toggle_continue:function(t){this.$(".form-step-action .continue")[t?"show":"hide"]()},item_select:function(t){var e=t.currentTarget.getAttribute("data-field");this.model[e]=t.currentTarget.getAttribute("data-item"),this.state("t"===e?"trigger":"action")},trigger_cancel:function(){this.model.config={},this.model.t="",n.hasEvents()?this.main.dashboard():this.state("default")},trigger_continue:function(){this.state("action")},action_cancel:function(){this.model.a="",this.state("trigger")},action_continue:function(){var t=n.validate(this.model);if(!0!==t)return this.show_error(t);n.save(this.model),this.main.dashboard()},show_error:function(t){this.$(".form-step-action").find(".inline-message").remove().end().append('<div style="bottom:-35px;right:0" class="tcb-absolute inline-message m-error tcb-text-right">'+t+"</div>")},can_add_events:function(){return n.events.length<4}});function a(t){this.events=t,this.triggers=TVE.apply_filters("tcb_page_event_triggers",{exit:{label:"Exit intent",icon:"exit_intent",view:new o},timer:{label:"Timer",icon:"timer",tpl:"page-events/triggers/timer",view:new r}}),this.actions=TVE.apply_filters("tcb_page_event_actions",{thrive_lightbox:{label:"Open Thrive Lightbox",icon:"t-lightbox",view:new l},thrive_leads_2_step:{label:"Open Thrive Leads ThriveBox",icon:"t-box",disabled:!0,view:null}},l),this.animations=TVE.Components.animation.options.actions.thrive_lightbox.data.animations}c.exports=t.extend({options:{opacity:.8},before_initialize:function(){n=new a(TVE.CONST.page_events),e=new i({main:this}),this.$el.addClass("medium")},render:function(){return this.dashboard(),this},after_open:function(){},dashboard:function(){if(e.setElement(this.$("#events-form")),!n.hasEvents())return this.$(".modal-header").html(TVE.tpl("page-events/no-events")()),e.reset(n.newEvent()).state("trigger"),this;this.$(".modal-header").html(TVE.tpl("page-events/list")({view:this,dataStore:n})).show(),e.state("default")},render_action_preview:function(t){var e=n.actions[t.a].view;if(e)return e.render_preview(t)},_show_form:function(t){n.hasEvents()&&this.$(".modal-header").hide(),e.reset(t).state("trigger")},add_event:function(){return this._show_form(n.newEvent()),!1},edit_event:function(t){var e=t.currentTarget;this._show_form(n.getEvent(e.getAttribute("data-index")))},delete_event:function(t){var e=t.currentTarget;n.removeEvent(e.getAttribute("data-index")),this.dashboard()}}),a.prototype.newEvent=function(){return{t:"",a:"",config:{}}},a.prototype.validate=function(i){if(!this.events.length)return!0;var n=!0;return _.each(this.events,function(t,e){t.a===i.a&&t.t===i.t&&e!==i.event_index&&(n=!1)}),!!n||TVE.t.page_event_action_duplicate},a.prototype.save=function(t){if(void 0===t.event_index)this.events.push(t);else{var e=t.event_index;delete t.event_index,this.events.splice(e,1,t)}return this.events},a.prototype.removeEvent=function(t){t=parseInt(t),this.events.splice(t,1)},a.prototype.getEvent=function(t){return t=parseInt(t),s.extend(!0,{event_index:t},this.events[t])},a.prototype.hasEvents=function(){return 0<this.events.length};var o=t.extend({template:TVE.tpl("page-events/triggers/exit"),enable_mobile:function(t){this.model.config.e_mobile=t.currentTarget.checked?1:0,t.currentTarget.checked&&void 0===this.model.config.e_delay&&(this.model.config.e_delay=10),this.render()},slider_update:function(t){var e=t.currentTarget,i=parseInt(e.value||0);(isNaN(i)||i<1)&&(i=0),300<i&&(i=300),e.value=i,this.$(e.getAttribute("data-target")).val(i),this.model.config[e.getAttribute("data-config")]=i},initialize:function(){},render:function(){return this.$el.html(this.template({m:this.model})),this}}),r=o.extend({template:TVE.tpl("page-events/triggers/timer")}),l=t.extend({template:TVE.tpl("page-events/actions/lightbox"),render:function(){if(!this.model)return this;this.model.config.l_anim||(this.model.config.l_anim="instant"),this.$el.html(this.template());var t=this.$("#evt-lightbox");return!t.length||this.model.config.l_id&&String(this.model.config.l_id)===t.val()||(this.model.config.l_id=t.val()),this.parent.toggle_continue(t.length),this},lightbox_change:function(t){this.model.config.l_id=s(t.currentTarget).val()},animation_change:function(t){this.model.config.l_anim=s(t.currentTarget).val()},get:function(){return TVE.Components.animation.options.actions.thrive_lightbox.data.lightboxes},create_lightbox_toggle:function(t){var e=s(t.currentTarget);this.$(".form-create-lb").toggle(),e.toggleClass("expanded"),e.text(e.hasClass("expanded")?TVE.t.cancel:TVE.t.create_new_lightbox),this.$(".create-lb").focus()},create_lightbox:function(){var t=this.$(".create-lb").removeClass("has-error"),e=this.$(".form-create-lb"),i=this;s.trim(t.val())?(e.addClass("loading"),TVE.ajax("create_lightbox","post",{title:t.val(),post_id:TVE.CONST.post.ID}).done(function(t){TVE.Components.animation.options.actions.thrive_lightbox.data.lightboxes.push(t.lightbox),TVE.page_message(t.message),i.render(),i.$("#evt-lightbox").val(t.lightbox.id).trigger("change")}).always(function(){})):t.addClass("has-error").focus()},get_edit_link:function(i){var n="";return s.each(this.get(),function(t,e){e.id==i&&(n=e.edit_url)}),n},render_preview:function(t){return TVE.tpl("page-events/actions/lightbox-preview")({label:n.actions[t.a].label,edit_url:this.get_edit_link(t.config.l_id),animation:n.animations[t.config.l_anim||"instant"],event:t,view:this})}})}(jQuery)},"post-options-confirm.js":function(t,e,i){var n=i("./base"),s=null;e.exports=n.base.extend({setModel:function(t){this.model=t},changeModal:function(t){this.$(".tve-post-option-confirm").addClass("tcb-hide"),this.$(".tve-post-option-confirm-"+t).removeClass("tcb-hide")},setPostStatus:function(t,e){this.model.set("post_status",e.getAttribute("data-post-status"))},cancelChanges:function(){this.model.trigger("cancel_changes",this.model)}},{get_instance:function(t){return s=s||new TVE.PostOptionsConfirm({el:t})}})},"revision.js":function(t,e,i){var n=i("./base"),s=null;e.exports=n.with_cached_data.extend({template_item:TVE.tpl("controls/revision-manager-item"),after_initialize:function(){this.$list=this.$("#tcb-revision-list").empty()},get_ajax_params:function(){return TVE.ajax_data("revisions","post",{post_id:TVE.CONST.post.ID})},process_data:function(t){return this.render_list(t),t},render_list:function(t){this.$list.empty(),_.each(t||this.$$stored_data,function(t,e){this.$list.append(this.template_item({item:t,index:e}))},this)},clicked:function(t,e){var i=e.getAttribute("href");return TVE.main.overlay(),jQuery.get(i,function(){window.parent.location.reload()}),!1}},{reset_revisions:function(t){!t instanceof Array&&(t=[]),s&&(s.$$stored_data=t,s.render_list())},get_instance:function(t){return s=s||new TVE.RevisionManager({el:t})}})},"save-elements.js":function(t,e,i){var s,n,a,o,r;s=jQuery,n=i("./base"),a=i("../../libs/content-preview"),o=i("../components/symbols/insert-symbol"),r=i("../../../../../admin/assets/js/src/models/symbol-category"),e.exports=n.base.extend({save_template:!0,events:function(){var t=n.base.prototype.events.apply();return _.extend({},t,{"click input#add_category":"toggle_category_selection","click span.sp":"toggle_template_symbol","keyup input#content-title":"input_type","click .tcb-notification-icon-error":"hide_error_container"})},after_initialize:function(){this.$styles_templates=TVE.Components["styles-templates"],this.$save_container=this.$(".save-container"),this.$error_container=this.$(".error-container"),this.$category_container=this.$save_container.find(".category-container"),this.$autocomplete=this.$("#tcb-save-template-categ-suggest"),this.$input_name=this.$save_container.find("#content-title")},before_open:function(t){this.$active_element=t.element,this.$input_name.val(""),this.set_input_placeholder(),this.bind_autocomplete_categories(),this.set_selected_text(),this.check_for_inside_symbols()},after_open:function(){this.$input_name.focus()},check_for_inside_symbols:function(){this.$symbols_inside=this.$active_element.find(".thrv_symbol"),this.$symbols_inside.length&&this.$error_container.fadeIn(200).html(TVE.tpl("symbols/save-templates-symbols-error")({show_forum_link:0,error_message:TVE.t.warning_symbol_inside}))},hide_error_container:function(){return this.$error_container.fadeOut(200),this},set_input_placeholder:function(){var t=this.save_template?TVE.t.template_placeholder:TVE.t.symbol_placeholder,e=this.save_template?TVE.t.template_description:TVE.t.symbol_description,i=this.save_template?TVE.t.add_template_to_cat:TVE.t.add_symbol_to_cat;return this.$input_name.attr("placeholder",t).focus(),this.$(".element-description").html(e),this.$(".add-to-cat").html(i),this},input_type:function(t){var e=this.$error_container.find(".symbols-error");!_.isEmpty(t.currentTarget.value.trim())&&e.length&&this.$error_container.empty(),13===t.keyCode&&this.save(t)},toggle_template_symbol:function(t){var e=t.currentTarget.classList.contains("template-text");if(e===this.save_template)return!1;this.save_template=e,this.bind_autocomplete_categories(),this.set_input_placeholder(),this.set_selected_text()},bind_autocomplete_categories:function(){this.destroy_select2(this.$autocomplete),this.save_template?this.$styles_templates.bind(this.$autocomplete):this.prepare_symbol_category()},set_selected_text:function(){this.$(".template-text").toggleClass("selected",this.save_template),this.$(".symbol-text").toggleClass("selected",!this.save_template)},toggle_category_selection:function(){this.$category_container.find(".category_selection").toggle()},save:function(){if(this.validate_input())return this.save_template?this.save_content_template():void this.save_symbol().done(function(){TVE.restore_active_element()})},before_close:function(){this.$error_container.html(""),this.$category_container.find("#add_category").prop("checked",!1),this.$autocomplete.val(""),this.$category_container.find(".category_selection").hide(),TVE.restore_active_element()},save_content_template:function(){var t={template_category:this.$autocomplete.val(),name:this.$input_name.val()},e=s.Deferred(),i=this;this.unlink_inside_symbols(e),s.when(e).done(function(){i.$styles_templates.save_template(t),i.$input_name.val(""),i.close()})},save_symbol:function(){var t,e=this,i=s.Deferred(),n=s.Deferred();return TVE.do_action("tcb.symbol.before_save_logic"),this.unlink_inside_symbols(i),s.when(i).done(function(){TVE.main.overlay(),t=e.get_css_html_for_content(),TVE.ajax("save_symbol","post",t).success(_.bind(e.save_success,e)).always(function(){TVE.main.overlay("close"),n.resolve()}).tcb_error=_.bind(e.save_error,e)}),n.promise()},unlink_inside_symbols:function(t){var i=TVE.Components.symbol,n=[];return _.forEach(this.$symbols_inside,function(t){var e=s.Deferred();i.unlink_element(s(t),e),n.push(e)}),s.when.apply(s,n).then(function(){t.resolve()}),this},get_css_html_for_content:function(){var t,e,i,n,s,a=this.$active_element.parent().hasClass("tcb-clear")?this.$active_element.parent():this.$active_element;return a.wrap("<div></div>"),a=a.parent(),i=this.get_css_from_head(a),n=o.generate_new_ids(a),_.each(n,function(t,e){i.media=i.media.replace(new RegExp(e,"g"),t),i.inline=i.inline.replace(new RegExp(e,"g"),t)}),this.replace_selector_ids_elements(n,a),s=a.clone(),a.children().first().unwrap(),e={post_id:TVE.CONST.post_id,symbol_title:this.$input_name.val(),symbol_content:TVE.Editor_Page.content_manager.get_clean_content({},s),symbol_css:i.fonts+i.media+i.inline},(t=this.get_symbol_category())&&0!==parseInt(t)&&(e.tcb_symbols_tax=t),e=TVE.apply_filters("tcb.symbol.before_save",e)},replace_selector_ids_elements:function(e,t){var i=/tve-u-(.*?)(?=")/g;t.find("[data-selector]").each(function(){if(!_.isEmpty(this.dataset.selector)){var t=i.exec(this.dataset.selector);i.lastIndex=0,t&&(this.dataset.selector=this.dataset.selector.replace(new RegExp(t[0],"g"),e[t[0]]))}})},get_symbol_category:function(){var t=this.$autocomplete.val();return t?t[Object.keys(t)[0]]:0},get_css_from_head:function(e,t){var i=1<arguments.length&&void 0!==t?t:{},n=e.collect_head_css(),s="",a="",o="";return _.each(TVE.stylesheet.cssRules,function(t){t.type===CSSRule.IMPORT_RULE&&-1===a.indexOf(t.cssText)&&(a+=t.cssText),t.type===CSSRule.STYLE_RULE&&(0<e.find(t.selectorText).length||e.is(t.selectorText))&&(o+=i.id?".thrv_symbol_"+i.id+" "+t.cssText:t.cssText)}),_.each(n,function(t,e){""!==t&&(s+="@media "+e+"{"+t+"}")}),{fonts:a,media:s,inline:o}},save_success:function(t){var e=this;if(t.error)return this.save_error(t);this.$input_name.val(""),TVE.page_message(TVE.t.symbol_saved),o.init(t.data),this.$active_element=o.insert_symbol_in_content(1,function(){e.symbol_save_extra_css(t.data)}),TVE.do_action("tcb.symbol.after_save",this.$active_element),TVE.StorageManager.unset("thrive_symbols");var i=parseInt(t.data.id);TVE.CONST.symbols[i]=t.data,this.close()},symbol_save_extra_css:function(t){var e,i=this.get_css_from_head(this.$active_element.wrap("<div></div>"),t),n="",s="",a="";TVE.CONST.landing_page.trim().length&&(a="#tcb_landing_page "),s=""!==a?(n=i.media.replace(new RegExp(a,"g"),""),i.inline.replace(new RegExp(a,"g"),"")):(n=i.media,i.inline),n=this.replace_clip_path(n),this.$active_element.unwrap(),e={post_id:TVE.CONST.post_id,id:t.id,css:i.fonts+n+s},TVE.ajax("save_symbol_extra_css","post",e).done(_.bind(this.save_extra_css_done,this)).tcb_error=_.bind(this.save_error,this)},replace_clip_path:function(t){var e=new RegExp("clip-path:(.+?);","g");return t.replace(e,function(t){return t+" -webkit-"+t})},save_extra_css_done:function(t){if(t.error)return this.save_error(t);a.generate_preview(this.$active_element,{post_id:t.data.symbol.ID,file_name:t.data.symbol.ID+".png"})},save_error:function(t,e,i){var n=TVE.getDetailedErrorMessage(t,e,i,!0);return this.$error_container.fadeIn(200).html(TVE.tpl("symbols/save-templates-symbols-error")({error_message:n})),!1},validate_input:function(){if(_.isEmpty(this.$input_name.val().trim())){var t=this.save_template?TVE.t.tpl_name_required:TVE.t.symbol_name_required;return this.$error_container.fadeIn(200).html(TVE.tpl("symbols/save-templates-symbols-error")({error_message:t})),!1}return!0},prepare_symbol_category:function(){var e=[];_.forEach(tcb_main_const.symbols_tax_terms,function(t){e.push({id:t.term_id,text:t.name,value:t.name})}),this.bind_autocomplete_symbol_categories(this.$autocomplete,{data:e})},bind_autocomplete_symbol_categories:function(t,e){var s=this,i=this.get_autocomplete_options(e);t.select2(i).on("select2:selecting",function(t){t.params.args.data.isNew&&(t.params.args.data.text=t.params.args.data.value)}).on("select2:select",function(i){var n=jQuery(this);i.params.data.isNew?s.save_symbol_category({name:i.params.data.value}).then(function(t){var e=t.id;s.$("#tcb-save-template-category-id").val(e),n.find('[value="'+i.params.data.id+'"]').replaceWith('<option selected value="'+e+'">'+i.params.data.value+"</option>"),n.val(e).trigger("change")}):s.$("#tcb-save-template-category-id").val(s.$autocomplete.val())}).on("select2:unselect",function(t){s.$("#tcb-save-template-category-id").val(""),t.params.originalEvent&&t.params.originalEvent.stopPropagation()})},destroy_select2:function(t){t.data("select2")&&(t.select2("destroy"),t.off("select2:selecting"),t.off("select2:select"),t.html(""))},get_autocomplete_options:function(t){var e={tags:!0,multiple:!0,placeholder:"Uncategorized",minimumResultsForSearch:0,maximumSelectionLength:1,data:{},createTag:function(t){return{id:t.term,text:'"'+t.term+'" <b style="color:#1ca6e5; float: right;; text-transform: uppercase">'+TVE.t.add_as_category+"</b>",value:t.term,isNew:!0}},escapeMarkup:function(t){return t}};return void 0===t&&(t={}),jQuery.extend({},e,t)},save_symbol_category:function(t){return t.rest_symbol_terms=tcb_main_const.symbols_rest_terms,t.rest_nonce=tcb_main_const.symbols_rest_nonce,new r(t).save(null,{success:function(t){var e;(e=t.toJSON()).term_id=e.id,e.term_taxonomy_id=e.id,tcb_main_const.symbols_tax_terms.unshift(e)},error:function(t,e,i){var n="";if(e.responseJSON)n=e.responseJSON.message;else if(e.responseText)try{n="parsererror"===i?"Could not parse response: "+e.responseText:JSON.parse(e.responseText).message}catch(t){}n=n||(e.statusText||i)+(e.status?" ("+e.status+")":""),TVE.page_message(n)}})}})},"save-template.js":function(t,e,i){var n,s;n=jQuery,s=i("./base"),e.exports=s.base.extend({events:{"click .tcb-modal-save":"save","click .tcb-modal-close":"close","click .close-icon":function(t){n(t.currentTarget).parent().remove()}},initialize:function(){this.$template_name=this.$("#tve-template-name")},validate:function(){return!_.isEmpty(this.$template_name.val())||(TVE.page_message(TVE.t.tpl_name_required,!0),!1)},save:function(){if(this.validate()){for(var t,e=TVE.stylesheet.cssRules?TVE.stylesheet.cssRules:TVE.stylesheet.rules,i="",n=[],s=new FormData,a=TVE.Editor_Page.editor.collect_head_css(),o=0;t=e[o++];)if(t.type!==CSSRule.IMPORT_RULE);else{var r=TVE.FontManager.read_font_name(t.cssText);TVE.FontManager.is_font_used(r)&&void 0===n[r]&&(n[r]=1,i+=t.cssText)}TVE.main.overlay(),s.append("template_name",this.$template_name.val()),s.append("template_content",TVE.Editor_Page.content_manager.get_clean_content({},TVE.Editor_Page.editor)),s.append("template_category","[#page#]"),s.append("post_id",TVE.CONST.post_id),s.append("custom_css",TVE.Editor_Page.content_manager.get_stylesheet_rules()),a[0]=i,s.append("media_rules",JSON.stringify(a)),this.execute_ajax(this,s)}},execute_ajax:function(e,t){t.append("custom","save_user_template"),t.append("action",TVE.CONST.ajax.action),t.append("nonce",TVE.CONST.nonce),jQuery.ajax({type:"POST",url:TVE.CONST.ajax_url,data:t,processData:!1,contentType:!1,success:function(t){TVE.page_message(TVE.t.TemplateSave,!1,5e3),e.close(),TVE.CONST.content_templates=t.content_templates},complete:function(){TVE.main.overlay("close")},error:function(t){var e=TVE.getDetailedErrorMessage(t,"","",!0);TVE.page_message(e,!0)}})},before_open:function(){this.$template_name.val("")}})},"sections.js":function(t,l,c){!function(s){var t=c("./base"),e=c("../base"),n=(c("../../libs/content-preview"),c("../components/symbols/insert-symbol"));l.exports=t.base.extend({after_initialize:function(){this.$section_containers=this.$(".sections-container")},before_open:function(t){this.read_element(t),this.render_list()},after_open:function(){this.$listView.$search_input.focus()},render_list:function(){this.$listView=new i({el:this.$section_containers,modal_view:this,section_name:this.$$section_name,type:this.$$type})},read_element:function(t){this.applyTo=t.element,this.$$type=t.element.attr("data-tcb-elem-type"),this.$$section_name=this.$$type.charAt(0).toUpperCase()+this.$$type.slice(1)},before_close:function(){this.$listView.undelegateEvents()}});var i=e.base_view.extend({template:TVE.tpl("symbols/sections-container"),events:function(){return _.extend({},e.base_view.prototype.events,{"keyup input.search-sections":"search_sections","click .tcb-hf-tabs-links li":"change_tab","click .tcb-hf-right":"save"})},initialize:function(t){this.section_name=t.section_name,this.type=t.type,this.modal_view=t.modal_view,this.render()},render:function(){return this.$el.html(this.template({section_name:this.section_name})),this.after_render(),this},after_render:function(){this.set_elements(),this.set_active_tab(),this.show()},set_elements:function(){this.$saved_templates=this.$(".saved-templates"),this.$our_templates=this.$(".our-templates"),this.$save=this.$(".tcb-hf-right"),this.$search_input=this.$("input.search-sections"),this.$status=this.$(".status"),this.$error_container=this.$(".error-container"),this.$header=this.$(".tcb-hf-header")},set_active_tab:function(){var t=this.$(".tcb-hf-tabs-links");this.$active_tab=t.find("li.active")},change_tab:function(t){var e;return t.currentTarget.classList.contains("active")||(s(t.currentTarget).siblings().removeClass("active"),t.currentTarget.classList.add("active"),e=t.currentTarget.getAttribute("data-tab"),this.$("."+e).show().siblings(".tcb-hf-container").hide(),this.$("span.user-action").html("saved-hf"===e?TVE.t.insert_hf:TVE.t.choose_hf),this.set_active_tab()),!1},slide_templates:function(t){s(t.currentTarget).parent().next().slideToggle()},show:function(){var t={category_name:this.section_name+"s"};this.get_sections({args:t,type:this.type})},get_sections:function(t){TVE.ajax("get_symbols","get",t).success(_.bind(this.on_success,this)).tcb_error=_.bind(this.on_error,this)},on_success:function(t){if(t.error)return this.on_error(t);this.$status.hide(),this.sections=t.symbols,this.render_items(t.symbols.local,this.$saved_templates),this.render_items(t.symbols.cloud,this.$our_templates)},render_items:function(t,i){i.empty(),_.isEmpty(t)&&this.no_items(i),_.each(t,function(t){var e=new o({item:t});i.append(e.render().$el)})},no_items:function(t){var e=new a({listView:this,parentContainer:t});t.append(e.render().$el)},on_error:function(t,e,i){var n=TVE.getDetailedErrorMessage(t,e,i,!0);return this.$search_input.hide(),this.$header.addClass("tve-error-wrapper"),this.$error_container.fadeIn(200).html(TVE.tpl("symbols/save-templates-symbols-error")({error_message:n})),!1},search_sections:function(t){var e,i,n=t.currentTarget.value;e=this.filter_sections(n,this.sections.local),i=this.filter_sections(n,this.sections.cloud),this.render_items(e,this.$saved_templates),this.render_items(i,this.$our_templates)},filter_sections:function(e,t){return _.filter(t,function(t){return-1!==t.post_title.toLowerCase().indexOf(e.toLowerCase())})},select_item:function(t,e){var i=e.dataset.id,n=parseInt(e.dataset.cloud)?this.$our_templates:this.$saved_templates;this.$(".tcb-hf-elem").each(function(){this.classList.remove("active"),this.dataset.id===i&&s(this).parents("."+n.attr("class")).length&&this.classList.add("active")}),this.$save.prop("disabled",!1)},save:function(){var t=this.$active_tab.data("tab"),e=this.$("."+t).find(".active"),i=e.data("id");if("create-hf"===t)return this.show_create_step(e),!1;TVE.do_action("tcb.header-footer.before_template_insert",this),n.init(this.sections.local[i],this.type),n.insert_symbol_in_content(),this.modal_view.close()},show_create_step:function(t){var e=t.data("id");parseInt(t.data("cloud"))?this.show_cloud_symbol(e):this.render_create_view(this.sections.local[e])},show_cloud_symbol:function(t){var e={id:t,type:this.type};this.$status.show(),TVE.ajax("cloud_content_template_download","get",e).success(_.bind(this.success_download,this,this.sections.cloud[t])).error(_.bind(this.on_error,this))},success_download:function(t,e){var i=e.data;i.css=e.data.head_css,i.thumb=t.thumb,this.$status.hide(),this.render_create_view(i)},render_create_view:function(t){var e=new r({item:t,listView:this});this.$el.html(e.render().$el),e.$input_name.focus()}}),a=e.base_view.extend({className:"text-no-sections",template:TVE.tpl("symbols/sections-message"),initialize:function(t){this.listView=t.listView,this.parentContainer=t.parentContainer},render:function(){var t=this.get_message(),e=this.parentContainer.hasClass("our-templates");return this.$el.html(this.template({message:t,type:this.listView.type+"s"})),e?this.$(".no-sections-on-site").hide():this.$(".no-sections-on-cloud").hide(),""!==t&&(this.$(".no-sections-on-cloud").hide(),this.$(".no-sections-on-site").hide(),this.$(".no-search-results").show()),this},get_message:function(){return this.listView.$("#search-sections").val()}}),o=e.base_view.extend({template:TVE.tpl("symbols/section-item"),initialize:function(t){this.item=t.item},render:function(){return this.$el.html(this.template({item:this.item})),this}}),r=e.base_view.extend({template:TVE.tpl("symbols/create-item"),events:{"click .tcb-hf-back":"go_back","click .tcb-hf-right":"add_new_section","click .tcb-notification-icon-error":"hide_error_container","keyup #item-title":"key_press_handler"},initialize:function(t){this.item=t.item,this.$listView=t.listView},render:function(){return this.$el.html(this.template({type:this.$listView.type})),new o({el:this.$el.find(".item-create"),item:this.item}).render(),this.after_render(),this},after_render:function(){this.$input_name=this.$(".item-title"),this.$error_container=this.$(".error-container")},key_press_handler:function(t){13===t.keyCode&&this.add_new_section()},go_back:function(){this.$listView.render()},get_category_id:function(){var e=this.$listView.type+"s";return _.find(TVE.CONST.sections_tax_terms,function(t){return t.slug===e}).term_id},validate_input:function(){var t;return!_.isEmpty(this.$input_name.val().trim())||(t="header"===this.$listView.type?TVE.t.header_name_required:TVE.t.footer_name_required,this.$error_container.fadeIn(200).html(TVE.tpl("symbols/save-templates-symbols-error")({error_message:t})),!1)},add_new_section:function(){var t,e;return this.validate_input()&&(t=this.get_category_id(),e={symbol_content:this.item.content,symbol_css:this.item.css,symbol_title:this.$input_name.val(),tcb_symbols_tax:t},TVE.ajax("save_symbol","post",e).success(_.bind(this.save_success,this)).tcb_error=_.bind(this.on_error,this)),!1},save_success:function(t){if(t.error)return this.on_error(t);this.$input_name.val(""),TVE.page_message(TVE.t[this.$listView.type+"_saved"]),n.init(t.data,this.$listView.type),n.insert_symbol_in_content(),this.$listView.modal_view.close()},on_error:function(t,e,i){var n=TVE.getDetailedErrorMessage(t,e,i,!0);return this.$error_container.fadeIn(200).html(TVE.tpl("symbols/save-templates-symbols-error")({error_message:n})),!1},hide_error_container:function(){this.$error_container.fadeOut(200)}})}(jQuery)},"symbols.js":function(t,e,i){var n,s;jQuery,n=i("./base"),s=i("../components/symbols/insert-symbol"),e.exports=n.base.extend({symbol_template:TVE.tpl("symbols/item"),no_symbols_in_site:null,events:function(){var t=n.base.prototype.events.apply();return _.extend({},t,{"keyup input.search-symbols":"search_symbols"})},after_initialize:function(t){this.$symbols_container=this.$(".symbols-container"),this.$status=this.$(".status"),this.$error_container=this.$(".error-container"),this.$save=this.$(".tcb-modal-save"),this.$active_element=t.element,this.symbols=[],this.$text_no_symbols=this.$(".text-no-symbols"),this.$search_input=this.$("input.search-symbols")},before_open:function(t){this.$active_element=t.element,this.$text_no_symbols.hide(),this.$search_input.val(""),this.no_symbols_in_site=null,this.$save.prop("disabled",!0),this.get_symbols({})},get_symbols:function(t){TVE.ajax("get_symbols","get",t).success(_.bind(this.on_success,this)).tcb_error=_.bind(this.on_error,this)},on_success:function(t){var i=this;if(t.error)return this.on_error(t);this.$symbols_container.empty(),this.symbols=t.symbols,this.no_symbols(),_.each(t.symbols,function(t){var e=i.symbol_template({item:t});i.$symbols_container.append(e)}),this.$status.hide()},on_error:function(t,e,i){var n=TVE.getDetailedErrorMessage(t,e,i,!0);return this.$error_container.fadeIn(200).html(TVE.tpl("symbols/get-symbols-error")({error_message:n})),this.$symbols_container.empty(),this.$status.hide(),!1},no_symbols:function(){if(!_.isEmpty(this.symbols))return this.$el.removeClass("no-symbols"),this.$text_no_symbols.hide(),void(this.no_symbols_in_site=!1);_.isNull(this.no_symbols_in_site)&&(this.no_symbols_in_site=!0);var t=""!==this.$search_input.val();t&&this.$el.hasClass("no-symbols")||(this.$el.toggleClass("no-symbols",this.no_symbols_in_site),this.$text_no_symbols.toggle(t),this.$text_no_symbols.find(".search-word").html(this.$search_input.val()))},select_symbol:function(t,e){var i=e.dataset.id;this.$(".symbol-item .symbol-wrapper").each(function(){this.classList.remove("active"),this.dataset.id===i&&this.classList.add("active")}),this.$save.prop("disabled",!1)},search_symbols:function(t){var e={s:t.currentTarget.value};this.get_symbols({args:e})},save:function(){var t=this.$(".active").data("id");s.init(this.symbols[t]),s.insert_symbol_in_content(),this.close()}})},"widget-settings.js":function(t,e,i){var a;a=jQuery,e.exports=i("./base").base.extend({update_widget:function(t){var e=TVE.ActiveElement.data("tcb-elem-type"),i=this.widget_data(e);a.ajax(TVE.ajax_data("widget_render","GET",{data:i,widget:e})).done(function(t){t.success&&(TVE.ActiveElement.removeClass("tcb-empty-widget").html(t.content),TVE.Editor_Page.reposition_icons())}),t.preventDefault(),this.close()},widget_data:function(){var t=this.$("form#"+TVE.ActiveElement.data("tcb-elem-type")).serializeArray(),e={};return _.each(t,function(t){e[t.name.replace(/[a-zA-Z-_]+(\[\d+])/,"").replace("[","").replace("]","")]=t.value}),e},before_open:function(){this.$("form").hide();var t=this.$("form#"+TVE.ActiveElement.data("tcb-elem-type"));t.show(),this.$(".tcb-modal-title").text(t.find(".widget-display-name").text())},after_open:function(){var t=this.$("form#"+TVE.ActiveElement.data("tcb-elem-type")),n=a(t.prop("elements")),e=TVE.ActiveElement.find(".widget-config").html();if(wp.textWidgets){t.addClass("open");var i=new a.Event("widget-added");wp.textWidgets.handleWidgetAdded(i,t),wp.mediaWidgets.handleWidgetAdded(i,t),wp.customHtmlWidgets&&wp.customHtmlWidgets.handleWidgetAdded(i,t)}if(e){var s=JSON.parse(e.replace(/__CONFIG_thrive_widget__/g,""));n.each(function(t,e){if("id_base"!==e.className&&"widget-id"!==e.className){var i=e.name.replace(/[a-zA-Z-_]+(\[\d+])/,"").replace("[","").replace("]","");"radio"===e.type||"checkbox"===e.type?e.checked=e.value===s[i]:n[t].value=s[i]}})}}})},"wordpress-content.js":function(t,e,i){var n=i("./base"),s=null,a=i("../../../editor/src/util/content");e.exports=n.base.extend({before_close:function(){"undefined"!=typeof tinymce&&tinymce.ui.FloatPanel.hideAll()},save:function(){var e=this,i=TVE.ActiveElement,t=i.find(".tve_shortcode_raw"),n=i.find(".tve_shortcode_rendered"),s={content:a.get_shotcode_tinymce_content()};0!==s.content.length?(this.$save_button.addClass("tve-disabled"),0===t.length&&(i.empty(),t=jQuery('<div class="tve_shortcode_raw" style="display: none"></div>').appendTo(i),n=jQuery('<div class="tve_shortcode_rendered"></div>').appendTo(i)),t.text("___TVE_SHORTCODE_RAW__"+s.content+"__TVE_SHORTCODE_RAW___"),TVE.ajax("render_shortcode","post",s).done(function(t){i.removeClass("tcb-elem-placeholder");try{n.html(t.response)}catch(t){console.log("Error inserting content: ",t)}(n.children().length&&0===n.outerHeight()||0===n.children().length)&&n.append('<div class="tve_shortcode_overlay"><span>No preview available. Please save and reload the page.</span></div>'),i.trigger("click"),TVE.page_message(t.text),e.close()}).always(function(t){e.$save_button.removeClass("tve-disabled")})):TVE.page_message(TVE.t.emptyContent,!0)},after_open:function(t){this.$save_button=this.$(".tcb-modal-save"),jQuery(".tvd-lean-overlay").addClass("tcb-modal-wordpress-content-overlay");var e=TVE.ActiveElement.find("> .tve_shortcode_raw").html();e=void 0===e?"":e.replace("___TVE_SHORTCODE_RAW__","").replace("__TVE_SHORTCODE_RAW___","");var i=document.createElement("textarea");i.innerHTML=e,e=i.value,a.set_shotcode_tinymce_content(e)}},{get_instance:function(t){return s=s||new TVE.WordPressContent({el:t})}})}},"sidebar-bottom.js":function(t,e,i){var n;jQuery,n=i("./base").base_view,e.exports=n.extend({icons:{desktop:"responsive",tablet:"tablet2",mobile:"mobile2"},widths:{desktop:"100%",tablet:768,mobile:360},_icon:function(t,e){return TVE.icon(("tablet"===t?"tablet-android":t)+(e?"-regular":"-light"))},change_preview:function(t,e){var i=e.getAttribute("data-device");return TVE.froala.editor&&TVE.froala.editor.$tb&&TVE.froala.editor.button.hideActiveDropdowns(TVE.froala.editor.$tb),this.$(".click.selected").removeClass("selected").html(this._icon(TVE.main.device,!1)),this.$('.click[data-device="'+i+'"]').addClass("selected").html(this._icon(i,!0)),this.select_device(i),!1},select_device:function(t){return TVE.main.trigger("before_device_change"),TVE.main.device=t,TVE.main.$container.find("iframe").css({width:this.widths[t]}),TVE.main.$container.add(TVE.main.$el).removeClass("preview-desktop preview-tablet preview-mobile").addClass("preview-"+t),TVE.Editor_Page.$body.removeClass("preview-desktop preview-tablet preview-mobile").addClass("preview-"+t),setTimeout(function(){TVE.main.trigger("device_change",{device:t}),TVE.ActiveElement?(TVE.SkipUpdate=!1,TVE.main.update_components(),"desktop"===t&&setTimeout(function(){TVE.Editor_Page.reposition_icons()})):TVE.Editor_Page.blur(),TVE.ElementIcons.show_icons_by_device(),TVE.ElementEditIcons.show_icons_by_device(),TVE.inner.window.TCB_Front.resizePageSection()}),this}})},"sidebar-right.js":function(t,e,i){var n,s,a,o,r,l,c;n=jQuery,s=i("./base").base_view,a=i("./sidebars/elements"),o=i("./sidebars/settings"),r=i("./sidebars/central-style-panel"),l=TVE.apply_filters("tcb_extend_landing_page_modal",i("./modals/landing-page")),c=!1,e.exports=s.extend({dom:{},lp_templates:null,events:function(){return _.extend({},s.prototype.events,{"click [data-toggle]":"toggle_drawer"})},after_initialize:function(){var t=this;this.dom.$links=this.$(".sidebar-item"),this.dom.$drawers=this.$(".drawer").each(this.bind(function(t,e){this.dom[e.getAttribute("data-drawer")]=e})),TVE.add_action("tcb.focus.clear",function(){c&&t.hide_drawers()}),this.elements=new a({el:this.dom.elements,sidebar:this}),this.settings=new o({el:this.dom.settings,sidebar:this}),TVE.CONST.global_styles.has_c_s_p&&(this.central_style_panel=TVE.apply_filters("tcb_central_style_panel_view",null,this),this.central_style_panel||(this.central_style_panel=new r({el:this.dom.central_style_panel,sidebar:this}))),TVE.CONST.has_templates&&(this.lp_templates=new l)},blur:function(){return TVE.prevent_blur||TVE.Editor_Page.blur(),!1},toggle_drawer:function(t){var e=!t.currentTarget.classList.contains("active"),i=t.currentTarget.dataset.toggle,n=0;e?(this.hide_drawers(),n=100,c=!0,TVE.tooltips.disable(t.currentTarget)):TVE.tooltips.enable(),setTimeout(this.bind(function(){this.dom[i].classList.toggle("active",e),TVE.BROWSER.macosx&&TVE.BROWSER.mozilla?this.$(".scrollbar").css("overflow-y","auto"):this.$(".scrollbar").scrollbar(),t.currentTarget.classList.toggle("active",e)}),n),"elements"!==i&&"settings"!==i||this[i].search.state("search"),this.trigger("drawer_opened",i),TVE.main.states_dropdown.hide_dropdown()},hide_drawers:function(){if(!this.can_close())return!1;this.dom.$drawers.removeClass("active"),this.dom.$links.removeClass("active"),this.elements.search.state("normal"),this.settings.reset(),TVE.tooltips.enable(),TVE.Views.Controls.DropPanel.close_all(),this.trigger("hide_drawers"),c=!1},open_templates_picker:function(t){this.hide_drawers();var e=new n.Event("tcb.open_templates_picker");return n(TVE.main).trigger(e),!e.isDefaultPrevented()&&this.lp_templates&&(this.lp_templates.$filter.hide(),this.lp_templates.open()),!1},can_close:function(){return!this.__prevent_close},prevent_close:function(){return this.__prevent_close=!0,this},allow_close:function(){return delete this.__prevent_close,this},before_initialize:function(){jQuery.extend(!0,this,TVE.apply_filters("tcb.extend-sidebar-right",{}))}})},sidebars:{"central-style-panel":{"template-styles.js":function(t,e,i){var r,n;r=jQuery,n=i("../../base").component,e.exports=n.extend({styles_type:"tpl_",list_rendered:!1,events:function(){return _.extend({},n.prototype.events,{"dragstart .tve-select-item":function(t){TVE.do_action("tcb.elements.drag_start",t)},dragend:function(t){TVE.do_action("tcb.elements.drag_end",t)}})},after_init:function(t){this.$list=this.$(".c-s-p-tpl-list"),_.isString(t.styles_type)&&(this.styles_type=t.styles_type),TVE.add_filter("tcb.elements.build_elem_data",function(t,e){return e.closest(".c-s-p-tpl-list").length&&(t.extra_class=e.attr("data-value")),t}),TVE.add_filter("tcb.drag.fetch.static_element",function(t,e){if(e.extra_class&&e.extra_class.includes(TVE.CONST.global_cls_prefix)){var i=t.find(".thrv_wrapper"),n=e.extra_class.replace(TVE.CONST.global_cls_prefix,"").split("-"),s=TVE.Components["shared-styles"].getGlobalStyleObject(null,n[1],n[0]);i.addClass(e.extra_class),TVE.Components[e.type].add_global_style(e.extra_class,i),TVE.Components["shared-styles"].addGlobalStyleDefaultCss(TVE.inner_$(i),s.default_css),"function"==typeof TVE.Components[e.type].addDefaultStyleHtml&&TVE.Components[e.type].addDefaultStyleHtml(TVE.inner_$(i),s.default_html,e.extra_class,s.attr)}return t})},render_list:function(){var o=this;return this.list_rendered||(_.each(this.$list,function(t){var e=r(t),i=e.parent().find(".c-s-p-list-title"),n=e.attr("data-list"),s=TVE.tpl("controls/global/style-"+n),a="";i.html(TVE.Elements[n].name),_.each(TVE.CONST.global_styles[o.styles_type+n],function(t){var e=r('<div class="tve-select-item global-style-preview click" draggable="true" data-elem="'+n+'" data-value="'+t.cls+'" data-fn="select">'+s({cls:t.cls,text:t.name})+"</div>");"function"==typeof TVE.Components[n].addDefaultStyleHtml&&TVE.Components[n].addDefaultStyleHtml(e.find(".thrv_wrapper"),t.default_html,t.cls),a+=e[0].outerHTML}),e.html(a)},this),this.list_rendered=!0),this},select:function(t,e){var i=e.getAttribute("data-value"),n=TVE.inner_$("."+i).first();return 0===n.length?TVE.page_message(TVE.t.global.element_not_found,-2):TVE.inner.window.TCB_Front.isInViewport(n,200)?this.select_template_element(n):TVE.inner_$("html, body").animate({scrollTop:n.offset().top-50},500).promise().then(_.bind(function(){this.select_template_element(n)},this)),!1},select_template_element:function(t){0===t.closest(".thrv_symbol").length&&t.trigger("click",{emulate:!0})}})},"template-variables.js":function(t,e,i){var n,s,a,o;n=jQuery,s=i("../../controls/css-variables/color"),a=i("../../controls/css-variables/gradient"),o=i("../../../libs/functions"),e.exports=i("../../base").component.extend({variable_template:TVE.tpl("controls/color-var-item"),show_locate_control:!0,template_variables:[],list_rendered:!1,vars_types:["colors","gradients"],vars_list:[],master_variables:[],other_variables:[],elements_with_selectors:{},shown_elements:{},configPaletteSelect:{paletteData:TVE.CONST.template_palettes,masterVariablePrefix:TVE.CONST.colors.lp_set_prefix},after_init:function(t){this.sidebar=t.sidebar},controls_init:function(){var t=this;this.controls.color=new s({}),this.controls.gradient=new a({}),this.sidebar.on("hide_drawers",function(){t.closePaletteSelect()})},render_list:function(){var o=this;if(this.elements_with_selectors={},this.shown_elements={},this.list_rendered)return this;var e=0;if(_.each(this.vars_types,function(s){var a=TVE.CONST[s].lp_set_prefix;_.each(TVE.CONST[s].templates,function(t){var e=parseInt(t.parent),i="var(".concat(a).concat(t.id,")"),n="colors"===s?"linear-gradient(".concat(i,", ").concat(i,")"):i;t.type=s,t.css_variable=a+t.id,t.prefix=a,t.css=n,-1===e?o.master_variables.push(t):_.isNaN(e)&&o.other_variables.push(t),o.template_variables.push(a+t.id)})}),this.master_variables.length&&(this.$el.append(TVE.tpl("central-style-panel/master-variables-header")()),_.isEmpty(TVE.CONST.template_palettes)||(this.$el.append(TVE.tpl("central-style-panel/palettes")()),this.buildPalettesSelect()),_.each(this.master_variables,function(t){o.$el.append(o.variable_template({name:t.name,css_variable:t.css_variable,bg:t.css,index:e,wrapper_class:"master_variable",show_locate_control:o.show_locate_control})),o.vars_list[e]=new Backbone.Model({custom_action:"template_options",css_variable:"var("+t.css_variable+")",variables_set:TVE.CONST[t.type].templates,linked_variables:o.getLinkedVars(t.type,t.id),variable:t,post_params:{id:t.id,type:t.prefix.replace("--tcb-tpl-","").replace("-",""),name:t.name}}),e++})),this.other_variables.length){this.$el.append(TVE.tpl("central-style-panel/other-variables-header")());var i="";_.each(this.other_variables,function(t){i+=o.variable_template({name:t.name,css_variable:t.css_variable,bg:t.css,index:e,wrapper_class:"other_variable",show_locate_control:o.show_locate_control}),o.vars_list[e]=new Backbone.Model({custom_action:"template_options",css_variable:"var("+t.css_variable+")",variables_set:[],linked_variables:[],variable:t,post_params:{id:t.id,type:t.prefix.replace("--tcb-tpl-","").replace("-",""),name:t.name}}),e++}),this.$el.append('<div class="c-s-p-other-vars">'.concat(i,"</div>"))}return this.list_rendered=!0,this},getLinkedVars:function(t,e){var i=TVE.CONST[t].lp_set_prefix,n=[];return _.each(TVE.CONST[t].templates,function(t){t.parent&&t.parent===e&&n.push(i+t.id)}),n},buildPalettesSelect:function(){var a=this,e=[],o=this.configPaletteSelect.paletteData.active_id,t=this.$("#c-s-p-palettes-select");_.each(this.configPaletteSelect.paletteData.modified,function(i,t){var n=t===o,s='<div class="c-s-p-palette">';_.each(a.master_variables,function(e){var t=i.colors.find(function(t){return t.id==e.id}).color;n&&(t=TVE.buildCssVariable(a.configPaletteSelect.masterVariablePrefix+e.id)),s+='<div class="c-s-p-palette-item" style="background-color: '.concat(t,'"></div>')}),s+="</div>",e.push({id:t,text:i.name,preview:s,selected:n})},this),t.data("select2")&&(t.off("select2:open"),t.off("select2:close"),t.select2("destroy")),t.select2({cache:!1,minimumResultsForSearch:-1,data:e,templateResult:function(t){return t.id?n("<div"+(o==t.id?' class="active"':"")+' data-tooltip="'+t.text+'" data-side="top">'+t.preview+"</div>"):t.text},templateSelection:function(t){return n("<div>".concat(t.preview,'<span class="c-s-p-palette-title">').concat(t.text,"</span></div>"))}}).on("select2:open",function(){TVE.Views.Controls.DropPanel.close_all()}).on("select2:close",function(){TVE.tooltips.hide()}).data("select2").$dropdown.addClass("tcb-palette-dropdown c-s-p-palettes")},closePaletteSelect:function(){var t=this.$("#c-s-p-palettes-select");t.length&&t.data("select2")&&t.select2("close")},locate_variable:_.debounce(function(t,e){var i=e.parentElement.getElementsByClassName("sp-transparent")[0],n=i.getAttribute("data-var"),s=i.getAttribute("data-index"),a=String(TVE.extractNumbersFromString(n)[0]);if(!this.elements_with_selectors[n]){var o=[n],r=this.getLinkedVars(this.vars_list[s].get("variable").type,a);r.length&&(o=o.concat(r));var l=TVE.CSS_Rule_Cache.getSelectorForCss(new RegExp("("+o.join("|")+")"))[TVE.main.responsive[TVE.main.device].media];this.elements_with_selectors[n]=this.getElementsWithSelectors(l,o)}this.shown_elements[n]||(this.shown_elements[n]=[]),this.elements_with_selectors[n].length<=this.shown_elements[n].length&&(this.shown_elements[n]=[]),_.some(this.elements_with_selectors[n],function(t){var e=this;if(-1===this.shown_elements[n].indexOf(t[0]))return t.tve_highlight(_.bind(function(){e.shown_elements[n].push(t[0])},this)),!0},this)},100),getElementsWithSelectors:function(t,e){var r=1<arguments.length&&void 0!==e?e:[],l=[],c=[];return n.each(t,function(t,o){var e=TVE.inner_$(o);-1===o.indexOf("hover")&&-1===o.indexOf("#tcb_landing_page a")&&0<e.length&&e.closest(TVE.Editor_Page.editor).length&&n.each(e,function(t,e){var i=TVE.inner_$(e),n=i.closest(".thrv_wrapper");if(i.is("a")&&0===i.text().length)return!0;if(!n.is(":visible")||-1!==l.indexOf(n[0]))return!0;var s=window.getComputedStyle(TVE.inner_$(o)[t]).cssText;if(!_.some(r,function(t){return s.includes(TVE.getCssVariableValue(t))})&&!TVE.inner_$(o)[t].classList.contains("tcb-local-vars-root"))return!0;l.push(n[0]);for(var a=parseInt(n.offset().top);c[a];)a++;c[a]=n})}),Object.values(c)},_update_template_colors:function(t){var e=0<arguments.length&&void 0!==t?t:[];_.isArray(e)&&_.each(e,function(e){TVE.changeCssVariableValue(TVE.CONST.colors.lp_set_prefix+e.id,e.color);var t=TVE.CONST.colors.templates.findIndex(function(t){return t.id==e.id});-1<t&&(TVE.CONST.colors.templates[t].color=e.color,TVE.CONST.colors.templates[t].hsl_parent_dependency?TVE.CONST.colors.templates[t].hsl_parent_dependency=_.extend({},e.hsl_parent_dependency):TVE.CONST.colors.templates[t].hsl&&(TVE.CONST.colors.templates[t].hsl=_.extend({},e.hsl)))})},_update_template_gradients:function(t){var e=0<arguments.length&&void 0!==t?t:[];_.isArray(e)&&_.each(e,function(e){TVE.changeCssVariableValue(TVE.CONST.gradients.lp_set_prefix+e.id,e.gradient);var t=TVE.CONST.gradients.templates.findIndex(function(t){return t.id==e.id});-1<t&&(TVE.CONST.gradients.templates[t].gradient=e.gradient)})},_filter_template_vars_before_save:function(t,e){var i=0<arguments.length&&void 0!==t?t:[],n=1<arguments.length&&void 0!==e?e:[],s=[];return _.each(i,function(t){s.push(o.filterObjectPropertiesByKey(t,n))}),s},dom_change_palette:function(t,e){var i=parseInt(e.value),n=TVE.CONST.template_palettes.active_id,s=["id","color","gradient","hsl","hsl_parent_dependency"],a=JSON.stringify({colors:this._filter_template_vars_before_save(TVE.CONST.colors.templates,s),gradients:this._filter_template_vars_before_save(TVE.CONST.gradients.templates,s)}),o=JSON.parse(a),r=this.getVariableValues();TVE.CONST.template_palettes.modified[n].colors&&(TVE.CONST.template_palettes.modified[n].colors=o.colors),TVE.CONST.template_palettes.modified[n].gradients&&(TVE.CONST.template_palettes.modified[n].gradients=o.gradients),this._update_template_colors(TVE.CONST.template_palettes.modified[i].colors),this._update_template_gradients(TVE.CONST.template_palettes.modified[i].gradients),TVE.CONST.template_palettes.active_id=i,this.buildPalettesSelect();var l=["id","color","gradient","name","custom_name","parent","hsl","hsl_parent_dependency"];TVE.ajax("template_palette","post",{previous_template_data:a,active_template_data:JSON.stringify({colors:this._filter_template_vars_before_save(TVE.CONST.colors.templates,l),gradients:this._filter_template_vars_before_save(TVE.CONST.gradients.templates,l)}),previous_id:n,active_id:i,post_id:TVE.CONST.post_id});var c=this.getVariableValues();return this.afterPaletteChange(c,r),!1},afterPaletteChange:function(t,e){var i=0<arguments.length&&void 0!==t?t:{},n=1<arguments.length&&void 0!==e?e:{};TVE.Views.Controls.Palettes.templatePaletteChanged(this.template_variables,i,n),TVE.do_action("tcb.template_palette_changed",this.template_variables,i,n)},getVariableValues:function(){var e={};return _.each(this.template_variables,function(t){e[t]=TVE.getCssVariableValue(t)}),e},domResetActivePalette:function(t,e){if(!confirm("Are you sure you want to reset this palette?"))return!1;var i=TVE.CONST.template_palettes.original[TVE.CONST.template_palettes.active_id],n=this.getVariableValues();this._update_template_colors(i.colors),this._update_template_gradients(i.gradients),TVE.ajax("reset_template_palette","post",{active_id:TVE.CONST.template_palettes.active_id,post_id:TVE.CONST.post_id});var s=this.getVariableValues();return this.afterPaletteChange(s,n),!1},dom_toggle_other_variables:function(){this.$(".c-s-p-other-vars").toggleClass("tcb-hidden");var t=this.$(".c-s-p-other-vars").hasClass("tcb-hidden");this.$(".c-s-p-other-icon").html(t?TVE.icon("a_up"):TVE.icon("a_down"))},dom_edit_css_variable:function(t,e){e.classList.contains("variable-name")&&(e=e.parentElement.getElementsByClassName("sp-transparent")[0]);var i=e.getAttribute("data-var"),n=e.getAttribute("data-index"),s=this.controls[0<i.indexOf("color")?"color":"gradient"];if(s.isOpen())return s.onCancel(),!1;var a=this.vars_list[n];return s.reset(a),s.open(null,e),!1}})}},"central-style-panel.js":function(t,e,i){var n,s,o;jQuery,n=i("../base").base_view,s=i("./central-style-panel/template-styles"),o=i("./central-style-panel/template-variables"),e.exports=n.extend({active_section:null,sections:null,$buttons:null,tooltip:null,user_settings_key:"central_style_panel_hint",after_initialize:function(t){var a=this;this.$buttons=this.$(".tve-btn"),this.sidebar=t.sidebar,this.sidebar.on("drawer_opened",_.bind(function(t){if("central_style_panel"===t){this.sections||(this.sections=TVE.apply_filters("tcb_central_style_panel_sections",{vars:null,styles:null}),this.sections.vars||(this.sections.vars=new o({el:this.$el.find('.c-s-p-section[data-section="vars"]'),sidebar:this.sidebar})),this.sections.styles||(this.sections.styles=new s({el:this.$el.find('.c-s-p-section[data-section="styles"]')})));var e=this.$buttons.filter(".active");if(0===e.length)this.$buttons.first().click();else{var i=e.attr("data-value");this.sections[i].render_list()}}this.tooltip&&this.tooltip.onApply()},this)),TVE.add_filter("editor_loaded_callback",function(){_.isEmpty(TVE.user_settings().get(a.user_settings_key))&&(a.tooltip=new(i("../controls/tooltip-base"))({allow_force_close:!1,panel_position:"right",tooltipPosition:"left",arrow_css:{transform:"rotate(90deg)",left:"306px"},el_css:{right:"-125px"},template:TVE.tpl("central-style-panel/tooltip"),anim_duration:500,_template:TVE.tpl("controls/tooltip/promote-panel"),onApply:function(){TVE.user_settings().set(a.user_settings_key,1),a.tooltip.hide()}}),a.tooltip.open(null,TVE.$('[data-toggle="central_style_panel"]')[0]))}),TVE.add_action("tcb.symbol.before_save_logic",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=(t=t||TVE.ActiveElement).find('[class*="'+TVE.CONST.global_cls_prefix+'"]').addBack().filter(function(t,e){var i=TVE.getClassThatContains(e,TVE.CONST.global_cls_prefix);return 0<i.length&&-1<i.indexOf("tpl_")&&e.classList.contains("thrv_wrapper")});0<e.length&&TVE.Components["shared-styles"].multiple_unlink_style(e)}),TVE.add_filter("tcb.symbol.before_save",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return 0<t.symbol_css.length&&(t.symbol_css=a.clear_tpl_vars_from_content(t.symbol_css)),t}),TVE.add_filter("tcb.templates.modify_content",function(t){var e=t.find('[class*="'+TVE.CONST.global_cls_prefix+'"]').addBack().filter(function(t,e){var i=TVE.getClassThatContains(e,TVE.CONST.global_cls_prefix);return 0<i.length&&-1<i.indexOf("-tpl_")});return 0<e.length&&_.each(e.get(),function(t){var e=TVE.CSS_Rule_Cache.uniq_id(t),i=TVE.getClassThatContains(t,TVE.CONST.global_cls_prefix),n=TVE.ActiveElement.find("."+i);n.attr("data-css")||n.attr("data-css",e)}),t}),TVE.add_filter("tcb.templates.before_save",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=JSON.parse(t.get("media_rules")),e=TVE.ActiveElement.find('[class*="'+TVE.CONST.global_cls_prefix+'"]').addBack().filter(function(t,e){var i=TVE.getClassThatContains(e,TVE.CONST.global_cls_prefix);return 0<i.length&&-1<i.indexOf("tpl_")});if(0<e.length){var n=t.get("template_content"),s=TVE.Components["shared-styles"].collect_used_global_css_from_page(e);_.each(s,function(t,e){0<t.length&&(i[e]+=t)}),_.each(e.get().reverse(),function(t){var e=TVE.getClassThatContains(t,TVE.CONST.global_cls_prefix);n=n.split(e).join("")}),t.set("template_content",n)}return t.set("media_rules",a.clear_tpl_vars_from_content(JSON.stringify(i))),t})},clear_tpl_vars_from_content:function(t){var e=0<arguments.length&&void 0!==t?t:"";return-1<e.indexOf(TVE.CONST.colors.lp_set_prefix)&&(e=this._clearVarFromContent(e,TVE.CONST.colors.lp_set_prefix,TVE.CONST.colors.templates,"color")),-1<e.indexOf(TVE.CONST.gradients.lp_set_prefix)&&(e=this._clearVarFromContent(e,TVE.CONST.gradients.lp_set_prefix,TVE.CONST.gradients.templates,"gradient")),e},_clearVarFromContent:function(t,e,i,n){var s=0<arguments.length&&void 0!==t?t:"",a=1<arguments.length&&void 0!==e?e:"",o=2<arguments.length&&void 0!==i?i:[],r=3<arguments.length&&void 0!==n?n:"",l=new RegExp("(var\\("+a+"[0-9]*\\))","g"),c=s.match(l);if(_.isArray(c)){var d=_toConsumableArray(new Set(c));_.each(d,function(t){var e=TVE.extractNumbersFromString(t)[0],i=_.findIndex(o,function(t){return t.id==e});-1<i&&(s=s.split("var("+a+e+")").join(o[i][r]))})}return s},hideSections:function(){this.$buttons.removeClass("active"),_.each(this.sections,function(t){t.hide()})},dom_switch_section:function(t,e){var i=e.getAttribute("data-value");this.active_section!==i&&(this.hideSections(),this.active_section=i,TVE.Views.Controls.DropPanel.close_all(),this.sections[i].render_list().show(),this.$buttons.filter('[data-value="'+i+'"]').addClass("active"))}})},"elements.js":function(t,e,i){var o,n,s,a;o=jQuery,n=i("../base").base_view,s=i("./search"),a=!1,e.exports=n.extend({dragged_elem:null,events:function(){return _.extend({},n.prototype.events,{"click .tve-element-pin":"pin_element","dragstart .tve-element":"drag_start",dragend:"drag_end","click .tve-element":"insert_element"})},after_initialize:function(t){this.search=new s({el:this.$("#el-search"),$elements:this.$(".tve-element"),text_selector:".tve-e-name"}),this.sidebar=t.sidebar,TVE.add_action("tcb.dragover",this.bind(this.maybe_hide_drawer)),TVE.add_action("tcb.dragover_body",this.bind(this.maybe_hide_drawer)),TVE.add_action("tcb.elements.drag_start",this.bind(this.drag_start)),TVE.add_action("tcb.elements.drag_end",this.bind(this.drag_end)),TVE.add_action("tcb.elements.insert_element",this.bind(this.insert_element))},pin_element:function(t){var e=o(t.currentTarget.parentNode),i=e.closest(".tve-category"),n=i.data("category")!==TVE.CONST.pinned_category,s=i.siblings().filter('[data-category="'+(n?TVE.CONST.pinned_category:t.currentTarget.dataset.cat)+'"]'),a=[];return t.currentTarget.classList.toggle("pinned",n),s.find(".c-items").append(e.detach()),s.show(),n&&s.addClass("expanded"),i.find(".tve-element").length||i.hide(),(n?s:i).find("button.pinned").each(function(){a.push(this.parentNode.dataset.elem)}),TVE.ajax("update_option","post",{option_name:"tcb_pinned_elements",option_value:a}),!1},drag_start:function(t){if("mobile"===TVE.main.device)return!1;a=!0;var e=o(t.target);t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="all",t.target.style.opacity=.6,t.stopPropagation(),this.dragged_elem=this._build_elem_data(e),TVE.drag.main_drag_start(this.dragged_elem)},drag_end:function(t){t&&(t.target.style.opacity=1),this.dragged_elem=null,TVE.drag.dragend(!0)},_build_elem_data:function(t){var e=t.data();return TVE.apply_filters("tcb.elements.build_elem_data",{type:e.elem,static_element:TVE.main.static_element(t.data("elem"))},t)},insert_element:function(t){return TVE.apply_filters("tcb.elements.allow_insert_on_click",!0,t)&&TVE.drag.insert_from_parent(this._build_elem_data(o(t.currentTarget))),!1},toggle_elements:function(t,e){var i=this,n=[];_.forEach(t,function(t){i.$(".tve-element").filter("[data-elem="+t+"]").each(function(){this.setAttribute("data-is-hidden",e?"0":"1"),this.style.display=e?"block":"none";var t=this.parentNode.parentNode;t.classList.contains("tve-category")&&(e?t.style.display="block":-1===n.indexOf(t)&&n.push(t))})}),e||n.forEach(function(t){t.querySelectorAll('.tve-element[data-is-hidden="1"]').length===t.querySelectorAll(".tve-element").length&&(t.style.display="none")})},maybe_hide_drawer:function(){a&&(this.sidebar.hide_drawers(),a=!1)}})},"search.js":function(t,e,i){var l;l=jQuery,e.exports=i("../base").base_view.extend({after_initialize:function(e){this.dom={},this.attr=e,this.dom.$i=this.$("input").on("keyup",this.bind(_.debounce(this.keyup,20))),this.dom.$items=e.$elements.each(function(){var t=l(this).find(e.text_selector);return t.data("text",t.text().trim()),this})},state:function(t){var e="string"==typeof t?t:t.currentTarget.getAttribute("data-state");return this.$el.children().hide().filter(".s-"+e).show().filter("input").focus(),"search"!==e&&this.dom.$i.val()&&this.dom.$i.val("").trigger("keyup"),!1},keyup:function(t){if(t&&27===t.which)this.state("normal");else{var s=this.dom.$i.val().toLowerCase().trim(),a=this,o=TVE.escapedRegEx(s,"ig"),r=l();this.dom.$items.each(function(){if(1!==parseInt(this.getAttribute("data-is-hidden"))){var t=l(this).find(a.attr.text_selector),e=t.data("text"),i=!1,n=l(this);s&&(e.toLowerCase().match(o)||this.dataset.alternate&&this.dataset.alternate.match(o))&&(e=e.replace(o,function(t){return"<strong>"+t+"</strong>"}),i=!0),("heading".match(o)||"plain text".match(o)||"paragraph".match(o))&&"Text"===e&&(s&&(e="<strong>Text</strong>"),i=!0),t.html(e),this.style.display=!s||i?"":"none",s&&i&&(r=r.add(n.closest(".tve-category")))}}),"function"==typeof this.attr.update&&this.attr.update(),r.addClass("expanded")}},set_title:function(t,e){this.$(".text").html(t),this.$el.toggleClass("back-icon",!!e)}})},settings:{"css.js":function(t,e,i){var n;n=jQuery,e.exports={has_code_mirror:!1,init:function(){var t=TVE.codemirror_editor_settings("#tve-custom-css-code","css","lesser-dark");return this.$code=n(".tve-custom-code-wrapper"),this.$code.find(".code-expand").click(n.proxy(this.expand,this)),this.$code.find(".code-apply").click(n.proxy(this.save,this)),this.$code.find(".code-close").click(n.proxy(this.close,this)),t?(this.has_code_mirror=!0,this.editor=t):this.editor=n("#tve-custom-css-code"),this.close(),this},set:function(){var t=TVE.Editor_Page.get_custom_css();this.has_code_mirror?this.editor.setValue(t):this.editor.val(t)},save:function(){var t;t=this.has_code_mirror?this.editor.getValue():this.editor.val(),TVE.Editor_Page.add_custom_css(t),this.close()},open:function(){this.set(),this.$code.show(),this.has_code_mirror&&(this.editor.refresh(),this.editor.setCursor(this.editor.lineCount(),0)),this.editor.focus()},close:function(){this.$code[0].style.display="none"},expand:function(){this.$code.toggleClass("full-width")}}},"html.js":function(t,e,i){function n(t){var e,i=0,n=t.innerHTML;for(e=0;e<n.length;e++)i=(i<<5)-i+n.charCodeAt(e),i&=i;return"el-"+i}var s;s=jQuery,e.exports={has_code_mirror:!1,init:function(){var t=TVE.codemirror_editor_settings("#tve-custom-html-code","htmlmixed","lesser-dark");return this.$htmlCode=s(".tve-editor-html-wrapper"),this.$htmlCode.find(".code-button-close").click(s.proxy(this.close,this)),this.$htmlCode.find(".code-button-check").click(s.proxy(this.save,this)),t?(this.has_code_mirror=!0,this.htmlEditor=t):this.htmlEditor=s("#tve-custom-html-code"),this.close(),this},open:function(){var t=TVE.Editor_Page.content_manager;this.$$stored_shortcodes={},TVE.Editor_Page.editor.find(".thrive-shortcode-config").each(_.bind(function(t,e){this.$$stored_shortcodes[n(e)]=e.parentNode.querySelector(".thrive-shortcode-html")?e.parentNode.querySelector(".thrive-shortcode-html").outerHTML:""},this));var e=t.revert_script_tags(t.get_clean_content({render_post_list:!0},TVE.Editor_Page.editor));this.has_code_mirror?this.htmlEditor.setValue(e):this.htmlEditor.val(e),this.$htmlCode.show(),this.has_code_mirror&&(this.htmlEditor.refresh(),this.htmlEditor.setCursor(this.htmlEditor.lineCount(),0)),this.htmlEditor.focus()},save:function(){var t;t=this.has_code_mirror?this.htmlEditor.getValue():this.htmlEditor.val(),TVE.Editor_Page.editor.html(TVE.Editor_Page.content_manager.convert_script_tags(t)),TVE.Editor_Page.editor.find(".thrive-shortcode-config").each(_.bind(function(t,e){if(e.parentNode.querySelector(".tve-custom-menu-type"))return!0;var i=n(e);this.$$stored_shortcodes[i]&&TVE.inner_$(e.parentNode).append(this.$$stored_shortcodes[i])},this)),TVE.inner.window.TCB_Front.onDOMReady(),this.close()},close:function(){this.$htmlCode[0].style.display="none",delete this.$$stored_shortcodes}}},"lp-import.js":function(t,e,i){var n=!1,s=null;e.exports=function(){if(!n&&!confirm(TVE.t.LPImportConfirm))return!1;n=!0,s||(s=wp.media.frames.file_frame=wp.media({title:"Import Landing Page",button:{text:"Import"},multiple:!1,frame:"select",library:{type:"application/zip"}}),(window.radu=s).on("select",function(){var t=s.state().get("selection").first().toJSON();if("application/zip"!==t.mime)return TVE.page_message("Only .zip files are allowed",!0),void s.open();TVE.main.overlay(),jQuery.post(TVE.CONST.ajax_url,{attachment_id:t.id,action:"tve_lp_import",page_id:TVE.CONST.post_id},function(t){if(!t.success)return TVE.main.overlay(!0),TVE.page_message(t.message,!0,8e3),void s.open();window.onbeforeunload=null,top.window.location.href=t.url},"json").fail(function(t){TVE.main.overlay(!0),TVE.page_message(TVE.t.UnknownError+t.responseText,!0,1e4),s.open()}).always(function(){})})),s.open()}}},"settings-search.js":function(t,e,i){var o;o=jQuery,e.exports=i("./search").extend({keyup:function(t){if(t&&27===t.which)this.state("normal");else{var n=this.dom.$i.val().toLowerCase().trim(),s=this,a=new RegExp(n,"ig"),e=n.length;this.attr.$container.find(".state").toggleClass("zero-left",0<e),this.attr.$container.find(".sep").toggleClass("tcb-hidden",0<e),this.dom.$items.each(function(){if(1===parseInt(this.getAttribute("data-is-hidden")))return!1;var t=o(this).find(s.attr.text_selector),e=t.data("text"),i=!1;n&&e.toLowerCase().match(a)&&(e=e.replace(a,function(t){return"<strong>"+t+"</strong>"}),i=!0),t.html(e),this.style.display=!n||i?"":"none"}),"function"==typeof this.attr.update&&this.attr.update()}}})},"settings.js":function(t,e,i){function n(t){t.classList.add("tve-disabled"),setTimeout(function(){t.classList.remove("tve-disabled")},400)}var s,a,o,r,l,c;s=jQuery,a=i("../base").base_view,o=i("./settings-search"),r=["default"],l=i("./settings/lp-import"),c=i("../components/symbols/insert-symbol"),e.exports=a.extend({events:function(){return s.extend({},a.prototype.events,{"click [data-nav]":"click_navigate","click .back-link":"click_back"})},after_initialize:function(t){this.sidebar=t.sidebar,this.search=new o({el:this.$("#settings-search"),$container:this.$("#settings"),$elements:this.$(".s-setting"),text_selector:".s-name",back_click:function(){this.goto("back")}}),this.$states=this.$(".state"),this.$state=this.$states.first(),this.sections={html:i("./settings/html").init(),css:i("./settings/css").init()},TVE.CONST.landing_page&&(TVE.add_action("tcb-ready",this.bind("read_lp_settings")),TVE.add_action("tcb.element.remove",this.bind("read_headers_footers")),TVE.add_action("tcb.after_insert_symbol",this.bind("read_headers_footers")),this.sections.lp_fonts=new TVE.Views.Components.LpFonts,this.sections.lp_scripts=new TVE.Views.Components.LpScripts({el:this.$states.filter(".state-custom-scripts")[0]}),this.sections.lp_advanced=new TVE.Views.Components.LpAdvanced({el:this.$states.filter(".state-head-css")[0]}))},read_headers_footers:function(){var t=this.$("#p-header").find(".value"),e=this.$("#p-footer").find(".value");t.text(TVE.inner_$(".thrv_header .thrive-shortcode-html").data("name")||t.data("default")),e.text(TVE.inner_$(".thrv_footer .thrive-shortcode-html").data("name")||e.data("default"))},read_lp_fonts:function(){var t=this.sections.lp_fonts.get_value("font-family");this.$("#p-texts .value").text(t)},read_theme_dependency:function(){this.$('[data-fn="toggle_theme_css"]').removeClass("tcb-disabled").filter('[data-do="'+(parseInt(TVE.CONST.theme_css_disabled)?"disable":"enable")+'"]').addClass("tcb-disabled")},read_lp_settings:function(){this.read_headers_footers(),this.read_lp_fonts(),this.read_theme_dependency()},click_back:function(){return this.goto("back"),!1},click_navigate:function(t){return n(t.currentTarget),this.reset(),this.goto(t.currentTarget.getAttribute("data-nav")),!1},reset:function(){this.search.state("normal")},goto:function(t,e){e=void 0===e?"animate":"css","back"===t&&r.pop();var i="back"===t?"right":"left";t="back"===t?r.pop():t,r.push(t),this.$state[e]({left:"right"==i?"230px":"-230px"},100),this.$state=this.$states.filter(".state-"+t).css({left:"right"==i?"-230px":"230px",display:""})[e]({left:0},100),this.search.set_title(this.$state.find(".label").html(),1<r.length)},html:function(){return this.sections.html.open(),TVE.Editor_Page.blur(),!1},css:function(){return this.sections.css.open(),TVE.Editor_Page.blur(),!1},page_events:function(){TVE.modal_open("page-events")},reminders:function(t){TVE.CONST.tve_display_save_notification=Math.abs(parseInt(TVE.CONST.tve_display_save_notification)-1);var e=s(t.currentTarget).addClass("tve-disabled"),i=e.children("span").first().text("Saving..."),n={option_name:"tve_display_save_notification",option_value:TVE.CONST.tve_display_save_notification};TVE.ajax("update_option","post",n).done(function(t){e.removeClass("tve-disabled"),TVE.CONST.tve_display_save_notification?(TVE.Editor_Page.enableSaveWarning(),TVE.page_message("Save Reminders are turned On",!1,3e3)):(TVE.Editor_Page.disableSaveWarning(),TVE.page_message("Save Reminders are turned Off",!1,3e3)),i.text(1===TVE.CONST.tve_display_save_notification?""+TVE.t.reminderz_off:""+TVE.t.reminderz_on)})},save_template:function(){return TVE.modal_open("save-template"),!1},save_template_lp:function(){return TVE.modal_open("lp-save-template"),!1},export_lp:function(){return TVE.modal_open("lp-export"),!1},import_lp:function(){return l(),!1},lp_settings:function(t){this.reset(),n(t.currentTarget),this.sidebar.prevent_close(),this.goto("lp-settings");var e=TVE.inner.$body.removeClass("edit_mode");return TVE.Editor_Page.focus_element(e),this.sidebar.allow_close(),!1},add_section:function(t){var e=t.currentTarget.getAttribute("data-type"),i=TVE.inner_$(".thrv_"+e);return i.length?TVE.Components[e]&&TVE.Components[e].placeholder_action&&(TVE.ActiveElement=i,TVE.Components[e].placeholder_action()):c.add_section_placeholder(e,".thrv_"+e,TVE.Editor_Page.editor,!0),!1},landing_page_fonts:function(){var t=this;return this.sidebar.hide_drawers(),t.sections.lp_fonts.edit_font_options({on_close:function(){t.read_lp_fonts(),t.sidebar.allow_close()}}),!1},toggle_theme_css:function(t,e){e.classList.add("tcb-disabled"),s(t.currentTarget).siblings('[data-fn="toggle_theme_css"]').removeClass("tcb-disabled");var i="disable"===e.dataset.do?"1":"0",n=this;return TVE.main.overlay(),console.log(i),TVE.Editor_Page.save(!0,function(){TVE.KEEP_OVERLAY=!0,TVE.ajax("theme_css","post",{disabled:i,post_id:TVE.CONST.post_id}).success(function(){TVE.main.$frame[0].contentWindow.location.reload(!0),TVE.CONST.theme_css_disabled=i,n.read_theme_dependency()})}),!1},lp_revert:function(t){if(!confirm(TVE.t.DeleteContentInLandingPage))return!1;t.currentTarget.classList.add("tcb-disabled"),TVE.main.overlay(),TVE.KEEP_OVERLAY=!0,TVE.set_login_callback(function(){this.revert("skip_confirm")},this),TVE.Editor_Page.save(!1,function(){window.onbeforeunload=null,top.window.location.reload()},{tve_landing_page:"",custom_action:"landing_page"})}})}}}}}}}})("workspace/editor/js/main/views/main");